import{S as rt,i as it,s as $e,k as K,e as Oe,J as zp,l as Z,h as C,n as T,D as P,C as He,K as pt,b as se,a as me,q as We,m as j,c as _e,r as Be,o as fi,L as Ct,u as Mt,p as De,M as Le,N as sn,O as Gn,I as oe,P as Qe,v as Dt,Q as Or,R as pe,f as ne,g as gt,t as ie,d as dt,w as os,x as qe,y as Ge,z as Ye,A as ze,T as Yn,U as as,V as tu,W as ri,X as Wc,Y as fs,Z as nu,_ as Gp,$ as Vp,a0 as Bc,a1 as nn,a2 as rn,a3 as Kp,a4 as Zp,E as Xp,F as Jp,G as Qp,H as jp,a5 as Hc,a6 as qc,a7 as Ja,a8 as Qa,a9 as $p,aa as Yc,ab as zc,ac as ja,ad as $a,ae as ev,B as tv}from"../../chunks/index-78a5a872.js";import{w as nv}from"../../chunks/wordmark-fc3f3709.js";import{d as rv}from"../../chunks/transform-5bf7892f.js";import{_ as iv}from"../../chunks/preload-helper-41c905a7.js";import{r as hu,w as nt}from"../../chunks/index-fd3ba593.js";function ef(n,t,r){const s=n.slice();return s[5]=t[r],s}function tf(n){let t,r;return{c(){t=K("link"),this.h()},l(s){t=Z(s,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){T(t,"rel","preload"),T(t,"href",r=n[5]),T(t,"as","font"),T(t,"type","font/woff2"),T(t,"crossorigin","")},m(s,u){se(s,t,u)},p(s,u){u&16&&r!==(r=s[5])&&T(t,"href",r)},d(s){s&&C(t)}}}function sv(n){let t,r,s,u,a,o,h,c,g,m,y,p,S,k,b,w,A,R,E,x,F,U,z,q,$,B;document.title=t=n[0];let W=n[4],Q=[];for(let I=0;I<W.length;I+=1)Q[I]=tf(ef(n,W,I));return{c(){r=K("meta"),s=K("meta"),u=K("meta"),a=K("meta"),o=K("meta"),h=K("meta"),c=K("meta"),g=K("meta"),m=K("meta"),y=K("meta"),S=K("meta"),k=K("meta"),b=K("meta"),w=K("meta"),A=K("meta"),R=K("meta"),E=K("meta"),x=K("meta"),F=K("meta"),z=K("meta"),q=K("link");for(let I=0;I<Q.length;I+=1)Q[I].c();B=Oe(),this.h()},l(I){const L=zp("svelte-1htu80s",document.head);r=Z(L,"META",{name:!0,content:!0}),s=Z(L,"META",{name:!0,content:!0}),u=Z(L,"META",{name:!0,content:!0}),a=Z(L,"META",{property:!0,content:!0}),o=Z(L,"META",{property:!0,content:!0}),h=Z(L,"META",{property:!0,content:!0}),c=Z(L,"META",{property:!0,content:!0}),g=Z(L,"META",{property:!0,content:!0}),m=Z(L,"META",{property:!0,content:!0}),y=Z(L,"META",{property:!0,content:!0}),S=Z(L,"META",{property:!0,content:!0}),k=Z(L,"META",{property:!0,content:!0}),b=Z(L,"META",{property:!0,content:!0}),w=Z(L,"META",{name:!0,content:!0}),A=Z(L,"META",{name:!0,content:!0}),R=Z(L,"META",{name:!0,content:!0}),E=Z(L,"META",{name:!0,content:!0}),x=Z(L,"META",{name:!0,content:!0}),F=Z(L,"META",{name:!0,content:!0}),z=Z(L,"META",{name:!0,content:!0}),q=Z(L,"LINK",{rel:!0,href:!0});for(let G=0;G<Q.length;G+=1)Q[G].l(L);B=Oe(),L.forEach(C),this.h()},h(){T(r,"name","description"),T(r,"content",n[1]),T(s,"name","author"),T(s,"content","The Pudding"),T(u,"name","news_keywords"),T(u,"content",n[3]),T(a,"property","og:title"),T(a,"content",n[0]),T(o,"property","og:site_name"),T(o,"content","The Pudding"),T(h,"property","og:url"),T(h,"content",n[2]),T(c,"property","og:description"),T(c,"content",n[1]),T(g,"property","og:type"),T(g,"content","article"),T(m,"property","og:locale"),T(m,"content","en_US"),T(y,"property","og:image"),T(y,"content",p=n[2]+"/assets/social-facebook.jpg"),T(S,"property","og:image:type"),T(S,"content","image/jpeg"),T(k,"property","og:image:width"),T(k,"content","1200"),T(b,"property","og:image:height"),T(b,"content","600"),T(w,"name","twitter:card"),T(w,"content","summary_large_image"),T(A,"name","twitter:site"),T(A,"content","https://pudding.cool"),T(R,"name","twitter:creator"),T(R,"content","@puddingviz"),T(E,"name","twitter:title"),T(E,"content",n[0]),T(x,"name","twitter:description"),T(x,"content",n[1]),T(F,"name","twitter:image:src"),T(F,"content",U=n[2]+"/assets/social-twitter.jpg"),T(z,"name","robots"),T(z,"content","max-image-preview:large"),T(q,"rel","canonical"),T(q,"href",$=n[2]+"/")},m(I,L){P(document.head,r),P(document.head,s),P(document.head,u),P(document.head,a),P(document.head,o),P(document.head,h),P(document.head,c),P(document.head,g),P(document.head,m),P(document.head,y),P(document.head,S),P(document.head,k),P(document.head,b),P(document.head,w),P(document.head,A),P(document.head,R),P(document.head,E),P(document.head,x),P(document.head,F),P(document.head,z),P(document.head,q);for(let G=0;G<Q.length;G+=1)Q[G].m(document.head,null);P(document.head,B)},p(I,[L]){if(L&1&&t!==(t=I[0])&&(document.title=t),L&2&&T(r,"content",I[1]),L&8&&T(u,"content",I[3]),L&1&&T(a,"content",I[0]),L&4&&T(h,"content",I[2]),L&2&&T(c,"content",I[1]),L&4&&p!==(p=I[2]+"/assets/social-facebook.jpg")&&T(y,"content",p),L&1&&T(E,"content",I[0]),L&2&&T(x,"content",I[1]),L&4&&U!==(U=I[2]+"/assets/social-twitter.jpg")&&T(F,"content",U),L&4&&$!==($=I[2]+"/")&&T(q,"href",$),L&16){W=I[4];let G;for(G=0;G<W.length;G+=1){const H=ef(I,W,G);Q[G]?Q[G].p(H,L):(Q[G]=tf(H),Q[G].c(),Q[G].m(B.parentNode,B))}for(;G<Q.length;G+=1)Q[G].d(1);Q.length=W.length}},i:He,o:He,d(I){C(r),C(s),C(u),C(a),C(o),C(h),C(c),C(g),C(m),C(y),C(S),C(k),C(b),C(w),C(A),C(R),C(E),C(x),C(F),C(z),C(q),pt(Q,I),C(B)}}}function lv(n,t,r){let{title:s="Title TK"}=t,{description:u="Description TK"}=t,{url:a="https://pudding.cool"}=t,{keywords:o=""}=t,{preloadFont:h=[]}=t;return n.$$set=c=>{"title"in c&&r(0,s=c.title),"description"in c&&r(1,u=c.description),"url"in c&&r(2,a=c.url),"keywords"in c&&r(3,o=c.keywords),"preloadFont"in c&&r(4,h=c.preloadFont)},[s,u,a,o,h]}class uv extends rt{constructor(t){super(),it(this,t,lv,sv,$e,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function nf(n,t,r){const s=n.slice();return s[5]=t[r],s}function rf(n,t,r){const s=n.slice();return s[8]=t[r].hed,s[2]=t[r].url,s[9]=t[r].image,s}function sf(n){let t,r,s,u,a,o,h=n[8]+"",c,g,m;return{c(){t=K("div"),r=K("a"),s=K("img"),a=me(),o=K("span"),c=We(h),m=me(),this.h()},l(y){t=Z(y,"DIV",{class:!0});var p=j(t);r=Z(p,"A",{href:!0,class:!0});var S=j(r);s=Z(S,"IMG",{src:!0,alt:!0}),a=_e(S),o=Z(S,"SPAN",{class:!0});var k=j(o);c=Be(k,h),k.forEach(C),S.forEach(C),m=_e(p),p.forEach(C),this.h()},h(){Ct(s.src,u="https://pudding.cool/common/assets/thumbnails/640/"+n[9]+".jpg")||T(s,"src",u),T(s,"alt","thumbnail"),T(o,"class","svelte-1en6glb"),T(r,"href",g="https://pudding.cool/"+n[2]),T(r,"class","svelte-1en6glb"),T(t,"class","story svelte-1en6glb")},m(y,p){se(y,t,p),P(t,r),P(r,s),P(r,a),P(r,o),P(o,c),P(t,m)},p(y,p){p&1&&!Ct(s.src,u="https://pudding.cool/common/assets/thumbnails/640/"+y[9]+".jpg")&&T(s,"src",u),p&1&&h!==(h=y[8]+"")&&Mt(c,h),p&1&&g!==(g="https://pudding.cool/"+y[2])&&T(r,"href",g)},d(y){y&&C(t)}}}function lf(n){let t,r,s,u=n[5].name.toUpperCase()+"",a,o;return{c(){t=K("li"),r=K("a"),s=K("span"),a=We(u),o=me(),this.h()},l(h){t=Z(h,"LI",{class:!0});var c=j(t);r=Z(c,"A",{href:!0,class:!0});var g=j(r);s=Z(g,"SPAN",{class:!0});var m=j(s);a=Be(m,u),m.forEach(C),g.forEach(C),o=_e(c),c.forEach(C),this.h()},h(){T(s,"class","svelte-1en6glb"),T(r,"href",n[5].url),T(r,"class","svelte-1en6glb"),T(t,"class","svelte-1en6glb")},m(h,c){se(h,t,c),P(t,r),P(r,s),P(s,a),P(t,o)},p:He,d(h){h&&C(t)}}}function ov(n){let t,r,s,u,a,o,h,c,g,m,y,p,S,k=n[0],b=[];for(let R=0;R<k.length;R+=1)b[R]=sf(rf(n,k,R));let w=n[1],A=[];for(let R=0;R<w.length;R+=1)A[R]=lf(nf(n,w,R));return{c(){t=K("footer"),r=K("section");for(let R=0;R<b.length;R+=1)b[R].c();s=me(),u=K("section"),a=K("div"),o=me(),h=K("p"),c=K("a"),g=We("The Pudding"),m=We(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),y=me(),p=K("section"),S=K("ul");for(let R=0;R<A.length;R+=1)A[R].c();this.h()},l(R){t=Z(R,"FOOTER",{class:!0});var E=j(t);r=Z(E,"SECTION",{class:!0});var x=j(r);for(let W=0;W<b.length;W+=1)b[W].l(x);x.forEach(C),s=_e(E),u=Z(E,"SECTION",{class:!0});var F=j(u);a=Z(F,"DIV",{class:!0});var U=j(a);U.forEach(C),o=_e(F),h=Z(F,"P",{});var z=j(h);c=Z(z,"A",{href:!0,class:!0});var q=j(c);g=Be(q,"The Pudding"),q.forEach(C),m=Be(z,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),z.forEach(C),F.forEach(C),y=_e(E),p=Z(E,"SECTION",{class:!0});var $=j(p);S=Z($,"UL",{class:!0});var B=j(S);for(let W=0;W<A.length;W+=1)A[W].l(B);B.forEach(C),$.forEach(C),E.forEach(C),this.h()},h(){T(r,"class","stories svelte-1en6glb"),T(a,"class","wordmark svelte-1en6glb"),T(c,"href","https://pudding.cool"),T(c,"class","svelte-1en6glb"),T(u,"class","about svelte-1en6glb"),T(S,"class","svelte-1en6glb"),T(p,"class","links svelte-1en6glb"),T(t,"class","svelte-1en6glb")},m(R,E){se(R,t,E),P(t,r);for(let x=0;x<b.length;x+=1)b[x].m(r,null);P(t,s),P(t,u),P(u,a),a.innerHTML=nv,P(u,o),P(u,h),P(h,c),P(c,g),P(h,m),P(t,y),P(t,p),P(p,S);for(let x=0;x<A.length;x+=1)A[x].m(S,null)},p(R,[E]){if(E&1){k=R[0];let x;for(x=0;x<k.length;x+=1){const F=rf(R,k,x);b[x]?b[x].p(F,E):(b[x]=sf(F),b[x].c(),b[x].m(r,null))}for(;x<b.length;x+=1)b[x].d(1);b.length=k.length}if(E&2){w=R[1];let x;for(x=0;x<w.length;x+=1){const F=nf(R,w,x);A[x]?A[x].p(F,E):(A[x]=lf(F),A[x].c(),A[x].m(S,null))}for(;x<A.length;x+=1)A[x].d(1);A.length=w.length}},i:He,o:He,d(R){R&&C(t),pt(b,R),pt(A,R)}}}function av(n,t,r){let s,u=[];const o=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,h=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return fi(async()=>{s=window.location.href;const g=await(await fetch(o)).json();r(0,u=g.filter(m=>!s.includes(m.url)).slice(0,4))}),[u,h,o]}class fv extends rt{constructor(t){super(),it(this,t,av,ov,$e,{})}}function cv(n){let t,r,s;return{c(){t=K("div"),this.h()},l(u){t=Z(u,"DIV",{class:!0}),j(t).forEach(C),this.h()},h(){T(t,"class","marker svelte-1f7khv0"),De(t,"left",n[1])},m(u,a){se(u,t,a),n[13](t),r||(s=[Le(window,"mouseup",n[8]),Le(window,"mousemove",n[9]),Le(t,"mousedown",n[7])],r=!0)},p(u,[a]){a&2&&De(t,"left",u[1])},i:He,o:He,d(u){u&&C(t),n[13](null),r=!1,sn(s)}}}function hv(n,t,r){let s,u,a,o,h,c;const{getXScale:g,getSeek:m,getCurrentBeat:y,getTimeToBeat:p,getXOffset:S}=Gn("song"),k=g();oe(n,k,$=>r(12,o=$));const b=y();oe(n,b,$=>r(11,a=$));const w=m();oe(n,w,$=>r(15,h=$));const A=p();oe(n,A,$=>r(16,c=$));const R=S();oe(n,R,$=>r(10,u=$));let E,x=!1;const F=$=>{x=!0},U=()=>{x=!1},z=$=>{if(x){const B=E.offsetLeft+$.movementX-u,W=o.invert(B),Q=c.invert(W)/1e3;Qe(w,h=Q,h)}};function q($){Dt[$?"unshift":"push"](()=>{E=$,r(0,E)})}return n.$$.update=()=>{n.$$.dirty&7168&&r(1,s=`${o(a)+u}px`)},[E,s,k,b,w,A,R,F,U,z,u,a,o,q]}class gv extends rt{constructor(t){super(),it(this,t,hv,cv,$e,{})}}function dv(n){let t,r;return{c(){t=K("div"),this.h()},l(s){t=Z(s,"DIV",{class:!0}),j(t).forEach(C),this.h()},h(){T(t,"class",r=Or(n[0])+" svelte-1hql3w8"),pe(t,"played",n[3]),pe(t,"highlighted",n[2]),De(t,"top","50%"),De(t,"left",`${n[1]}px`),De(t,"height",`${uf}px`),De(t,"width",`${uf}px`)},m(s,u){se(s,t,u)},p(s,[u]){u&1&&r!==(r=Or(s[0])+" svelte-1hql3w8")&&T(t,"class",r),u&9&&pe(t,"played",s[3]),u&5&&pe(t,"highlighted",s[2]),u&2&&De(t,"left",`${s[1]}px`)},i:He,o:He,d(s){s&&C(t)}}}const uf=20;function mv(n,t,r){let s,u,a,o,h,c,{noteData:g}=t,{instrumentId:m}=t,{x:y}=t;const{getCurrentBeat:p,getIsPlaying:S,getHighlightedNotes:k,getInstrumentToggles:b}=Gn("song"),w=p();oe(n,w,x=>r(12,c=x));const A=S();oe(n,A,x=>r(11,h=x));const R=k();oe(n,R,x=>r(9,a=x));const E=b();return oe(n,E,x=>r(10,o=x)),n.$$set=x=>{"noteData"in x&&r(8,g=x.noteData),"instrumentId"in x&&r(0,m=x.instrumentId),"x"in x&&r(1,y=x.x)},n.$$.update=()=>{var x;n.$$.dirty&7425&&r(3,s=c>=g-.05&&h&&o[m]==="on"),n.$$.dirty&769&&r(2,u=(x=a[m])==null?void 0:x.includes(g))},[m,y,u,s,w,A,R,E,g,a,o,h,c]}class _v extends rt{constructor(t){super(),it(this,t,mv,dv,$e,{noteData:8,instrumentId:0,x:1})}}function ls(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Gc(n){let t,r,s;n.length!==2?(t=ls,r=(h,c)=>ls(n(h),c),s=(h,c)=>n(h)-c):(t=n===ls||n===rv?n:pv,r=n,s=n);function u(h,c,g=0,m=h.length){if(g<m){if(t(c,c)!==0)return m;do{const y=g+m>>>1;r(h[y],c)<0?g=y+1:m=y}while(g<m)}return g}function a(h,c,g=0,m=h.length){if(g<m){if(t(c,c)!==0)return m;do{const y=g+m>>>1;r(h[y],c)<=0?g=y+1:m=y}while(g<m)}return g}function o(h,c,g=0,m=h.length){const y=u(h,c,g,m-1);return y>g&&s(h[y-1],c)>-s(h[y],c)?y-1:y}return{left:u,center:o,right:a}}function pv(){return 0}function vv(n){return n===null?NaN:+n}const yv=Gc(ls),bv=yv.right;Gc(vv).center;const wv=bv,kv=Math.sqrt(50),Tv=Math.sqrt(10),Av=Math.sqrt(2);function cs(n,t,r){const s=(t-n)/Math.max(0,r),u=Math.floor(Math.log10(s)),a=s/Math.pow(10,u),o=a>=kv?10:a>=Tv?5:a>=Av?2:1;let h,c,g;return u<0?(g=Math.pow(10,-u)/o,h=Math.round(n*g),c=Math.round(t*g),h/g<n&&++h,c/g>t&&--c,g=-g):(g=Math.pow(10,u)*o,h=Math.round(n/g),c=Math.round(t/g),h*g<n&&++h,c*g>t&&--c),c<h&&.5<=r&&r<2?cs(n,t,r*2):[h,c,g]}function Mv(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const s=t<n,[u,a,o]=s?cs(t,n,r):cs(n,t,r);if(!(a>=u))return[];const h=a-u+1,c=new Array(h);if(s)if(o<0)for(let g=0;g<h;++g)c[g]=(a-g)/-o;else for(let g=0;g<h;++g)c[g]=(a-g)*o;else if(o<0)for(let g=0;g<h;++g)c[g]=(u+g)/-o;else for(let g=0;g<h;++g)c[g]=(u+g)*o;return c}function ru(n,t,r){return t=+t,n=+n,r=+r,cs(n,t,r)[2]}function Sv(n,t,r){t=+t,n=+n,r=+r;const s=t<n,u=s?ru(t,n,r):ru(n,t,r);return(s?-1:1)*(u<0?1/-u:u)}function dn(n,t,r){n=+n,t=+t,r=(u=arguments.length)<2?(t=n,n=0,1):u<3?1:+r;for(var s=-1,u=Math.max(0,Math.ceil((t-n)/r))|0,a=new Array(u);++s<u;)a[s]=n+s*r;return a}function gu(n,t,r){n.prototype=t.prototype=r,r.constructor=n}function Vc(n,t){var r=Object.create(n.prototype);for(var s in t)r[s]=t[s];return r}function ci(){}var ii=.7,hs=1/ii,Rr="\\s*([+-]?\\d+)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ev=/^#([0-9a-f]{3,8})$/,Iv=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),Cv=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),Dv=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${si}\\)$`),xv=new RegExp(`^rgba\\(${bn},${bn},${bn},${si}\\)$`),Rv=new RegExp(`^hsl\\(${si},${bn},${bn}\\)$`),Ov=new RegExp(`^hsla\\(${si},${bn},${bn},${si}\\)$`),of={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gu(ci,li,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:af,formatHex:af,formatHex8:Nv,formatHsl:Lv,formatRgb:ff,toString:ff});function af(){return this.rgb().formatHex()}function Nv(){return this.rgb().formatHex8()}function Lv(){return Kc(this).formatHsl()}function ff(){return this.rgb().formatRgb()}function li(n){var t,r;return n=(n+"").trim().toLowerCase(),(t=Ev.exec(n))?(r=t[1].length,t=parseInt(t[1],16),r===6?cf(t):r===3?new Wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?es(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?es(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Iv.exec(n))?new Wt(t[1],t[2],t[3],1):(t=Cv.exec(n))?new Wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dv.exec(n))?es(t[1],t[2],t[3],t[4]):(t=xv.exec(n))?es(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rv.exec(n))?df(t[1],t[2]/100,t[3]/100,1):(t=Ov.exec(n))?df(t[1],t[2]/100,t[3]/100,t[4]):of.hasOwnProperty(n)?cf(of[n]):n==="transparent"?new Wt(NaN,NaN,NaN,0):null}function cf(n){return new Wt(n>>16&255,n>>8&255,n&255,1)}function es(n,t,r,s){return s<=0&&(n=t=r=NaN),new Wt(n,t,r,s)}function Pv(n){return n instanceof ci||(n=li(n)),n?(n=n.rgb(),new Wt(n.r,n.g,n.b,n.opacity)):new Wt}function iu(n,t,r,s){return arguments.length===1?Pv(n):new Wt(n,t,r,s??1)}function Wt(n,t,r,s){this.r=+n,this.g=+t,this.b=+r,this.opacity=+s}gu(Wt,iu,Vc(ci,{brighter(n){return n=n==null?hs:Math.pow(hs,n),new Wt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ii:Math.pow(ii,n),new Wt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Wt(lr(this.r),lr(this.g),lr(this.b),gs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hf,formatHex:hf,formatHex8:Uv,formatRgb:gf,toString:gf}));function hf(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}`}function Uv(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}${sr((isNaN(this.opacity)?1:this.opacity)*255)}`}function gf(){const n=gs(this.opacity);return`${n===1?"rgb(":"rgba("}${lr(this.r)}, ${lr(this.g)}, ${lr(this.b)}${n===1?")":`, ${n})`}`}function gs(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function lr(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function sr(n){return n=lr(n),(n<16?"0":"")+n.toString(16)}function df(n,t,r,s){return s<=0?n=t=r=NaN:r<=0||r>=1?n=t=NaN:t<=0&&(n=NaN),new gn(n,t,r,s)}function Kc(n){if(n instanceof gn)return new gn(n.h,n.s,n.l,n.opacity);if(n instanceof ci||(n=li(n)),!n)return new gn;if(n instanceof gn)return n;n=n.rgb();var t=n.r/255,r=n.g/255,s=n.b/255,u=Math.min(t,r,s),a=Math.max(t,r,s),o=NaN,h=a-u,c=(a+u)/2;return h?(t===a?o=(r-s)/h+(r<s)*6:r===a?o=(s-t)/h+2:o=(t-r)/h+4,h/=c<.5?a+u:2-a-u,o*=60):h=c>0&&c<1?0:o,new gn(o,h,c,n.opacity)}function Fv(n,t,r,s){return arguments.length===1?Kc(n):new gn(n,t,r,s??1)}function gn(n,t,r,s){this.h=+n,this.s=+t,this.l=+r,this.opacity=+s}gu(gn,Fv,Vc(ci,{brighter(n){return n=n==null?hs:Math.pow(hs,n),new gn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ii:Math.pow(ii,n),new gn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,u=2*r-s;return new Wt(Vl(n>=240?n-240:n+120,u,s),Vl(n,u,s),Vl(n<120?n+240:n-120,u,s),this.opacity)},clamp(){return new gn(mf(this.h),ts(this.s),ts(this.l),gs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=gs(this.opacity);return`${n===1?"hsl(":"hsla("}${mf(this.h)}, ${ts(this.s)*100}%, ${ts(this.l)*100}%${n===1?")":`, ${n})`}`}}));function mf(n){return n=(n||0)%360,n<0?n+360:n}function ts(n){return Math.max(0,Math.min(1,n||0))}function Vl(n,t,r){return(n<60?t+(r-t)*n/60:n<180?r:n<240?t+(r-t)*(240-n)/60:t)*255}const du=n=>()=>n;function Wv(n,t){return function(r){return n+r*t}}function Bv(n,t,r){return n=Math.pow(n,r),t=Math.pow(t,r)-n,r=1/r,function(s){return Math.pow(n+s*t,r)}}function Hv(n){return(n=+n)==1?Zc:function(t,r){return r-t?Bv(t,r,n):du(isNaN(t)?r:t)}}function Zc(n,t){var r=t-n;return r?Wv(n,r):du(isNaN(n)?t:n)}const _f=function n(t){var r=Hv(t);function s(u,a){var o=r((u=iu(u)).r,(a=iu(a)).r),h=r(u.g,a.g),c=r(u.b,a.b),g=Zc(u.opacity,a.opacity);return function(m){return u.r=o(m),u.g=h(m),u.b=c(m),u.opacity=g(m),u+""}}return s.gamma=n,s}(1);function qv(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,s=t.slice(),u;return function(a){for(u=0;u<r;++u)s[u]=n[u]*(1-a)+t[u]*a;return s}}function Yv(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function zv(n,t){var r=t?t.length:0,s=n?Math.min(r,n.length):0,u=new Array(s),a=new Array(r),o;for(o=0;o<s;++o)u[o]=mu(n[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(h){for(o=0;o<s;++o)a[o]=u[o](h);return a}}function Gv(n,t){var r=new Date;return n=+n,t=+t,function(s){return r.setTime(n*(1-s)+t*s),r}}function ds(n,t){return n=+n,t=+t,function(r){return n*(1-r)+t*r}}function Vv(n,t){var r={},s={},u;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(u in t)u in n?r[u]=mu(n[u],t[u]):s[u]=t[u];return function(a){for(u in r)s[u]=r[u](a);return s}}var su=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kl=new RegExp(su.source,"g");function Kv(n){return function(){return n}}function Zv(n){return function(t){return n(t)+""}}function Xv(n,t){var r=su.lastIndex=Kl.lastIndex=0,s,u,a,o=-1,h=[],c=[];for(n=n+"",t=t+"";(s=su.exec(n))&&(u=Kl.exec(t));)(a=u.index)>r&&(a=t.slice(r,a),h[o]?h[o]+=a:h[++o]=a),(s=s[0])===(u=u[0])?h[o]?h[o]+=u:h[++o]=u:(h[++o]=null,c.push({i:o,x:ds(s,u)})),r=Kl.lastIndex;return r<t.length&&(a=t.slice(r),h[o]?h[o]+=a:h[++o]=a),h.length<2?c[0]?Zv(c[0].x):Kv(t):(t=c.length,function(g){for(var m=0,y;m<t;++m)h[(y=c[m]).i]=y.x(g);return h.join("")})}function mu(n,t){var r=typeof t,s;return t==null||r==="boolean"?du(t):(r==="number"?ds:r==="string"?(s=li(t))?(t=s,_f):Xv:t instanceof li?_f:t instanceof Date?Gv:Yv(t)?qv:Array.isArray(t)?zv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vv:ds)(n,t)}function Jv(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}const lu=Math.PI,uu=2*lu,ir=1e-6,Qv=uu-ir;function Xc(n){this._+=n[0];for(let t=1,r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function jv(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Xc;const r=10**t;return function(s){this._+=s[0];for(let u=1,a=s.length;u<a;++u)this._+=Math.round(arguments[u]*r)/r+s[u]}}class $v{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Xc:jv(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,u){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+u}`}bezierCurveTo(t,r,s,u,a,o){this._append`C${+t},${+r},${+s},${+u},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,s,u,a){if(t=+t,r=+r,s=+s,u=+u,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,h=this._y1,c=s-t,g=u-r,m=o-t,y=h-r,p=m*m+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>ir)if(!(Math.abs(y*c-g*m)>ir)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let S=s-o,k=u-h,b=c*c+g*g,w=S*S+k*k,A=Math.sqrt(b),R=Math.sqrt(p),E=a*Math.tan((lu-Math.acos((b+p-w)/(2*A*R)))/2),x=E/R,F=E/A;Math.abs(x-1)>ir&&this._append`L${t+x*m},${r+x*y}`,this._append`A${a},${a},0,0,${+(y*S>m*k)},${this._x1=t+F*c},${this._y1=r+F*g}`}}arc(t,r,s,u,a,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let h=s*Math.cos(u),c=s*Math.sin(u),g=t+h,m=r+c,y=1^o,p=o?u-a:a-u;this._x1===null?this._append`M${g},${m}`:(Math.abs(this._x1-g)>ir||Math.abs(this._y1-m)>ir)&&this._append`L${g},${m}`,s&&(p<0&&(p=p%uu+uu),p>Qv?this._append`A${s},${s},0,1,${y},${t-h},${r-c}A${s},${s},0,1,${y},${this._x1=g},${this._y1=m}`:p>ir&&this._append`A${s},${s},0,${+(p>=lu)},${y},${this._x1=t+s*Math.cos(a)},${this._y1=r+s*Math.sin(a)}`)}rect(t,r,s,u){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+u}h${-s}Z`}toString(){return this._}}function ey(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function ms(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,s=n.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+n.slice(r+1)]}function Nr(n){return n=ms(Math.abs(n)),n?n[1]:NaN}function ty(n,t){return function(r,s){for(var u=r.length,a=[],o=0,h=n[0],c=0;u>0&&h>0&&(c+h+1>s&&(h=Math.max(1,s-c)),a.push(r.substring(u-=h,u+h)),!((c+=h+1)>s));)h=n[o=(o+1)%n.length];return a.reverse().join(t)}}function ny(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var ry=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _s(n){if(!(t=ry.exec(n)))throw new Error("invalid format: "+n);var t;return new _u({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_s.prototype=_u.prototype;function _u(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}_u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iy(n){e:for(var t=n.length,r=1,s=-1,u;r<t;++r)switch(n[r]){case".":s=u=r;break;case"0":s===0&&(s=r),u=r;break;default:if(!+n[r])break e;s>0&&(s=0);break}return s>0?n.slice(0,s)+n.slice(u+1):n}var Jc;function sy(n,t){var r=ms(n,t);if(!r)return n+"";var s=r[0],u=r[1],a=u-(Jc=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,o=s.length;return a===o?s:a>o?s+new Array(a-o+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+ms(n,Math.max(0,t+a-1))[0]}function pf(n,t){var r=ms(n,t);if(!r)return n+"";var s=r[0],u=r[1];return u<0?"0."+new Array(-u).join("0")+s:s.length>u+1?s.slice(0,u+1)+"."+s.slice(u+1):s+new Array(u-s.length+2).join("0")}const vf={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:ey,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>pf(n*100,t),r:pf,s:sy,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function yf(n){return n}var bf=Array.prototype.map,wf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ly(n){var t=n.grouping===void 0||n.thousands===void 0?yf:ty(bf.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",s=n.currency===void 0?"":n.currency[1]+"",u=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?yf:ny(bf.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",h=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function g(y){y=_s(y);var p=y.fill,S=y.align,k=y.sign,b=y.symbol,w=y.zero,A=y.width,R=y.comma,E=y.precision,x=y.trim,F=y.type;F==="n"?(R=!0,F="g"):vf[F]||(E===void 0&&(E=12),x=!0,F="g"),(w||p==="0"&&S==="=")&&(w=!0,p="0",S="=");var U=b==="$"?r:b==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",z=b==="$"?s:/[%p]/.test(F)?o:"",q=vf[F],$=/[defgprs%]/.test(F);E=E===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(W){var Q=U,I=z,L,G,H;if(F==="c")I=q(W)+I,W="";else{W=+W;var ge=W<0||1/W<0;if(W=isNaN(W)?c:q(Math.abs(W),E),x&&(W=iy(W)),ge&&+W==0&&k!=="+"&&(ge=!1),Q=(ge?k==="("?k:h:k==="-"||k==="("?"":k)+Q,I=(F==="s"?wf[8+Jc/3]:"")+I+(ge&&k==="("?")":""),$){for(L=-1,G=W.length;++L<G;)if(H=W.charCodeAt(L),48>H||H>57){I=(H===46?u+W.slice(L+1):W.slice(L))+I,W=W.slice(0,L);break}}}R&&!w&&(W=t(W,1/0));var ve=Q.length+W.length+I.length,re=ve<A?new Array(A-ve+1).join(p):"";switch(R&&w&&(W=t(re+W,re.length?A-I.length:1/0),re=""),S){case"<":W=Q+W+I+re;break;case"=":W=Q+re+W+I;break;case"^":W=re.slice(0,ve=re.length>>1)+Q+W+I+re.slice(ve);break;default:W=re+Q+W+I;break}return a(W)}return B.toString=function(){return y+""},B}function m(y,p){var S=g((y=_s(y),y.type="f",y)),k=Math.max(-8,Math.min(8,Math.floor(Nr(p)/3)))*3,b=Math.pow(10,-k),w=wf[8+k/3];return function(A){return S(b*A)+w}}return{format:g,formatPrefix:m}}var ns,ps,Qc;uy({thousands:",",grouping:[3],currency:["$",""]});function uy(n){return ns=ly(n),ps=ns.format,Qc=ns.formatPrefix,ns}function oy(n){return Math.max(0,-Nr(Math.abs(n)))}function ay(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nr(t)/3)))*3-Nr(Math.abs(n)))}function fy(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Nr(t)-Nr(n))+1}function cy(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function hy(n){return function(){return n}}function gy(n){return+n}var kf=[0,1];function Dr(n){return n}function ou(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:hy(isNaN(t)?NaN:.5)}function dy(n,t){var r;return n>t&&(r=n,n=t,t=r),function(s){return Math.max(n,Math.min(t,s))}}function my(n,t,r){var s=n[0],u=n[1],a=t[0],o=t[1];return u<s?(s=ou(u,s),a=r(o,a)):(s=ou(s,u),a=r(a,o)),function(h){return a(s(h))}}function _y(n,t,r){var s=Math.min(n.length,t.length)-1,u=new Array(s),a=new Array(s),o=-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<s;)u[o]=ou(n[o],n[o+1]),a[o]=r(t[o],t[o+1]);return function(h){var c=wv(n,h,1,s)-1;return a[c](u[c](h))}}function py(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function vy(){var n=kf,t=kf,r=mu,s,u,a,o=Dr,h,c,g;function m(){var p=Math.min(n.length,t.length);return o!==Dr&&(o=dy(n[0],n[p-1])),h=p>2?_y:my,c=g=null,y}function y(p){return p==null||isNaN(p=+p)?a:(c||(c=h(n.map(s),t,r)))(s(o(p)))}return y.invert=function(p){return o(u((g||(g=h(t,n.map(s),ds)))(p)))},y.domain=function(p){return arguments.length?(n=Array.from(p,gy),m()):n.slice()},y.range=function(p){return arguments.length?(t=Array.from(p),m()):t.slice()},y.rangeRound=function(p){return t=Array.from(p),r=Jv,m()},y.clamp=function(p){return arguments.length?(o=p?!0:Dr,m()):o!==Dr},y.interpolate=function(p){return arguments.length?(r=p,m()):r},y.unknown=function(p){return arguments.length?(a=p,y):a},function(p,S){return s=p,u=S,m()}}function yy(){return vy()(Dr,Dr)}function by(n,t,r,s){var u=Sv(n,t,r),a;switch(s=_s(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return s.precision==null&&!isNaN(a=ay(u,o))&&(s.precision=a),Qc(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=fy(u,Math.max(Math.abs(n),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=oy(u))&&(s.precision=a-(s.type==="%")*2);break}}return ps(s)}function wy(n){var t=n.domain;return n.ticks=function(r){var s=t();return Mv(s[0],s[s.length-1],r??10)},n.tickFormat=function(r,s){var u=t();return by(u[0],u[u.length-1],r??10,s)},n.nice=function(r){r==null&&(r=10);var s=t(),u=0,a=s.length-1,o=s[u],h=s[a],c,g,m=10;for(h<o&&(g=o,o=h,h=g,g=u,u=a,a=g);m-- >0;){if(g=ru(o,h,r),g===c)return s[u]=o,s[a]=h,t(s);if(g>0)o=Math.floor(o/g)*g,h=Math.ceil(h/g)*g;else if(g<0)o=Math.ceil(o*g)/g,h=Math.floor(h*g)/g;else break;c=g}return n},n}function zn(){var n=yy();return n.copy=function(){return py(n,zn())},cy.apply(n,arguments),wy(n)}const Zl=new Date,Xl=new Date;function wn(n,t,r,s){function u(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return u.floor=a=>(n(a=new Date(+a)),a),u.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),u.round=a=>{const o=u(a),h=u.ceil(a);return a-o<h-a?o:h},u.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),u.range=(a,o,h)=>{const c=[];if(a=u.ceil(a),h=h==null?1:Math.floor(h),!(a<o)||!(h>0))return c;let g;do c.push(g=new Date(+a)),t(a,h),n(a);while(g<a&&a<o);return c},u.filter=a=>wn(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,h)=>{if(o>=o)if(h<0)for(;++h<=0;)for(;t(o,-1),!a(o););else for(;--h>=0;)for(;t(o,1),!a(o););}),r&&(u.count=(a,o)=>(Zl.setTime(+a),Xl.setTime(+o),n(Zl),n(Xl),Math.floor(r(Zl,Xl))),u.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?u.filter(s?o=>s(o)%a===0:o=>u.count(0,o)%a===0):u)),u}const ky=1e3,pu=ky*60,Ty=pu*60,ui=Ty*24,jc=ui*7,vu=wn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*pu)/ui,n=>n.getDate()-1);vu.range;const yu=wn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/ui,n=>n.getUTCDate()-1);yu.range;const Ay=wn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/ui,n=>Math.floor(n/ui));Ay.range;function ar(n){return wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pu)/jc)}const $c=ar(0),vs=ar(1),My=ar(2),Sy=ar(3),Lr=ar(4),Ey=ar(5),Iy=ar(6);$c.range;vs.range;My.range;Sy.range;Lr.range;Ey.range;Iy.range;function fr(n){return wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jc)}const eh=fr(0),ys=fr(1),Cy=fr(2),Dy=fr(3),Pr=fr(4),xy=fr(5),Ry=fr(6);eh.range;ys.range;Cy.range;Dy.range;Pr.range;xy.range;Ry.range;const ur=wn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());ur.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*n)});ur.range;const or=wn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());or.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*n)});or.range;function Jl(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Ql(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function $r(n,t,r){return{y:n,m:t,d:r,H:0,M:0,S:0,L:0}}function Oy(n){var t=n.dateTime,r=n.date,s=n.time,u=n.periods,a=n.days,o=n.shortDays,h=n.months,c=n.shortMonths,g=ei(u),m=ti(u),y=ei(a),p=ti(a),S=ei(o),k=ti(o),b=ei(h),w=ti(h),A=ei(c),R=ti(c),E={a:ge,A:ve,b:re,B:Ee,c:null,d:If,e:If,f:n2,g:h2,G:d2,H:$y,I:e2,j:t2,L:th,m:r2,M:i2,p:xe,q:ae,Q:xf,s:Rf,S:s2,u:l2,U:u2,V:o2,w:a2,W:f2,x:null,X:null,y:c2,Y:g2,Z:m2,"%":Df},x={a:Xe,A:ot,b:Fe,B:st,c:null,d:Cf,e:Cf,f:y2,g:C2,G:x2,H:_2,I:p2,j:v2,L:rh,m:b2,M:w2,p:ln,q:kt,Q:xf,s:Rf,S:k2,u:T2,U:A2,V:M2,w:S2,W:E2,x:null,X:null,y:I2,Y:D2,Z:R2,"%":Df},F={a:B,A:W,b:Q,B:I,c:L,d:Sf,e:Sf,f:Xy,g:Mf,G:Af,H:Ef,I:Ef,j:Gy,L:Zy,m:zy,M:Vy,p:$,q:Yy,Q:Qy,s:jy,S:Ky,u:Fy,U:Wy,V:By,w:Uy,W:Hy,x:G,X:H,y:Mf,Y:Af,Z:qy,"%":Jy};E.x=U(r,E),E.X=U(s,E),E.c=U(t,E),x.x=U(r,x),x.X=U(s,x),x.c=U(t,x);function U(le,be){return function(Te){var te=[],at=-1,Ae=0,et=le.length,ct,ce,Kt;for(Te instanceof Date||(Te=new Date(+Te));++at<et;)le.charCodeAt(at)===37&&(te.push(le.slice(Ae,at)),(ce=Tf[ct=le.charAt(++at)])!=null?ct=le.charAt(++at):ce=ct==="e"?" ":"0",(Kt=be[ct])&&(ct=Kt(Te,ce)),te.push(ct),Ae=at+1);return te.push(le.slice(Ae,at)),te.join("")}}function z(le,be){return function(Te){var te=$r(1900,void 0,1),at=q(te,le,Te+="",0),Ae,et;if(at!=Te.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(be&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Ae=Ql($r(te.y,0,1)),et=Ae.getUTCDay(),Ae=et>4||et===0?ys.ceil(Ae):ys(Ae),Ae=yu.offset(Ae,(te.V-1)*7),te.y=Ae.getUTCFullYear(),te.m=Ae.getUTCMonth(),te.d=Ae.getUTCDate()+(te.w+6)%7):(Ae=Jl($r(te.y,0,1)),et=Ae.getDay(),Ae=et>4||et===0?vs.ceil(Ae):vs(Ae),Ae=vu.offset(Ae,(te.V-1)*7),te.y=Ae.getFullYear(),te.m=Ae.getMonth(),te.d=Ae.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),et="Z"in te?Ql($r(te.y,0,1)).getUTCDay():Jl($r(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(et+5)%7:te.w+te.U*7-(et+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Ql(te)):Jl(te)}}function q(le,be,Te,te){for(var at=0,Ae=be.length,et=Te.length,ct,ce;at<Ae;){if(te>=et)return-1;if(ct=be.charCodeAt(at++),ct===37){if(ct=be.charAt(at++),ce=F[ct in Tf?be.charAt(at++):ct],!ce||(te=ce(le,Te,te))<0)return-1}else if(ct!=Te.charCodeAt(te++))return-1}return te}function $(le,be,Te){var te=g.exec(be.slice(Te));return te?(le.p=m.get(te[0].toLowerCase()),Te+te[0].length):-1}function B(le,be,Te){var te=S.exec(be.slice(Te));return te?(le.w=k.get(te[0].toLowerCase()),Te+te[0].length):-1}function W(le,be,Te){var te=y.exec(be.slice(Te));return te?(le.w=p.get(te[0].toLowerCase()),Te+te[0].length):-1}function Q(le,be,Te){var te=A.exec(be.slice(Te));return te?(le.m=R.get(te[0].toLowerCase()),Te+te[0].length):-1}function I(le,be,Te){var te=b.exec(be.slice(Te));return te?(le.m=w.get(te[0].toLowerCase()),Te+te[0].length):-1}function L(le,be,Te){return q(le,t,be,Te)}function G(le,be,Te){return q(le,r,be,Te)}function H(le,be,Te){return q(le,s,be,Te)}function ge(le){return o[le.getDay()]}function ve(le){return a[le.getDay()]}function re(le){return c[le.getMonth()]}function Ee(le){return h[le.getMonth()]}function xe(le){return u[+(le.getHours()>=12)]}function ae(le){return 1+~~(le.getMonth()/3)}function Xe(le){return o[le.getUTCDay()]}function ot(le){return a[le.getUTCDay()]}function Fe(le){return c[le.getUTCMonth()]}function st(le){return h[le.getUTCMonth()]}function ln(le){return u[+(le.getUTCHours()>=12)]}function kt(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var be=U(le+="",E);return be.toString=function(){return le},be},parse:function(le){var be=z(le+="",!1);return be.toString=function(){return le},be},utcFormat:function(le){var be=U(le+="",x);return be.toString=function(){return le},be},utcParse:function(le){var be=z(le+="",!0);return be.toString=function(){return le},be}}}var Tf={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,Ny=/^%/,Ly=/[\\^$*+?|[\]().{}]/g;function Ve(n,t,r){var s=n<0?"-":"",u=(s?-n:n)+"",a=u.length;return s+(a<r?new Array(r-a+1).join(t)+u:u)}function Py(n){return n.replace(Ly,"\\$&")}function ei(n){return new RegExp("^(?:"+n.map(Py).join("|")+")","i")}function ti(n){return new Map(n.map((t,r)=>[t.toLowerCase(),r]))}function Uy(n,t,r){var s=wt.exec(t.slice(r,r+1));return s?(n.w=+s[0],r+s[0].length):-1}function Fy(n,t,r){var s=wt.exec(t.slice(r,r+1));return s?(n.u=+s[0],r+s[0].length):-1}function Wy(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.U=+s[0],r+s[0].length):-1}function By(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.V=+s[0],r+s[0].length):-1}function Hy(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.W=+s[0],r+s[0].length):-1}function Af(n,t,r){var s=wt.exec(t.slice(r,r+4));return s?(n.y=+s[0],r+s[0].length):-1}function Mf(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function qy(n,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(n.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Yy(n,t,r){var s=wt.exec(t.slice(r,r+1));return s?(n.q=s[0]*3-3,r+s[0].length):-1}function zy(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.m=s[0]-1,r+s[0].length):-1}function Sf(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.d=+s[0],r+s[0].length):-1}function Gy(n,t,r){var s=wt.exec(t.slice(r,r+3));return s?(n.m=0,n.d=+s[0],r+s[0].length):-1}function Ef(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.H=+s[0],r+s[0].length):-1}function Vy(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.M=+s[0],r+s[0].length):-1}function Ky(n,t,r){var s=wt.exec(t.slice(r,r+2));return s?(n.S=+s[0],r+s[0].length):-1}function Zy(n,t,r){var s=wt.exec(t.slice(r,r+3));return s?(n.L=+s[0],r+s[0].length):-1}function Xy(n,t,r){var s=wt.exec(t.slice(r,r+6));return s?(n.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Jy(n,t,r){var s=Ny.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function Qy(n,t,r){var s=wt.exec(t.slice(r));return s?(n.Q=+s[0],r+s[0].length):-1}function jy(n,t,r){var s=wt.exec(t.slice(r));return s?(n.s=+s[0],r+s[0].length):-1}function If(n,t){return Ve(n.getDate(),t,2)}function $y(n,t){return Ve(n.getHours(),t,2)}function e2(n,t){return Ve(n.getHours()%12||12,t,2)}function t2(n,t){return Ve(1+vu.count(ur(n),n),t,3)}function th(n,t){return Ve(n.getMilliseconds(),t,3)}function n2(n,t){return th(n,t)+"000"}function r2(n,t){return Ve(n.getMonth()+1,t,2)}function i2(n,t){return Ve(n.getMinutes(),t,2)}function s2(n,t){return Ve(n.getSeconds(),t,2)}function l2(n){var t=n.getDay();return t===0?7:t}function u2(n,t){return Ve($c.count(ur(n)-1,n),t,2)}function nh(n){var t=n.getDay();return t>=4||t===0?Lr(n):Lr.ceil(n)}function o2(n,t){return n=nh(n),Ve(Lr.count(ur(n),n)+(ur(n).getDay()===4),t,2)}function a2(n){return n.getDay()}function f2(n,t){return Ve(vs.count(ur(n)-1,n),t,2)}function c2(n,t){return Ve(n.getFullYear()%100,t,2)}function h2(n,t){return n=nh(n),Ve(n.getFullYear()%100,t,2)}function g2(n,t){return Ve(n.getFullYear()%1e4,t,4)}function d2(n,t){var r=n.getDay();return n=r>=4||r===0?Lr(n):Lr.ceil(n),Ve(n.getFullYear()%1e4,t,4)}function m2(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function Cf(n,t){return Ve(n.getUTCDate(),t,2)}function _2(n,t){return Ve(n.getUTCHours(),t,2)}function p2(n,t){return Ve(n.getUTCHours()%12||12,t,2)}function v2(n,t){return Ve(1+yu.count(or(n),n),t,3)}function rh(n,t){return Ve(n.getUTCMilliseconds(),t,3)}function y2(n,t){return rh(n,t)+"000"}function b2(n,t){return Ve(n.getUTCMonth()+1,t,2)}function w2(n,t){return Ve(n.getUTCMinutes(),t,2)}function k2(n,t){return Ve(n.getUTCSeconds(),t,2)}function T2(n){var t=n.getUTCDay();return t===0?7:t}function A2(n,t){return Ve(eh.count(or(n)-1,n),t,2)}function ih(n){var t=n.getUTCDay();return t>=4||t===0?Pr(n):Pr.ceil(n)}function M2(n,t){return n=ih(n),Ve(Pr.count(or(n),n)+(or(n).getUTCDay()===4),t,2)}function S2(n){return n.getUTCDay()}function E2(n,t){return Ve(ys.count(or(n)-1,n),t,2)}function I2(n,t){return Ve(n.getUTCFullYear()%100,t,2)}function C2(n,t){return n=ih(n),Ve(n.getUTCFullYear()%100,t,2)}function D2(n,t){return Ve(n.getUTCFullYear()%1e4,t,4)}function x2(n,t){var r=n.getUTCDay();return n=r>=4||r===0?Pr(n):Pr.ceil(n),Ve(n.getUTCFullYear()%1e4,t,4)}function R2(){return"+0000"}function Df(){return"%"}function xf(n){return+n}function Rf(n){return Math.floor(+n/1e3)}var Er,sh;O2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O2(n){return Er=Oy(n),sh=Er.format,Er.parse,Er.utcFormat,Er.utcParse,Er}function qn(n){return function(){return n}}const Of=Math.abs,It=Math.atan2,rr=Math.cos,N2=Math.max,jl=Math.min,yn=Math.sin,xr=Math.sqrt,Ft=1e-12,oi=Math.PI,bs=oi/2,L2=2*oi;function P2(n){return n>1?0:n<-1?oi:Math.acos(n)}function Nf(n){return n>=1?bs:n<=-1?-bs:Math.asin(n)}function U2(n){let t=3;return n.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return n},()=>new $v(t)}function F2(n){return n.innerRadius}function W2(n){return n.outerRadius}function B2(n){return n.startAngle}function H2(n){return n.endAngle}function q2(n){return n&&n.padAngle}function Y2(n,t,r,s,u,a,o,h){var c=r-n,g=s-t,m=o-u,y=h-a,p=y*c-m*g;if(!(p*p<Ft))return p=(m*(t-a)-y*(n-u))/p,[n+p*c,t+p*g]}function rs(n,t,r,s,u,a,o){var h=n-r,c=t-s,g=(o?a:-a)/xr(h*h+c*c),m=g*c,y=-g*h,p=n+m,S=t+y,k=r+m,b=s+y,w=(p+k)/2,A=(S+b)/2,R=k-p,E=b-S,x=R*R+E*E,F=u-a,U=p*b-k*S,z=(E<0?-1:1)*xr(N2(0,F*F*x-U*U)),q=(U*E-R*z)/x,$=(-U*R-E*z)/x,B=(U*E+R*z)/x,W=(-U*R+E*z)/x,Q=q-w,I=$-A,L=B-w,G=W-A;return Q*Q+I*I>L*L+G*G&&(q=B,$=W),{cx:q,cy:$,x01:-m,y01:-y,x11:q*(u/F-1),y11:$*(u/F-1)}}function z2(){var n=F2,t=W2,r=qn(0),s=null,u=B2,a=H2,o=q2,h=null,c=U2(g);function g(){var m,y,p=+n.apply(this,arguments),S=+t.apply(this,arguments),k=u.apply(this,arguments)-bs,b=a.apply(this,arguments)-bs,w=Of(b-k),A=b>k;if(h||(h=m=c()),S<p&&(y=S,S=p,p=y),!(S>Ft))h.moveTo(0,0);else if(w>L2-Ft)h.moveTo(S*rr(k),S*yn(k)),h.arc(0,0,S,k,b,!A),p>Ft&&(h.moveTo(p*rr(b),p*yn(b)),h.arc(0,0,p,b,k,A));else{var R=k,E=b,x=k,F=b,U=w,z=w,q=o.apply(this,arguments)/2,$=q>Ft&&(s?+s.apply(this,arguments):xr(p*p+S*S)),B=jl(Of(S-p)/2,+r.apply(this,arguments)),W=B,Q=B,I,L;if($>Ft){var G=Nf($/p*yn(q)),H=Nf($/S*yn(q));(U-=G*2)>Ft?(G*=A?1:-1,x+=G,F-=G):(U=0,x=F=(k+b)/2),(z-=H*2)>Ft?(H*=A?1:-1,R+=H,E-=H):(z=0,R=E=(k+b)/2)}var ge=S*rr(R),ve=S*yn(R),re=p*rr(F),Ee=p*yn(F);if(B>Ft){var xe=S*rr(E),ae=S*yn(E),Xe=p*rr(x),ot=p*yn(x),Fe;if(w<oi)if(Fe=Y2(ge,ve,Xe,ot,xe,ae,re,Ee)){var st=ge-Fe[0],ln=ve-Fe[1],kt=xe-Fe[0],le=ae-Fe[1],be=1/yn(P2((st*kt+ln*le)/(xr(st*st+ln*ln)*xr(kt*kt+le*le)))/2),Te=xr(Fe[0]*Fe[0]+Fe[1]*Fe[1]);W=jl(B,(p-Te)/(be-1)),Q=jl(B,(S-Te)/(be+1))}else W=Q=0}z>Ft?Q>Ft?(I=rs(Xe,ot,ge,ve,S,Q,A),L=rs(xe,ae,re,Ee,S,Q,A),h.moveTo(I.cx+I.x01,I.cy+I.y01),Q<B?h.arc(I.cx,I.cy,Q,It(I.y01,I.x01),It(L.y01,L.x01),!A):(h.arc(I.cx,I.cy,Q,It(I.y01,I.x01),It(I.y11,I.x11),!A),h.arc(0,0,S,It(I.cy+I.y11,I.cx+I.x11),It(L.cy+L.y11,L.cx+L.x11),!A),h.arc(L.cx,L.cy,Q,It(L.y11,L.x11),It(L.y01,L.x01),!A))):(h.moveTo(ge,ve),h.arc(0,0,S,R,E,!A)):h.moveTo(ge,ve),!(p>Ft)||!(U>Ft)?h.lineTo(re,Ee):W>Ft?(I=rs(re,Ee,xe,ae,p,-W,A),L=rs(ge,ve,Xe,ot,p,-W,A),h.lineTo(I.cx+I.x01,I.cy+I.y01),W<B?h.arc(I.cx,I.cy,W,It(I.y01,I.x01),It(L.y01,L.x01),!A):(h.arc(I.cx,I.cy,W,It(I.y01,I.x01),It(I.y11,I.x11),!A),h.arc(0,0,p,It(I.cy+I.y11,I.cx+I.x11),It(L.cy+L.y11,L.cx+L.x11),A),h.arc(L.cx,L.cy,W,It(L.y11,L.x11),It(L.y01,L.x01),!A))):h.arc(0,0,p,F,x,A)}if(h.closePath(),m)return h=null,m+""||null}return g.centroid=function(){var m=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,y=(+u.apply(this,arguments)+ +a.apply(this,arguments))/2-oi/2;return[rr(y)*m,yn(y)*m]},g.innerRadius=function(m){return arguments.length?(n=typeof m=="function"?m:qn(+m),g):n},g.outerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:qn(+m),g):t},g.cornerRadius=function(m){return arguments.length?(r=typeof m=="function"?m:qn(+m),g):r},g.padRadius=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:qn(+m),g):s},g.startAngle=function(m){return arguments.length?(u=typeof m=="function"?m:qn(+m),g):u},g.endAngle=function(m){return arguments.length?(a=typeof m=="function"?m:qn(+m),g):a},g.padAngle=function(m){return arguments.length?(o=typeof m=="function"?m:qn(+m),g):o},g.context=function(m){return arguments.length?(h=m??null,g):h},g}var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ws={},G2={get exports(){return ws},set exports(n){ws=n}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,t){(function(){var r,s="4.17.21",u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",h="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",g=500,m="__lodash_placeholder__",y=1,p=2,S=4,k=1,b=2,w=1,A=2,R=4,E=8,x=16,F=32,U=64,z=128,q=256,$=512,B=30,W="...",Q=800,I=16,L=1,G=2,H=3,ge=1/0,ve=9007199254740991,re=17976931348623157e292,Ee=0/0,xe=4294967295,ae=xe-1,Xe=xe>>>1,ot=[["ary",z],["bind",w],["bindKey",A],["curry",E],["curryRight",x],["flip",$],["partial",F],["partialRight",U],["rearg",q]],Fe="[object Arguments]",st="[object Array]",ln="[object AsyncFunction]",kt="[object Boolean]",le="[object Date]",be="[object DOMException]",Te="[object Error]",te="[object Function]",at="[object GeneratorFunction]",Ae="[object Map]",et="[object Number]",ct="[object Null]",ce="[object Object]",Kt="[object Promise]",un="[object Proxy]",mn="[object RegExp]",Bt="[object Set]",Vn="[object String]",cr="[object Symbol]",As="[object Undefined]",Kn="[object WeakMap]",he="[object WeakSet]",on="[object ArrayBuffer]",hr="[object DataView]",Ms="[object Float32Array]",Ss="[object Float64Array]",Es="[object Int8Array]",Is="[object Int16Array]",Cs="[object Int32Array]",Ds="[object Uint8Array]",xs="[object Uint8ClampedArray]",Rs="[object Uint16Array]",Os="[object Uint32Array]",ch=/\b__p \+= '';/g,hh=/\b(__p \+=) '' \+/g,gh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bu=/&(?:amp|lt|gt|quot|#39);/g,wu=/[&<>"']/g,dh=RegExp(bu.source),mh=RegExp(wu.source),_h=/<%-([\s\S]+?)%>/g,ph=/<%([\s\S]+?)%>/g,ku=/<%=([\s\S]+?)%>/g,vh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yh=/^\w*$/,bh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ns=/[\\^$.*+?()[\]{}|]/g,wh=RegExp(Ns.source),Ls=/^\s+/,kh=/\s/,Th=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ah=/\{\n\/\* \[wrapped with (.+)\] \*/,Mh=/,? & /,Sh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Eh=/[()=,{}\[\]\/\s]/,Ih=/\\(\\)?/g,Ch=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tu=/\w*$/,Dh=/^[-+]0x[0-9a-f]+$/i,xh=/^0b[01]+$/i,Rh=/^\[object .+?Constructor\]$/,Oh=/^0o[0-7]+$/i,Nh=/^(?:0|[1-9]\d*)$/,Lh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hi=/($^)/,Ph=/['\n\r\u2028\u2029\\]/g,gi="\\ud800-\\udfff",Uh="\\u0300-\\u036f",Fh="\\ufe20-\\ufe2f",Wh="\\u20d0-\\u20ff",Au=Uh+Fh+Wh,Mu="\\u2700-\\u27bf",Su="a-z\\xdf-\\xf6\\xf8-\\xff",Bh="\\xac\\xb1\\xd7\\xf7",Hh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qh="\\u2000-\\u206f",Yh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eu="A-Z\\xc0-\\xd6\\xd8-\\xde",Iu="\\ufe0e\\ufe0f",Cu=Bh+Hh+qh+Yh,Ps="['’]",zh="["+gi+"]",Du="["+Cu+"]",di="["+Au+"]",xu="\\d+",Gh="["+Mu+"]",Ru="["+Su+"]",Ou="[^"+gi+Cu+xu+Mu+Su+Eu+"]",Us="\\ud83c[\\udffb-\\udfff]",Vh="(?:"+di+"|"+Us+")",Nu="[^"+gi+"]",Fs="(?:\\ud83c[\\udde6-\\uddff]){2}",Ws="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+Eu+"]",Lu="\\u200d",Pu="(?:"+Ru+"|"+Ou+")",Kh="(?:"+gr+"|"+Ou+")",Uu="(?:"+Ps+"(?:d|ll|m|re|s|t|ve))?",Fu="(?:"+Ps+"(?:D|LL|M|RE|S|T|VE))?",Wu=Vh+"?",Bu="["+Iu+"]?",Zh="(?:"+Lu+"(?:"+[Nu,Fs,Ws].join("|")+")"+Bu+Wu+")*",Xh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hu=Bu+Wu+Zh,Qh="(?:"+[Gh,Fs,Ws].join("|")+")"+Hu,jh="(?:"+[Nu+di+"?",di,Fs,Ws,zh].join("|")+")",$h=RegExp(Ps,"g"),eg=RegExp(di,"g"),Bs=RegExp(Us+"(?="+Us+")|"+jh+Hu,"g"),tg=RegExp([gr+"?"+Ru+"+"+Uu+"(?="+[Du,gr,"$"].join("|")+")",Kh+"+"+Fu+"(?="+[Du,gr+Pu,"$"].join("|")+")",gr+"?"+Pu+"+"+Uu,gr+"+"+Fu,Jh,Xh,xu,Qh].join("|"),"g"),ng=RegExp("["+Lu+gi+Au+Iu+"]"),rg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ig=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],sg=-1,lt={};lt[Ms]=lt[Ss]=lt[Es]=lt[Is]=lt[Cs]=lt[Ds]=lt[xs]=lt[Rs]=lt[Os]=!0,lt[Fe]=lt[st]=lt[on]=lt[kt]=lt[hr]=lt[le]=lt[Te]=lt[te]=lt[Ae]=lt[et]=lt[ce]=lt[mn]=lt[Bt]=lt[Vn]=lt[Kn]=!1;var tt={};tt[Fe]=tt[st]=tt[on]=tt[hr]=tt[kt]=tt[le]=tt[Ms]=tt[Ss]=tt[Es]=tt[Is]=tt[Cs]=tt[Ae]=tt[et]=tt[ce]=tt[mn]=tt[Bt]=tt[Vn]=tt[cr]=tt[Ds]=tt[xs]=tt[Rs]=tt[Os]=!0,tt[Te]=tt[te]=tt[Kn]=!1;var lg={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ug={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},og={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ag={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fg=parseFloat,cg=parseInt,qu=typeof Rn=="object"&&Rn&&Rn.Object===Object&&Rn,hg=typeof self=="object"&&self&&self.Object===Object&&self,Tt=qu||hg||Function("return this")(),Hs=t&&!t.nodeType&&t,Zn=Hs&&!0&&n&&!n.nodeType&&n,Yu=Zn&&Zn.exports===Hs,qs=Yu&&qu.process,Zt=function(){try{var O=Zn&&Zn.require&&Zn.require("util").types;return O||qs&&qs.binding&&qs.binding("util")}catch{}}(),zu=Zt&&Zt.isArrayBuffer,Gu=Zt&&Zt.isDate,Vu=Zt&&Zt.isMap,Ku=Zt&&Zt.isRegExp,Zu=Zt&&Zt.isSet,Xu=Zt&&Zt.isTypedArray;function Ht(O,V,Y){switch(Y.length){case 0:return O.call(V);case 1:return O.call(V,Y[0]);case 2:return O.call(V,Y[0],Y[1]);case 3:return O.call(V,Y[0],Y[1],Y[2])}return O.apply(V,Y)}function gg(O,V,Y,fe){for(var Me=-1,Ke=O==null?0:O.length;++Me<Ke;){var vt=O[Me];V(fe,vt,Y(vt),O)}return fe}function Xt(O,V){for(var Y=-1,fe=O==null?0:O.length;++Y<fe&&V(O[Y],Y,O)!==!1;);return O}function dg(O,V){for(var Y=O==null?0:O.length;Y--&&V(O[Y],Y,O)!==!1;);return O}function Ju(O,V){for(var Y=-1,fe=O==null?0:O.length;++Y<fe;)if(!V(O[Y],Y,O))return!1;return!0}function On(O,V){for(var Y=-1,fe=O==null?0:O.length,Me=0,Ke=[];++Y<fe;){var vt=O[Y];V(vt,Y,O)&&(Ke[Me++]=vt)}return Ke}function mi(O,V){var Y=O==null?0:O.length;return!!Y&&dr(O,V,0)>-1}function Ys(O,V,Y){for(var fe=-1,Me=O==null?0:O.length;++fe<Me;)if(Y(V,O[fe]))return!0;return!1}function ut(O,V){for(var Y=-1,fe=O==null?0:O.length,Me=Array(fe);++Y<fe;)Me[Y]=V(O[Y],Y,O);return Me}function Nn(O,V){for(var Y=-1,fe=V.length,Me=O.length;++Y<fe;)O[Me+Y]=V[Y];return O}function zs(O,V,Y,fe){var Me=-1,Ke=O==null?0:O.length;for(fe&&Ke&&(Y=O[++Me]);++Me<Ke;)Y=V(Y,O[Me],Me,O);return Y}function mg(O,V,Y,fe){var Me=O==null?0:O.length;for(fe&&Me&&(Y=O[--Me]);Me--;)Y=V(Y,O[Me],Me,O);return Y}function Gs(O,V){for(var Y=-1,fe=O==null?0:O.length;++Y<fe;)if(V(O[Y],Y,O))return!0;return!1}var _g=Vs("length");function pg(O){return O.split("")}function vg(O){return O.match(Sh)||[]}function Qu(O,V,Y){var fe;return Y(O,function(Me,Ke,vt){if(V(Me,Ke,vt))return fe=Ke,!1}),fe}function _i(O,V,Y,fe){for(var Me=O.length,Ke=Y+(fe?1:-1);fe?Ke--:++Ke<Me;)if(V(O[Ke],Ke,O))return Ke;return-1}function dr(O,V,Y){return V===V?Dg(O,V,Y):_i(O,ju,Y)}function yg(O,V,Y,fe){for(var Me=Y-1,Ke=O.length;++Me<Ke;)if(fe(O[Me],V))return Me;return-1}function ju(O){return O!==O}function $u(O,V){var Y=O==null?0:O.length;return Y?Zs(O,V)/Y:Ee}function Vs(O){return function(V){return V==null?r:V[O]}}function Ks(O){return function(V){return O==null?r:O[V]}}function eo(O,V,Y,fe,Me){return Me(O,function(Ke,vt,je){Y=fe?(fe=!1,Ke):V(Y,Ke,vt,je)}),Y}function bg(O,V){var Y=O.length;for(O.sort(V);Y--;)O[Y]=O[Y].value;return O}function Zs(O,V){for(var Y,fe=-1,Me=O.length;++fe<Me;){var Ke=V(O[fe]);Ke!==r&&(Y=Y===r?Ke:Y+Ke)}return Y}function Xs(O,V){for(var Y=-1,fe=Array(O);++Y<O;)fe[Y]=V(Y);return fe}function wg(O,V){return ut(V,function(Y){return[Y,O[Y]]})}function to(O){return O&&O.slice(0,so(O)+1).replace(Ls,"")}function qt(O){return function(V){return O(V)}}function Js(O,V){return ut(V,function(Y){return O[Y]})}function Fr(O,V){return O.has(V)}function no(O,V){for(var Y=-1,fe=O.length;++Y<fe&&dr(V,O[Y],0)>-1;);return Y}function ro(O,V){for(var Y=O.length;Y--&&dr(V,O[Y],0)>-1;);return Y}function kg(O,V){for(var Y=O.length,fe=0;Y--;)O[Y]===V&&++fe;return fe}var Tg=Ks(lg),Ag=Ks(ug);function Mg(O){return"\\"+ag[O]}function Sg(O,V){return O==null?r:O[V]}function mr(O){return ng.test(O)}function Eg(O){return rg.test(O)}function Ig(O){for(var V,Y=[];!(V=O.next()).done;)Y.push(V.value);return Y}function Qs(O){var V=-1,Y=Array(O.size);return O.forEach(function(fe,Me){Y[++V]=[Me,fe]}),Y}function io(O,V){return function(Y){return O(V(Y))}}function Ln(O,V){for(var Y=-1,fe=O.length,Me=0,Ke=[];++Y<fe;){var vt=O[Y];(vt===V||vt===m)&&(O[Y]=m,Ke[Me++]=Y)}return Ke}function pi(O){var V=-1,Y=Array(O.size);return O.forEach(function(fe){Y[++V]=fe}),Y}function Cg(O){var V=-1,Y=Array(O.size);return O.forEach(function(fe){Y[++V]=[fe,fe]}),Y}function Dg(O,V,Y){for(var fe=Y-1,Me=O.length;++fe<Me;)if(O[fe]===V)return fe;return-1}function xg(O,V,Y){for(var fe=Y+1;fe--;)if(O[fe]===V)return fe;return fe}function _r(O){return mr(O)?Og(O):_g(O)}function an(O){return mr(O)?Ng(O):pg(O)}function so(O){for(var V=O.length;V--&&kh.test(O.charAt(V)););return V}var Rg=Ks(og);function Og(O){for(var V=Bs.lastIndex=0;Bs.test(O);)++V;return V}function Ng(O){return O.match(Bs)||[]}function Lg(O){return O.match(tg)||[]}var Pg=function O(V){V=V==null?Tt:pr.defaults(Tt.Object(),V,pr.pick(Tt,ig));var Y=V.Array,fe=V.Date,Me=V.Error,Ke=V.Function,vt=V.Math,je=V.Object,js=V.RegExp,Ug=V.String,Jt=V.TypeError,vi=Y.prototype,Fg=Ke.prototype,vr=je.prototype,yi=V["__core-js_shared__"],bi=Fg.toString,Je=vr.hasOwnProperty,Wg=0,lo=function(){var e=/[^.]+$/.exec(yi&&yi.keys&&yi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wi=vr.toString,Bg=bi.call(je),Hg=Tt._,qg=js("^"+bi.call(Je).replace(Ns,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ki=Yu?V.Buffer:r,Pn=V.Symbol,Ti=V.Uint8Array,uo=ki?ki.allocUnsafe:r,Ai=io(je.getPrototypeOf,je),oo=je.create,ao=vr.propertyIsEnumerable,Mi=vi.splice,fo=Pn?Pn.isConcatSpreadable:r,Wr=Pn?Pn.iterator:r,Xn=Pn?Pn.toStringTag:r,Si=function(){try{var e=er(je,"defineProperty");return e({},"",{}),e}catch{}}(),Yg=V.clearTimeout!==Tt.clearTimeout&&V.clearTimeout,zg=fe&&fe.now!==Tt.Date.now&&fe.now,Gg=V.setTimeout!==Tt.setTimeout&&V.setTimeout,Ei=vt.ceil,Ii=vt.floor,$s=je.getOwnPropertySymbols,Vg=ki?ki.isBuffer:r,co=V.isFinite,Kg=vi.join,Zg=io(je.keys,je),yt=vt.max,St=vt.min,Xg=fe.now,Jg=V.parseInt,ho=vt.random,Qg=vi.reverse,el=er(V,"DataView"),Br=er(V,"Map"),tl=er(V,"Promise"),yr=er(V,"Set"),Hr=er(V,"WeakMap"),qr=er(je,"create"),Ci=Hr&&new Hr,br={},jg=tr(el),$g=tr(Br),ed=tr(tl),td=tr(yr),nd=tr(Hr),Di=Pn?Pn.prototype:r,Yr=Di?Di.valueOf:r,go=Di?Di.toString:r;function _(e){if(ht(e)&&!Se(e)&&!(e instanceof Pe)){if(e instanceof Qt)return e;if(Je.call(e,"__wrapped__"))return ma(e)}return new Qt(e)}var wr=function(){function e(){}return function(i){if(!ft(i))return{};if(oo)return oo(i);e.prototype=i;var l=new e;return e.prototype=r,l}}();function xi(){}function Qt(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=r}_.templateSettings={escape:_h,evaluate:ph,interpolate:ku,variable:"",imports:{_}},_.prototype=xi.prototype,_.prototype.constructor=_,Qt.prototype=wr(xi.prototype),Qt.prototype.constructor=Qt;function Pe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xe,this.__views__=[]}function rd(){var e=new Pe(this.__wrapped__);return e.__actions__=Nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Nt(this.__views__),e}function id(){if(this.__filtered__){var e=new Pe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function sd(){var e=this.__wrapped__.value(),i=this.__dir__,l=Se(e),f=i<0,d=l?e.length:0,v=p0(0,d,this.__views__),M=v.start,D=v.end,N=D-M,X=f?D:M-1,J=this.__iteratees__,ee=J.length,ue=0,de=St(N,this.__takeCount__);if(!l||!f&&d==N&&de==N)return Fo(e,this.__actions__);var we=[];e:for(;N--&&ue<de;){X+=i;for(var Ce=-1,ke=e[X];++Ce<ee;){var Ne=J[Ce],Ue=Ne.iteratee,Gt=Ne.type,Ot=Ue(ke);if(Gt==G)ke=Ot;else if(!Ot){if(Gt==L)continue e;break e}}we[ue++]=ke}return we}Pe.prototype=wr(xi.prototype),Pe.prototype.constructor=Pe;function Jn(e){var i=-1,l=e==null?0:e.length;for(this.clear();++i<l;){var f=e[i];this.set(f[0],f[1])}}function ld(){this.__data__=qr?qr(null):{},this.size=0}function ud(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}function od(e){var i=this.__data__;if(qr){var l=i[e];return l===c?r:l}return Je.call(i,e)?i[e]:r}function ad(e){var i=this.__data__;return qr?i[e]!==r:Je.call(i,e)}function fd(e,i){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=qr&&i===r?c:i,this}Jn.prototype.clear=ld,Jn.prototype.delete=ud,Jn.prototype.get=od,Jn.prototype.has=ad,Jn.prototype.set=fd;function Tn(e){var i=-1,l=e==null?0:e.length;for(this.clear();++i<l;){var f=e[i];this.set(f[0],f[1])}}function cd(){this.__data__=[],this.size=0}function hd(e){var i=this.__data__,l=Ri(i,e);if(l<0)return!1;var f=i.length-1;return l==f?i.pop():Mi.call(i,l,1),--this.size,!0}function gd(e){var i=this.__data__,l=Ri(i,e);return l<0?r:i[l][1]}function dd(e){return Ri(this.__data__,e)>-1}function md(e,i){var l=this.__data__,f=Ri(l,e);return f<0?(++this.size,l.push([e,i])):l[f][1]=i,this}Tn.prototype.clear=cd,Tn.prototype.delete=hd,Tn.prototype.get=gd,Tn.prototype.has=dd,Tn.prototype.set=md;function An(e){var i=-1,l=e==null?0:e.length;for(this.clear();++i<l;){var f=e[i];this.set(f[0],f[1])}}function _d(){this.size=0,this.__data__={hash:new Jn,map:new(Br||Tn),string:new Jn}}function pd(e){var i=zi(this,e).delete(e);return this.size-=i?1:0,i}function vd(e){return zi(this,e).get(e)}function yd(e){return zi(this,e).has(e)}function bd(e,i){var l=zi(this,e),f=l.size;return l.set(e,i),this.size+=l.size==f?0:1,this}An.prototype.clear=_d,An.prototype.delete=pd,An.prototype.get=vd,An.prototype.has=yd,An.prototype.set=bd;function Qn(e){var i=-1,l=e==null?0:e.length;for(this.__data__=new An;++i<l;)this.add(e[i])}function wd(e){return this.__data__.set(e,c),this}function kd(e){return this.__data__.has(e)}Qn.prototype.add=Qn.prototype.push=wd,Qn.prototype.has=kd;function fn(e){var i=this.__data__=new Tn(e);this.size=i.size}function Td(){this.__data__=new Tn,this.size=0}function Ad(e){var i=this.__data__,l=i.delete(e);return this.size=i.size,l}function Md(e){return this.__data__.get(e)}function Sd(e){return this.__data__.has(e)}function Ed(e,i){var l=this.__data__;if(l instanceof Tn){var f=l.__data__;if(!Br||f.length<u-1)return f.push([e,i]),this.size=++l.size,this;l=this.__data__=new An(f)}return l.set(e,i),this.size=l.size,this}fn.prototype.clear=Td,fn.prototype.delete=Ad,fn.prototype.get=Md,fn.prototype.has=Sd,fn.prototype.set=Ed;function mo(e,i){var l=Se(e),f=!l&&nr(e),d=!l&&!f&&Hn(e),v=!l&&!f&&!d&&Mr(e),M=l||f||d||v,D=M?Xs(e.length,Ug):[],N=D.length;for(var X in e)(i||Je.call(e,X))&&!(M&&(X=="length"||d&&(X=="offset"||X=="parent")||v&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||In(X,N)))&&D.push(X);return D}function _o(e){var i=e.length;return i?e[hl(0,i-1)]:r}function Id(e,i){return Gi(Nt(e),jn(i,0,e.length))}function Cd(e){return Gi(Nt(e))}function nl(e,i,l){(l!==r&&!cn(e[i],l)||l===r&&!(i in e))&&Mn(e,i,l)}function zr(e,i,l){var f=e[i];(!(Je.call(e,i)&&cn(f,l))||l===r&&!(i in e))&&Mn(e,i,l)}function Ri(e,i){for(var l=e.length;l--;)if(cn(e[l][0],i))return l;return-1}function Dd(e,i,l,f){return Un(e,function(d,v,M){i(f,d,l(d),M)}),f}function po(e,i){return e&&pn(i,bt(i),e)}function xd(e,i){return e&&pn(i,Pt(i),e)}function Mn(e,i,l){i=="__proto__"&&Si?Si(e,i,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[i]=l}function rl(e,i){for(var l=-1,f=i.length,d=Y(f),v=e==null;++l<f;)d[l]=v?r:Ul(e,i[l]);return d}function jn(e,i,l){return e===e&&(l!==r&&(e=e<=l?e:l),i!==r&&(e=e>=i?e:i)),e}function jt(e,i,l,f,d,v){var M,D=i&y,N=i&p,X=i&S;if(l&&(M=d?l(e,f,d,v):l(e)),M!==r)return M;if(!ft(e))return e;var J=Se(e);if(J){if(M=y0(e),!D)return Nt(e,M)}else{var ee=Et(e),ue=ee==te||ee==at;if(Hn(e))return Ho(e,D);if(ee==ce||ee==Fe||ue&&!d){if(M=N||ue?{}:la(e),!D)return N?o0(e,xd(M,e)):u0(e,po(M,e))}else{if(!tt[ee])return d?e:{};M=b0(e,ee,D)}}v||(v=new fn);var de=v.get(e);if(de)return de;v.set(e,M),La(e)?e.forEach(function(ke){M.add(jt(ke,i,l,ke,e,v))}):Oa(e)&&e.forEach(function(ke,Ne){M.set(Ne,jt(ke,i,l,Ne,e,v))});var we=X?N?Tl:kl:N?Pt:bt,Ce=J?r:we(e);return Xt(Ce||e,function(ke,Ne){Ce&&(Ne=ke,ke=e[Ne]),zr(M,Ne,jt(ke,i,l,Ne,e,v))}),M}function Rd(e){var i=bt(e);return function(l){return vo(l,e,i)}}function vo(e,i,l){var f=l.length;if(e==null)return!f;for(e=je(e);f--;){var d=l[f],v=i[d],M=e[d];if(M===r&&!(d in e)||!v(M))return!1}return!0}function yo(e,i,l){if(typeof e!="function")throw new Jt(o);return Qr(function(){e.apply(r,l)},i)}function Gr(e,i,l,f){var d=-1,v=mi,M=!0,D=e.length,N=[],X=i.length;if(!D)return N;l&&(i=ut(i,qt(l))),f?(v=Ys,M=!1):i.length>=u&&(v=Fr,M=!1,i=new Qn(i));e:for(;++d<D;){var J=e[d],ee=l==null?J:l(J);if(J=f||J!==0?J:0,M&&ee===ee){for(var ue=X;ue--;)if(i[ue]===ee)continue e;N.push(J)}else v(i,ee,f)||N.push(J)}return N}var Un=Vo(_n),bo=Vo(sl,!0);function Od(e,i){var l=!0;return Un(e,function(f,d,v){return l=!!i(f,d,v),l}),l}function Oi(e,i,l){for(var f=-1,d=e.length;++f<d;){var v=e[f],M=i(v);if(M!=null&&(D===r?M===M&&!zt(M):l(M,D)))var D=M,N=v}return N}function Nd(e,i,l,f){var d=e.length;for(l=Ie(l),l<0&&(l=-l>d?0:d+l),f=f===r||f>d?d:Ie(f),f<0&&(f+=d),f=l>f?0:Ua(f);l<f;)e[l++]=i;return e}function wo(e,i){var l=[];return Un(e,function(f,d,v){i(f,d,v)&&l.push(f)}),l}function At(e,i,l,f,d){var v=-1,M=e.length;for(l||(l=k0),d||(d=[]);++v<M;){var D=e[v];i>0&&l(D)?i>1?At(D,i-1,l,f,d):Nn(d,D):f||(d[d.length]=D)}return d}var il=Ko(),ko=Ko(!0);function _n(e,i){return e&&il(e,i,bt)}function sl(e,i){return e&&ko(e,i,bt)}function Ni(e,i){return On(i,function(l){return Cn(e[l])})}function $n(e,i){i=Wn(i,e);for(var l=0,f=i.length;e!=null&&l<f;)e=e[vn(i[l++])];return l&&l==f?e:r}function To(e,i,l){var f=i(e);return Se(e)?f:Nn(f,l(e))}function xt(e){return e==null?e===r?As:ct:Xn&&Xn in je(e)?_0(e):C0(e)}function ll(e,i){return e>i}function Ld(e,i){return e!=null&&Je.call(e,i)}function Pd(e,i){return e!=null&&i in je(e)}function Ud(e,i,l){return e>=St(i,l)&&e<yt(i,l)}function ul(e,i,l){for(var f=l?Ys:mi,d=e[0].length,v=e.length,M=v,D=Y(v),N=1/0,X=[];M--;){var J=e[M];M&&i&&(J=ut(J,qt(i))),N=St(J.length,N),D[M]=!l&&(i||d>=120&&J.length>=120)?new Qn(M&&J):r}J=e[0];var ee=-1,ue=D[0];e:for(;++ee<d&&X.length<N;){var de=J[ee],we=i?i(de):de;if(de=l||de!==0?de:0,!(ue?Fr(ue,we):f(X,we,l))){for(M=v;--M;){var Ce=D[M];if(!(Ce?Fr(Ce,we):f(e[M],we,l)))continue e}ue&&ue.push(we),X.push(de)}}return X}function Fd(e,i,l,f){return _n(e,function(d,v,M){i(f,l(d),v,M)}),f}function Vr(e,i,l){i=Wn(i,e),e=fa(e,i);var f=e==null?e:e[vn(en(i))];return f==null?r:Ht(f,e,l)}function Ao(e){return ht(e)&&xt(e)==Fe}function Wd(e){return ht(e)&&xt(e)==on}function Bd(e){return ht(e)&&xt(e)==le}function Kr(e,i,l,f,d){return e===i?!0:e==null||i==null||!ht(e)&&!ht(i)?e!==e&&i!==i:Hd(e,i,l,f,Kr,d)}function Hd(e,i,l,f,d,v){var M=Se(e),D=Se(i),N=M?st:Et(e),X=D?st:Et(i);N=N==Fe?ce:N,X=X==Fe?ce:X;var J=N==ce,ee=X==ce,ue=N==X;if(ue&&Hn(e)){if(!Hn(i))return!1;M=!0,J=!1}if(ue&&!J)return v||(v=new fn),M||Mr(e)?ra(e,i,l,f,d,v):d0(e,i,N,l,f,d,v);if(!(l&k)){var de=J&&Je.call(e,"__wrapped__"),we=ee&&Je.call(i,"__wrapped__");if(de||we){var Ce=de?e.value():e,ke=we?i.value():i;return v||(v=new fn),d(Ce,ke,l,f,v)}}return ue?(v||(v=new fn),m0(e,i,l,f,d,v)):!1}function qd(e){return ht(e)&&Et(e)==Ae}function ol(e,i,l,f){var d=l.length,v=d,M=!f;if(e==null)return!v;for(e=je(e);d--;){var D=l[d];if(M&&D[2]?D[1]!==e[D[0]]:!(D[0]in e))return!1}for(;++d<v;){D=l[d];var N=D[0],X=e[N],J=D[1];if(M&&D[2]){if(X===r&&!(N in e))return!1}else{var ee=new fn;if(f)var ue=f(X,J,N,e,i,ee);if(!(ue===r?Kr(J,X,k|b,f,ee):ue))return!1}}return!0}function Mo(e){if(!ft(e)||A0(e))return!1;var i=Cn(e)?qg:Rh;return i.test(tr(e))}function Yd(e){return ht(e)&&xt(e)==mn}function zd(e){return ht(e)&&Et(e)==Bt}function Gd(e){return ht(e)&&Qi(e.length)&&!!lt[xt(e)]}function So(e){return typeof e=="function"?e:e==null?Ut:typeof e=="object"?Se(e)?Co(e[0],e[1]):Io(e):Za(e)}function al(e){if(!Jr(e))return Zg(e);var i=[];for(var l in je(e))Je.call(e,l)&&l!="constructor"&&i.push(l);return i}function Vd(e){if(!ft(e))return I0(e);var i=Jr(e),l=[];for(var f in e)f=="constructor"&&(i||!Je.call(e,f))||l.push(f);return l}function fl(e,i){return e<i}function Eo(e,i){var l=-1,f=Lt(e)?Y(e.length):[];return Un(e,function(d,v,M){f[++l]=i(d,v,M)}),f}function Io(e){var i=Ml(e);return i.length==1&&i[0][2]?oa(i[0][0],i[0][1]):function(l){return l===e||ol(l,e,i)}}function Co(e,i){return El(e)&&ua(i)?oa(vn(e),i):function(l){var f=Ul(l,e);return f===r&&f===i?Fl(l,e):Kr(i,f,k|b)}}function Li(e,i,l,f,d){e!==i&&il(i,function(v,M){if(d||(d=new fn),ft(v))Kd(e,i,M,l,Li,f,d);else{var D=f?f(Cl(e,M),v,M+"",e,i,d):r;D===r&&(D=v),nl(e,M,D)}},Pt)}function Kd(e,i,l,f,d,v,M){var D=Cl(e,l),N=Cl(i,l),X=M.get(N);if(X){nl(e,l,X);return}var J=v?v(D,N,l+"",e,i,M):r,ee=J===r;if(ee){var ue=Se(N),de=!ue&&Hn(N),we=!ue&&!de&&Mr(N);J=N,ue||de||we?Se(D)?J=D:mt(D)?J=Nt(D):de?(ee=!1,J=Ho(N,!0)):we?(ee=!1,J=qo(N,!0)):J=[]:jr(N)||nr(N)?(J=D,nr(D)?J=Fa(D):(!ft(D)||Cn(D))&&(J=la(N))):ee=!1}ee&&(M.set(N,J),d(J,N,f,v,M),M.delete(N)),nl(e,l,J)}function Do(e,i){var l=e.length;if(l)return i+=i<0?l:0,In(i,l)?e[i]:r}function xo(e,i,l){i.length?i=ut(i,function(v){return Se(v)?function(M){return $n(M,v.length===1?v[0]:v)}:v}):i=[Ut];var f=-1;i=ut(i,qt(ye()));var d=Eo(e,function(v,M,D){var N=ut(i,function(X){return X(v)});return{criteria:N,index:++f,value:v}});return bg(d,function(v,M){return l0(v,M,l)})}function Zd(e,i){return Ro(e,i,function(l,f){return Fl(e,f)})}function Ro(e,i,l){for(var f=-1,d=i.length,v={};++f<d;){var M=i[f],D=$n(e,M);l(D,M)&&Zr(v,Wn(M,e),D)}return v}function Xd(e){return function(i){return $n(i,e)}}function cl(e,i,l,f){var d=f?yg:dr,v=-1,M=i.length,D=e;for(e===i&&(i=Nt(i)),l&&(D=ut(e,qt(l)));++v<M;)for(var N=0,X=i[v],J=l?l(X):X;(N=d(D,J,N,f))>-1;)D!==e&&Mi.call(D,N,1),Mi.call(e,N,1);return e}function Oo(e,i){for(var l=e?i.length:0,f=l-1;l--;){var d=i[l];if(l==f||d!==v){var v=d;In(d)?Mi.call(e,d,1):ml(e,d)}}return e}function hl(e,i){return e+Ii(ho()*(i-e+1))}function Jd(e,i,l,f){for(var d=-1,v=yt(Ei((i-e)/(l||1)),0),M=Y(v);v--;)M[f?v:++d]=e,e+=l;return M}function gl(e,i){var l="";if(!e||i<1||i>ve)return l;do i%2&&(l+=e),i=Ii(i/2),i&&(e+=e);while(i);return l}function Re(e,i){return Dl(aa(e,i,Ut),e+"")}function Qd(e){return _o(Sr(e))}function jd(e,i){var l=Sr(e);return Gi(l,jn(i,0,l.length))}function Zr(e,i,l,f){if(!ft(e))return e;i=Wn(i,e);for(var d=-1,v=i.length,M=v-1,D=e;D!=null&&++d<v;){var N=vn(i[d]),X=l;if(N==="__proto__"||N==="constructor"||N==="prototype")return e;if(d!=M){var J=D[N];X=f?f(J,N,D):r,X===r&&(X=ft(J)?J:In(i[d+1])?[]:{})}zr(D,N,X),D=D[N]}return e}var No=Ci?function(e,i){return Ci.set(e,i),e}:Ut,$d=Si?function(e,i){return Si(e,"toString",{configurable:!0,enumerable:!1,value:Bl(i),writable:!0})}:Ut;function e0(e){return Gi(Sr(e))}function $t(e,i,l){var f=-1,d=e.length;i<0&&(i=-i>d?0:d+i),l=l>d?d:l,l<0&&(l+=d),d=i>l?0:l-i>>>0,i>>>=0;for(var v=Y(d);++f<d;)v[f]=e[f+i];return v}function t0(e,i){var l;return Un(e,function(f,d,v){return l=i(f,d,v),!l}),!!l}function Pi(e,i,l){var f=0,d=e==null?f:e.length;if(typeof i=="number"&&i===i&&d<=Xe){for(;f<d;){var v=f+d>>>1,M=e[v];M!==null&&!zt(M)&&(l?M<=i:M<i)?f=v+1:d=v}return d}return dl(e,i,Ut,l)}function dl(e,i,l,f){var d=0,v=e==null?0:e.length;if(v===0)return 0;i=l(i);for(var M=i!==i,D=i===null,N=zt(i),X=i===r;d<v;){var J=Ii((d+v)/2),ee=l(e[J]),ue=ee!==r,de=ee===null,we=ee===ee,Ce=zt(ee);if(M)var ke=f||we;else X?ke=we&&(f||ue):D?ke=we&&ue&&(f||!de):N?ke=we&&ue&&!de&&(f||!Ce):de||Ce?ke=!1:ke=f?ee<=i:ee<i;ke?d=J+1:v=J}return St(v,ae)}function Lo(e,i){for(var l=-1,f=e.length,d=0,v=[];++l<f;){var M=e[l],D=i?i(M):M;if(!l||!cn(D,N)){var N=D;v[d++]=M===0?0:M}}return v}function Po(e){return typeof e=="number"?e:zt(e)?Ee:+e}function Yt(e){if(typeof e=="string")return e;if(Se(e))return ut(e,Yt)+"";if(zt(e))return go?go.call(e):"";var i=e+"";return i=="0"&&1/e==-ge?"-0":i}function Fn(e,i,l){var f=-1,d=mi,v=e.length,M=!0,D=[],N=D;if(l)M=!1,d=Ys;else if(v>=u){var X=i?null:h0(e);if(X)return pi(X);M=!1,d=Fr,N=new Qn}else N=i?[]:D;e:for(;++f<v;){var J=e[f],ee=i?i(J):J;if(J=l||J!==0?J:0,M&&ee===ee){for(var ue=N.length;ue--;)if(N[ue]===ee)continue e;i&&N.push(ee),D.push(J)}else d(N,ee,l)||(N!==D&&N.push(ee),D.push(J))}return D}function ml(e,i){return i=Wn(i,e),e=fa(e,i),e==null||delete e[vn(en(i))]}function Uo(e,i,l,f){return Zr(e,i,l($n(e,i)),f)}function Ui(e,i,l,f){for(var d=e.length,v=f?d:-1;(f?v--:++v<d)&&i(e[v],v,e););return l?$t(e,f?0:v,f?v+1:d):$t(e,f?v+1:0,f?d:v)}function Fo(e,i){var l=e;return l instanceof Pe&&(l=l.value()),zs(i,function(f,d){return d.func.apply(d.thisArg,Nn([f],d.args))},l)}function _l(e,i,l){var f=e.length;if(f<2)return f?Fn(e[0]):[];for(var d=-1,v=Y(f);++d<f;)for(var M=e[d],D=-1;++D<f;)D!=d&&(v[d]=Gr(v[d]||M,e[D],i,l));return Fn(At(v,1),i,l)}function Wo(e,i,l){for(var f=-1,d=e.length,v=i.length,M={};++f<d;){var D=f<v?i[f]:r;l(M,e[f],D)}return M}function pl(e){return mt(e)?e:[]}function vl(e){return typeof e=="function"?e:Ut}function Wn(e,i){return Se(e)?e:El(e,i)?[e]:da(Ze(e))}var n0=Re;function Bn(e,i,l){var f=e.length;return l=l===r?f:l,!i&&l>=f?e:$t(e,i,l)}var Bo=Yg||function(e){return Tt.clearTimeout(e)};function Ho(e,i){if(i)return e.slice();var l=e.length,f=uo?uo(l):new e.constructor(l);return e.copy(f),f}function yl(e){var i=new e.constructor(e.byteLength);return new Ti(i).set(new Ti(e)),i}function r0(e,i){var l=i?yl(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.byteLength)}function i0(e){var i=new e.constructor(e.source,Tu.exec(e));return i.lastIndex=e.lastIndex,i}function s0(e){return Yr?je(Yr.call(e)):{}}function qo(e,i){var l=i?yl(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}function Yo(e,i){if(e!==i){var l=e!==r,f=e===null,d=e===e,v=zt(e),M=i!==r,D=i===null,N=i===i,X=zt(i);if(!D&&!X&&!v&&e>i||v&&M&&N&&!D&&!X||f&&M&&N||!l&&N||!d)return 1;if(!f&&!v&&!X&&e<i||X&&l&&d&&!f&&!v||D&&l&&d||!M&&d||!N)return-1}return 0}function l0(e,i,l){for(var f=-1,d=e.criteria,v=i.criteria,M=d.length,D=l.length;++f<M;){var N=Yo(d[f],v[f]);if(N){if(f>=D)return N;var X=l[f];return N*(X=="desc"?-1:1)}}return e.index-i.index}function zo(e,i,l,f){for(var d=-1,v=e.length,M=l.length,D=-1,N=i.length,X=yt(v-M,0),J=Y(N+X),ee=!f;++D<N;)J[D]=i[D];for(;++d<M;)(ee||d<v)&&(J[l[d]]=e[d]);for(;X--;)J[D++]=e[d++];return J}function Go(e,i,l,f){for(var d=-1,v=e.length,M=-1,D=l.length,N=-1,X=i.length,J=yt(v-D,0),ee=Y(J+X),ue=!f;++d<J;)ee[d]=e[d];for(var de=d;++N<X;)ee[de+N]=i[N];for(;++M<D;)(ue||d<v)&&(ee[de+l[M]]=e[d++]);return ee}function Nt(e,i){var l=-1,f=e.length;for(i||(i=Y(f));++l<f;)i[l]=e[l];return i}function pn(e,i,l,f){var d=!l;l||(l={});for(var v=-1,M=i.length;++v<M;){var D=i[v],N=f?f(l[D],e[D],D,l,e):r;N===r&&(N=e[D]),d?Mn(l,D,N):zr(l,D,N)}return l}function u0(e,i){return pn(e,Sl(e),i)}function o0(e,i){return pn(e,ia(e),i)}function Fi(e,i){return function(l,f){var d=Se(l)?gg:Dd,v=i?i():{};return d(l,e,ye(f,2),v)}}function kr(e){return Re(function(i,l){var f=-1,d=l.length,v=d>1?l[d-1]:r,M=d>2?l[2]:r;for(v=e.length>3&&typeof v=="function"?(d--,v):r,M&&Rt(l[0],l[1],M)&&(v=d<3?r:v,d=1),i=je(i);++f<d;){var D=l[f];D&&e(i,D,f,v)}return i})}function Vo(e,i){return function(l,f){if(l==null)return l;if(!Lt(l))return e(l,f);for(var d=l.length,v=i?d:-1,M=je(l);(i?v--:++v<d)&&f(M[v],v,M)!==!1;);return l}}function Ko(e){return function(i,l,f){for(var d=-1,v=je(i),M=f(i),D=M.length;D--;){var N=M[e?D:++d];if(l(v[N],N,v)===!1)break}return i}}function a0(e,i,l){var f=i&w,d=Xr(e);function v(){var M=this&&this!==Tt&&this instanceof v?d:e;return M.apply(f?l:this,arguments)}return v}function Zo(e){return function(i){i=Ze(i);var l=mr(i)?an(i):r,f=l?l[0]:i.charAt(0),d=l?Bn(l,1).join(""):i.slice(1);return f[e]()+d}}function Tr(e){return function(i){return zs(Va(Ga(i).replace($h,"")),e,"")}}function Xr(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var l=wr(e.prototype),f=e.apply(l,i);return ft(f)?f:l}}function f0(e,i,l){var f=Xr(e);function d(){for(var v=arguments.length,M=Y(v),D=v,N=Ar(d);D--;)M[D]=arguments[D];var X=v<3&&M[0]!==N&&M[v-1]!==N?[]:Ln(M,N);if(v-=X.length,v<l)return $o(e,i,Wi,d.placeholder,r,M,X,r,r,l-v);var J=this&&this!==Tt&&this instanceof d?f:e;return Ht(J,this,M)}return d}function Xo(e){return function(i,l,f){var d=je(i);if(!Lt(i)){var v=ye(l,3);i=bt(i),l=function(D){return v(d[D],D,d)}}var M=e(i,l,f);return M>-1?d[v?i[M]:M]:r}}function Jo(e){return En(function(i){var l=i.length,f=l,d=Qt.prototype.thru;for(e&&i.reverse();f--;){var v=i[f];if(typeof v!="function")throw new Jt(o);if(d&&!M&&Yi(v)=="wrapper")var M=new Qt([],!0)}for(f=M?f:l;++f<l;){v=i[f];var D=Yi(v),N=D=="wrapper"?Al(v):r;N&&Il(N[0])&&N[1]==(z|E|F|q)&&!N[4].length&&N[9]==1?M=M[Yi(N[0])].apply(M,N[3]):M=v.length==1&&Il(v)?M[D]():M.thru(v)}return function(){var X=arguments,J=X[0];if(M&&X.length==1&&Se(J))return M.plant(J).value();for(var ee=0,ue=l?i[ee].apply(this,X):J;++ee<l;)ue=i[ee].call(this,ue);return ue}})}function Wi(e,i,l,f,d,v,M,D,N,X){var J=i&z,ee=i&w,ue=i&A,de=i&(E|x),we=i&$,Ce=ue?r:Xr(e);function ke(){for(var Ne=arguments.length,Ue=Y(Ne),Gt=Ne;Gt--;)Ue[Gt]=arguments[Gt];if(de)var Ot=Ar(ke),Vt=kg(Ue,Ot);if(f&&(Ue=zo(Ue,f,d,de)),v&&(Ue=Go(Ue,v,M,de)),Ne-=Vt,de&&Ne<X){var _t=Ln(Ue,Ot);return $o(e,i,Wi,ke.placeholder,l,Ue,_t,D,N,X-Ne)}var hn=ee?l:this,xn=ue?hn[e]:e;return Ne=Ue.length,D?Ue=D0(Ue,D):we&&Ne>1&&Ue.reverse(),J&&N<Ne&&(Ue.length=N),this&&this!==Tt&&this instanceof ke&&(xn=Ce||Xr(xn)),xn.apply(hn,Ue)}return ke}function Qo(e,i){return function(l,f){return Fd(l,e,i(f),{})}}function Bi(e,i){return function(l,f){var d;if(l===r&&f===r)return i;if(l!==r&&(d=l),f!==r){if(d===r)return f;typeof l=="string"||typeof f=="string"?(l=Yt(l),f=Yt(f)):(l=Po(l),f=Po(f)),d=e(l,f)}return d}}function bl(e){return En(function(i){return i=ut(i,qt(ye())),Re(function(l){var f=this;return e(i,function(d){return Ht(d,f,l)})})})}function Hi(e,i){i=i===r?" ":Yt(i);var l=i.length;if(l<2)return l?gl(i,e):i;var f=gl(i,Ei(e/_r(i)));return mr(i)?Bn(an(f),0,e).join(""):f.slice(0,e)}function c0(e,i,l,f){var d=i&w,v=Xr(e);function M(){for(var D=-1,N=arguments.length,X=-1,J=f.length,ee=Y(J+N),ue=this&&this!==Tt&&this instanceof M?v:e;++X<J;)ee[X]=f[X];for(;N--;)ee[X++]=arguments[++D];return Ht(ue,d?l:this,ee)}return M}function jo(e){return function(i,l,f){return f&&typeof f!="number"&&Rt(i,l,f)&&(l=f=r),i=Dn(i),l===r?(l=i,i=0):l=Dn(l),f=f===r?i<l?1:-1:Dn(f),Jd(i,l,f,e)}}function qi(e){return function(i,l){return typeof i=="string"&&typeof l=="string"||(i=tn(i),l=tn(l)),e(i,l)}}function $o(e,i,l,f,d,v,M,D,N,X){var J=i&E,ee=J?M:r,ue=J?r:M,de=J?v:r,we=J?r:v;i|=J?F:U,i&=~(J?U:F),i&R||(i&=~(w|A));var Ce=[e,i,d,de,ee,we,ue,D,N,X],ke=l.apply(r,Ce);return Il(e)&&ca(ke,Ce),ke.placeholder=f,ha(ke,e,i)}function wl(e){var i=vt[e];return function(l,f){if(l=tn(l),f=f==null?0:St(Ie(f),292),f&&co(l)){var d=(Ze(l)+"e").split("e"),v=i(d[0]+"e"+(+d[1]+f));return d=(Ze(v)+"e").split("e"),+(d[0]+"e"+(+d[1]-f))}return i(l)}}var h0=yr&&1/pi(new yr([,-0]))[1]==ge?function(e){return new yr(e)}:Yl;function ea(e){return function(i){var l=Et(i);return l==Ae?Qs(i):l==Bt?Cg(i):wg(i,e(i))}}function Sn(e,i,l,f,d,v,M,D){var N=i&A;if(!N&&typeof e!="function")throw new Jt(o);var X=f?f.length:0;if(X||(i&=~(F|U),f=d=r),M=M===r?M:yt(Ie(M),0),D=D===r?D:Ie(D),X-=d?d.length:0,i&U){var J=f,ee=d;f=d=r}var ue=N?r:Al(e),de=[e,i,l,f,d,J,ee,v,M,D];if(ue&&E0(de,ue),e=de[0],i=de[1],l=de[2],f=de[3],d=de[4],D=de[9]=de[9]===r?N?0:e.length:yt(de[9]-X,0),!D&&i&(E|x)&&(i&=~(E|x)),!i||i==w)var we=a0(e,i,l);else i==E||i==x?we=f0(e,i,D):(i==F||i==(w|F))&&!d.length?we=c0(e,i,l,f):we=Wi.apply(r,de);var Ce=ue?No:ca;return ha(Ce(we,de),e,i)}function ta(e,i,l,f){return e===r||cn(e,vr[l])&&!Je.call(f,l)?i:e}function na(e,i,l,f,d,v){return ft(e)&&ft(i)&&(v.set(i,e),Li(e,i,r,na,v),v.delete(i)),e}function g0(e){return jr(e)?r:e}function ra(e,i,l,f,d,v){var M=l&k,D=e.length,N=i.length;if(D!=N&&!(M&&N>D))return!1;var X=v.get(e),J=v.get(i);if(X&&J)return X==i&&J==e;var ee=-1,ue=!0,de=l&b?new Qn:r;for(v.set(e,i),v.set(i,e);++ee<D;){var we=e[ee],Ce=i[ee];if(f)var ke=M?f(Ce,we,ee,i,e,v):f(we,Ce,ee,e,i,v);if(ke!==r){if(ke)continue;ue=!1;break}if(de){if(!Gs(i,function(Ne,Ue){if(!Fr(de,Ue)&&(we===Ne||d(we,Ne,l,f,v)))return de.push(Ue)})){ue=!1;break}}else if(!(we===Ce||d(we,Ce,l,f,v))){ue=!1;break}}return v.delete(e),v.delete(i),ue}function d0(e,i,l,f,d,v,M){switch(l){case hr:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case on:return!(e.byteLength!=i.byteLength||!v(new Ti(e),new Ti(i)));case kt:case le:case et:return cn(+e,+i);case Te:return e.name==i.name&&e.message==i.message;case mn:case Vn:return e==i+"";case Ae:var D=Qs;case Bt:var N=f&k;if(D||(D=pi),e.size!=i.size&&!N)return!1;var X=M.get(e);if(X)return X==i;f|=b,M.set(e,i);var J=ra(D(e),D(i),f,d,v,M);return M.delete(e),J;case cr:if(Yr)return Yr.call(e)==Yr.call(i)}return!1}function m0(e,i,l,f,d,v){var M=l&k,D=kl(e),N=D.length,X=kl(i),J=X.length;if(N!=J&&!M)return!1;for(var ee=N;ee--;){var ue=D[ee];if(!(M?ue in i:Je.call(i,ue)))return!1}var de=v.get(e),we=v.get(i);if(de&&we)return de==i&&we==e;var Ce=!0;v.set(e,i),v.set(i,e);for(var ke=M;++ee<N;){ue=D[ee];var Ne=e[ue],Ue=i[ue];if(f)var Gt=M?f(Ue,Ne,ue,i,e,v):f(Ne,Ue,ue,e,i,v);if(!(Gt===r?Ne===Ue||d(Ne,Ue,l,f,v):Gt)){Ce=!1;break}ke||(ke=ue=="constructor")}if(Ce&&!ke){var Ot=e.constructor,Vt=i.constructor;Ot!=Vt&&"constructor"in e&&"constructor"in i&&!(typeof Ot=="function"&&Ot instanceof Ot&&typeof Vt=="function"&&Vt instanceof Vt)&&(Ce=!1)}return v.delete(e),v.delete(i),Ce}function En(e){return Dl(aa(e,r,va),e+"")}function kl(e){return To(e,bt,Sl)}function Tl(e){return To(e,Pt,ia)}var Al=Ci?function(e){return Ci.get(e)}:Yl;function Yi(e){for(var i=e.name+"",l=br[i],f=Je.call(br,i)?l.length:0;f--;){var d=l[f],v=d.func;if(v==null||v==e)return d.name}return i}function Ar(e){var i=Je.call(_,"placeholder")?_:e;return i.placeholder}function ye(){var e=_.iteratee||Hl;return e=e===Hl?So:e,arguments.length?e(arguments[0],arguments[1]):e}function zi(e,i){var l=e.__data__;return T0(i)?l[typeof i=="string"?"string":"hash"]:l.map}function Ml(e){for(var i=bt(e),l=i.length;l--;){var f=i[l],d=e[f];i[l]=[f,d,ua(d)]}return i}function er(e,i){var l=Sg(e,i);return Mo(l)?l:r}function _0(e){var i=Je.call(e,Xn),l=e[Xn];try{e[Xn]=r;var f=!0}catch{}var d=wi.call(e);return f&&(i?e[Xn]=l:delete e[Xn]),d}var Sl=$s?function(e){return e==null?[]:(e=je(e),On($s(e),function(i){return ao.call(e,i)}))}:zl,ia=$s?function(e){for(var i=[];e;)Nn(i,Sl(e)),e=Ai(e);return i}:zl,Et=xt;(el&&Et(new el(new ArrayBuffer(1)))!=hr||Br&&Et(new Br)!=Ae||tl&&Et(tl.resolve())!=Kt||yr&&Et(new yr)!=Bt||Hr&&Et(new Hr)!=Kn)&&(Et=function(e){var i=xt(e),l=i==ce?e.constructor:r,f=l?tr(l):"";if(f)switch(f){case jg:return hr;case $g:return Ae;case ed:return Kt;case td:return Bt;case nd:return Kn}return i});function p0(e,i,l){for(var f=-1,d=l.length;++f<d;){var v=l[f],M=v.size;switch(v.type){case"drop":e+=M;break;case"dropRight":i-=M;break;case"take":i=St(i,e+M);break;case"takeRight":e=yt(e,i-M);break}}return{start:e,end:i}}function v0(e){var i=e.match(Ah);return i?i[1].split(Mh):[]}function sa(e,i,l){i=Wn(i,e);for(var f=-1,d=i.length,v=!1;++f<d;){var M=vn(i[f]);if(!(v=e!=null&&l(e,M)))break;e=e[M]}return v||++f!=d?v:(d=e==null?0:e.length,!!d&&Qi(d)&&In(M,d)&&(Se(e)||nr(e)))}function y0(e){var i=e.length,l=new e.constructor(i);return i&&typeof e[0]=="string"&&Je.call(e,"index")&&(l.index=e.index,l.input=e.input),l}function la(e){return typeof e.constructor=="function"&&!Jr(e)?wr(Ai(e)):{}}function b0(e,i,l){var f=e.constructor;switch(i){case on:return yl(e);case kt:case le:return new f(+e);case hr:return r0(e,l);case Ms:case Ss:case Es:case Is:case Cs:case Ds:case xs:case Rs:case Os:return qo(e,l);case Ae:return new f;case et:case Vn:return new f(e);case mn:return i0(e);case Bt:return new f;case cr:return s0(e)}}function w0(e,i){var l=i.length;if(!l)return e;var f=l-1;return i[f]=(l>1?"& ":"")+i[f],i=i.join(l>2?", ":" "),e.replace(Th,`{
/* [wrapped with `+i+`] */
`)}function k0(e){return Se(e)||nr(e)||!!(fo&&e&&e[fo])}function In(e,i){var l=typeof e;return i=i??ve,!!i&&(l=="number"||l!="symbol"&&Nh.test(e))&&e>-1&&e%1==0&&e<i}function Rt(e,i,l){if(!ft(l))return!1;var f=typeof i;return(f=="number"?Lt(l)&&In(i,l.length):f=="string"&&i in l)?cn(l[i],e):!1}function El(e,i){if(Se(e))return!1;var l=typeof e;return l=="number"||l=="symbol"||l=="boolean"||e==null||zt(e)?!0:yh.test(e)||!vh.test(e)||i!=null&&e in je(i)}function T0(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}function Il(e){var i=Yi(e),l=_[i];if(typeof l!="function"||!(i in Pe.prototype))return!1;if(e===l)return!0;var f=Al(l);return!!f&&e===f[0]}function A0(e){return!!lo&&lo in e}var M0=yi?Cn:Gl;function Jr(e){var i=e&&e.constructor,l=typeof i=="function"&&i.prototype||vr;return e===l}function ua(e){return e===e&&!ft(e)}function oa(e,i){return function(l){return l==null?!1:l[e]===i&&(i!==r||e in je(l))}}function S0(e){var i=Xi(e,function(f){return l.size===g&&l.clear(),f}),l=i.cache;return i}function E0(e,i){var l=e[1],f=i[1],d=l|f,v=d<(w|A|z),M=f==z&&l==E||f==z&&l==q&&e[7].length<=i[8]||f==(z|q)&&i[7].length<=i[8]&&l==E;if(!(v||M))return e;f&w&&(e[2]=i[2],d|=l&w?0:R);var D=i[3];if(D){var N=e[3];e[3]=N?zo(N,D,i[4]):D,e[4]=N?Ln(e[3],m):i[4]}return D=i[5],D&&(N=e[5],e[5]=N?Go(N,D,i[6]):D,e[6]=N?Ln(e[5],m):i[6]),D=i[7],D&&(e[7]=D),f&z&&(e[8]=e[8]==null?i[8]:St(e[8],i[8])),e[9]==null&&(e[9]=i[9]),e[0]=i[0],e[1]=d,e}function I0(e){var i=[];if(e!=null)for(var l in je(e))i.push(l);return i}function C0(e){return wi.call(e)}function aa(e,i,l){return i=yt(i===r?e.length-1:i,0),function(){for(var f=arguments,d=-1,v=yt(f.length-i,0),M=Y(v);++d<v;)M[d]=f[i+d];d=-1;for(var D=Y(i+1);++d<i;)D[d]=f[d];return D[i]=l(M),Ht(e,this,D)}}function fa(e,i){return i.length<2?e:$n(e,$t(i,0,-1))}function D0(e,i){for(var l=e.length,f=St(i.length,l),d=Nt(e);f--;){var v=i[f];e[f]=In(v,l)?d[v]:r}return e}function Cl(e,i){if(!(i==="constructor"&&typeof e[i]=="function")&&i!="__proto__")return e[i]}var ca=ga(No),Qr=Gg||function(e,i){return Tt.setTimeout(e,i)},Dl=ga($d);function ha(e,i,l){var f=i+"";return Dl(e,w0(f,x0(v0(f),l)))}function ga(e){var i=0,l=0;return function(){var f=Xg(),d=I-(f-l);if(l=f,d>0){if(++i>=Q)return arguments[0]}else i=0;return e.apply(r,arguments)}}function Gi(e,i){var l=-1,f=e.length,d=f-1;for(i=i===r?f:i;++l<i;){var v=hl(l,d),M=e[v];e[v]=e[l],e[l]=M}return e.length=i,e}var da=S0(function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(bh,function(l,f,d,v){i.push(d?v.replace(Ih,"$1"):f||l)}),i});function vn(e){if(typeof e=="string"||zt(e))return e;var i=e+"";return i=="0"&&1/e==-ge?"-0":i}function tr(e){if(e!=null){try{return bi.call(e)}catch{}try{return e+""}catch{}}return""}function x0(e,i){return Xt(ot,function(l){var f="_."+l[0];i&l[1]&&!mi(e,f)&&e.push(f)}),e.sort()}function ma(e){if(e instanceof Pe)return e.clone();var i=new Qt(e.__wrapped__,e.__chain__);return i.__actions__=Nt(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}function R0(e,i,l){(l?Rt(e,i,l):i===r)?i=1:i=yt(Ie(i),0);var f=e==null?0:e.length;if(!f||i<1)return[];for(var d=0,v=0,M=Y(Ei(f/i));d<f;)M[v++]=$t(e,d,d+=i);return M}function O0(e){for(var i=-1,l=e==null?0:e.length,f=0,d=[];++i<l;){var v=e[i];v&&(d[f++]=v)}return d}function N0(){var e=arguments.length;if(!e)return[];for(var i=Y(e-1),l=arguments[0],f=e;f--;)i[f-1]=arguments[f];return Nn(Se(l)?Nt(l):[l],At(i,1))}var L0=Re(function(e,i){return mt(e)?Gr(e,At(i,1,mt,!0)):[]}),P0=Re(function(e,i){var l=en(i);return mt(l)&&(l=r),mt(e)?Gr(e,At(i,1,mt,!0),ye(l,2)):[]}),U0=Re(function(e,i){var l=en(i);return mt(l)&&(l=r),mt(e)?Gr(e,At(i,1,mt,!0),r,l):[]});function F0(e,i,l){var f=e==null?0:e.length;return f?(i=l||i===r?1:Ie(i),$t(e,i<0?0:i,f)):[]}function W0(e,i,l){var f=e==null?0:e.length;return f?(i=l||i===r?1:Ie(i),i=f-i,$t(e,0,i<0?0:i)):[]}function B0(e,i){return e&&e.length?Ui(e,ye(i,3),!0,!0):[]}function H0(e,i){return e&&e.length?Ui(e,ye(i,3),!0):[]}function q0(e,i,l,f){var d=e==null?0:e.length;return d?(l&&typeof l!="number"&&Rt(e,i,l)&&(l=0,f=d),Nd(e,i,l,f)):[]}function _a(e,i,l){var f=e==null?0:e.length;if(!f)return-1;var d=l==null?0:Ie(l);return d<0&&(d=yt(f+d,0)),_i(e,ye(i,3),d)}function pa(e,i,l){var f=e==null?0:e.length;if(!f)return-1;var d=f-1;return l!==r&&(d=Ie(l),d=l<0?yt(f+d,0):St(d,f-1)),_i(e,ye(i,3),d,!0)}function va(e){var i=e==null?0:e.length;return i?At(e,1):[]}function Y0(e){var i=e==null?0:e.length;return i?At(e,ge):[]}function z0(e,i){var l=e==null?0:e.length;return l?(i=i===r?1:Ie(i),At(e,i)):[]}function G0(e){for(var i=-1,l=e==null?0:e.length,f={};++i<l;){var d=e[i];f[d[0]]=d[1]}return f}function ya(e){return e&&e.length?e[0]:r}function V0(e,i,l){var f=e==null?0:e.length;if(!f)return-1;var d=l==null?0:Ie(l);return d<0&&(d=yt(f+d,0)),dr(e,i,d)}function K0(e){var i=e==null?0:e.length;return i?$t(e,0,-1):[]}var Z0=Re(function(e){var i=ut(e,pl);return i.length&&i[0]===e[0]?ul(i):[]}),X0=Re(function(e){var i=en(e),l=ut(e,pl);return i===en(l)?i=r:l.pop(),l.length&&l[0]===e[0]?ul(l,ye(i,2)):[]}),J0=Re(function(e){var i=en(e),l=ut(e,pl);return i=typeof i=="function"?i:r,i&&l.pop(),l.length&&l[0]===e[0]?ul(l,r,i):[]});function Q0(e,i){return e==null?"":Kg.call(e,i)}function en(e){var i=e==null?0:e.length;return i?e[i-1]:r}function j0(e,i,l){var f=e==null?0:e.length;if(!f)return-1;var d=f;return l!==r&&(d=Ie(l),d=d<0?yt(f+d,0):St(d,f-1)),i===i?xg(e,i,d):_i(e,ju,d,!0)}function $0(e,i){return e&&e.length?Do(e,Ie(i)):r}var e1=Re(ba);function ba(e,i){return e&&e.length&&i&&i.length?cl(e,i):e}function t1(e,i,l){return e&&e.length&&i&&i.length?cl(e,i,ye(l,2)):e}function n1(e,i,l){return e&&e.length&&i&&i.length?cl(e,i,r,l):e}var r1=En(function(e,i){var l=e==null?0:e.length,f=rl(e,i);return Oo(e,ut(i,function(d){return In(d,l)?+d:d}).sort(Yo)),f});function i1(e,i){var l=[];if(!(e&&e.length))return l;var f=-1,d=[],v=e.length;for(i=ye(i,3);++f<v;){var M=e[f];i(M,f,e)&&(l.push(M),d.push(f))}return Oo(e,d),l}function xl(e){return e==null?e:Qg.call(e)}function s1(e,i,l){var f=e==null?0:e.length;return f?(l&&typeof l!="number"&&Rt(e,i,l)?(i=0,l=f):(i=i==null?0:Ie(i),l=l===r?f:Ie(l)),$t(e,i,l)):[]}function l1(e,i){return Pi(e,i)}function u1(e,i,l){return dl(e,i,ye(l,2))}function o1(e,i){var l=e==null?0:e.length;if(l){var f=Pi(e,i);if(f<l&&cn(e[f],i))return f}return-1}function a1(e,i){return Pi(e,i,!0)}function f1(e,i,l){return dl(e,i,ye(l,2),!0)}function c1(e,i){var l=e==null?0:e.length;if(l){var f=Pi(e,i,!0)-1;if(cn(e[f],i))return f}return-1}function h1(e){return e&&e.length?Lo(e):[]}function g1(e,i){return e&&e.length?Lo(e,ye(i,2)):[]}function d1(e){var i=e==null?0:e.length;return i?$t(e,1,i):[]}function m1(e,i,l){return e&&e.length?(i=l||i===r?1:Ie(i),$t(e,0,i<0?0:i)):[]}function _1(e,i,l){var f=e==null?0:e.length;return f?(i=l||i===r?1:Ie(i),i=f-i,$t(e,i<0?0:i,f)):[]}function p1(e,i){return e&&e.length?Ui(e,ye(i,3),!1,!0):[]}function v1(e,i){return e&&e.length?Ui(e,ye(i,3)):[]}var y1=Re(function(e){return Fn(At(e,1,mt,!0))}),b1=Re(function(e){var i=en(e);return mt(i)&&(i=r),Fn(At(e,1,mt,!0),ye(i,2))}),w1=Re(function(e){var i=en(e);return i=typeof i=="function"?i:r,Fn(At(e,1,mt,!0),r,i)});function k1(e){return e&&e.length?Fn(e):[]}function T1(e,i){return e&&e.length?Fn(e,ye(i,2)):[]}function A1(e,i){return i=typeof i=="function"?i:r,e&&e.length?Fn(e,r,i):[]}function Rl(e){if(!(e&&e.length))return[];var i=0;return e=On(e,function(l){if(mt(l))return i=yt(l.length,i),!0}),Xs(i,function(l){return ut(e,Vs(l))})}function wa(e,i){if(!(e&&e.length))return[];var l=Rl(e);return i==null?l:ut(l,function(f){return Ht(i,r,f)})}var M1=Re(function(e,i){return mt(e)?Gr(e,i):[]}),S1=Re(function(e){return _l(On(e,mt))}),E1=Re(function(e){var i=en(e);return mt(i)&&(i=r),_l(On(e,mt),ye(i,2))}),I1=Re(function(e){var i=en(e);return i=typeof i=="function"?i:r,_l(On(e,mt),r,i)}),C1=Re(Rl);function D1(e,i){return Wo(e||[],i||[],zr)}function x1(e,i){return Wo(e||[],i||[],Zr)}var R1=Re(function(e){var i=e.length,l=i>1?e[i-1]:r;return l=typeof l=="function"?(e.pop(),l):r,wa(e,l)});function ka(e){var i=_(e);return i.__chain__=!0,i}function O1(e,i){return i(e),e}function Vi(e,i){return i(e)}var N1=En(function(e){var i=e.length,l=i?e[0]:0,f=this.__wrapped__,d=function(v){return rl(v,e)};return i>1||this.__actions__.length||!(f instanceof Pe)||!In(l)?this.thru(d):(f=f.slice(l,+l+(i?1:0)),f.__actions__.push({func:Vi,args:[d],thisArg:r}),new Qt(f,this.__chain__).thru(function(v){return i&&!v.length&&v.push(r),v}))});function L1(){return ka(this)}function P1(){return new Qt(this.value(),this.__chain__)}function U1(){this.__values__===r&&(this.__values__=Pa(this.value()));var e=this.__index__>=this.__values__.length,i=e?r:this.__values__[this.__index__++];return{done:e,value:i}}function F1(){return this}function W1(e){for(var i,l=this;l instanceof xi;){var f=ma(l);f.__index__=0,f.__values__=r,i?d.__wrapped__=f:i=f;var d=f;l=l.__wrapped__}return d.__wrapped__=e,i}function B1(){var e=this.__wrapped__;if(e instanceof Pe){var i=e;return this.__actions__.length&&(i=new Pe(this)),i=i.reverse(),i.__actions__.push({func:Vi,args:[xl],thisArg:r}),new Qt(i,this.__chain__)}return this.thru(xl)}function H1(){return Fo(this.__wrapped__,this.__actions__)}var q1=Fi(function(e,i,l){Je.call(e,l)?++e[l]:Mn(e,l,1)});function Y1(e,i,l){var f=Se(e)?Ju:Od;return l&&Rt(e,i,l)&&(i=r),f(e,ye(i,3))}function z1(e,i){var l=Se(e)?On:wo;return l(e,ye(i,3))}var G1=Xo(_a),V1=Xo(pa);function K1(e,i){return At(Ki(e,i),1)}function Z1(e,i){return At(Ki(e,i),ge)}function X1(e,i,l){return l=l===r?1:Ie(l),At(Ki(e,i),l)}function Ta(e,i){var l=Se(e)?Xt:Un;return l(e,ye(i,3))}function Aa(e,i){var l=Se(e)?dg:bo;return l(e,ye(i,3))}var J1=Fi(function(e,i,l){Je.call(e,l)?e[l].push(i):Mn(e,l,[i])});function Q1(e,i,l,f){e=Lt(e)?e:Sr(e),l=l&&!f?Ie(l):0;var d=e.length;return l<0&&(l=yt(d+l,0)),ji(e)?l<=d&&e.indexOf(i,l)>-1:!!d&&dr(e,i,l)>-1}var j1=Re(function(e,i,l){var f=-1,d=typeof i=="function",v=Lt(e)?Y(e.length):[];return Un(e,function(M){v[++f]=d?Ht(i,M,l):Vr(M,i,l)}),v}),$1=Fi(function(e,i,l){Mn(e,l,i)});function Ki(e,i){var l=Se(e)?ut:Eo;return l(e,ye(i,3))}function em(e,i,l,f){return e==null?[]:(Se(i)||(i=i==null?[]:[i]),l=f?r:l,Se(l)||(l=l==null?[]:[l]),xo(e,i,l))}var tm=Fi(function(e,i,l){e[l?0:1].push(i)},function(){return[[],[]]});function nm(e,i,l){var f=Se(e)?zs:eo,d=arguments.length<3;return f(e,ye(i,4),l,d,Un)}function rm(e,i,l){var f=Se(e)?mg:eo,d=arguments.length<3;return f(e,ye(i,4),l,d,bo)}function im(e,i){var l=Se(e)?On:wo;return l(e,Ji(ye(i,3)))}function sm(e){var i=Se(e)?_o:Qd;return i(e)}function lm(e,i,l){(l?Rt(e,i,l):i===r)?i=1:i=Ie(i);var f=Se(e)?Id:jd;return f(e,i)}function um(e){var i=Se(e)?Cd:e0;return i(e)}function om(e){if(e==null)return 0;if(Lt(e))return ji(e)?_r(e):e.length;var i=Et(e);return i==Ae||i==Bt?e.size:al(e).length}function am(e,i,l){var f=Se(e)?Gs:t0;return l&&Rt(e,i,l)&&(i=r),f(e,ye(i,3))}var fm=Re(function(e,i){if(e==null)return[];var l=i.length;return l>1&&Rt(e,i[0],i[1])?i=[]:l>2&&Rt(i[0],i[1],i[2])&&(i=[i[0]]),xo(e,At(i,1),[])}),Zi=zg||function(){return Tt.Date.now()};function cm(e,i){if(typeof i!="function")throw new Jt(o);return e=Ie(e),function(){if(--e<1)return i.apply(this,arguments)}}function Ma(e,i,l){return i=l?r:i,i=e&&i==null?e.length:i,Sn(e,z,r,r,r,r,i)}function Sa(e,i){var l;if(typeof i!="function")throw new Jt(o);return e=Ie(e),function(){return--e>0&&(l=i.apply(this,arguments)),e<=1&&(i=r),l}}var Ol=Re(function(e,i,l){var f=w;if(l.length){var d=Ln(l,Ar(Ol));f|=F}return Sn(e,f,i,l,d)}),Ea=Re(function(e,i,l){var f=w|A;if(l.length){var d=Ln(l,Ar(Ea));f|=F}return Sn(i,f,e,l,d)});function Ia(e,i,l){i=l?r:i;var f=Sn(e,E,r,r,r,r,r,i);return f.placeholder=Ia.placeholder,f}function Ca(e,i,l){i=l?r:i;var f=Sn(e,x,r,r,r,r,r,i);return f.placeholder=Ca.placeholder,f}function Da(e,i,l){var f,d,v,M,D,N,X=0,J=!1,ee=!1,ue=!0;if(typeof e!="function")throw new Jt(o);i=tn(i)||0,ft(l)&&(J=!!l.leading,ee="maxWait"in l,v=ee?yt(tn(l.maxWait)||0,i):v,ue="trailing"in l?!!l.trailing:ue);function de(_t){var hn=f,xn=d;return f=d=r,X=_t,M=e.apply(xn,hn),M}function we(_t){return X=_t,D=Qr(Ne,i),J?de(_t):M}function Ce(_t){var hn=_t-N,xn=_t-X,Xa=i-hn;return ee?St(Xa,v-xn):Xa}function ke(_t){var hn=_t-N,xn=_t-X;return N===r||hn>=i||hn<0||ee&&xn>=v}function Ne(){var _t=Zi();if(ke(_t))return Ue(_t);D=Qr(Ne,Ce(_t))}function Ue(_t){return D=r,ue&&f?de(_t):(f=d=r,M)}function Gt(){D!==r&&Bo(D),X=0,f=N=d=D=r}function Ot(){return D===r?M:Ue(Zi())}function Vt(){var _t=Zi(),hn=ke(_t);if(f=arguments,d=this,N=_t,hn){if(D===r)return we(N);if(ee)return Bo(D),D=Qr(Ne,i),de(N)}return D===r&&(D=Qr(Ne,i)),M}return Vt.cancel=Gt,Vt.flush=Ot,Vt}var hm=Re(function(e,i){return yo(e,1,i)}),gm=Re(function(e,i,l){return yo(e,tn(i)||0,l)});function dm(e){return Sn(e,$)}function Xi(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new Jt(o);var l=function(){var f=arguments,d=i?i.apply(this,f):f[0],v=l.cache;if(v.has(d))return v.get(d);var M=e.apply(this,f);return l.cache=v.set(d,M)||v,M};return l.cache=new(Xi.Cache||An),l}Xi.Cache=An;function Ji(e){if(typeof e!="function")throw new Jt(o);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}function mm(e){return Sa(2,e)}var _m=n0(function(e,i){i=i.length==1&&Se(i[0])?ut(i[0],qt(ye())):ut(At(i,1),qt(ye()));var l=i.length;return Re(function(f){for(var d=-1,v=St(f.length,l);++d<v;)f[d]=i[d].call(this,f[d]);return Ht(e,this,f)})}),Nl=Re(function(e,i){var l=Ln(i,Ar(Nl));return Sn(e,F,r,i,l)}),xa=Re(function(e,i){var l=Ln(i,Ar(xa));return Sn(e,U,r,i,l)}),pm=En(function(e,i){return Sn(e,q,r,r,r,i)});function vm(e,i){if(typeof e!="function")throw new Jt(o);return i=i===r?i:Ie(i),Re(e,i)}function ym(e,i){if(typeof e!="function")throw new Jt(o);return i=i==null?0:yt(Ie(i),0),Re(function(l){var f=l[i],d=Bn(l,0,i);return f&&Nn(d,f),Ht(e,this,d)})}function bm(e,i,l){var f=!0,d=!0;if(typeof e!="function")throw new Jt(o);return ft(l)&&(f="leading"in l?!!l.leading:f,d="trailing"in l?!!l.trailing:d),Da(e,i,{leading:f,maxWait:i,trailing:d})}function wm(e){return Ma(e,1)}function km(e,i){return Nl(vl(i),e)}function Tm(){if(!arguments.length)return[];var e=arguments[0];return Se(e)?e:[e]}function Am(e){return jt(e,S)}function Mm(e,i){return i=typeof i=="function"?i:r,jt(e,S,i)}function Sm(e){return jt(e,y|S)}function Em(e,i){return i=typeof i=="function"?i:r,jt(e,y|S,i)}function Im(e,i){return i==null||vo(e,i,bt(i))}function cn(e,i){return e===i||e!==e&&i!==i}var Cm=qi(ll),Dm=qi(function(e,i){return e>=i}),nr=Ao(function(){return arguments}())?Ao:function(e){return ht(e)&&Je.call(e,"callee")&&!ao.call(e,"callee")},Se=Y.isArray,xm=zu?qt(zu):Wd;function Lt(e){return e!=null&&Qi(e.length)&&!Cn(e)}function mt(e){return ht(e)&&Lt(e)}function Rm(e){return e===!0||e===!1||ht(e)&&xt(e)==kt}var Hn=Vg||Gl,Om=Gu?qt(Gu):Bd;function Nm(e){return ht(e)&&e.nodeType===1&&!jr(e)}function Lm(e){if(e==null)return!0;if(Lt(e)&&(Se(e)||typeof e=="string"||typeof e.splice=="function"||Hn(e)||Mr(e)||nr(e)))return!e.length;var i=Et(e);if(i==Ae||i==Bt)return!e.size;if(Jr(e))return!al(e).length;for(var l in e)if(Je.call(e,l))return!1;return!0}function Pm(e,i){return Kr(e,i)}function Um(e,i,l){l=typeof l=="function"?l:r;var f=l?l(e,i):r;return f===r?Kr(e,i,r,l):!!f}function Ll(e){if(!ht(e))return!1;var i=xt(e);return i==Te||i==be||typeof e.message=="string"&&typeof e.name=="string"&&!jr(e)}function Fm(e){return typeof e=="number"&&co(e)}function Cn(e){if(!ft(e))return!1;var i=xt(e);return i==te||i==at||i==ln||i==un}function Ra(e){return typeof e=="number"&&e==Ie(e)}function Qi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ve}function ft(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function ht(e){return e!=null&&typeof e=="object"}var Oa=Vu?qt(Vu):qd;function Wm(e,i){return e===i||ol(e,i,Ml(i))}function Bm(e,i,l){return l=typeof l=="function"?l:r,ol(e,i,Ml(i),l)}function Hm(e){return Na(e)&&e!=+e}function qm(e){if(M0(e))throw new Me(a);return Mo(e)}function Ym(e){return e===null}function zm(e){return e==null}function Na(e){return typeof e=="number"||ht(e)&&xt(e)==et}function jr(e){if(!ht(e)||xt(e)!=ce)return!1;var i=Ai(e);if(i===null)return!0;var l=Je.call(i,"constructor")&&i.constructor;return typeof l=="function"&&l instanceof l&&bi.call(l)==Bg}var Pl=Ku?qt(Ku):Yd;function Gm(e){return Ra(e)&&e>=-ve&&e<=ve}var La=Zu?qt(Zu):zd;function ji(e){return typeof e=="string"||!Se(e)&&ht(e)&&xt(e)==Vn}function zt(e){return typeof e=="symbol"||ht(e)&&xt(e)==cr}var Mr=Xu?qt(Xu):Gd;function Vm(e){return e===r}function Km(e){return ht(e)&&Et(e)==Kn}function Zm(e){return ht(e)&&xt(e)==he}var Xm=qi(fl),Jm=qi(function(e,i){return e<=i});function Pa(e){if(!e)return[];if(Lt(e))return ji(e)?an(e):Nt(e);if(Wr&&e[Wr])return Ig(e[Wr]());var i=Et(e),l=i==Ae?Qs:i==Bt?pi:Sr;return l(e)}function Dn(e){if(!e)return e===0?e:0;if(e=tn(e),e===ge||e===-ge){var i=e<0?-1:1;return i*re}return e===e?e:0}function Ie(e){var i=Dn(e),l=i%1;return i===i?l?i-l:i:0}function Ua(e){return e?jn(Ie(e),0,xe):0}function tn(e){if(typeof e=="number")return e;if(zt(e))return Ee;if(ft(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=ft(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=to(e);var l=xh.test(e);return l||Oh.test(e)?cg(e.slice(2),l?2:8):Dh.test(e)?Ee:+e}function Fa(e){return pn(e,Pt(e))}function Qm(e){return e?jn(Ie(e),-ve,ve):e===0?e:0}function Ze(e){return e==null?"":Yt(e)}var jm=kr(function(e,i){if(Jr(i)||Lt(i)){pn(i,bt(i),e);return}for(var l in i)Je.call(i,l)&&zr(e,l,i[l])}),Wa=kr(function(e,i){pn(i,Pt(i),e)}),$i=kr(function(e,i,l,f){pn(i,Pt(i),e,f)}),$m=kr(function(e,i,l,f){pn(i,bt(i),e,f)}),e_=En(rl);function t_(e,i){var l=wr(e);return i==null?l:po(l,i)}var n_=Re(function(e,i){e=je(e);var l=-1,f=i.length,d=f>2?i[2]:r;for(d&&Rt(i[0],i[1],d)&&(f=1);++l<f;)for(var v=i[l],M=Pt(v),D=-1,N=M.length;++D<N;){var X=M[D],J=e[X];(J===r||cn(J,vr[X])&&!Je.call(e,X))&&(e[X]=v[X])}return e}),r_=Re(function(e){return e.push(r,na),Ht(Ba,r,e)});function i_(e,i){return Qu(e,ye(i,3),_n)}function s_(e,i){return Qu(e,ye(i,3),sl)}function l_(e,i){return e==null?e:il(e,ye(i,3),Pt)}function u_(e,i){return e==null?e:ko(e,ye(i,3),Pt)}function o_(e,i){return e&&_n(e,ye(i,3))}function a_(e,i){return e&&sl(e,ye(i,3))}function f_(e){return e==null?[]:Ni(e,bt(e))}function c_(e){return e==null?[]:Ni(e,Pt(e))}function Ul(e,i,l){var f=e==null?r:$n(e,i);return f===r?l:f}function h_(e,i){return e!=null&&sa(e,i,Ld)}function Fl(e,i){return e!=null&&sa(e,i,Pd)}var g_=Qo(function(e,i,l){i!=null&&typeof i.toString!="function"&&(i=wi.call(i)),e[i]=l},Bl(Ut)),d_=Qo(function(e,i,l){i!=null&&typeof i.toString!="function"&&(i=wi.call(i)),Je.call(e,i)?e[i].push(l):e[i]=[l]},ye),m_=Re(Vr);function bt(e){return Lt(e)?mo(e):al(e)}function Pt(e){return Lt(e)?mo(e,!0):Vd(e)}function __(e,i){var l={};return i=ye(i,3),_n(e,function(f,d,v){Mn(l,i(f,d,v),f)}),l}function p_(e,i){var l={};return i=ye(i,3),_n(e,function(f,d,v){Mn(l,d,i(f,d,v))}),l}var v_=kr(function(e,i,l){Li(e,i,l)}),Ba=kr(function(e,i,l,f){Li(e,i,l,f)}),y_=En(function(e,i){var l={};if(e==null)return l;var f=!1;i=ut(i,function(v){return v=Wn(v,e),f||(f=v.length>1),v}),pn(e,Tl(e),l),f&&(l=jt(l,y|p|S,g0));for(var d=i.length;d--;)ml(l,i[d]);return l});function b_(e,i){return Ha(e,Ji(ye(i)))}var w_=En(function(e,i){return e==null?{}:Zd(e,i)});function Ha(e,i){if(e==null)return{};var l=ut(Tl(e),function(f){return[f]});return i=ye(i),Ro(e,l,function(f,d){return i(f,d[0])})}function k_(e,i,l){i=Wn(i,e);var f=-1,d=i.length;for(d||(d=1,e=r);++f<d;){var v=e==null?r:e[vn(i[f])];v===r&&(f=d,v=l),e=Cn(v)?v.call(e):v}return e}function T_(e,i,l){return e==null?e:Zr(e,i,l)}function A_(e,i,l,f){return f=typeof f=="function"?f:r,e==null?e:Zr(e,i,l,f)}var qa=ea(bt),Ya=ea(Pt);function M_(e,i,l){var f=Se(e),d=f||Hn(e)||Mr(e);if(i=ye(i,4),l==null){var v=e&&e.constructor;d?l=f?new v:[]:ft(e)?l=Cn(v)?wr(Ai(e)):{}:l={}}return(d?Xt:_n)(e,function(M,D,N){return i(l,M,D,N)}),l}function S_(e,i){return e==null?!0:ml(e,i)}function E_(e,i,l){return e==null?e:Uo(e,i,vl(l))}function I_(e,i,l,f){return f=typeof f=="function"?f:r,e==null?e:Uo(e,i,vl(l),f)}function Sr(e){return e==null?[]:Js(e,bt(e))}function C_(e){return e==null?[]:Js(e,Pt(e))}function D_(e,i,l){return l===r&&(l=i,i=r),l!==r&&(l=tn(l),l=l===l?l:0),i!==r&&(i=tn(i),i=i===i?i:0),jn(tn(e),i,l)}function x_(e,i,l){return i=Dn(i),l===r?(l=i,i=0):l=Dn(l),e=tn(e),Ud(e,i,l)}function R_(e,i,l){if(l&&typeof l!="boolean"&&Rt(e,i,l)&&(i=l=r),l===r&&(typeof i=="boolean"?(l=i,i=r):typeof e=="boolean"&&(l=e,e=r)),e===r&&i===r?(e=0,i=1):(e=Dn(e),i===r?(i=e,e=0):i=Dn(i)),e>i){var f=e;e=i,i=f}if(l||e%1||i%1){var d=ho();return St(e+d*(i-e+fg("1e-"+((d+"").length-1))),i)}return hl(e,i)}var O_=Tr(function(e,i,l){return i=i.toLowerCase(),e+(l?za(i):i)});function za(e){return Wl(Ze(e).toLowerCase())}function Ga(e){return e=Ze(e),e&&e.replace(Lh,Tg).replace(eg,"")}function N_(e,i,l){e=Ze(e),i=Yt(i);var f=e.length;l=l===r?f:jn(Ie(l),0,f);var d=l;return l-=i.length,l>=0&&e.slice(l,d)==i}function L_(e){return e=Ze(e),e&&mh.test(e)?e.replace(wu,Ag):e}function P_(e){return e=Ze(e),e&&wh.test(e)?e.replace(Ns,"\\$&"):e}var U_=Tr(function(e,i,l){return e+(l?"-":"")+i.toLowerCase()}),F_=Tr(function(e,i,l){return e+(l?" ":"")+i.toLowerCase()}),W_=Zo("toLowerCase");function B_(e,i,l){e=Ze(e),i=Ie(i);var f=i?_r(e):0;if(!i||f>=i)return e;var d=(i-f)/2;return Hi(Ii(d),l)+e+Hi(Ei(d),l)}function H_(e,i,l){e=Ze(e),i=Ie(i);var f=i?_r(e):0;return i&&f<i?e+Hi(i-f,l):e}function q_(e,i,l){e=Ze(e),i=Ie(i);var f=i?_r(e):0;return i&&f<i?Hi(i-f,l)+e:e}function Y_(e,i,l){return l||i==null?i=0:i&&(i=+i),Jg(Ze(e).replace(Ls,""),i||0)}function z_(e,i,l){return(l?Rt(e,i,l):i===r)?i=1:i=Ie(i),gl(Ze(e),i)}function G_(){var e=arguments,i=Ze(e[0]);return e.length<3?i:i.replace(e[1],e[2])}var V_=Tr(function(e,i,l){return e+(l?"_":"")+i.toLowerCase()});function K_(e,i,l){return l&&typeof l!="number"&&Rt(e,i,l)&&(i=l=r),l=l===r?xe:l>>>0,l?(e=Ze(e),e&&(typeof i=="string"||i!=null&&!Pl(i))&&(i=Yt(i),!i&&mr(e))?Bn(an(e),0,l):e.split(i,l)):[]}var Z_=Tr(function(e,i,l){return e+(l?" ":"")+Wl(i)});function X_(e,i,l){return e=Ze(e),l=l==null?0:jn(Ie(l),0,e.length),i=Yt(i),e.slice(l,l+i.length)==i}function J_(e,i,l){var f=_.templateSettings;l&&Rt(e,i,l)&&(i=r),e=Ze(e),i=$i({},i,f,ta);var d=$i({},i.imports,f.imports,ta),v=bt(d),M=Js(d,v),D,N,X=0,J=i.interpolate||hi,ee="__p += '",ue=js((i.escape||hi).source+"|"+J.source+"|"+(J===ku?Ch:hi).source+"|"+(i.evaluate||hi).source+"|$","g"),de="//# sourceURL="+(Je.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++sg+"]")+`
`;e.replace(ue,function(ke,Ne,Ue,Gt,Ot,Vt){return Ue||(Ue=Gt),ee+=e.slice(X,Vt).replace(Ph,Mg),Ne&&(D=!0,ee+=`' +
__e(`+Ne+`) +
'`),Ot&&(N=!0,ee+=`';
`+Ot+`;
__p += '`),Ue&&(ee+=`' +
((__t = (`+Ue+`)) == null ? '' : __t) +
'`),X=Vt+ke.length,ke}),ee+=`';
`;var we=Je.call(i,"variable")&&i.variable;if(!we)ee=`with (obj) {
`+ee+`
}
`;else if(Eh.test(we))throw new Me(h);ee=(N?ee.replace(ch,""):ee).replace(hh,"$1").replace(gh,"$1;"),ee="function("+(we||"obj")+`) {
`+(we?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ee+`return __p
}`;var Ce=Ka(function(){return Ke(v,de+"return "+ee).apply(r,M)});if(Ce.source=ee,Ll(Ce))throw Ce;return Ce}function Q_(e){return Ze(e).toLowerCase()}function j_(e){return Ze(e).toUpperCase()}function $_(e,i,l){if(e=Ze(e),e&&(l||i===r))return to(e);if(!e||!(i=Yt(i)))return e;var f=an(e),d=an(i),v=no(f,d),M=ro(f,d)+1;return Bn(f,v,M).join("")}function ep(e,i,l){if(e=Ze(e),e&&(l||i===r))return e.slice(0,so(e)+1);if(!e||!(i=Yt(i)))return e;var f=an(e),d=ro(f,an(i))+1;return Bn(f,0,d).join("")}function tp(e,i,l){if(e=Ze(e),e&&(l||i===r))return e.replace(Ls,"");if(!e||!(i=Yt(i)))return e;var f=an(e),d=no(f,an(i));return Bn(f,d).join("")}function np(e,i){var l=B,f=W;if(ft(i)){var d="separator"in i?i.separator:d;l="length"in i?Ie(i.length):l,f="omission"in i?Yt(i.omission):f}e=Ze(e);var v=e.length;if(mr(e)){var M=an(e);v=M.length}if(l>=v)return e;var D=l-_r(f);if(D<1)return f;var N=M?Bn(M,0,D).join(""):e.slice(0,D);if(d===r)return N+f;if(M&&(D+=N.length-D),Pl(d)){if(e.slice(D).search(d)){var X,J=N;for(d.global||(d=js(d.source,Ze(Tu.exec(d))+"g")),d.lastIndex=0;X=d.exec(J);)var ee=X.index;N=N.slice(0,ee===r?D:ee)}}else if(e.indexOf(Yt(d),D)!=D){var ue=N.lastIndexOf(d);ue>-1&&(N=N.slice(0,ue))}return N+f}function rp(e){return e=Ze(e),e&&dh.test(e)?e.replace(bu,Rg):e}var ip=Tr(function(e,i,l){return e+(l?" ":"")+i.toUpperCase()}),Wl=Zo("toUpperCase");function Va(e,i,l){return e=Ze(e),i=l?r:i,i===r?Eg(e)?Lg(e):vg(e):e.match(i)||[]}var Ka=Re(function(e,i){try{return Ht(e,r,i)}catch(l){return Ll(l)?l:new Me(l)}}),sp=En(function(e,i){return Xt(i,function(l){l=vn(l),Mn(e,l,Ol(e[l],e))}),e});function lp(e){var i=e==null?0:e.length,l=ye();return e=i?ut(e,function(f){if(typeof f[1]!="function")throw new Jt(o);return[l(f[0]),f[1]]}):[],Re(function(f){for(var d=-1;++d<i;){var v=e[d];if(Ht(v[0],this,f))return Ht(v[1],this,f)}})}function up(e){return Rd(jt(e,y))}function Bl(e){return function(){return e}}function op(e,i){return e==null||e!==e?i:e}var ap=Jo(),fp=Jo(!0);function Ut(e){return e}function Hl(e){return So(typeof e=="function"?e:jt(e,y))}function cp(e){return Io(jt(e,y))}function hp(e,i){return Co(e,jt(i,y))}var gp=Re(function(e,i){return function(l){return Vr(l,e,i)}}),dp=Re(function(e,i){return function(l){return Vr(e,l,i)}});function ql(e,i,l){var f=bt(i),d=Ni(i,f);l==null&&!(ft(i)&&(d.length||!f.length))&&(l=i,i=e,e=this,d=Ni(i,bt(i)));var v=!(ft(l)&&"chain"in l)||!!l.chain,M=Cn(e);return Xt(d,function(D){var N=i[D];e[D]=N,M&&(e.prototype[D]=function(){var X=this.__chain__;if(v||X){var J=e(this.__wrapped__),ee=J.__actions__=Nt(this.__actions__);return ee.push({func:N,args:arguments,thisArg:e}),J.__chain__=X,J}return N.apply(e,Nn([this.value()],arguments))})}),e}function mp(){return Tt._===this&&(Tt._=Hg),this}function Yl(){}function _p(e){return e=Ie(e),Re(function(i){return Do(i,e)})}var pp=bl(ut),vp=bl(Ju),yp=bl(Gs);function Za(e){return El(e)?Vs(vn(e)):Xd(e)}function bp(e){return function(i){return e==null?r:$n(e,i)}}var wp=jo(),kp=jo(!0);function zl(){return[]}function Gl(){return!1}function Tp(){return{}}function Ap(){return""}function Mp(){return!0}function Sp(e,i){if(e=Ie(e),e<1||e>ve)return[];var l=xe,f=St(e,xe);i=ye(i),e-=xe;for(var d=Xs(f,i);++l<e;)i(l);return d}function Ep(e){return Se(e)?ut(e,vn):zt(e)?[e]:Nt(da(Ze(e)))}function Ip(e){var i=++Wg;return Ze(e)+i}var Cp=Bi(function(e,i){return e+i},0),Dp=wl("ceil"),xp=Bi(function(e,i){return e/i},1),Rp=wl("floor");function Op(e){return e&&e.length?Oi(e,Ut,ll):r}function Np(e,i){return e&&e.length?Oi(e,ye(i,2),ll):r}function Lp(e){return $u(e,Ut)}function Pp(e,i){return $u(e,ye(i,2))}function Up(e){return e&&e.length?Oi(e,Ut,fl):r}function Fp(e,i){return e&&e.length?Oi(e,ye(i,2),fl):r}var Wp=Bi(function(e,i){return e*i},1),Bp=wl("round"),Hp=Bi(function(e,i){return e-i},0);function qp(e){return e&&e.length?Zs(e,Ut):0}function Yp(e,i){return e&&e.length?Zs(e,ye(i,2)):0}return _.after=cm,_.ary=Ma,_.assign=jm,_.assignIn=Wa,_.assignInWith=$i,_.assignWith=$m,_.at=e_,_.before=Sa,_.bind=Ol,_.bindAll=sp,_.bindKey=Ea,_.castArray=Tm,_.chain=ka,_.chunk=R0,_.compact=O0,_.concat=N0,_.cond=lp,_.conforms=up,_.constant=Bl,_.countBy=q1,_.create=t_,_.curry=Ia,_.curryRight=Ca,_.debounce=Da,_.defaults=n_,_.defaultsDeep=r_,_.defer=hm,_.delay=gm,_.difference=L0,_.differenceBy=P0,_.differenceWith=U0,_.drop=F0,_.dropRight=W0,_.dropRightWhile=B0,_.dropWhile=H0,_.fill=q0,_.filter=z1,_.flatMap=K1,_.flatMapDeep=Z1,_.flatMapDepth=X1,_.flatten=va,_.flattenDeep=Y0,_.flattenDepth=z0,_.flip=dm,_.flow=ap,_.flowRight=fp,_.fromPairs=G0,_.functions=f_,_.functionsIn=c_,_.groupBy=J1,_.initial=K0,_.intersection=Z0,_.intersectionBy=X0,_.intersectionWith=J0,_.invert=g_,_.invertBy=d_,_.invokeMap=j1,_.iteratee=Hl,_.keyBy=$1,_.keys=bt,_.keysIn=Pt,_.map=Ki,_.mapKeys=__,_.mapValues=p_,_.matches=cp,_.matchesProperty=hp,_.memoize=Xi,_.merge=v_,_.mergeWith=Ba,_.method=gp,_.methodOf=dp,_.mixin=ql,_.negate=Ji,_.nthArg=_p,_.omit=y_,_.omitBy=b_,_.once=mm,_.orderBy=em,_.over=pp,_.overArgs=_m,_.overEvery=vp,_.overSome=yp,_.partial=Nl,_.partialRight=xa,_.partition=tm,_.pick=w_,_.pickBy=Ha,_.property=Za,_.propertyOf=bp,_.pull=e1,_.pullAll=ba,_.pullAllBy=t1,_.pullAllWith=n1,_.pullAt=r1,_.range=wp,_.rangeRight=kp,_.rearg=pm,_.reject=im,_.remove=i1,_.rest=vm,_.reverse=xl,_.sampleSize=lm,_.set=T_,_.setWith=A_,_.shuffle=um,_.slice=s1,_.sortBy=fm,_.sortedUniq=h1,_.sortedUniqBy=g1,_.split=K_,_.spread=ym,_.tail=d1,_.take=m1,_.takeRight=_1,_.takeRightWhile=p1,_.takeWhile=v1,_.tap=O1,_.throttle=bm,_.thru=Vi,_.toArray=Pa,_.toPairs=qa,_.toPairsIn=Ya,_.toPath=Ep,_.toPlainObject=Fa,_.transform=M_,_.unary=wm,_.union=y1,_.unionBy=b1,_.unionWith=w1,_.uniq=k1,_.uniqBy=T1,_.uniqWith=A1,_.unset=S_,_.unzip=Rl,_.unzipWith=wa,_.update=E_,_.updateWith=I_,_.values=Sr,_.valuesIn=C_,_.without=M1,_.words=Va,_.wrap=km,_.xor=S1,_.xorBy=E1,_.xorWith=I1,_.zip=C1,_.zipObject=D1,_.zipObjectDeep=x1,_.zipWith=R1,_.entries=qa,_.entriesIn=Ya,_.extend=Wa,_.extendWith=$i,ql(_,_),_.add=Cp,_.attempt=Ka,_.camelCase=O_,_.capitalize=za,_.ceil=Dp,_.clamp=D_,_.clone=Am,_.cloneDeep=Sm,_.cloneDeepWith=Em,_.cloneWith=Mm,_.conformsTo=Im,_.deburr=Ga,_.defaultTo=op,_.divide=xp,_.endsWith=N_,_.eq=cn,_.escape=L_,_.escapeRegExp=P_,_.every=Y1,_.find=G1,_.findIndex=_a,_.findKey=i_,_.findLast=V1,_.findLastIndex=pa,_.findLastKey=s_,_.floor=Rp,_.forEach=Ta,_.forEachRight=Aa,_.forIn=l_,_.forInRight=u_,_.forOwn=o_,_.forOwnRight=a_,_.get=Ul,_.gt=Cm,_.gte=Dm,_.has=h_,_.hasIn=Fl,_.head=ya,_.identity=Ut,_.includes=Q1,_.indexOf=V0,_.inRange=x_,_.invoke=m_,_.isArguments=nr,_.isArray=Se,_.isArrayBuffer=xm,_.isArrayLike=Lt,_.isArrayLikeObject=mt,_.isBoolean=Rm,_.isBuffer=Hn,_.isDate=Om,_.isElement=Nm,_.isEmpty=Lm,_.isEqual=Pm,_.isEqualWith=Um,_.isError=Ll,_.isFinite=Fm,_.isFunction=Cn,_.isInteger=Ra,_.isLength=Qi,_.isMap=Oa,_.isMatch=Wm,_.isMatchWith=Bm,_.isNaN=Hm,_.isNative=qm,_.isNil=zm,_.isNull=Ym,_.isNumber=Na,_.isObject=ft,_.isObjectLike=ht,_.isPlainObject=jr,_.isRegExp=Pl,_.isSafeInteger=Gm,_.isSet=La,_.isString=ji,_.isSymbol=zt,_.isTypedArray=Mr,_.isUndefined=Vm,_.isWeakMap=Km,_.isWeakSet=Zm,_.join=Q0,_.kebabCase=U_,_.last=en,_.lastIndexOf=j0,_.lowerCase=F_,_.lowerFirst=W_,_.lt=Xm,_.lte=Jm,_.max=Op,_.maxBy=Np,_.mean=Lp,_.meanBy=Pp,_.min=Up,_.minBy=Fp,_.stubArray=zl,_.stubFalse=Gl,_.stubObject=Tp,_.stubString=Ap,_.stubTrue=Mp,_.multiply=Wp,_.nth=$0,_.noConflict=mp,_.noop=Yl,_.now=Zi,_.pad=B_,_.padEnd=H_,_.padStart=q_,_.parseInt=Y_,_.random=R_,_.reduce=nm,_.reduceRight=rm,_.repeat=z_,_.replace=G_,_.result=k_,_.round=Bp,_.runInContext=O,_.sample=sm,_.size=om,_.snakeCase=V_,_.some=am,_.sortedIndex=l1,_.sortedIndexBy=u1,_.sortedIndexOf=o1,_.sortedLastIndex=a1,_.sortedLastIndexBy=f1,_.sortedLastIndexOf=c1,_.startCase=Z_,_.startsWith=X_,_.subtract=Hp,_.sum=qp,_.sumBy=Yp,_.template=J_,_.times=Sp,_.toFinite=Dn,_.toInteger=Ie,_.toLength=Ua,_.toLower=Q_,_.toNumber=tn,_.toSafeInteger=Qm,_.toString=Ze,_.toUpper=j_,_.trim=$_,_.trimEnd=ep,_.trimStart=tp,_.truncate=np,_.unescape=rp,_.uniqueId=Ip,_.upperCase=ip,_.upperFirst=Wl,_.each=Ta,_.eachRight=Aa,_.first=ya,ql(_,function(){var e={};return _n(_,function(i,l){Je.call(_.prototype,l)||(e[l]=i)}),e}(),{chain:!1}),_.VERSION=s,Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){_[e].placeholder=_}),Xt(["drop","take"],function(e,i){Pe.prototype[e]=function(l){l=l===r?1:yt(Ie(l),0);var f=this.__filtered__&&!i?new Pe(this):this.clone();return f.__filtered__?f.__takeCount__=St(l,f.__takeCount__):f.__views__.push({size:St(l,xe),type:e+(f.__dir__<0?"Right":"")}),f},Pe.prototype[e+"Right"]=function(l){return this.reverse()[e](l).reverse()}}),Xt(["filter","map","takeWhile"],function(e,i){var l=i+1,f=l==L||l==H;Pe.prototype[e]=function(d){var v=this.clone();return v.__iteratees__.push({iteratee:ye(d,3),type:l}),v.__filtered__=v.__filtered__||f,v}}),Xt(["head","last"],function(e,i){var l="take"+(i?"Right":"");Pe.prototype[e]=function(){return this[l](1).value()[0]}}),Xt(["initial","tail"],function(e,i){var l="drop"+(i?"":"Right");Pe.prototype[e]=function(){return this.__filtered__?new Pe(this):this[l](1)}}),Pe.prototype.compact=function(){return this.filter(Ut)},Pe.prototype.find=function(e){return this.filter(e).head()},Pe.prototype.findLast=function(e){return this.reverse().find(e)},Pe.prototype.invokeMap=Re(function(e,i){return typeof e=="function"?new Pe(this):this.map(function(l){return Vr(l,e,i)})}),Pe.prototype.reject=function(e){return this.filter(Ji(ye(e)))},Pe.prototype.slice=function(e,i){e=Ie(e);var l=this;return l.__filtered__&&(e>0||i<0)?new Pe(l):(e<0?l=l.takeRight(-e):e&&(l=l.drop(e)),i!==r&&(i=Ie(i),l=i<0?l.dropRight(-i):l.take(i-e)),l)},Pe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pe.prototype.toArray=function(){return this.take(xe)},_n(Pe.prototype,function(e,i){var l=/^(?:filter|find|map|reject)|While$/.test(i),f=/^(?:head|last)$/.test(i),d=_[f?"take"+(i=="last"?"Right":""):i],v=f||/^find/.test(i);d&&(_.prototype[i]=function(){var M=this.__wrapped__,D=f?[1]:arguments,N=M instanceof Pe,X=D[0],J=N||Se(M),ee=function(Ne){var Ue=d.apply(_,Nn([Ne],D));return f&&ue?Ue[0]:Ue};J&&l&&typeof X=="function"&&X.length!=1&&(N=J=!1);var ue=this.__chain__,de=!!this.__actions__.length,we=v&&!ue,Ce=N&&!de;if(!v&&J){M=Ce?M:new Pe(this);var ke=e.apply(M,D);return ke.__actions__.push({func:Vi,args:[ee],thisArg:r}),new Qt(ke,ue)}return we&&Ce?e.apply(this,D):(ke=this.thru(ee),we?f?ke.value()[0]:ke.value():ke)})}),Xt(["pop","push","shift","sort","splice","unshift"],function(e){var i=vi[e],l=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);_.prototype[e]=function(){var d=arguments;if(f&&!this.__chain__){var v=this.value();return i.apply(Se(v)?v:[],d)}return this[l](function(M){return i.apply(Se(M)?M:[],d)})}}),_n(Pe.prototype,function(e,i){var l=_[i];if(l){var f=l.name+"";Je.call(br,f)||(br[f]=[]),br[f].push({name:i,func:l})}}),br[Wi(r,A).name]=[{name:"wrapper",func:r}],Pe.prototype.clone=rd,Pe.prototype.reverse=id,Pe.prototype.value=sd,_.prototype.at=N1,_.prototype.chain=L1,_.prototype.commit=P1,_.prototype.next=U1,_.prototype.plant=W1,_.prototype.reverse=B1,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=H1,_.prototype.first=_.prototype.head,Wr&&(_.prototype[Wr]=F1),_},pr=Pg();Zn?((Zn.exports=pr)._=pr,Hs._=pr):Tt._=pr}).call(Rn)})(G2,ws);const Ur=ws;function Lf(n){let t,r,s;var u=n[3];function a(o){return{props:{size:o[0],color:o[1],strokeWidth:o[2]}}}return u&&(r=os(u,a(n))),{c(){t=K("span"),r&&qe(r.$$.fragment),this.h()},l(o){t=Z(o,"SPAN",{class:!0,style:!0});var h=j(t);r&&Ge(r.$$.fragment,h),h.forEach(C),this.h()},h(){T(t,"class","icon svelte-1r7hpvv"),De(t,"transform","rotate("+n[4]+"deg)")},m(o,h){se(o,t,h),r&&Ye(r,t,null),s=!0},p(o,h){const c={};if(h&1&&(c.size=o[0]),h&2&&(c.color=o[1]),h&4&&(c.strokeWidth=o[2]),u!==(u=o[3])){if(r){gt();const g=r;ie(g.$$.fragment,1,0,()=>{ze(g,1)}),dt()}u?(r=os(u,a(o)),qe(r.$$.fragment),ne(r.$$.fragment,1),Ye(r,t,null)):r=null}else u&&r.$set(c);(!s||h&16)&&De(t,"transform","rotate("+o[4]+"deg)")},i(o){s||(r&&ne(r.$$.fragment,o),s=!0)},o(o){r&&ie(r.$$.fragment,o),s=!1},d(o){o&&C(t),r&&ze(r)}}}function V2(n){let t,r,s=n[3]&&Lf(n);return{c(){s&&s.c(),t=Oe()},l(u){s&&s.l(u),t=Oe()},m(u,a){s&&s.m(u,a),se(u,t,a),r=!0},p(u,[a]){u[3]?s?(s.p(u,a),a&8&&ne(s,1)):(s=Lf(u),s.c(),ne(s,1),s.m(t.parentNode,t)):s&&(gt(),ie(s,1,1,()=>{s=null}),dt())},i(u){r||(ne(s),r=!0)},o(u){ie(s),r=!1},d(u){s&&s.d(u),u&&C(t)}}}function K2(n,t,r){let s;const u=["n","ne","e","se","s","sw","w","nw"];let{name:a}=t,{direction:o="n"}=t,{size:h="1em"}=t,{color:c=void 0}=t,{strokeWidth:g=void 0}=t,m;const y=p=>{const S=p.replace(/[^a-zA-Z0-9]+(.)/g,(w,A)=>A.toUpperCase()),k=p.charAt(0).toUpperCase(),b=S.slice(1);return`${k}${b}`};return fi(async()=>{const p=y(a);r(3,m=(await iv(()=>import("../../chunks/lucide-svelte-5f0ad8fe.js"),["../../chunks/lucide-svelte-5f0ad8fe.js","../../chunks/index-78a5a872.js"],import.meta.url))[p])}),n.$$set=p=>{"name"in p&&r(6,a=p.name),"direction"in p&&r(7,o=p.direction),"size"in p&&r(0,h=p.size),"color"in p&&r(1,c=p.color),"strokeWidth"in p&&r(2,g=p.strokeWidth)},n.$$.update=()=>{n.$$.dirty&128&&r(4,s=u.indexOf(o)*45)},[h,c,g,m,s,u,a,o]}class kn extends rt{constructor(t){super(),it(this,t,K2,V2,$e,{directions:5,name:6,direction:7,size:0,color:1,strokeWidth:2})}get directions(){return this.$$.ctx[5]}}var Z2="Expected a function",Pf=0/0,X2="[object Symbol]",J2=/^\s+|\s+$/g,Q2=/^[-+]0x[0-9a-f]+$/i,j2=/^0b[01]+$/i,$2=/^0o[0-7]+$/i,eb=parseInt,tb=typeof Rn=="object"&&Rn&&Rn.Object===Object&&Rn,nb=typeof self=="object"&&self&&self.Object===Object&&self,rb=tb||nb||Function("return this")(),ib=Object.prototype,sb=ib.toString,lb=Math.max,ub=Math.min,$l=function(){return rb.Date.now()};function ob(n,t,r){var s,u,a,o,h,c,g=0,m=!1,y=!1,p=!0;if(typeof n!="function")throw new TypeError(Z2);t=Uf(t)||0,au(r)&&(m=!!r.leading,y="maxWait"in r,a=y?lb(Uf(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p);function S(U){var z=s,q=u;return s=u=void 0,g=U,o=n.apply(q,z),o}function k(U){return g=U,h=setTimeout(A,t),m?S(U):o}function b(U){var z=U-c,q=U-g,$=t-z;return y?ub($,a-q):$}function w(U){var z=U-c,q=U-g;return c===void 0||z>=t||z<0||y&&q>=a}function A(){var U=$l();if(w(U))return R(U);h=setTimeout(A,b(U))}function R(U){return h=void 0,p&&s?S(U):(s=u=void 0,o)}function E(){h!==void 0&&clearTimeout(h),g=0,s=c=u=h=void 0}function x(){return h===void 0?o:R($l())}function F(){var U=$l(),z=w(U);if(s=arguments,u=this,c=U,z){if(h===void 0)return k(c);if(y)return h=setTimeout(A,t),S(c)}return h===void 0&&(h=setTimeout(A,t)),o}return F.cancel=E,F.flush=x,F}function au(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function ab(n){return!!n&&typeof n=="object"}function fb(n){return typeof n=="symbol"||ab(n)&&sb.call(n)==X2}function Uf(n){if(typeof n=="number")return n;if(fb(n))return Pf;if(au(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=au(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=n.replace(J2,"");var r=j2.test(n);return r||$2.test(n)?eb(n.slice(2),r?2:8):Q2.test(n)?Pf:+n}var cb=ob;const lh=hu({width:0,height:0},n=>{const t=()=>n({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",cb(t,250)),()=>{window.removeEventListener("resize",t)}});function Ff(n,t,r){const s=n.slice();s[50]=t[r];const u=s[13](s[50]);return s[51]=u,s}function Wf(n,t,r){const s=n.slice();s[54]=t[r];const u=s[13](s[54]%s[15]);return s[55]=u,s}function hb(n){let t,r;return t=new kn({props:{name:"volume-2"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function gb(n){let t,r;return t=new kn({props:{name:"volume-x"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function Bf(n){let t,r;return t=new _v({props:{noteData:n[54],instrumentId:n[0],x:n[55]}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},p(s,u){const a={};u[0]&2&&(a.noteData=s[54]),u[0]&1&&(a.instrumentId=s[0]),u[0]&8194&&(a.x=s[55]),t.$set(a)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function Hf(n){let t;return{c(){t=K("div"),this.h()},l(r){t=Z(r,"DIV",{class:!0}),j(t).forEach(C),this.h()},h(){T(t,"class","dot"),De(t,"left",`${n[51]}px`)},m(r,s){se(r,t,s)},p(r,s){s[0]&8192&&De(t,"left",`${r[51]}px`)},d(r){r&&C(t)}}}function qf(n){let t,r,s,u,a;return{c(){t=K("button"),r=We(n[9]),this.h()},l(o){t=Z(o,"BUTTON",{class:!0});var h=j(t);r=Be(h,n[9]),h.forEach(C),this.h()},h(){T(t,"class","action-btn svelte-1geima7"),t.disabled=s=n[6]||n[14]==="straight"&&n[5],pe(t,"mobile",n[6])},m(o,h){se(o,t,h),P(t,r),n[33](t),u||(a=Le(t,"click",n[26]),u=!0)},p(o,h){h[0]&512&&Mt(r,o[9]),h[0]&96&&s!==(s=o[6]||o[14]==="straight"&&o[5])&&(t.disabled=s),h[0]&64&&pe(t,"mobile",o[6])},d(o){o&&C(t),n[33](null),u=!1,a()}}}function db(n){let t,r,s,u,a=n[24](n[0])+"",o,h,c,g,m,y,p,S,k,b,w,A,R,E;const x=[gb,hb],F=[];function U(I,L){return I[11]?0:1}g=U(n),m=F[g]=x[g](n);let z=n[1],q=[];for(let I=0;I<z.length;I+=1)q[I]=Bf(Wf(n,z,I));const $=I=>ie(q[I],1,1,()=>{q[I]=null});let B=dn(0,n[15],.5),W=[];for(let I=0;I<B.length;I+=1)W[I]=Hf(Ff(n,B,I));let Q=n[2]&&qf(n);return{c(){t=K("div"),r=K("div"),s=me(),u=K("div"),o=We(a),h=me(),c=K("button"),m.c(),y=me(),p=K("div");for(let I=0;I<q.length;I+=1)q[I].c();S=me();for(let I=0;I<W.length;I+=1)W[I].c();b=me(),Q&&Q.c(),this.h()},l(I){t=Z(I,"DIV",{class:!0});var L=j(t);r=Z(L,"DIV",{class:!0}),j(r).forEach(C),s=_e(L),u=Z(L,"DIV",{class:!0});var G=j(u);o=Be(G,a),h=_e(G),c=Z(G,"BUTTON",{class:!0});var H=j(c);m.l(H),H.forEach(C),G.forEach(C),y=_e(L),p=Z(L,"DIV",{class:!0});var ge=j(p);for(let ve=0;ve<q.length;ve+=1)q[ve].l(ge);S=_e(ge);for(let ve=0;ve<W.length;ve+=1)W[ve].l(ge);ge.forEach(C),b=_e(L),Q&&Q.l(L),L.forEach(C),this.h()},h(){T(r,"class","interaction-layer svelte-1geima7"),pe(r,"clickable",n[6]&&n[2]),De(r,"height",`${n[8]}px`),De(r,"width",`${n[7]}px`),De(r,"left",`${n[12]}px`),T(c,"class","mute svelte-1geima7"),T(u,"class","label svelte-1geima7"),T(p,"class","notes svelte-1geima7"),Yn(()=>n[31].call(p)),T(t,"class","instrument svelte-1geima7"),Yn(()=>n[34].call(t)),pe(t,"muted",n[11])},m(I,L){se(I,t,L),P(t,r),P(t,s),P(t,u),P(u,o),P(u,h),P(u,c),F[g].m(c,null),P(t,y),P(t,p);for(let G=0;G<q.length;G+=1)q[G].m(p,null);P(p,S);for(let G=0;G<W.length;G+=1)W[G].m(p,null);k=as(p,n[31].bind(p)),n[32](p),P(t,b),Q&&Q.m(t,null),w=as(t,n[34].bind(t)),A=!0,R||(E=[Le(r,"click",function(){tu(n[10])&&n[10].apply(this,arguments)}),Le(r,"keydown",function(){tu(n[10])&&n[10].apply(this,arguments)}),Le(c,"click",n[30])],R=!0)},p(I,L){n=I,(!A||L[0]&68)&&pe(r,"clickable",n[6]&&n[2]),L[0]&256&&De(r,"height",`${n[8]}px`),L[0]&128&&De(r,"width",`${n[7]}px`),L[0]&4096&&De(r,"left",`${n[12]}px`),(!A||L[0]&1)&&a!==(a=n[24](n[0])+"")&&Mt(o,a);let G=g;if(g=U(n),g!==G&&(gt(),ie(F[G],1,1,()=>{F[G]=null}),dt(),m=F[g],m||(m=F[g]=x[g](n),m.c()),ne(m,1),m.m(c,null)),L[0]&40963){z=n[1];let H;for(H=0;H<z.length;H+=1){const ge=Wf(n,z,H);q[H]?(q[H].p(ge,L),ne(q[H],1)):(q[H]=Bf(ge),q[H].c(),ne(q[H],1),q[H].m(p,S))}for(gt(),H=z.length;H<q.length;H+=1)$(H);dt()}if(L[0]&40960){B=dn(0,n[15],.5);let H;for(H=0;H<B.length;H+=1){const ge=Ff(n,B,H);W[H]?W[H].p(ge,L):(W[H]=Hf(ge),W[H].c(),W[H].m(p,null))}for(;H<W.length;H+=1)W[H].d(1);W.length=B.length}n[2]?Q?Q.p(n,L):(Q=qf(n),Q.c(),Q.m(t,null)):Q&&(Q.d(1),Q=null),(!A||L[0]&2048)&&pe(t,"muted",n[11])},i(I){if(!A){ne(m);for(let L=0;L<z.length;L+=1)ne(q[L]);A=!0}},o(I){ie(m),q=q.filter(Boolean);for(let L=0;L<q.length;L+=1)ie(q[L]);A=!1},d(I){I&&C(t),F[g].d(),pt(q,I),pt(W,I),k(),n[32](null),Q&&Q.d(),w(),R=!1,sn(E)}}}function mb(n,t,r){let s,u,a,o,h,c,g,m,y,p,S,k,b;oe(n,lh,ce=>r(28,g=ce));let{i:w}=t,{id:A}=t,{data:R}=t,{action:E}=t;const{songId:x,getAllParts:F,beatsPerMeasure:U,getXScale:z,getInstrumentToggles:q,getInstrumentStyles:$,getHighlightedNotes:B,getWidth:W,getXOffset:Q,getCurrentActionIndex:I,style:L}=Gn("song"),G=F();oe(n,G,ce=>r(37,S=ce));const H=z();oe(n,H,ce=>r(13,b=ce));const ge=q();oe(n,ge,ce=>r(29,m=ce));const ve=$();oe(n,ve,ce=>r(38,k=ce));const re=B();oe(n,re,ce=>r(36,p=ce));const Ee=W();oe(n,Ee,ce=>r(7,c=ce));const xe=Q();oe(n,xe,ce=>r(12,h=ce));const ae=I();oe(n,ae,ce=>r(35,y=ce));let Xe=0,ot,Fe,st=!1,ln=R,kt=k[A];const le=ce=>Ur.upperFirst(ce==="hihat"?"hi-hat":ce),be=ce=>{L!=="real"&&Qe(ge,m[ce]=m[ce]==="off"?"on":"off",m)},Te=ce=>{if(st)Qe(ve,k[A]=kt,k),Qe(re,p[A]=[],p);else{Qe(ve,k[A]=E.style,k);const Kt=S.find(un=>un.instrument===A&&un.style===E.style).data;x==="straight"&&Qe(re,p={},p),Qe(re,p[A]=Kt.filter(un=>!ln.includes(un)),p)}if(ce.target.classList.contains("pulse")){ce.target.classList.remove("pulse");const Kt=document.querySelectorAll(`#${x} button.action-btn`),un=Array.from(Kt).indexOf(ce.target),mn=Kt[un+1];mn&&mn.classList.add("visible","pulse"),Qe(ae,y+=1,y)}r(5,st=!st)},te=()=>be(A);function at(){c=this.clientWidth,Ee.set(c)}function Ae(ce){Dt[ce?"unshift":"push"](()=>{Fe=ce,r(4,Fe)})}function et(ce){Dt[ce?"unshift":"push"](()=>{ot=ce,r(3,ot)})}function ct(){Xe=this.clientHeight,r(8,Xe)}return n.$$set=ce=>{"i"in ce&&r(27,w=ce.i),"id"in ce&&r(0,A=ce.id),"data"in ce&&r(1,R=ce.data),"action"in ce&&r(2,E=ce.action)},n.$$.update=()=>{n.$$.dirty[0]&536870913&&r(11,s=m[A]==="off"),n.$$.dirty[0]&268435456&&r(6,u=g.width<600),n.$$.dirty[0]&76&&r(10,a=u&&E?()=>Te({target:ot}):null),n.$$.dirty[0]&144&&c&&Fe&&Qe(xe,h=Fe.offsetLeft,h),n.$$.dirty[0]&36&&r(9,o=E&&st?`${x==="straight"?"":"un-"}${E.description}`:E&&!st?`${E.description}`:"")},[A,R,E,ot,Fe,st,u,c,Xe,o,a,s,h,b,x,U,G,H,ge,ve,re,Ee,xe,ae,le,be,Te,w,g,m,te,at,Ae,et,ct]}class _b extends rt{constructor(t){super(),it(this,t,mb,db,$e,{i:27,id:0,data:1,action:2},null,[-1,-1])}}const ks=nt(!1),ai=nt(!0),fu=nt(void 0),us=nt("up"),Yf=n=>n.reduce((t,r,s)=>s%2===1?t.concat(r):t,[]),pb={instrument:"kick",style:"missing",data:[]},Ir={instrument:"kick",style:"straight",data:[0,2]},vb={instrument:"kick",style:"money",data:[1.5,2,3,3.5]},yb={instrument:"snare",style:"missing",data:[]},ni={instrument:"snare",style:"straight",data:[1,3]},Cr={instrument:"snare",style:"shift",data:[.9,2.9]},bb={instrument:"hihat",style:"missing",data:[]},is={instrument:"hihat",style:"straight",data:[0,.5,1,1.5,2,2.5,3,3.5]},wb={instrument:"hihat",style:"triplet",data:[0,.666,1,1.666,2,2.666,3,3.666]},zf={instrument:"hihat",style:"erykah",data:[.1,.6,1.1,1.6,2.1,2.6,3.1,3.6]},Gf={instrument:"hihat",style:"quintuplet",data:[0,.6,1,1.6,2,2.6,3,3.6]},Vf={instrument:"hihat",style:"money",data:[0,.52,1,1.52,2,2.52,3,3.52]},kb={instrument:"bass",style:"missing",data:[]},ss={instrument:"bass",style:"straight",data:[0,.5,1,1.5,2,2.5,3,3.5]},Tb={instrument:"bass",style:"triplet",data:[0,.666,1,1.666,2,2.666,3,3.666]},Ab={instrument:"bass",style:"dilla",data:[0,.6,1,1.6,2,2.6,3,3.6]},Kf={instrument:"synth",style:"erykah",data:[.1,.6,1.1,1.6,2.1,2.6,3.1,3.6]},Mb=hu({normal:{parts:[{instrument:"kick",data:dn(8,32,2),style:"normal"}],defaultStyles:{kick:"normal"},beatsPerMeasure:32,measures:1,autoplay:!0,gridlines:!1},drunk:{parts:[{instrument:"kick",data:dn(8,32,2).map(n=>n+Math.floor(Math.random()*2)),style:"drunk"}],defaultStyles:{kick:"drunk"},beatsPerMeasure:32,measures:1,autoplay:!0,gridlines:!1},straight:{parts:[is,ss,Ir,ni,bb,kb,pb,yb],defaultStyles:{hihat:"missing",bass:"missing",kick:"missing",snare:"missing"},actions:[{instrument:"bass",description:"add the bass",style:"straight"},{instrument:"hihat",description:"add the hi-hat",style:"straight"},{instrument:"kick",description:"add the kick",style:"straight"},{instrument:"snare",description:"add the snare",style:"straight"}],beatsPerMeasure:4,measures:4},swing:{parts:[is,wb,ss,Tb,Ir,ni],defaultStyles:{hihat:"straight",bass:"straight",kick:"straight",snare:"straight"},actions:[{instrument:"bass",description:"swing the bass",style:"triplet"},{instrument:"hihat",description:"swing the hi-hat",style:"triplet"}],beatsPerMeasure:4,measures:4},shift:{parts:[is,ss,Ir,ni,Cr],defaultStyles:{hihat:"straight",bass:"straight",kick:"straight",snare:"straight"},actions:[{instrument:"snare",description:"shift the snare",style:"shift"}],beatsPerMeasure:4,measures:4},dilla:{parts:[is,ss,Ir,ni,Cr,Ab],defaultStyles:{hihat:"straight",bass:"straight",kick:"straight",snare:"straight"},actions:[{instrument:"bass",description:"swing the bass",style:"dilla"},{instrument:"snare",description:"shift the snare",style:"shift"}],beatsPerMeasure:4,measures:4},erykah:{parts:[zf,Kf,Ir,ni],defaultStyles:{hihat:"erykah",synth:"erykah",kick:"straight",snare:"straight"},actions:[],beatsPerMeasure:4,measures:8,highlighted:{synth:Kf.data,hihat:zf.data}},money:{parts:[Vf,vb,Cr],defaultStyles:{hihat:"money",kick:"money",snare:"shift"},actions:[],beatsPerMeasure:4,measures:4,highlighted:{hihat:Yf(Vf.data),snare:Cr.data}},heart:{parts:[Gf,Ir,Cr],defaultStyles:{hihat:"quintuplet",kick:"straight",snare:"shift"},actions:[],beatsPerMeasure:4,measures:4,highlighted:{hihat:Yf(Gf.data),snare:Cr.data}}});function Sb(n){let t,r;return{c(){t=K("audio"),this.h()},l(s){t=Z(s,"AUDIO",{preload:!0,src:!0}),j(t).forEach(C),this.h()},h(){T(t,"preload",n[0]),Ct(t.src,r=n[2])||T(t,"src",r),t.muted=n[5]},m(s,u){se(s,t,u),n[21](t)},p(s,u){u&1&&T(t,"preload",s[0]),u&4&&!Ct(t.src,r=s[2])&&T(t,"src",r),u&32&&(t.muted=s[5])},d(s){s&&C(t),n[21](null)}}}function Eb(n){let t,r,s=!1,u,a,o;function h(){cancelAnimationFrame(u),t.paused||(u=ri(h),s=!0),n[19].call(t)}return{c(){t=K("audio"),this.h()},l(c){t=Z(c,"AUDIO",{preload:!0,class:!0,src:!0}),j(t).forEach(C),this.h()},h(){T(t,"preload",n[0]),T(t,"class",n[1]),Ct(t.src,r=n[2])||T(t,"src",r),t.muted=n[5],n[4]===void 0&&Yn(()=>n[18].call(t))},m(c,g){se(c,t,g),n[20](t),a||(o=[Le(t,"durationchange",n[18]),Le(t,"timeupdate",h)],a=!0)},p(c,g){g&1&&T(t,"preload",c[0]),g&2&&T(t,"class",c[1]),g&4&&!Ct(t.src,r=c[2])&&T(t,"src",r),g&32&&(t.muted=c[5]),!s&&g&64&&!isNaN(c[6])&&(t.currentTime=c[6]),s=!1},d(c){c&&C(t),n[20](null),a=!1,sn(o)}}}function Ib(n){let t;function r(a,o){return a[1]==="leader"?Eb:Sb}let s=r(n),u=s(n);return{c(){u.c(),t=Oe()},l(a){u.l(a),t=Oe()},m(a,o){u.m(a,o),se(a,t,o)},p(a,[o]){s===(s=r(a))&&u?u.p(a,o):(u.d(1),u=s(a),u&&(u.c(),u.m(t.parentNode,t)))},i:He,o:He,d(a){u.d(a),a&&C(t)}}}function Cb(n,t,r){let s,u,a,o,h,c,g;oe(n,ai,H=>r(17,c=H));const{getAudioEls:m,getSeek:y,getDuration:p,getInstrumentToggles:S,getInstrumentStyles:k}=Gn("song"),b=m();oe(n,b,H=>r(7,a=H));const w=y();oe(n,w,H=>r(6,u=H));const A=p();oe(n,A,H=>r(22,g=H));const R=S();oe(n,R,H=>r(16,h=H));const E=k();oe(n,E,H=>r(15,o=H));let{preload:x}=t,{classname:F}=t,{src:U}=t,{i:z}=t,{instrument:q}=t,{style:$}=t,B=0;const W=()=>{a&&a.length&&a.forEach(H=>{H.currentTime=u})};function Q(){B=this.duration,r(4,B)}function I(){u=this.currentTime,w.set(u)}function L(H){Dt[H?"unshift":"push"](()=>{a[z]=H,b.set(a)})}function G(H){Dt[H?"unshift":"push"](()=>{a[z]=H,b.set(a)})}return n.$$set=H=>{"preload"in H&&r(0,x=H.preload),"classname"in H&&r(1,F=H.classname),"src"in H&&r(2,U=H.src),"i"in H&&r(3,z=H.i),"instrument"in H&&r(13,q=H.instrument),"style"in H&&r(14,$=H.style)},n.$$.update=()=>{n.$$.dirty&16&&Qe(A,g=B,g),n.$$.dirty&253952&&r(5,s=!c||h[q]==="off"||o[q]!==$),n.$$.dirty&32&&(s||W())},[x,F,U,z,B,s,u,a,b,w,A,R,E,q,$,o,h,c,Q,I,L,G]}class uh extends rt{constructor(t){super(),it(this,t,Cb,Ib,$e,{preload:0,classname:1,src:2,i:3,instrument:13,style:14})}}function Zf(n,t,r){const s=n.slice();s[32]=t[r].instrument,s[15]=t[r].style,s[35]=r;const u=`assets/sound/${s[15]}/${s[32]}.mp3`;return s[33]=u,s}function Db(n){let t,r;return t=new kn({props:{name:"play"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function xb(n){let t,r;return t=new kn({props:{name:"pause"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function Rb(n){let t,r,s=n[6],u=[];for(let o=0;o<s.length;o+=1)u[o]=Jf(Zf(n,s,o));const a=o=>ie(u[o],1,1,()=>{u[o]=null});return{c(){for(let o=0;o<u.length;o+=1)u[o].c();t=Oe()},l(o){for(let h=0;h<u.length;h+=1)u[h].l(o);t=Oe()},m(o,h){for(let c=0;c<u.length;c+=1)u[c].m(o,h);se(o,t,h),r=!0},p(o,h){if(h[0]&80){s=o[6];let c;for(c=0;c<s.length;c+=1){const g=Zf(o,s,c);u[c]?(u[c].p(g,h),ne(u[c],1)):(u[c]=Jf(g),u[c].c(),ne(u[c],1),u[c].m(t.parentNode,t))}for(gt(),c=s.length;c<u.length;c+=1)a(c);dt()}},i(o){if(!r){for(let h=0;h<s.length;h+=1)ne(u[h]);r=!0}},o(o){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)ie(u[h]);r=!1},d(o){pt(u,o),o&&C(t)}}}function Ob(n){let t,r;return t=new uh({props:{src:`assets/sound/real-songs/${n[7]}.mp3`,preload:"none",classname:"leader",i:0}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},p:He,i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function Xf(n){let t,r;return t=new uh({props:{src:n[33],instrument:n[32],style:n[15],preload:n[4]?"auto":"none",classname:n[35]===0?"leader":"",i:n[35]}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},p(s,u){const a={};u[0]&64&&(a.src=s[33]),u[0]&64&&(a.instrument=s[32]),u[0]&64&&(a.style=s[15]),u[0]&16&&(a.preload=s[4]?"auto":"none"),t.$set(a)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function Jf(n){let t,r,s=n[15]!=="missing"&&Xf(n);return{c(){s&&s.c(),t=Oe()},l(u){s&&s.l(u),t=Oe()},m(u,a){s&&s.m(u,a),se(u,t,a),r=!0},p(u,a){u[15]!=="missing"?s?(s.p(u,a),a[0]&64&&ne(s,1)):(s=Xf(u),s.c(),ne(s,1),s.m(t.parentNode,t)):s&&(gt(),ie(s,1,1,()=>{s=null}),dt())},i(u){r||(ne(s),r=!0)},o(u){ie(s),r=!1},d(u){s&&s.d(u),u&&C(t)}}}function Nb(n){let t,r,s,u,a,o,h,c,g,m;const y=[xb,Db],p=[];function S(A,R){return A[5]?0:1}r=S(n),s=p[r]=y[r](n);const k=[Ob,Rb],b=[];function w(A,R){return A[15]==="real"?0:1}return a=w(n),o=b[a]=k[a](n),{c(){t=K("button"),s.c(),u=me(),o.c(),h=Oe(),this.h()},l(A){t=Z(A,"BUTTON",{class:!0});var R=j(t);s.l(R),R.forEach(C),u=_e(A),o.l(A),h=Oe(),this.h()},h(){T(t,"class","svelte-enibq3"),pe(t,"pulse",n[3]),pe(t,"started",n[2]||n[15]==="real")},m(A,R){se(A,t,R),p[r].m(t,null),se(A,u,R),b[a].m(A,R),se(A,h,R),c=!0,g||(m=Le(t,"click",function(){tu(n[5]?n[1]:n[0])&&(n[5]?n[1]:n[0]).apply(this,arguments)}),g=!0)},p(A,R){n=A;let E=r;r=S(n),r!==E&&(gt(),ie(p[E],1,1,()=>{p[E]=null}),dt(),s=p[r],s||(s=p[r]=y[r](n),s.c()),ne(s,1),s.m(t,null)),(!c||R[0]&8)&&pe(t,"pulse",n[3]),(!c||R[0]&32772)&&pe(t,"started",n[2]||n[15]==="real"),o.p(n,R)},i(A){c||(ne(s),ne(o),c=!0)},o(A){ie(s),ie(o),c=!1},d(A){A&&C(t),p[r].d(),A&&C(u),b[a].d(A),A&&C(h),g=!1,m()}}}function Lb(n,t,r){let s,u,a,o,h,c,g,m,y,p;const{songId:S,autoplay:k,getAllParts:b,getVisible:w,getDuration:A,getTrimmedDuration:R,getSeek:E,getPlayClicked:x,getIsPlaying:F,style:U,song:z,artist:q}=Gn("song"),$=b();oe(n,$,re=>r(6,p=re));const B=A();oe(n,B,re=>r(21,g=re));const W=R();oe(n,W,re=>r(19,h=re));const Q=E();oe(n,Q,re=>r(20,c=re));const I=x();oe(n,I,re=>r(2,m=re));const L=F();oe(n,L,re=>r(5,y=re));const G=w();oe(n,G,re=>r(18,o=re));let{play:H}=t,{pause:ge}=t,{reset:ve}=t;return n.$$set=re=>{"play"in re&&r(0,H=re.play),"pause"in re&&r(1,ge=re.pause),"reset"in re&&r(16,ve=re.reset)},n.$$.update=()=>{n.$$.dirty[0]&2228224&&Qe(W,h=g*1e3-s,h),n.$$.dirty[0]&4&&r(3,a=!m&&U!=="real"),n.$$.dirty[0]&3735553&&g&&c*1e3>h&&(ve(),H()),n.$$.dirty[0]&327681&&o&&k&&(ve(),H()),n.$$.dirty[0]&262146&&(o||ge())},r(17,s=S==="heart"?300:S==="money"?500:1300),r(4,u=S==="normal"||S==="drunk"),[H,ge,m,a,u,y,p,S,$,B,W,Q,I,L,G,U,ve,s,o,h,c,g]}class Pb extends rt{constructor(t){super(),it(this,t,Lb,Nb,$e,{play:0,pause:1,reset:16},null,[-1,-1])}}function Qf(n,t,r){const s=n.slice();s[12]=t[r].text,s[13]=t[r].arrows,s[14]=t[r].left,s[15]=t[r].top;const u=`${s[1]+s[2]*s[14]/100}px`;s[16]=u;const a=`${s[3]*s[15]/100}px`;s[17]=a;const o=s[2]-s[16];return s[18]=o,s}function jf(n){let t,r;return t=new kn({props:{name:"corner-left-up"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function $f(n){let t,r;return t=new kn({props:{name:"corner-left-down"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function ec(n){let t,r,s=n[13].includes("up"),u,a=n[13].includes("down"),o,h,c=n[12]+"",g,m,y,p=s&&jf(),S=a&&$f();return{c(){t=K("div"),r=K("div"),p&&p.c(),u=me(),S&&S.c(),o=me(),h=K("div"),g=We(c),m=me(),this.h()},l(k){t=Z(k,"DIV",{class:!0});var b=j(t);r=Z(b,"DIV",{class:!0});var w=j(r);p&&p.l(w),u=_e(w),S&&S.l(w),w.forEach(C),o=_e(b),h=Z(b,"DIV",{class:!0});var A=j(h);g=Be(A,c),A.forEach(C),m=_e(b),b.forEach(C),this.h()},h(){T(r,"class","icons svelte-1evddjk"),T(h,"class","text svelte-1evddjk"),De(h,"transform",n[13].length===2?"translate(0, -2px)":n[13].includes("up")?"translate(0, 2px)":"translate(0, -8px)"),T(t,"class","annotation svelte-1evddjk"),De(t,"left",n[16]),De(t,"top",n[17]),De(t,"width",`${n[18]}px`)},m(k,b){se(k,t,b),P(t,r),p&&p.m(r,null),P(r,u),S&&S.m(r,null),P(t,o),P(t,h),P(h,g),P(t,m),y=!0},p(k,b){b&1&&(s=k[13].includes("up")),s?p?b&1&&ne(p,1):(p=jf(),p.c(),ne(p,1),p.m(r,u)):p&&(gt(),ie(p,1,1,()=>{p=null}),dt()),b&1&&(a=k[13].includes("down")),a?S?b&1&&ne(S,1):(S=$f(),S.c(),ne(S,1),S.m(r,null)):S&&(gt(),ie(S,1,1,()=>{S=null}),dt()),(!y||b&1)&&c!==(c=k[12]+"")&&Mt(g,c),b&1&&De(h,"transform",k[13].length===2?"translate(0, -2px)":k[13].includes("up")?"translate(0, 2px)":"translate(0, -8px)"),b&7&&De(t,"left",k[16]),b&9&&De(t,"top",k[17]),b&7&&De(t,"width",`${k[18]}px`)},i(k){y||(ne(p),ne(S),y=!0)},o(k){ie(p),ie(S),y=!1},d(k){k&&C(t),p&&p.d(),S&&S.d()}}}function Ub(n){let t,r,s=n[0],u=[];for(let o=0;o<s.length;o+=1)u[o]=ec(Qf(n,s,o));const a=o=>ie(u[o],1,1,()=>{u[o]=null});return{c(){for(let o=0;o<u.length;o+=1)u[o].c();t=Oe()},l(o){for(let h=0;h<u.length;h+=1)u[h].l(o);t=Oe()},m(o,h){for(let c=0;c<u.length;c+=1)u[c].m(o,h);se(o,t,h),r=!0},p(o,[h]){if(h&15){s=o[0];let c;for(c=0;c<s.length;c+=1){const g=Qf(o,s,c);u[c]?(u[c].p(g,h),ne(u[c],1)):(u[c]=ec(g),u[c].c(),ne(u[c],1),u[c].m(t.parentNode,t))}for(gt(),c=s.length;c<u.length;c+=1)a(c);dt()}},i(o){if(!r){for(let h=0;h<s.length;h+=1)ne(u[h]);r=!0}},o(o){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)ie(u[h]);r=!1},d(o){pt(u,o),o&&C(t)}}}function Fb(n,t,r){let s,u,a,o;const{songId:h,getXOffset:c,getWidth:g,getHeight:m}=Gn("song"),y=c();oe(n,y,b=>r(1,u=b));const p=g();oe(n,p,b=>r(2,a=b));const S=m();return oe(n,S,b=>r(3,o=b)),r(0,s={erykah:[{text:"hi-hat and synth are both swung but also shifted",arrows:["up","down"],left:14,top:19}],money:[{text:"hi-hat is slightly swung",arrows:["up"],left:12,top:25},{text:"snare is slightly early",arrows:["down"],left:21,top:68}],heart:[{text:"hi-hat is at a quintuplet swing",arrows:["up"],left:14,top:25},{text:"snare is slightly early",arrows:["down"],left:21,top:68}]}[h]||[]),[s,u,a,o,y,p,S]}class Wb extends rt{constructor(t){super(),it(this,t,Fb,Ub,$e,{})}}function tc(n,t,r){const s=n.slice();return s[15]=t[r],s[16]=t,s[17]=r,s}function nc(n){let t,r=n[0],s=[];for(let u=0;u<r.length;u+=1)s[u]=rc(tc(n,r,u));return{c(){t=K("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){t=Z(u,"DIV",{class:!0});var a=j(t);for(let o=0;o<s.length;o+=1)s[o].l(a);a.forEach(C),this.h()},h(){T(t,"class","wrapper svelte-1pvb70q"),pe(t,"visible",n[5]),De(t,"height",`${n[5]?n[3]+18:0}px`)},m(u,a){se(u,t,a);for(let o=0;o<s.length;o+=1)s[o].m(t,null)},p(u,a){if(a&279){r=u[0];let o;for(o=0;o<r.length;o+=1){const h=tc(u,r,o);s[o]?s[o].p(h,a):(s[o]=rc(h),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}a&32&&pe(t,"visible",u[5]),a&40&&De(t,"height",`${u[5]?u[3]+18:0}px`)},d(u){u&&C(t),pt(s,u)}}}function rc(n){let t,r,s,u=n[15]+"",a,o,h=n[17],c,g;function m(){return n[9](n[17])}const y=()=>n[10](s,h),p=()=>n[10](null,h);return{c(){t=K("div"),r=me(),s=K("div"),a=We(u),o=me(),this.h()},l(S){t=Z(S,"DIV",{class:!0}),j(t).forEach(C),r=_e(S),s=Z(S,"DIV",{class:!0});var k=j(s);a=Be(k,u),o=_e(k),k.forEach(C),this.h()},h(){T(t,"class","bar svelte-1pvb70q"),pe(t,"active",n[17]===n[1]),pe(t,"clickable",n[4]),T(s,"class","text svelte-1pvb70q"),pe(s,"visible",n[17]===n[1])},m(S,k){se(S,t,k),se(S,r,k),se(S,s,k),P(s,a),P(s,o),y(),c||(g=Le(t,"click",m),c=!0)},p(S,k){n=S,k&2&&pe(t,"active",n[17]===n[1]),k&16&&pe(t,"clickable",n[4]),k&1&&u!==(u=n[15]+"")&&Mt(a,u),h!==n[17]&&(p(),h=n[17],y()),k&2&&pe(s,"visible",n[17]===n[1])},d(S){S&&C(t),S&&C(r),S&&C(s),p(),c=!1,g()}}}function Bb(n){let t,r=n[0].length&&nc(n);return{c(){r&&r.c(),t=Oe()},l(s){r&&r.l(s),t=Oe()},m(s,u){r&&r.m(s,u),se(s,t,u)},p(s,[u]){s[0].length?r?r.p(s,u):(r=nc(s),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:He,o:He,d(s){r&&r.d(s),s&&C(t)}}}function Hb(n,t,r){let s,u,{notes:a}=t;const{songId:o,getCurrentActionIndex:h,getPlayClicked:c,getHighlightedNotes:g}=Gn("song"),m=h();oe(n,m,R=>r(1,s=R));const y=c();oe(n,y,R=>r(5,u=R));let p=[],S=0,k=!1;const b=R=>{k&&Qe(m,s=R,s)};fi(()=>{a.length&&r(3,S=Math.max(...p.map(R=>R.getBoundingClientRect().height)))});const w=R=>b(R);function A(R,E){Dt[R?"unshift":"push"](()=>{p[E]=R,r(2,p)})}return n.$$set=R=>{"notes"in R&&r(0,a=R.notes)},n.$$.update=()=>{n.$$.dirty&3&&s===a.length-1&&r(4,k=!0)},[a,s,p,S,k,u,m,y,b,w,A]}class qb extends rt{constructor(t){super(),it(this,t,Hb,Bb,$e,{notes:0})}}function oh(n,t={}){let r;const s=a=>{const o=a[0].isIntersecting,h=o?"enter":"exit";if(n.dispatchEvent(new CustomEvent(h)),t.progress&&o){const g={ratio:a[0].intersectionRatio};n.dispatchEvent(new CustomEvent("progress",{detail:g}))}},u=({root:a,top:o,bottom:h})=>{const c=o?o*-1:0,g=h?h*-1:0,m=`${c}px 0px ${g}px 0px`,y={root:a,rootMargin:m};r&&r.disconnect(),r=new IntersectionObserver(s,y),r.observe(n)};return u(t),{update(a){u(a)},destroy(){r&&r.disconnect()}}}function ic(n,t,r){var o;const s=n.slice();s[59]=t[r],s[63]=r;const u=(o=s[5].find(function(...c){return n[41](s[59],...c)}))==null?void 0:o.data;s[60]=u;const a=s[14]?s[14].find(function(...c){return n[42](s[59],...c)}):null;return s[61]=a,s}function sc(n,t,r){const s=n.slice();s[64]=t[r];const u=s[64]%1===0;s[65]=u;const a=s[8](s[64]);return s[66]=a,s}function lc(n){let t,r,s,u,a,o;return{c(){t=K("h3"),r=K("span"),s=We(n[3]),u=We(" by "),a=K("span"),o=We(n[4]),this.h()},l(h){t=Z(h,"H3",{class:!0});var c=j(t);r=Z(c,"SPAN",{class:!0});var g=j(r);s=Be(g,n[3]),g.forEach(C),u=Be(c," by "),a=Z(c,"SPAN",{class:!0});var m=j(a);o=Be(m,n[4]),m.forEach(C),c.forEach(C),this.h()},h(){T(r,"class","svelte-juqkg1"),T(a,"class","svelte-juqkg1"),T(t,"class","svelte-juqkg1")},m(h,c){se(h,t,c),P(t,r),P(r,s),P(t,u),P(t,a),P(a,o)},p(h,c){c[0]&8&&Mt(s,h[3]),c[0]&16&&Mt(o,h[4])},d(h){h&&C(t)}}}function Yb(n){let t,r;return t=new gv({}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function zb(n){let t,r=dn(0,n[15]),s=[];for(let u=0;u<r.length;u+=1)s[u]=uc(sc(n,r,u));return{c(){t=K("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){t=Z(u,"DIV",{class:!0});var a=j(t);for(let o=0;o<s.length;o+=1)s[o].l(a);a.forEach(C),this.h()},h(){T(t,"class","grid svelte-juqkg1"),De(t,"width",`${n[6]}px`),De(t,"left",`${n[12]}px`)},m(u,a){se(u,t,a);for(let o=0;o<s.length;o+=1)s[o].m(t,null)},p(u,a){if(a[0]&35072){r=dn(0,u[15]);let o;for(o=0;o<r.length;o+=1){const h=sc(u,r,o);s[o]?s[o].p(h,a):(s[o]=uc(h),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}a[0]&64&&De(t,"width",`${u[6]}px`),a[0]&4096&&De(t,"left",`${u[12]}px`)},d(u){u&&C(t),pt(s,u)}}}function uc(n){let t;return{c(){t=K("div"),this.h()},l(r){t=Z(r,"DIV",{class:!0}),j(t).forEach(C),this.h()},h(){T(t,"class","line svelte-juqkg1"),pe(t,"thick",n[65]),De(t,"left",`${n[66]}px`),De(t,"height",`${n[11]}px`)},m(r,s){se(r,t,s)},p(r,s){s[0]&256&&De(t,"left",`${r[66]}px`),s[0]&2048&&De(t,"height",`${r[11]}px`)},d(r){r&&C(t)}}}function oc(n){let t,r;return t=new _b({props:{i:n[63],id:n[59],data:n[60],action:n[61]}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},p(s,u){const a={};u[0]&128&&(a.id=s[59]),u[0]&8352&&(a.data=s[60]),u[0]&128&&(a.action=s[61]),t.$set(a)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function ac(n){let t,r;return t=new Wb({}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function Gb(n){let t,r,s,u,a,o,h,c,g,m,y,p,S,k,b=n[3]&&n[4]&&lc(n),w=n[17]&&Yb(),A=n[16]&&zb(n),R=n[7],E=[];for(let U=0;U<R.length;U+=1)E[U]=oc(ic(n,R,U));const x=U=>ie(E[U],1,1,()=>{E[U]=null});let F=n[2]==="real"&&ac();return g=new Pb({props:{play:n[34],pause:n[35],reset:n[33]}}),y=new qb({props:{notes:n[1]}}),{c(){t=K("div"),b&&b.c(),r=me(),s=K("div"),w&&w.c(),u=me(),A&&A.c(),a=me();for(let U=0;U<E.length;U+=1)E[U].c();o=me(),F&&F.c(),c=me(),qe(g.$$.fragment),m=me(),qe(y.$$.fragment),this.h()},l(U){t=Z(U,"DIV",{class:!0});var z=j(t);b&&b.l(z),r=_e(z),s=Z(z,"DIV",{class:!0,id:!0});var q=j(s);w&&w.l(q),u=_e(q),A&&A.l(q),a=_e(q);for(let $=0;$<E.length;$+=1)E[$].l(q);o=_e(q),F&&F.l(q),q.forEach(C),c=_e(z),Ge(g.$$.fragment,z),m=_e(z),Ge(y.$$.fragment,z),z.forEach(C),this.h()},h(){T(s,"class","chart svelte-juqkg1"),T(s,"id",n[0]),Yn(()=>n[43].call(s)),pe(s,"visible",n[9]),pe(s,"faded",n[2]!=="real"&&!n[10]),T(t,"class","demo svelte-juqkg1"),pe(t,"real",n[2]==="real")},m(U,z){se(U,t,z),b&&b.m(t,null),P(t,r),P(t,s),w&&w.m(s,null),P(s,u),A&&A.m(s,null),P(s,a);for(let q=0;q<E.length;q+=1)E[q].m(s,null);P(s,o),F&&F.m(s,null),h=as(s,n[43].bind(s)),P(t,c),Ye(g,t,null),P(t,m),Ye(y,t,null),p=!0,S||(k=[Wc(oh.call(null,s)),Le(s,"exit",n[36])],S=!0)},p(U,z){if(U[3]&&U[4]?b?b.p(U,z):(b=lc(U),b.c(),b.m(t,r)):b&&(b.d(1),b=null),U[16]&&A.p(U,z),z[0]&24736){R=U[7];let $;for($=0;$<R.length;$+=1){const B=ic(U,R,$);E[$]?(E[$].p(B,z),ne(E[$],1)):(E[$]=oc(B),E[$].c(),ne(E[$],1),E[$].m(s,o))}for(gt(),$=R.length;$<E.length;$+=1)x($);dt()}U[2]==="real"?F?z[0]&4&&ne(F,1):(F=ac(),F.c(),ne(F,1),F.m(s,null)):F&&(gt(),ie(F,1,1,()=>{F=null}),dt()),(!p||z[0]&1)&&T(s,"id",U[0]),(!p||z[0]&512)&&pe(s,"visible",U[9]),(!p||z[0]&1028)&&pe(s,"faded",U[2]!=="real"&&!U[10]);const q={};z[0]&2&&(q.notes=U[1]),y.$set(q),(!p||z[0]&4)&&pe(t,"real",U[2]==="real")},i(U){if(!p){ne(w);for(let z=0;z<R.length;z+=1)ne(E[z]);ne(F),ne(g.$$.fragment,U),ne(y.$$.fragment,U),p=!0}},o(U){ie(w),E=E.filter(Boolean);for(let z=0;z<E.length;z+=1)ie(E[z]);ie(F),ie(g.$$.fragment,U),ie(y.$$.fragment,U),p=!1},d(U){U&&C(t),b&&b.d(),w&&w.d(),A&&A.d(),pt(E,U),F&&F.d(),h(),ze(g),ze(y),S=!1,sn(k)}}}function Vb(n,t,r){let s,u,a,o,h,c,g,m,y,p,S,k,b,w,A,R,E;oe(n,Mb,he=>r(48,w=he));let{songId:x}=t,{showing:F=!0}=t,{notes:U=[]}=t,{style:z="default"}=t,{song:q}=t,{artist:$}=t;const{parts:B,defaultStyles:W,actions:Q,beatsPerMeasure:I=4,measures:L=1,highlighted:G={},gridlines:H=!0,marker:ge=!0,autoplay:ve=!1}=w[x];fs("song",{songId:x,beatsPerMeasure:I,gridlines:H,autoplay:ve,getVisible:()=>et,getDuration:()=>Ee,getTrimmedDuration:()=>xe,getCurrentBeat:()=>ot,getTimeToBeat:()=>Fe,getXScale:()=>st,getInstrumentToggles:()=>ln,getInstrumentStyles:()=>kt,getHighlightedNotes:()=>le,getIsPlaying:()=>be,getAllParts:()=>Xe,getAudioEls:()=>re,getSeek:()=>ae,getWidth:()=>Te,getHeight:()=>te,getXOffset:()=>at,getPlayClicked:()=>Ae,getCurrentActionIndex:()=>ct,style:z,song:q,artist:$});const re=nt([]);oe(n,re,he=>r(46,S=he));const Ee=nt(0),xe=nt(0);oe(n,xe,he=>r(40,m=he));const ae=nt(0);oe(n,ae,he=>r(38,h=he));const Xe=nt(B);oe(n,Xe,he=>r(5,u=he));const ot=nt(0);oe(n,ot,he=>r(44,g=he));const Fe=nt(void 0);oe(n,Fe,he=>r(39,c=he));const st=nt(void 0);oe(n,st,he=>r(8,o=he));const ln=nt({bass:"on",kick:"on",snare:"on",hihat:"on",synth:"on"}),kt=nt(W);oe(n,kt,he=>r(13,E=he));const le=nt(G),be=nt(!1);oe(n,be,he=>r(47,k=he));const Te=nt(0);oe(n,Te,he=>r(6,a=he));const te=nt(0);oe(n,te,he=>r(11,A=he));const at=nt(0);oe(n,at,he=>r(12,R=he));const Ae=nt(!1);oe(n,Ae,he=>r(10,b=he));const et=nt(!0);oe(n,et,he=>r(9,y=he));const ct=nt(void 0);oe(n,ct,he=>r(45,p=he));const ce=()=>{Qe(ae,h=0,h)},Kt=async()=>{S.forEach(he=>{he.currentTime=h,he.play()}),b||(Qe(Ae,b=!0,b),mn()),Qe(be,k=!0,k)},un=()=>{Qe(be,k=!1,k),S.forEach(he=>he.pause())},mn=()=>{const he=document.querySelectorAll(`#${x} button.action-btn`);he.length&&he[0].classList.add("visible","pulse"),Qe(ct,p=0,p)},Bt=()=>{un(),ce()},Vn=["bass","synth","hihat","kick","snare"],cr=(he,on)=>on.instrument===he&&on.style===E[he],As=(he,on)=>on.instrument===he;function Kn(){A=this.clientHeight,te.set(A)}return n.$$set=he=>{"songId"in he&&r(0,x=he.songId),"showing"in he&&r(37,F=he.showing),"notes"in he&&r(1,U=he.notes),"style"in he&&r(2,z=he.style),"song"in he&&r(3,q=he.song),"artist"in he&&r(4,$=he.artist)},n.$$.update=()=>{n.$$.dirty[1]&64&&Qe(et,y=F,y),n.$$.dirty[1]&512&&Qe(Fe,c=zn().domain([0,m]).range([0,I*L]),c),n.$$.dirty[1]&384&&Qe(ot,g=c(h*1e3)%I,g),n.$$.dirty[0]&64&&Qe(st,o=zn().domain([0,I]).range([0,a]),o),n.$$.dirty[0]&32&&r(7,s=Ur.orderBy(Ur.uniq(u.map(he=>he.instrument)),he=>Vn.indexOf(he)))},[x,U,z,q,$,u,a,s,o,y,b,A,R,E,Q,I,H,ge,re,xe,ae,Xe,ot,Fe,st,kt,be,Te,te,at,Ae,et,ct,ce,Kt,un,Bt,F,h,c,m,cr,As,Kn]}class Kb extends rt{constructor(t){super(),it(this,t,Vb,Gb,$e,{songId:0,showing:37,notes:1,style:2,song:3,artist:4},null,[-1,-1,-1])}}function Zb(n){return-n*(n-2)}function fc(n){return Object.prototype.toString.call(n)==="[object Date]"}function cu(n,t){if(n===t||n!==n)return()=>n;const r=typeof n;if(r!==typeof t||Array.isArray(n)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const s=t.map((u,a)=>cu(n[a],u));return u=>s.map(a=>a(u))}if(r==="object"){if(!n||!t)throw new Error("Object cannot be null");if(fc(n)&&fc(t)){n=n.getTime(),t=t.getTime();const a=t-n;return o=>new Date(n+o*a)}const s=Object.keys(t),u={};return s.forEach(a=>{u[a]=cu(n[a],t[a])}),a=>{const o={};return s.forEach(h=>{o[h]=u[h](a)}),o}}if(r==="number"){const s=t-n;return u=>n+u*s}throw new Error(`Cannot interpolate ${r} values`)}function Xb(n,t={}){const r=nt(n);let s,u=n;function a(o,h){if(n==null)return r.set(n=o),Promise.resolve();u=o;let c=s,g=!1,{delay:m=0,duration:y=400,easing:p=Bc,interpolate:S=cu}=nu(nu({},t),h);if(y===0)return c&&(c.abort(),c=null),r.set(n=u),Promise.resolve();const k=Gp()+m;let b;return s=Vp(w=>{if(w<k)return!0;g||(b=S(n,o),typeof y=="function"&&(y=y(n,o)),g=!0),c&&(c.abort(),c=null);const A=w-k;return A>y?(r.set(n=o),!1):(r.set(n=b(p(A/y))),!0)}),s.promise}return{set:a,update:(o,h)=>a(o(u,n),h),subscribe:r.subscribe}}function Jb(n){let t;return{c(){t=nn("path"),this.h()},l(r){t=rn(r,"path",{d:!0,class:!0}),j(t).forEach(C),this.h()},h(){T(t,"d",n[1]),T(t,"class","svelte-1z0km7q"),pe(t,"moving",n[0])},m(r,s){se(r,t,s)},p(r,[s]){s&2&&T(t,"d",r[1]),s&1&&pe(t,"moving",r[0])},i:He,o:He,d(r){r&&C(t)}}}function Qb(n,t,r){let s,u,a,o,{width:h}=t,{moving:c}=t;const g=Xb(150,{easing:Zb});oe(n,g,w=>r(6,o=w));const m=(w,A)=>{const R=A[0]-w[0],E=A[1]-w[1];return{length:Math.sqrt(Math.pow(R,2)+Math.pow(E,2)),angle:Math.atan2(E,R)}},y=(w,A,R,E)=>{const x=A||w,F=R||w,U=.2,z=m(x,F),q=z.angle+(E?Math.PI:0),$=z.length*U,B=w[0]+Math.cos(q)*$,W=w[1]+Math.sin(q)*$;return[B,W]},p=(w,A,R)=>{const[E,x]=y(R[A-1],R[A-2],w),[F,U]=y(w,R[A-1],R[A+1],!0);return`C ${E},${x} ${F},${U} ${w[0]},${w[1]}`},S=w=>w.reduce((R,E,x,F)=>x===0?`M ${E[0]},${E[1]}`:`${R} ${p(E,x,F)}`,""),k=()=>{g.set(Ur.random(0,120),{duration:Ur.random(400,800)}).then(k)},b=()=>{c?g.set(0,{duration:1500}).then(k):g.set(0,{duration:500})};return n.$$set=w=>{"width"in w&&r(3,h=w.width),"moving"in w&&r(0,c=w.moving)},n.$$.update=()=>{n.$$.dirty&8&&r(5,s=h),n.$$.dirty&96&&r(4,u=dn(5).map(w=>{const A=s/4*w,E={0:0,1:-o,2:0,3:o,4:0}[w];return[A,E]})),n.$$.dirty&16&&r(1,a=S(u)),n.$$.dirty&1&&b()},[c,a,g,h,u,s,o]}class jb extends rt{constructor(t){super(),it(this,t,Qb,Jb,$e,{width:3,moving:0})}}function cc(n,t,r){const s=n.slice();s[5]=t[r],s[9]=r;const u=s[1](s[5]);s[6]=u;const a=s[2]>=s[5]-.05;return s[7]=a,s}function hc(n,t){let r,s,u;return{key:n,first:null,c(){r=nn("circle"),this.h()},l(a){r=rn(a,"circle",{id:!0,r:!0,fill:!0,cx:!0,cy:!0,class:!0}),j(r).forEach(C),this.h()},h(){T(r,"id",s=t[9]),T(r,"r",t[3]),T(r,"fill","lightgrey"),T(r,"cx",u=t[6]),T(r,"cy",0),T(r,"class","svelte-1iq1fno"),pe(r,"played",t[7]),this.first=r},m(a,o){se(a,r,o)},p(a,o){t=a,o&1&&s!==(s=t[9])&&T(r,"id",s),o&8&&T(r,"r",t[3]),o&3&&u!==(u=t[6])&&T(r,"cx",u),o&5&&pe(r,"played",t[7])},d(a){a&&C(r)}}}function $b(n){let t,r,s,u=[],a=new Map,o,h=n[0];const c=g=>g[9];for(let g=0;g<h.length;g+=1){let m=cc(n,h,g),y=c(m);a.set(y,u[g]=hc(y,m))}return{c(){t=nn("line"),s=me();for(let g=0;g<u.length;g+=1)u[g].c();o=Oe(),this.h()},l(g){t=rn(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),j(t).forEach(C),s=_e(g);for(let m=0;m<u.length;m+=1)u[m].l(g);o=Oe(),this.h()},h(){T(t,"x1",0),T(t,"y1",0),T(t,"x2",r=n[1](n[2])),T(t,"y2",0),T(t,"class","svelte-1iq1fno"),pe(t,"visible",n[0].length)},m(g,m){se(g,t,m),se(g,s,m);for(let y=0;y<u.length;y+=1)u[y].m(g,m);se(g,o,m)},p(g,[m]){m&6&&r!==(r=g[1](g[2]))&&T(t,"x2",r),m&1&&pe(t,"visible",g[0].length),m&15&&(h=g[0],u=Kp(u,m,c,1,g,h,a,o.parentNode,Zp,hc,o,cc))},i:He,o:He,d(g){g&&C(t),g&&C(s);for(let m=0;m<u.length;m+=1)u[m].d(g);g&&C(o)}}}function ew(n,t,r){let s,u;oe(n,lh,c=>r(4,u=c));let{data:a}=t,{xScale:o}=t,{currentBeat:h}=t;return n.$$set=c=>{"data"in c&&r(0,a=c.data),"xScale"in c&&r(1,o=c.xScale),"currentBeat"in c&&r(2,h=c.currentBeat)},n.$$.update=()=>{n.$$.dirty&16&&r(3,s=u.width<600?5:10)},[a,o,h,s,u]}class tw extends rt{constructor(t){super(),it(this,t,ew,$b,$e,{data:0,xScale:1,currentBeat:2})}}function nw(n){let t,r,s,u,a,o,h,c,g,m,y=!1,p,S=!0,k,b,w,A,R=!1,E,x=!0,F,U,z;u=new jb({props:{width:n[0],moving:n[8]}}),a=new tw({props:{data:n[7],xScale:n[6],currentBeat:n[10]}});function q(){cancelAnimationFrame(p),c.paused||(p=ri(q),y=!0),n[23].call(c)}function $(){cancelAnimationFrame(E),b.paused||(E=ri($),R=!0),n[26].call(b)}return{c(){t=K("div"),r=nn("svg"),s=nn("g"),qe(u.$$.fragment),qe(a.$$.fragment),h=me(),c=K("audio"),k=me(),b=K("audio"),this.h()},l(B){t=Z(B,"DIV",{class:!0});var W=j(t);r=rn(W,"svg",{class:!0});var Q=j(r);s=rn(Q,"g",{transform:!0});var I=j(s);Ge(u.$$.fragment,I),Ge(a.$$.fragment,I),I.forEach(C),Q.forEach(C),W.forEach(C),h=_e(B),c=Z(B,"AUDIO",{src:!0,preload:!0}),j(c).forEach(C),k=_e(B),b=Z(B,"AUDIO",{src:!0,preload:!0}),j(b).forEach(C),this.h()},h(){T(s,"transform",`translate(0, ${rw})`),T(r,"class","svelte-cy3q3z"),T(t,"class","wrapper svelte-cy3q3z"),Yn(()=>n[21].call(t)),pe(t,"visible",n[9]),Ct(c.src,g="assets/sound/intro/normal.mp3")||T(c,"src",g),c.loop=!0,c.muted=m=!n[13],T(c,"preload","auto"),Ct(b.src,w="assets/sound/intro/drunk.mp3")||T(b,"src",w),b.loop=!0,b.muted=A=!n[13],T(b,"preload","auto")},m(B,W){se(B,t,W),P(t,r),P(r,s),Ye(u,s,null),Ye(a,s,null),o=as(t,n[21].bind(t)),se(B,h,W),se(B,c,W),n[22](c),se(B,k,W),se(B,b,W),n[25](b),isNaN(n[5])||(b.playbackRate=n[5]),F=!0,U||(z=[Le(c,"timeupdate",q),Le(c,"play",n[24]),Le(c,"pause",n[24]),Le(b,"timeupdate",$),Le(b,"play",n[27]),Le(b,"pause",n[27]),Le(b,"ratechange",n[28])],U=!0)},p(B,[W]){const Q={};W&1&&(Q.width=B[0]),W&256&&(Q.moving=B[8]),u.$set(Q);const I={};W&128&&(I.data=B[7]),W&64&&(I.xScale=B[6]),W&1024&&(I.currentBeat=B[10]),a.$set(I),(!F||W&512)&&pe(t,"visible",B[9]),(!F||W&8192&&m!==(m=!B[13]))&&(c.muted=m),!y&&W&8&&!isNaN(B[3])&&(c.currentTime=B[3]),y=!1,W&4096&&S!==(S=B[12])&&c[S?"pause":"play"](),(!F||W&8192&&A!==(A=!B[13]))&&(b.muted=A),!R&&W&16&&!isNaN(B[4])&&(b.currentTime=B[4]),R=!1,W&2048&&x!==(x=B[11])&&b[x?"pause":"play"](),W&32&&!isNaN(B[5])&&(b.playbackRate=B[5])},i(B){F||(ne(u.$$.fragment,B),ne(a.$$.fragment,B),F=!0)},o(B){ie(u.$$.fragment,B),ie(a.$$.fragment,B),F=!1},d(B){B&&C(t),ze(u),ze(a),o(),B&&C(h),B&&C(c),n[22](null),B&&C(k),B&&C(b),n[25](null),U=!1,sn(z)}}}const rw=150;let gc=32;function iw(n,t,r){let s,u,a,o,h,c,g,m,y,p,S,k,b,w,A;oe(n,fu,H=>r(19,b=H)),oe(n,us,H=>r(20,w=H)),oe(n,ai,H=>r(13,A=H));let R=0,E,x,F=0,U=0,z=1;function q(){R=this.clientWidth,r(0,R)}function $(H){Dt[H?"unshift":"push"](()=>{E=H,r(1,E)})}function B(){F=this.currentTime,r(3,F),r(18,s),r(19,b)}function W(){a=this.paused,r(12,a),r(18,s),r(19,b)}function Q(H){Dt[H?"unshift":"push"](()=>{x=H,r(2,x)})}function I(){U=this.currentTime,r(4,U),r(17,u),r(19,b)}function L(){o=this.paused,r(11,o),r(17,u),r(19,b)}function G(){z=this.playbackRate,r(5,z)}return n.$$.update=()=>{n.$$.dirty&524288&&r(18,s=b===2),n.$$.dirty&262144&&s&&r(3,F=0),n.$$.dirty&524288&&r(17,u=b===1||b===3),n.$$.dirty&131072&&u&&r(4,U=0),n.$$.dirty&262144&&r(12,a=!s),n.$$.dirty&131072&&r(11,o=!u),n.$$.dirty&393240&&r(16,h=s?F:u?U:0),n.$$.dirty&393222&&r(14,c=s?E.duration-2:u?x.duration-2:0),n.$$.dirty&16384&&r(15,k=zn().domain([0,c]).range([0,gc])),n.$$.dirty&98304&&r(10,g=k(h)),n.$$.dirty&1572864&&r(9,m=b!==void 0||w==="up"),n.$$.dirty&1572864&&r(8,y=b!==2&&b!==3&&(b!==void 0||w==="up")),n.$$.dirty&524288&&r(7,p=b===2?dn(8,32,2):b===3?[0,2.5,3,3.2,5,9,10,11,12,13.5,13.7,13.8,15,18,18.5,18.7,20,22,25,27,28,28.5,28.9,30]:[]),n.$$.dirty&1&&r(6,S=zn().domain([0,gc]).range([0,R]))},[R,E,x,F,U,z,S,p,y,m,g,o,a,A,c,k,h,u,s,b,w,q,$,B,W,Q,I,L,G]}class sw extends rt{constructor(t){super(),it(this,t,iw,nw,$e,{})}}function lw(n){let t,r;const s=n[7].default,u=Xp(s,n,n[6],null);return{c(){t=K("div"),u&&u.c()},l(a){t=Z(a,"DIV",{});var o=j(t);u&&u.l(o),o.forEach(C)},m(a,o){se(a,t,o),u&&u.m(t,null),n[8](t),r=!0},p(a,[o]){u&&u.p&&(!r||o&64)&&Jp(u,s,a,a[6],r?jp(s,a[6],o,null):Qp(a[6]),null)},i(a){r||(ne(u,a),r=!0)},o(a){ie(u,a),r=!1},d(a){a&&C(t),u&&u.d(a),n[8](null)}}}function uw(n,t,r){let{$$slots:s={},$$scope:u}=t,{root:a=null}=t,{top:o=0}=t,{bottom:h=0}=t,{increments:c=100}=t,{value:g=void 0}=t;const m=[],y=[];let p=[],S=[],k;const b=()=>{p.length&&p.forEach(A)},w=()=>{let E=0,x=0;for(let F=0;F<m.length;F++)m[F]>E&&(E=m[F],x=F);E>0?r(1,g=x):r(1,g=void 0)},A=(E,x)=>{const F=W=>{W[0].isIntersecting;const Q=W[0].intersectionRatio;m[x]=Q,w()},U=o?o*-1:0,z=h?h*-1:0,q=`${U}px 0px ${z}px 0px`,$={root:a,rootMargin:q,threshold:y};S[x]&&S[x].disconnect();const B=new IntersectionObserver(F,$);B.observe(E),S[x]=B};fi(()=>{for(let E=0;E<c+1;E++)y.push(E/c);p=k.querySelectorAll(":scope > *:not(iframe):not(audio)"),b()});function R(E){Dt[E?"unshift":"push"](()=>{k=E,r(0,k)})}return n.$$set=E=>{"root"in E&&r(2,a=E.root),"top"in E&&r(3,o=E.top),"bottom"in E&&r(4,h=E.bottom),"increments"in E&&r(5,c=E.increments),"value"in E&&r(1,g=E.value),"$$scope"in E&&r(6,u=E.$$scope)},n.$$.update=()=>{n.$$.dirty&24&&b()},[k,g,a,o,h,c,u,s,R]}class ow extends rt{constructor(t){super(),it(this,t,uw,lw,$e,{root:2,top:3,bottom:4,increments:5,value:1})}}function dc(n,{delay:t=0,duration:r=400,easing:s=Bc}={}){const u=+getComputedStyle(n).opacity;return{delay:t,duration:r,easing:s,css:a=>`opacity: ${a*u}`}}const aw=hu(0,n=>{let t=!1,r=0;const s=()=>{n(r),t=!1},u=()=>{r=window.scrollY,t||(requestAnimationFrame(s),t=!0)};return document.addEventListener("scroll",u),()=>{document.removeEventListener("scroll",u)}});function mc(n,t,r){const s=n.slice();s[19]=t[r].text,s[20]=t[r].classname,s[21]=t[r].sound,s[22]=t[r].showNotes,s[27]=r;const u=s[27]===s[3]&&s[4];s[23]=u;const a=s[20]==="quote"?s[19].split("~")[0]:s[19];s[24]=a;const o=s[20]==="quote"?s[19].split("~")[1]:null;return s[25]=o,s}function _c(n){let t,r,s=n[25]+"",u;return{c(){t=K("p"),r=We("- "),u=We(s),this.h()},l(a){t=Z(a,"P",{class:!0});var o=j(t);r=Be(o,"- "),u=Be(o,s),o.forEach(C),this.h()},h(){T(t,"class","speaker svelte-1t6hraq")},m(a,o){se(a,t,o),P(t,r),P(t,u)},p(a,o){o&1&&s!==(s=a[25]+"")&&Mt(u,s)},d(a){a&&C(t)}}}function pc(n){let t,r,s=n[24]+"",u,a,o,h,c,g=n[25]&&_c(n);return{c(){t=K("div"),r=K("p"),a=me(),g&&g.c(),h=me(),this.h()},l(m){t=Z(m,"DIV",{class:!0,id:!0});var y=j(t);r=Z(y,"P",{class:!0});var p=j(r);p.forEach(C),a=_e(y),g&&g.l(y),y.forEach(C),h=_e(m),this.h()},h(){T(r,"class",u=Or(n[20])+" svelte-1t6hraq"),T(t,"class","step svelte-1t6hraq"),T(t,"id",n[27]===0?"start-of-story":""),pe(t,"active",n[23])},m(m,y){se(m,t,y),P(t,r),r.innerHTML=s,P(t,a),g&&g.m(t,null),se(m,h,y),c=!0},p(m,y){(!c||y&1)&&s!==(s=m[24]+"")&&(r.innerHTML=s),(!c||y&1&&u!==(u=Or(m[20])+" svelte-1t6hraq"))&&T(r,"class",u),m[25]?g?g.p(m,y):(g=_c(m),g.c(),g.m(t,null)):g&&(g.d(1),g=null),(!c||y&24)&&pe(t,"active",m[23])},i(m){c||(Yn(()=>{o||(o=Ja(t,dc,{},!0)),o.run(1)}),c=!0)},o(m){o||(o=Ja(t,dc,{},!1)),o.run(0),c=!1},d(m){m&&C(t),g&&g.d(),m&&o&&o.end(),m&&C(h)}}}function fw(n){let t,r,s=n[0],u=[];for(let o=0;o<s.length;o+=1)u[o]=pc(mc(n,s,o));const a=o=>ie(u[o],1,1,()=>{u[o]=null});return{c(){for(let o=0;o<u.length;o+=1)u[o].c();t=Oe()},l(o){for(let h=0;h<u.length;h+=1)u[h].l(o);t=Oe()},m(o,h){for(let c=0;c<u.length;c+=1)u[c].m(o,h);se(o,t,h),r=!0},p(o,h){if(h&25){s=o[0];let c;for(c=0;c<s.length;c+=1){const g=mc(o,s,c);u[c]?(u[c].p(g,h),ne(u[c],1)):(u[c]=pc(g),u[c].c(),ne(u[c],1),u[c].m(t.parentNode,t))}for(gt(),c=s.length;c<u.length;c+=1)a(c);dt()}},i(o){if(!r){for(let h=0;h<s.length;h+=1)ne(u[h]);r=!0}},o(o){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)ie(u[h]);r=!1},d(o){pt(u,o),o&&C(t)}}}function cw(n){let t,r,s,u,a,o,h,c,g,m=!0,y,p,S;t=new sw({});function k(w){n[8](w)}let b={$$slots:{default:[fw]},$$scope:{ctx:n}};return n[3]!==void 0&&(b.value=n[3]),u=new ow({props:b}),Dt.push(()=>Hc(u,"value",k)),{c(){qe(t.$$.fragment),r=me(),s=K("div"),qe(u.$$.fragment),o=me(),h=K("audio"),this.h()},l(w){Ge(t.$$.fragment,w),r=_e(w),s=Z(w,"DIV",{class:!0});var A=j(s);Ge(u.$$.fragment,A),A.forEach(C),o=_e(w),h=Z(w,"AUDIO",{src:!0,preload:!0,class:!0}),j(h).forEach(C),this.h()},h(){T(s,"class","scroll-container svelte-1t6hraq"),Ct(h.src,c="assets/sound/intro/club.mp3")||T(h,"src",c),h.loop=!0,h.muted=g=!n[7],T(h,"preload","auto"),T(h,"class","svelte-1t6hraq")},m(w,A){Ye(t,w,A),se(w,r,A),se(w,s,A),Ye(u,s,null),n[9](s),se(w,o,A),se(w,h,A),n[10](h),isNaN(n[6])||(h.volume=n[6]),y=!0,p||(S=[Le(h,"play",n[11]),Le(h,"pause",n[11]),Le(h,"volumechange",n[12])],p=!0)},p(w,[A]){const R={};A&268435481&&(R.$$scope={dirty:A,ctx:w}),!a&&A&8&&(a=!0,R.value=w[3],qc(()=>a=!1)),u.$set(R),(!y||A&128&&g!==(g=!w[7]))&&(h.muted=g),A&4&&m!==(m=w[2])&&h[m?"pause":"play"](),A&64&&!isNaN(w[6])&&(h.volume=w[6])},i(w){y||(ne(t.$$.fragment,w),ne(u.$$.fragment,w),y=!0)},o(w){ie(t.$$.fragment,w),ie(u.$$.fragment,w),y=!1},d(w){ze(t,w),w&&C(r),w&&C(s),ze(u),n[9](null),w&&C(o),w&&C(h),n[10](null),p=!1,sn(S)}}}function hw(n,t,r){let s,u,a,o,h;oe(n,fu,x=>r(3,s=x)),oe(n,us,x=>r(14,u=x)),oe(n,aw,x=>r(15,a=x)),oe(n,ks,x=>r(4,o=x)),oe(n,ai,x=>r(7,h=x));let{steps:c}=t,g,m=[],y,p=1,S;const k=()=>{o&&(s===void 0&&(y&&(y.pause(),r(1,y.currentTime=0,y)),a<1e3?Qe(us,u="up",u):Qe(us,u="down",u)),s===0?r(6,p=1):r(6,p=.2),s!==void 0&&(r(2,S=!1),m.forEach((x,F)=>{F===s?x.play():x.pause()})))};function b(x){s=x,fu.set(s)}function w(x){Dt[x?"unshift":"push"](()=>{g=x,r(5,g)})}function A(x){Dt[x?"unshift":"push"](()=>{y=x,r(1,y)})}function R(){S=this.paused,r(2,S)}function E(){p=this.volume,r(6,p)}return n.$$set=x=>{"steps"in x&&r(0,c=x.steps)},n.$$.update=()=>{n.$$.dirty&4,n.$$.dirty&18&&o&&y&&y.play(),n.$$.dirty&8&&k()},[c,y,S,s,o,g,p,h,b,w,A,R,E]}class gw extends rt{constructor(t){super(),it(this,t,hw,cw,$e,{steps:0})}}function dw(n){let t,r;return t=new kn({props:{name:"pause"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function mw(n){let t,r;return t=new kn({props:{name:"play"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function _w(n){let t,r,s,u,a,o,h,c,g,m=!0,y=!1,p,S,k,b,w,A,R,E,x=n[9](n[5])+"",F,U,z=n[9](n[4])+"",q,$,B,W,Q,I,L;function G(){cancelAnimationFrame(p),c.paused||(p=ri(G),y=!0),n[15].call(c)}const H=[mw,dw],ge=[];function ve(re,Ee){return re[6]?0:1}return w=ve(n),A=ge[w]=H[w](n),{c(){t=K("div"),r=K("div"),s=K("strong"),u=We(n[1]),a=We(" by "),o=We(n[2]),h=me(),c=K("audio"),S=me(),k=K("div"),b=K("button"),A.c(),R=me(),E=K("div"),F=We(x),U=We(" / "),q=We(z),$=me(),B=K("div"),W=K("div"),this.h()},l(re){t=Z(re,"DIV",{class:!0});var Ee=j(t);r=Z(Ee,"DIV",{class:!0});var xe=j(r);s=Z(xe,"STRONG",{});var ae=j(s);u=Be(ae,n[1]),ae.forEach(C),a=Be(xe," by "),o=Be(xe,n[2]),xe.forEach(C),h=_e(Ee),c=Z(Ee,"AUDIO",{src:!0,preload:!0}),j(c).forEach(C),S=_e(Ee),k=Z(Ee,"DIV",{class:!0});var Xe=j(k);b=Z(Xe,"BUTTON",{class:!0});var ot=j(b);A.l(ot),ot.forEach(C),R=_e(Xe),E=Z(Xe,"DIV",{class:!0});var Fe=j(E);F=Be(Fe,x),U=Be(Fe," / "),q=Be(Fe,z),Fe.forEach(C),$=_e(Xe),B=Z(Xe,"DIV",{class:!0});var st=j(B);W=Z(st,"DIV",{class:!0}),j(W).forEach(C),st.forEach(C),Xe.forEach(C),Ee.forEach(C),this.h()},h(){T(r,"class","description svelte-nhrxoe"),Ct(c.src,g=n[0])||T(c,"src",g),T(c,"preload","auto"),n[4]===void 0&&Yn(()=>n[14].call(c)),T(b,"class","svelte-nhrxoe"),T(E,"class","time svelte-nhrxoe"),T(W,"class","seek svelte-nhrxoe"),De(W,"width",n[7]),T(B,"class","bar svelte-nhrxoe"),pe(B,"light",n[8]),T(k,"class","audio-player svelte-nhrxoe"),T(t,"class","container svelte-nhrxoe")},m(re,Ee){se(re,t,Ee),P(t,r),P(r,s),P(s,u),P(r,a),P(r,o),P(t,h),P(t,c),n[12](c),P(t,S),P(t,k),P(k,b),ge[w].m(b,null),P(k,R),P(k,E),P(E,F),P(E,U),P(E,q),P(k,$),P(k,B),P(B,W),Q=!0,I||(L=[Le(c,"play",n[13]),Le(c,"pause",n[13]),Le(c,"durationchange",n[14]),Le(c,"timeupdate",G),Le(b,"click",n[10])],I=!0)},p(re,[Ee]){(!Q||Ee&2)&&Mt(u,re[1]),(!Q||Ee&4)&&Mt(o,re[2]),(!Q||Ee&1&&!Ct(c.src,g=re[0]))&&T(c,"src",g),Ee&64&&m!==(m=re[6])&&c[m?"pause":"play"](),!y&&Ee&32&&!isNaN(re[5])&&(c.currentTime=re[5]),y=!1;let xe=w;w=ve(re),w!==xe&&(gt(),ie(ge[xe],1,1,()=>{ge[xe]=null}),dt(),A=ge[w],A||(A=ge[w]=H[w](re),A.c()),ne(A,1),A.m(b,null)),(!Q||Ee&32)&&x!==(x=re[9](re[5])+"")&&Mt(F,x),(!Q||Ee&16)&&z!==(z=re[9](re[4])+"")&&Mt(q,z),Ee&128&&De(W,"width",re[7]),(!Q||Ee&256)&&pe(B,"light",re[8])},i(re){Q||(ne(A),Q=!0)},o(re){ie(A),Q=!1},d(re){re&&C(t),n[12](null),ge[w].d(),I=!1,sn(L)}}}function pw(n,t,r){let s,u,a,{url:o}=t,{song:h}=t,{artist:c}=t,g,m=!0,y,p=0;const S=E=>{const x=new Date(null);return x.setSeconds(E),sh("%M:%S")(x)},k=()=>{m?g.play():g.pause()};function b(E){Dt[E?"unshift":"push"](()=>{g=E,r(3,g)})}function w(){m=this.paused,r(6,m)}function A(){y=this.duration,r(4,y)}function R(){p=this.currentTime,r(5,p),r(4,y),r(3,g)}return n.$$set=E=>{"url"in E&&r(0,o=E.url),"song"in E&&r(1,h=E.song),"artist"in E&&r(2,c=E.artist)},n.$$.update=()=>{n.$$.dirty&4&&r(8,s=c==="Sungazer"),n.$$.dirty&56&&p===y&&g&&(r(5,p=0),g.pause()),n.$$.dirty&16&&r(11,u=zn().domain([0,y]).range([0,100])),n.$$.dirty&2080&&r(7,a=`${u(p)}%`)},[o,h,c,g,y,p,m,a,s,S,k,u,b,w,A,R]}class vw extends rt{constructor(t){super(),it(this,t,pw,_w,$e,{url:0,song:1,artist:2})}}function yw(n){let t;return{c(){t=nn("circle"),this.h()},l(r){t=rn(r,"circle",{cx:!0,cy:!0,r:!0,class:!0}),j(t).forEach(C),this.h()},h(){T(t,"cx",n[0]),T(t,"cy",n[1]),T(t,"r",10),T(t,"class","svelte-ff9lmm"),pe(t,"played",n[2])},m(r,s){se(r,t,s)},p(r,[s]){s&1&&T(t,"cx",r[0]),s&2&&T(t,"cy",r[1]),s&4&&pe(t,"played",r[2])},i:He,o:He,d(r){r&&C(t)}}}function bw(n,t,r){let s,u,{note:a}=t,{cx:o}=t,{cy:h}=t;const{getCurrentBeat:c}=Gn("song"),g=c();return oe(n,g,m=>r(5,u=m)),n.$$set=m=>{"note"in m&&r(4,a=m.note),"cx"in m&&r(0,o=m.cx),"cy"in m&&r(1,h=m.cy)},n.$$.update=()=>{n.$$.dirty&48&&r(2,s=a!==0&&u>=a-.05||a===0&&u*2<1)},[o,h,s,g,a,u]}class ww extends rt{constructor(t){super(),it(this,t,bw,yw,$e,{note:4,cx:0,cy:1})}}function vc(n,t,r){const s=n.slice();return s[12]=t[r],s}function yc(n,t,r){const s=n.slice();return s[12]=t[r],s}function bc(n){let t,r=ps(`.${n[8]}f`)(n[12])+"",s;return{c(){t=K("span"),s=We(r),this.h()},l(u){t=Z(u,"SPAN",{class:!0});var a=j(t);s=Be(a,r),a.forEach(C),this.h()},h(){T(t,"class","tick svelte-lq8jy2")},m(u,a){se(u,t,a),P(t,s)},p(u,a){a&257&&r!==(r=ps(`.${u[8]}f`)(u[12])+"")&&Mt(s,r)},d(u){u&&C(t)}}}function wc(n){let t,r=n[12]+"",s;return{c(){t=K("span"),s=We(r),this.h()},l(u){t=Z(u,"SPAN",{class:!0});var a=j(t);s=Be(a,r),a.forEach(C),this.h()},h(){T(t,"class","tick svelte-lq8jy2")},m(u,a){se(u,t,a),P(t,s)},p(u,a){a&64&&r!==(r=u[12]+"")&&Mt(s,r)},d(u){u&&C(t)}}}function kw(n){let t,r,s,u,a,o,h,c,g,m=n[0],y=[];for(let k=0;k<m.length;k+=1)y[k]=bc(yc(n,m,k));let p=n[6],S=[];for(let k=0;k<p.length;k+=1)S[k]=wc(vc(n,p,k));return{c(){t=K("div"),r=K("div");for(let k=0;k<y.length;k+=1)y[k].c();s=me(),u=K("div");for(let k=0;k<S.length;k+=1)S[k].c();a=me(),o=K("input"),this.h()},l(k){t=Z(k,"DIV",{class:!0});var b=j(t);r=Z(b,"DIV",{class:!0});var w=j(r);for(let R=0;R<y.length;R+=1)y[R].l(w);w.forEach(C),s=_e(b),u=Z(b,"DIV",{class:!0});var A=j(u);for(let R=0;R<S.length;R+=1)S[R].l(A);A.forEach(C),a=_e(b),o=Z(b,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,style:!0,class:!0}),b.forEach(C),this.h()},h(){T(r,"class","ticks svelte-lq8jy2"),T(u,"class","ticks-above svelte-lq8jy2"),T(o,"type","range"),T(o,"aria-label",n[5]),T(o,"min",n[2]),T(o,"max",n[3]),T(o,"step",n[4]),T(o,"style",h=`--dot-color: ${n[7]}`),T(o,"class","svelte-lq8jy2"),T(t,"class","range svelte-lq8jy2")},m(k,b){se(k,t,b),P(t,r);for(let w=0;w<y.length;w+=1)y[w].m(r,null);P(t,s),P(t,u);for(let w=0;w<S.length;w+=1)S[w].m(u,null);P(t,a),P(t,o),Qa(o,n[1]),c||(g=[Le(o,"change",n[10]),Le(o,"input",n[10])],c=!0)},p(k,[b]){if(b&257){m=k[0];let w;for(w=0;w<m.length;w+=1){const A=yc(k,m,w);y[w]?y[w].p(A,b):(y[w]=bc(A),y[w].c(),y[w].m(r,null))}for(;w<y.length;w+=1)y[w].d(1);y.length=m.length}if(b&64){p=k[6];let w;for(w=0;w<p.length;w+=1){const A=vc(k,p,w);S[w]?S[w].p(A,b):(S[w]=wc(A),S[w].c(),S[w].m(u,null))}for(;w<S.length;w+=1)S[w].d(1);S.length=p.length}b&32&&T(o,"aria-label",k[5]),b&4&&T(o,"min",k[2]),b&8&&T(o,"max",k[3]),b&16&&T(o,"step",k[4]),b&128&&h!==(h=`--dot-color: ${k[7]}`)&&T(o,"style",h),b&2&&Qa(o,k[1])},i:He,o:He,d(k){k&&C(t),pt(y,k),pt(S,k),c=!1,sn(g)}}}function Tw(n,t,r){let s,{min:u=0}=t,{max:a=100}=t,{step:o=1}=t,{showTicks:h=!1}=t,{value:c=u}=t,{label:g=""}=t,{ticks:m}=t,{ticksAbove:y}=t,{dotColor:p="var(--color-gray-900)"}=t;const S=b=>Math.floor(b)===b?0:b.toString().split(".")[1].length||0;function k(){c=$p(this.value),r(1,c)}return n.$$set=b=>{"min"in b&&r(2,u=b.min),"max"in b&&r(3,a=b.max),"step"in b&&r(4,o=b.step),"showTicks"in b&&r(9,h=b.showTicks),"value"in b&&r(1,c=b.value),"label"in b&&r(5,g=b.label),"ticks"in b&&r(0,m=b.ticks),"ticksAbove"in b&&r(6,y=b.ticksAbove),"dotColor"in b&&r(7,p=b.dotColor)},n.$$.update=()=>{n.$$.dirty&16&&r(8,s=S(o)),n.$$.dirty&541&&r(0,m=m||(h?dn(u,a+o,o):[]))},[m,c,u,a,o,g,y,p,s,h,k]}class Aw extends rt{constructor(t){super(),it(this,t,Tw,kw,$e,{min:2,max:3,step:4,showTicks:9,value:1,label:5,ticks:0,ticksAbove:6,dotColor:7})}}function kc(n,t,r){const s=n.slice();return s[35]=t[r],s[36]=t,s[37]=r,s}function Tc(n,t,r){const s=n.slice();s[38]=t[r],s[37]=r;const u=s[12](s[5](s[38]));s[39]=u;const a=s[13](s[5](s[38]));return s[40]=a,s}function Ac(n,t,r){const s=n.slice();return s[37]=t[r],s}function Mc(n){let t,r=dn(0,1,1/n[3]),s=[];for(let u=0;u<r.length;u+=1)s[u]=Sc(Ac(n,r,u));return{c(){for(let u=0;u<s.length;u+=1)s[u].c();t=Oe()},l(u){for(let a=0;a<s.length;a+=1)s[a].l(u);t=Oe()},m(u,a){for(let o=0;o<s.length;o+=1)s[o].m(u,a);se(u,t,a)},p(u,a){if(a[0]&2088){r=dn(0,1,1/u[3]);let o;for(o=0;o<r.length;o+=1){const h=Ac(u,r,o);s[o]?s[o].p(h,a):(s[o]=Sc(h),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},d(u){pt(s,u),u&&C(t)}}}function Sc(n){let t,r,s;return{c(){t=nn("line"),this.h()},l(u){t=rn(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),j(t).forEach(C),this.h()},h(){T(t,"x1",0),T(t,"y1",0),T(t,"x2",r=n[11]*Math.cos(n[5](n[37]))),T(t,"y2",s=n[11]*Math.sin(n[5](n[37]))),T(t,"class","svelte-m3juos")},m(u,a){se(u,t,a)},p(u,a){a[0]&40&&r!==(r=u[11]*Math.cos(u[5](u[37])))&&T(t,"x2",r),a[0]&40&&s!==(s=u[11]*Math.sin(u[5](u[37])))&&T(t,"y2",s)},d(u){u&&C(t)}}}function Ec(n){let t,r;return t=new ww({props:{note:n[38],cx:n[39],cy:n[40]}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},p(s,u){const a={};u[0]&64&&(a.note=s[38]),u[0]&96&&(a.cx=s[39]),u[0]&96&&(a.cy=s[40]),t.$set(a)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function Ic(n){let t,r,s,u,a,o,h,c,g,m,y,p;function S(b){n[26](b)}let k={min:3,max:9,step:2,showTicks:!0,ticksAbove:n[10].map(n[25]),dotColor:"var(--accent)"};return n[3]!==void 0&&(k.value=n[3]),m=new Aw({props:k}),Dt.push(()=>Hc(m,"value",S)),{c(){t=K("div"),r=K("div"),s=K("div"),u=We("swing percentage"),a=me(),o=K("div"),h=We("divide the beat in"),c=me(),g=K("div"),qe(m.$$.fragment),this.h()},l(b){t=Z(b,"DIV",{class:!0});var w=j(t);r=Z(w,"DIV",{class:!0});var A=j(r);s=Z(A,"DIV",{class:!0});var R=j(s);u=Be(R,"swing percentage"),R.forEach(C),a=_e(A),o=Z(A,"DIV",{class:!0});var E=j(o);h=Be(E,"divide the beat in"),E.forEach(C),A.forEach(C),c=_e(w),g=Z(w,"DIV",{class:!0});var x=j(g);Ge(m.$$.fragment,x),x.forEach(C),w.forEach(C),this.h()},h(){T(s,"class","svelte-m3juos"),T(o,"class","svelte-m3juos"),T(r,"class","labels svelte-m3juos"),T(g,"class","slider svelte-m3juos"),T(t,"class","interactive svelte-m3juos")},m(b,w){se(b,t,w),P(t,r),P(r,s),P(s,u),P(r,a),P(r,o),P(o,h),P(t,c),P(t,g),Ye(m,g,null),p=!0},p(b,w){const A={};!y&&w[0]&8&&(y=!0,A.value=b[3],qc(()=>y=!1)),m.$set(A)},i(b){p||(ne(m.$$.fragment,b),p=!0)},o(b){ie(m.$$.fragment,b),p=!1},d(b){b&&C(t),ze(m)}}}function Mw(n){let t,r,s,u=n[37];const a=()=>n[30](t,u),o=()=>n[30](null,u);return{c(){t=K("audio"),this.h()},l(h){t=Z(h,"AUDIO",{currenttime:!0,src:!0}),j(t).forEach(C),this.h()},h(){T(t,"currenttime",n[7]),Ct(t.src,r=`assets/sound/swing-percentage/${n[35]}.mp3`)||T(t,"src",r),t.muted=s=n[35]!==n[3]},m(h,c){se(h,t,c),a()},p(h,c){n=h,c[0]&128&&T(t,"currenttime",n[7]),c[0]&8&&s!==(s=n[35]!==n[3])&&(t.muted=s),u!==n[37]&&(o(),u=n[37],a())},d(h){h&&C(t),o()}}}function Sw(n){let t,r,s,u=n[37],a=!1,o,h,c;const g=()=>n[27](t,u),m=()=>n[27](null,u);function y(){cancelAnimationFrame(o),t.paused||(o=ri(y),a=!0),n[28].call(t)}return{c(){t=K("audio"),this.h()},l(p){t=Z(p,"AUDIO",{src:!0}),j(t).forEach(C),this.h()},h(){Ct(t.src,r=`assets/sound/swing-percentage/${n[35]}.mp3`)||T(t,"src",r),t.muted=s=n[35]!==n[3],n[2]===void 0&&Yn(()=>n[29].call(t))},m(p,S){se(p,t,S),g(),h||(c=[Le(t,"timeupdate",y),Le(t,"durationchange",n[29])],h=!0)},p(p,S){n=p,S[0]&8&&s!==(s=n[35]!==n[3])&&(t.muted=s),u!==n[37]&&(m(),u=n[37],g()),!a&&S[0]&128&&!isNaN(n[7])&&(t.currentTime=n[7]),a=!1},d(p){p&&C(t),m(),h=!1,sn(c)}}}function Cc(n){let t;function r(a,o){return a[37]===0?Sw:Mw}let u=r(n)(n);return{c(){u.c(),t=Oe()},l(a){u.l(a),t=Oe()},m(a,o){u.m(a,o),se(a,t,o)},p(a,o){u.p(a,o)},d(a){u.d(a),a&&C(t)}}}function Ew(n){let t,r,s,u,a,o,h,c,g,m,y,p,S,k,b,w,A,R,E,x,F,U=n[0]&&Mc(n),z=n[6],q=[];for(let I=0;I<z.length;I+=1)q[I]=Ec(Tc(n,z,I));const $=I=>ie(q[I],1,1,()=>{q[I]=null});let B=n[1]&&Ic(n),W=n[10],Q=[];for(let I=0;I<W.length;I+=1)Q[I]=Cc(kc(n,W,I));return{c(){t=K("div"),r=nn("svg"),s=nn("g"),u=nn("circle"),a=nn("path"),U&&U.c(),h=nn("line");for(let I=0;I<q.length;I+=1)q[I].c();m=me(),B&&B.c(),y=me(),p=K("button"),S=We("play"),k=me(),b=K("button"),w=We("pause"),A=me();for(let I=0;I<Q.length;I+=1)Q[I].c();R=Oe(),this.h()},l(I){t=Z(I,"DIV",{class:!0});var L=j(t);r=rn(L,"svg",{width:!0,height:!0});var G=j(r);s=rn(G,"g",{});var H=j(s);u=rn(H,"circle",{id:!0,r:!0,class:!0}),j(u).forEach(C),a=rn(H,"path",{class:!0,d:!0}),j(a).forEach(C),U&&U.l(H),h=rn(H,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),j(h).forEach(C);for(let re=0;re<q.length;re+=1)q[re].l(H);H.forEach(C),G.forEach(C),m=_e(L),B&&B.l(L),y=_e(L),p=Z(L,"BUTTON",{});var ge=j(p);S=Be(ge,"play"),ge.forEach(C),k=_e(L),b=Z(L,"BUTTON",{});var ve=j(b);w=Be(ve,"pause"),ve.forEach(C),L.forEach(C),A=_e(I);for(let re=0;re<Q.length;re+=1)Q[re].l(I);R=Oe(),this.h()},h(){T(u,"id","outer"),T(u,"r",n[11]),T(u,"class","svelte-m3juos"),T(a,"class","percentage svelte-m3juos"),T(a,"d",o=n[9]()),T(h,"id","marker"),T(h,"x1",0),T(h,"y1",0),T(h,"x2",c=n[12](n[5](n[4](n[7])))),T(h,"y2",g=n[13](n[5](n[4](n[7])))),T(h,"class","svelte-m3juos"),De(s,"transform","translate(50%, 50%)"),T(r,"width","100%"),T(r,"height",ah),T(t,"class","circle-wrapper svelte-m3juos")},m(I,L){se(I,t,L),P(t,r),P(r,s),P(s,u),P(s,a),U&&U.m(s,null),P(s,h);for(let G=0;G<q.length;G+=1)q[G].m(s,null);P(t,m),B&&B.m(t,null),P(t,y),P(t,p),P(p,S),P(t,k),P(t,b),P(b,w),se(I,A,L);for(let G=0;G<Q.length;G+=1)Q[G].m(I,L);se(I,R,L),E=!0,x||(F=[Le(p,"click",n[18]),Le(b,"click",n[17])],x=!0)},p(I,L){if((!E||L[0]&512&&o!==(o=I[9]()))&&T(a,"d",o),I[0]?U?U.p(I,L):(U=Mc(I),U.c(),U.m(s,h)):U&&(U.d(1),U=null),(!E||L[0]&176&&c!==(c=I[12](I[5](I[4](I[7])))))&&T(h,"x2",c),(!E||L[0]&176&&g!==(g=I[13](I[5](I[4](I[7])))))&&T(h,"y2",g),L[0]&12384){z=I[6];let G;for(G=0;G<z.length;G+=1){const H=Tc(I,z,G);q[G]?(q[G].p(H,L),ne(q[G],1)):(q[G]=Ec(H),q[G].c(),ne(q[G],1),q[G].m(s,null))}for(gt(),G=z.length;G<q.length;G+=1)$(G);dt()}if(I[1]?B?(B.p(I,L),L[0]&2&&ne(B,1)):(B=Ic(I),B.c(),ne(B,1),B.m(t,y)):B&&(gt(),ie(B,1,1,()=>{B=null}),dt()),L[0]&1420){W=I[10];let G;for(G=0;G<W.length;G+=1){const H=kc(I,W,G);Q[G]?Q[G].p(H,L):(Q[G]=Cc(H),Q[G].c(),Q[G].m(R.parentNode,R))}for(;G<Q.length;G+=1)Q[G].d(1);Q.length=W.length}},i(I){if(!E){for(let L=0;L<z.length;L+=1)ne(q[L]);ne(B),E=!0}},o(I){q=q.filter(Boolean);for(let L=0;L<q.length;L+=1)ie(q[L]);ie(B),E=!1},d(I){I&&C(t),U&&U.d(),pt(q,I),B&&B.d(),I&&C(A),pt(Q,I),I&&C(R),x=!1,sn(F)}}}const ah=300,Iw=30;function Cw(n,t,r){let s,u,a,o,h,c,g,m,{dots:y=[0]}=t,{beatsPerRotation:p=1}=t,{division:S=3}=t,{interactive:k}=t,{measures:b=4}=t,{beatsPerMeasure:w=4}=t;fs("song",{getCurrentBeat:()=>z,getIsPlaying:()=>F});const A=[3,5,7,9],R=ah/2-Iw,E=ae=>R*Math.cos(ae),x=ae=>R*Math.sin(ae),F=nt(!1);oe(n,F,ae=>r(31,g=ae));const U=nt(0);oe(n,U,ae=>r(7,c=ae));const z=nt(0);oe(n,z,ae=>r(32,m=ae));let q,$=0,B=[],W=+S;const Q=()=>{B.forEach(ae=>{ae.currentTime=c})},I=()=>{Qe(F,g=!1,g),B.forEach(ae=>ae.pause())},L=()=>{Qe(F,g=!0,g),B.forEach(ae=>{ae.currentTime=c,ae.play()})},G=()=>{Qe(U,c=0,c)},H=ae=>`${Ur.round(Math.ceil(ae/2)/ae*100,1)}%`;function ge(ae){W=ae,r(3,W)}function ve(ae,Xe){Dt[ae?"unshift":"push"](()=>{B[Xe]=ae,r(8,B)})}function re(){c=this.currentTime,U.set(c)}function Ee(){q=this.duration,r(2,q)}function xe(ae,Xe){Dt[ae?"unshift":"push"](()=>{B[Xe]=ae,r(8,B)})}return n.$$set=ae=>{"dots"in ae&&r(19,y=ae.dots),"beatsPerRotation"in ae&&r(20,p=ae.beatsPerRotation),"division"in ae&&r(0,S=ae.division),"interactive"in ae&&r(1,k=ae.interactive),"measures"in ae&&r(21,b=ae.measures),"beatsPerMeasure"in ae&&r(22,w=ae.beatsPerMeasure)},n.$$.update=()=>{n.$$.dirty[0]&8&&r(24,s=Math.ceil(W/2)/W),n.$$.dirty[0]&17301506&&r(6,u=k?[0,s]:y?y.map(ae=>+ae):[]),n.$$.dirty[0]&1048576&&r(5,h=zn().domain([0,p]).range([-Math.PI/2,3/2*Math.PI])),n.$$.dirty[0]&96&&r(9,a=z2().innerRadius(0).outerRadius(R).startAngle(h(u[0])+Math.PI/2).endAngle(h(u[u.length-1])+Math.PI/2)),n.$$.dirty[0]&4&&r(23,$=q-.7),n.$$.dirty[0]&15728640&&r(4,o=zn().domain([0,$/b/w||0]).range([0,p])),n.$$.dirty[0]&1048720&&Qe(z,m=o(c)%p,m),n.$$.dirty[0]&8388736&&c>=$&&(G(),L()),n.$$.dirty[0]&1&&Q()},[S,k,q,W,o,h,u,c,B,a,A,R,E,x,F,U,z,I,L,y,p,b,w,$,s,H,ge,ve,re,Ee,xe]}class Dw extends rt{constructor(t){super(),it(this,t,Cw,Ew,$e,{dots:19,beatsPerRotation:20,division:0,interactive:1,measures:21,beatsPerMeasure:22},null,[-1,-1])}}function xw(n){let t,r,s,u,a,o;return{c(){t=K("div"),r=K("div"),s=We(n[0]),u=me(),a=K("div"),o=We(n[1]),this.h()},l(h){t=Z(h,"DIV",{class:!0});var c=j(t);r=Z(c,"DIV",{class:!0});var g=j(r);s=Be(g,n[0]),g.forEach(C),u=_e(c),a=Z(c,"DIV",{class:!0});var m=j(a);o=Be(m,n[1]),m.forEach(C),c.forEach(C),this.h()},h(){T(r,"class","prompt svelte-jjooc9"),T(a,"class","share svelte-jjooc9"),T(t,"class","wrapper svelte-jjooc9")},m(h,c){se(h,t,c),P(t,r),P(r,s),P(t,u),P(t,a),P(a,o)},p(h,[c]){c&1&&Mt(s,h[0]),c&2&&Mt(o,h[1])},i:He,o:He,d(h){h&&C(t)}}}function Rw(n,t,r){let{prompt:s}=t,{share:u}=t;return n.$$set=a=>{"prompt"in a&&r(0,s=a.prompt),"share"in a&&r(1,u=a.share)},[s,u]}class Ow extends rt{constructor(t){super(),it(this,t,Rw,xw,$e,{prompt:0,share:1})}}function Nw(n){let t,r;return{c(){t=K("img"),this.h()},l(s){t=Z(s,"IMG",{src:!0,class:!0}),this.h()},h(){Ct(t.src,r=`assets/img/${n[0]}`)||T(t,"src",r),T(t,"class","svelte-lkxlp1")},m(s,u){se(s,t,u)},p(s,[u]){u&1&&!Ct(t.src,r=`assets/img/${s[0]}`)&&T(t,"src",r)},i:He,o:He,d(s){s&&C(t)}}}function Lw(n,t,r){let{src:s}=t;return n.$$set=u=>{"src"in u&&r(0,s=u.src)},[s]}class Pw extends rt{constructor(t){super(),it(this,t,Lw,Nw,$e,{src:0})}}function Dc(n,t,r){const s=n.slice();return s[6]=t[r],s}function xc(n,t,r){const s=n.slice();return s[9]=t[r],s}function Uw(n){let t,r;return{c(){t=new Yc(!1),r=Oe(),this.h()},l(s){t=zc(s,!1),r=Oe(),this.h()},h(){t.a=r},m(s,u){t.m(n[1],s,u),se(s,r,u)},p(s,u){u&2&&t.p(s[1])},d(s){s&&C(r),s&&t.d()}}}function Fw(n){let t,r=n[1].split(" "),s=[];for(let u=0;u<r.length;u+=1)s[u]=Oc(Dc(n,r,u));return{c(){for(let u=0;u<s.length;u+=1)s[u].c();t=Oe()},l(u){for(let a=0;a<s.length;a+=1)s[a].l(u);t=Oe()},m(u,a){for(let o=0;o<s.length;o+=1)s[o].m(u,a);se(u,t,a)},p(u,a){if(a&2){r=u[1].split(" ");let o;for(o=0;o<r.length;o+=1){const h=Dc(u,r,o);s[o]?s[o].p(h,a):(s[o]=Oc(h),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},d(u){pt(s,u),u&&C(t)}}}function Rc(n){let t,r=n[9]+"",s;return{c(){t=K("span"),s=We(r),this.h()},l(u){t=Z(u,"SPAN",{class:!0});var a=j(t);s=Be(a,r),a.forEach(C),this.h()},h(){T(t,"class","letter")},m(u,a){se(u,t,a),P(t,s)},p(u,a){a&2&&r!==(r=u[9]+"")&&Mt(s,r)},d(u){u&&C(t)}}}function Oc(n){let t,r,s,u,a,o=n[6].split(""),h=[];for(let c=0;c<o.length;c+=1)h[c]=Rc(xc(n,o,c));return{c(){t=K("span");for(let c=0;c<h.length;c+=1)h[c].c();r=me(),s=K("span"),u=We(" "),a=me(),this.h()},l(c){t=Z(c,"SPAN",{class:!0});var g=j(t);for(let y=0;y<h.length;y+=1)h[y].l(g);r=_e(g),s=Z(g,"SPAN",{});var m=j(s);u=Be(m," "),m.forEach(C),a=_e(g),g.forEach(C),this.h()},h(){T(t,"class","word svelte-1kid7yf")},m(c,g){se(c,t,g);for(let m=0;m<h.length;m+=1)h[m].m(t,null);P(t,r),P(t,s),P(s,u),P(t,a)},p(c,g){if(g&2){o=c[6].split("");let m;for(m=0;m<o.length;m+=1){const y=xc(c,o,m);h[m]?h[m].p(y,g):(h[m]=Rc(y),h[m].c(),h[m].m(t,r))}for(;m<h.length;m+=1)h[m].d(1);h.length=o.length}},d(c){c&&C(t),pt(h,c)}}}function Ww(n){let t,r,s;function u(h,c){return h[3]?Fw:Uw}let o=u(n)(n);return{c(){t=K("h3"),o.c(),this.h()},l(h){t=Z(h,"H3",{id:!0,class:!0});var c=j(t);o.l(c),c.forEach(C),this.h()},h(){T(t,"id",n[0]),T(t,"class","svelte-1kid7yf"),pe(t,"visible",n[2])},m(h,c){se(h,t,c),o.m(t,null),r||(s=[Wc(oh.call(null,t)),Le(t,"enter",n[4]),Le(t,"exit",n[5])],r=!0)},p(h,[c]){o.p(h,c),c&1&&T(t,"id",h[0]),c&4&&pe(t,"visible",h[2])},i:He,o:He,d(h){h&&C(t),o.d(),r=!1,sn(s)}}}function Bw(n,t,r){let{id:s}=t,{title:u}=t,a=s==="straight"||s==="swing"||s==="shift"||s==="dilla",o=!a;const h=()=>{a&&r(2,o=!0)},c=()=>{a&&r(2,o=!1)};return n.$$set=g=>{"id"in g&&r(0,s=g.id),"title"in g&&r(1,u=g.title)},[s,u,o,a,h,c]}class Hw extends rt{constructor(t){super(),it(this,t,Bw,Ww,$e,{id:0,title:1})}}function Nc(n,t,r){const s=n.slice();return s[5]=t[r].type,s[6]=t[r].text,s[7]=t[r].component,s[8]=t[r].classname,s[9]=t[r].steps,s[10]=t[r].notes,s[11]=t[r].songId,s[12]=t[r].style,s[13]=t[r].url,s[14]=t[r].song,s[15]=t[r].artist,s[16]=t[r].dots,s[17]=t[r].division,s[18]=t[r].interactive,s[19]=t[r].prompt,s[20]=t[r].share,s[21]=t[r].src,s}function Lc(n){let t,r;return t=new Hw({props:{id:n[0],title:n[1]}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},p(s,u){const a={};u&1&&(a.id=s[0]),u&2&&(a.title=s[1]),t.$set(a)},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function qw(n){let t,r,s;var u=n[4][n[7]];function a(o){return{props:{steps:o[9],notes:o[10],songId:o[11],style:o[12],url:o[13],song:o[14],artist:o[15],dots:o[16],division:o[17],interactive:o[18]==="true",prompt:o[19],share:o[20],src:o[21]}}}return u&&(t=os(u,a(n))),{c(){t&&qe(t.$$.fragment),r=Oe()},l(o){t&&Ge(t.$$.fragment,o),r=Oe()},m(o,h){t&&Ye(t,o,h),se(o,r,h),s=!0},p(o,h){const c={};if(h&4&&(c.steps=o[9]),h&4&&(c.notes=o[10]),h&4&&(c.songId=o[11]),h&4&&(c.style=o[12]),h&4&&(c.url=o[13]),h&4&&(c.song=o[14]),h&4&&(c.artist=o[15]),h&4&&(c.dots=o[16]),h&4&&(c.division=o[17]),h&4&&(c.interactive=o[18]==="true"),h&4&&(c.prompt=o[19]),h&4&&(c.share=o[20]),h&4&&(c.src=o[21]),u!==(u=o[4][o[7]])){if(t){gt();const g=t;ie(g.$$.fragment,1,0,()=>{ze(g,1)}),dt()}u?(t=os(u,a(o)),qe(t.$$.fragment),ne(t.$$.fragment,1),Ye(t,r.parentNode,r)):t=null}else u&&t.$set(c)},i(o){s||(t&&ne(t.$$.fragment,o),s=!0)},o(o){t&&ie(t.$$.fragment,o),s=!1},d(o){o&&C(r),t&&ze(t,o)}}}function Yw(n){let t,r=n[6]+"",s;return{c(){t=new Yc(!1),s=Oe(),this.h()},l(u){t=zc(u,!1),s=Oe(),this.h()},h(){t.a=s},m(u,a){t.m(r,u,a),se(u,s,a)},p(u,a){a&4&&r!==(r=u[6]+"")&&t.p(r)},i:He,o:He,d(u){u&&C(s),u&&t.d()}}}function eu(n){let t,r,s,u,a,o;const h=[Yw,qw],c=[];function g(p,S){return p[6]?0:1}r=g(n),s=c[r]=h[r](n);let m=[{class:a=Or(n[8])+" svelte-nsvnhb"}],y={};for(let p=0;p<m.length;p+=1)y=nu(y,m[p]);return{c(){t=K(n[5]),s.c(),u=me(),this.h()},l(p){t=Z(p,(n[5]||"null").toUpperCase(),{class:!0});var S=j(t);s.l(S),u=_e(S),S.forEach(C),this.h()},h(){/-/.test(n[5])?ja(t,y):$a(t,y)},m(p,S){se(p,t,S),c[r].m(t,null),P(t,u),o=!0},p(p,S){let k=r;r=g(p),r===k?c[r].p(p,S):(gt(),ie(c[k],1,1,()=>{c[k]=null}),dt(),s=c[r],s?s.p(p,S):(s=c[r]=h[r](p),s.c()),ne(s,1),s.m(t,u)),y=ev(m,[(!o||S&4&&a!==(a=Or(p[8])+" svelte-nsvnhb"))&&{class:a}]),/-/.test(p[5])?ja(t,y):$a(t,y)},i(p){o||(ne(s),o=!0)},o(p){ie(s),o=!1},d(p){p&&C(t),c[r].d()}}}function Pc(n){let t=n[5],r,s=n[5]&&eu(n);return{c(){s&&s.c(),r=Oe()},l(u){s&&s.l(u),r=Oe()},m(u,a){s&&s.m(u,a),se(u,r,a)},p(u,a){u[5]?t?$e(t,u[5])?(s.d(1),s=eu(u),s.c(),s.m(r.parentNode,r)):s.p(u,a):(s=eu(u),s.c(),s.m(r.parentNode,r)):t&&(s.d(1),s=null),t=u[5]},i:He,o(u){ie(s)},d(u){u&&C(r),s&&s.d(u)}}}function zw(n){let t,r,s,u=n[1]&&Lc(n),a=n[2],o=[];for(let c=0;c<a.length;c+=1)o[c]=Pc(Nc(n,a,c));const h=c=>ie(o[c],1,1,()=>{o[c]=null});return{c(){t=K("section"),u&&u.c(),r=me();for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){t=Z(c,"SECTION",{id:!0,class:!0});var g=j(t);u&&u.l(g),r=_e(g);for(let m=0;m<o.length;m+=1)o[m].l(g);g.forEach(C),this.h()},h(){T(t,"id",n[0]),T(t,"class","svelte-nsvnhb"),pe(t,"visible",n[3])},m(c,g){se(c,t,g),u&&u.m(t,null),P(t,r);for(let m=0;m<o.length;m+=1)o[m].m(t,null);s=!0},p(c,[g]){if(c[1]?u?(u.p(c,g),g&2&&ne(u,1)):(u=Lc(c),u.c(),ne(u,1),u.m(t,r)):u&&(gt(),ie(u,1,1,()=>{u=null}),dt()),g&20){a=c[2];let m;for(m=0;m<a.length;m+=1){const y=Nc(c,a,m);o[m]?(o[m].p(y,g),ne(o[m],1)):(o[m]=Pc(y),o[m].c(),ne(o[m],1),o[m].m(t,null))}for(gt(),m=a.length;m<o.length;m+=1)h(m);dt()}(!s||g&1)&&T(t,"id",c[0]),(!s||g&8)&&pe(t,"visible",c[3])},i(c){if(!s){ne(u);for(let g=0;g<a.length;g+=1)ne(o[g]);s=!0}},o(c){ie(u),o=o.filter(Boolean);for(let g=0;g<o.length;g+=1)ie(o[g]);s=!1},d(c){c&&C(t),u&&u.d(),pt(o,c)}}}function Gw(n,t,r){let s;oe(n,ks,c=>r(3,s=c));let{id:u}=t,{title:a}=t,{chunks:o}=t;const h={Scroll:gw,Demo:Kb,Song:vw,Circle:Dw,Feeling:Ow,Image:Pw};return n.$$set=c=>{"id"in c&&r(0,u=c.id),"title"in c&&r(1,a=c.title),"chunks"in c&&r(2,o=c.chunks)},[u,a,o,s,h]}class fh extends rt{constructor(t){super(),it(this,t,Gw,zw,$e,{id:0,title:1,chunks:2})}}const Vw="WONKY",Kw="An exploration of rhythm and grooves that break the rules",Zw="By <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",Xw=[{id:"intro",chunks:[{type:"div",component:"Scroll",steps:[{text:"One night outside a small music venue in North Carolina, Questlove’s life was changed forever. He was in the car leaving the venue when he heard a beat coming from inside that sounded… wrong."},{text:"“As I’m leaving the club, I'm hearing the vibration of the kick drum. It was <span class=emphasis>the most life-changing moment</span> I ever had… like, did I hear that? It sounded like the kick drum was played by a drunk 3-year old, and i was like ‘Are you allowed to do that?’” ~Questlove",classname:"quote",sound:"drunk"},{text:"The drums are the backbone of a band. They provide a steady beat for the other musicians to follow. Up until this point, Questlove, like many drummers, had essentially trained to be a metronome, keeping perfect time.",sound:"normal"},{text:"But what he heard that night was the opposite of perfect - some notes hit slightly sooner than expected, others slightly later. The whole thing was messy, imperfect, unexpected. And it was… awesome.",sound:"drunk"},{text:"“I’d never heard someone not give a f***, and that to me was <span class=emphasis>the most liberating</span> moment. like, all this pleasing my father, being perfect… Now I've got to undo all the education and all the hours of preparation that I did.” ~Questlove",classname:"quote"},{text:"The beat that captivated Questlove was made by the legendary James Dewitt Yancey, better known as J Dilla. The songs he produced reshaped our understanding of rhythm and time, and their influence persists among many contemporary musicians."},{text:"At first glance, it might look like chaos, but beneath the surface lies a meticulously crafted rhythmic sensibility. We’ll break down the techniques and subtleties that go into these grooves that break the rules."}]}]},{id:"note",chunks:[{type:"p",text:"Note: This piece is heavily inspired by Dan Charnas’ great book <a href=https://dillati.me/ target=_blank>“Dilla Time”</a>, which is all about J Dilla’s life, music, and legacy. The goal with this piece is to add visuals that you can see + hear + touch to some of the material covered in Charnas’ work.",classname:"note"}]},{id:"straight",title:"Straight",chunks:[{type:"p",text:"Let’s begin with a basic groove."},{type:"div",component:"Demo",songId:"straight",notes:["Right now we have nothing. Click to add in the bass guitar.","Sweet! The lines mark the beat or the pulse, where your head might nod along as you listen. The bass plays 2 notes per beat. Add in the hi-hat.","The hi-hat is part of a drum kit, made of two cymbals. It’s also playing 2 notes per beat. Add in the kick.","The kick drum plays on the first and third beats. Finally, add in the snare.","The snare plays on the second and fourth beats, where you might clap. Nice job, you made a groove!"]},{type:"p",text:"This groove is <strong>straight</strong>. Everything aligns perfectly with the evenly spaced grid. The space between notes stays consistent, so each note falls exactly where you would expect it to. This is the way Questlove had trained so hard to play."},{type:"p",text:"Here are some songs with straight grooves."},{type:"div",component:"Feeling",prompt:"How do these feel to you?",share:"To me they feel: precise, even, tight"},{type:"div",component:"Song",song:"Stars and Stripes Forever",artist:"John Philip Sousa",url:"https://p.scdn.co/mp3-preview/752705adcabd783103808a0dde531aed67c06a9c?cid=cfe923b2d660439caf2b557b21f31221"},{type:"div",component:"Song",song:"Light Switch",artist:"Charlie Puth",url:"https://p.scdn.co/mp3-preview/135cce6ee2119c739643b3bbc15465623a60522c?cid=cfe923b2d660439caf2b557b21f31221"}]},{id:"swing",title:"Swing",chunks:[{type:"p",text:"Sometimes straight can get a little boring. Fitting an evenly spaced grid is just one way to think about rhythm. Another is swing, where the backbeats, which are the second notes within each beat, are intentionally delayed. So, the first beat is longer, and the second beat is shorter than if they were evenly spaced. It’s common in blues and jazz, and the whole band does it, all playing on this new long-short-long-short grid."},{type:"div",component:"Demo",songId:"swing",notes:["We’ll start with the same straight groove. Click to make the bass swing.","We’ll also swing the hi-hat.","Now we’re talking!"]},{type:"p",text:"Here are some songs with swung grooves. Can you hear a difference from the straight grooves?"},{type:"div",component:"Feeling",prompt:"How do these feel to you?",share:"To me these feel loose, bouncing, make me want to dance"},{type:"div",component:"Song",song:"Beyond the Sea",artist:"Bobby Darin",url:"https://p.scdn.co/mp3-preview/ab71015cd8957e29f04aadf38fb40741c8e2b711?cid=0b297fa8a249464ba34f5861d4140e58"},{type:"div",component:"Song",song:"Higher Ground",artist:"Stevie Wonder",url:"https://p.scdn.co/mp3-preview/5b9df6d4e699b7b6f20d58eb796fe22965cd563e?cid=0b297fa8a249464ba34f5861d4140e58"}]},{id:"bonus",title:"Nerdy aside: Exactly how late do you put the backbeat?",chunks:[{type:"p",text:"Swing is defined by delaying the backbeat, but by how much exactly? The swing examples you just heard are called <strong>triplet swing</strong> because if we divide each beat in 3 parts (called triplets), the groove can be felt as the first and third of those triplets. Ordinarily, the beat would be divided into an even number of parts, resulting in evenly spaced beats. Dividing the beat into an odd number of parts always results in an uneven, off-kilter feeling, since one beat must be slightly longer than the other."},{type:"div",component:"Image",src:"static_swing.png"},{type:"p",text:"What about other odd divisions? This song’s groove is a <strong>quintuplet swing</strong>, derived by dividing the beat into 5 parts and playing on the first and fourth subdivisions. It’s a subtle difference, but the swing is slightly less steep, it’s closer to straight than the triplet swing."},{type:"div",component:"Song",song:"Sequence Start",artist:"Sungazer",url:"https://p.scdn.co/mp3-preview/394674c181e04c009527b3c4f7a9e13f7698b585?cid=0b297fa8a249464ba34f5861d4140e58"},{type:"p",text:"Let’s visualize this a different way. A rotation around this circle represents 1 beat. For a triplet swing, the beat is divided in 3 parts, and notes are played on the first and third, which is as close to even as we can get. Another way you can describe this rhythm is to say it has a 66.6% <strong>swing percentage</strong>, meaning that the first beat takes up 66.6% of the beat. The higher the swing percentage, the steeper the swing, the further from straight (50% swing percentage) we get."},{type:"div",component:"Circle",division:"3",dots:["0","0.666"]},{type:"p",text:"Depending on how many pieces you divide the beat into, the backbeat is delayed a different amount. Each of these swings is subtly different, try them out for yourself."},{type:"div",component:"Circle",interactive:"true"},{type:"p",text:"As you divide the beat into more pieces, it inches closer to straight, but never quite reaching it. These grooves have a unique funkiness - caught between a swung and straight feel, they have a lilting, off-kilter feeling. To me it feels like we’re stumbling down a flight of stairs and never quite catching ourselves. This tension is signature to J Dilla’s style, infusing the music with an intrigue and humanity that others want to emulate."},{type:"p",text:"<a href=https://youtu.be/-fgw4jq1Fso?t=161 target=_blank>Some drummers</a> actually think about and count these subdivisions out in their head. Others just think “play somewhere between straight and swung” or “play drunk.”"}]},{id:"shift",title:"Shift",chunks:[{type:"p",text:"When most music is straight and even, we develop expectations of where notes should fall. Even a slight deviation can feel bizarre, but that bizarreness is what made J Dilla’s time-feel so compelling. Another technique he used was shifting an entire part over ever so slightly on his <a href=https://nmaahc.si.edu/object/nmaahc_2014.139.1 target=_blank>drum machine</a>. It results in this distinctive flam or rubbing effect between instruments that now fall slightly apart from each other."},{type:"div",component:"Demo",songId:"shift",notes:["Starting with the straight groove. Click to shift the snare.","This one’s subtle! Try going back and forth and see if you hear the difference. It also might help to mute the bass and kick drums to isolate that flam with the hi-hat against the shifted share."]}]},{id:"dilla",title:"Dilla Time",chunks:[{type:"p",text:"What made J Dilla truly groundbreaking was his fusion of these elements, giving different parts of the groove different timefeels and slight deviations. This creates the looseness, tension, and humanness that defines the innovative timefeel known as Dilla Time."},{type:"div",component:"Demo",songId:"dilla",notes:["Let’s start by swinging the bass. This is called a quintuplet swing (see nerdy aside on advanced swing).","We’ll actually leave the hi-hat and snare straight to create some tension. Now, shift the snare slightly earlier.","Sweet! We’ve got straight, swung, and shifted parts, all going at the same time."]},{type:"p",text:"This toy example incorporates multiple J Dilla-inspired elements, but it's worth noting that every Dilla and Dilla-like song is distinct, featuring its own unique combination of these elements. Armed with this knowledge, we can now identify and label these elements as they appear in actual songs."},{type:"p",text:"This first one, “Fall in Love” by Erykah Badu (a frequent collaborator of J Dilla), has a similar feel to the beat we made."},{type:"div",component:"Demo",songId:"erykah",style:"real",song:"Fall in Love",artist:"Erykah Badu"},{type:"div",component:"Demo",songId:"money",style:"real",song:"Get Dis Money",artist:"Slum Village"},{type:"div",component:"Demo",songId:"heart",style:"real",song:"Heart Don’t Stand a Chance",artist:"Anderson .Paak"}]},{id:"conclusion",chunks:[{type:"p",text:"I’ll end with a quote I like from the musician <a href=https://www.vogue.co.uk/arts-and-lifestyle/article/jacob-collier-interview/amp target=_blank>Jacob Collier</a>, a contemporary musician deeply influenced by J Dilla’s work:"},{type:"p",text:"“When you learn music, you’re trained to think [in terms of a] “right way” and a “wrong way.” It’s all just made up. You have to find your own way. And so often [in making music], the things that are deemed wrong, or unconventional, or strange — those are the things that work the best and move people the most, because <span class=emphasis>people are moved by things that aren’t perfect.</span>”",classname:"quote"}]}],Ts={hed:Vw,dek:Kw,byline:Zw,sections:Xw};function Uc(n,t,r){const s=n.slice();return s[10]=t[r].id,s[11]=t[r].title,s[12]=t[r].chunks,s}function Jw(n){let t,r,s,u,a=n[3].split(" ").slice(0,4).join(" ")+"",o,h,c,g=n[3].split(" ").slice(4).join(" ")+"",m,y,p,S,k,b,w,A,R,E,x,F,U,z="(sound is recommended!)",q,$,B,W;const Q=[jw,Qw],I=[];function L(G,H){return G[1]?0:1}return E=L(n),x=I[E]=Q[E](n),{c(){t=K("div"),r=K("h1"),s=me(),u=K("div"),o=We(a),h=me(),c=K("div"),m=We(g),y=me(),p=K("div"),S=me(),k=K("button"),b=We("start"),w=me(),A=K("div"),R=K("button"),x.c(),F=me(),U=K("div"),q=We(z),this.h()},l(G){t=Z(G,"DIV",{class:!0});var H=j(t);r=Z(H,"H1",{class:!0});var ge=j(r);ge.forEach(C),s=_e(H),u=Z(H,"DIV",{class:!0});var ve=j(u);o=Be(ve,a),ve.forEach(C),h=_e(H),c=Z(H,"DIV",{class:!0});var re=j(c);m=Be(re,g),re.forEach(C),y=_e(H),p=Z(H,"DIV",{class:!0});var Ee=j(p);Ee.forEach(C),S=_e(H),k=Z(H,"BUTTON",{class:!0});var xe=j(k);b=Be(xe,"start"),xe.forEach(C),w=_e(H),A=Z(H,"DIV",{class:!0});var ae=j(A);R=Z(ae,"BUTTON",{class:!0});var Xe=j(R);x.l(Xe),Xe.forEach(C),F=_e(ae),U=Z(ae,"DIV",{class:!0});var ot=j(U);q=Be(ot,z),ot.forEach(C),ae.forEach(C),H.forEach(C),this.h()},h(){T(r,"class","svelte-uc1fu9"),T(u,"class","dek svelte-uc1fu9"),T(c,"class","dek svelte-uc1fu9"),T(p,"class","byline svelte-uc1fu9"),De(p,"margin-bottom","3em"),T(k,"class","start svelte-uc1fu9"),k.disabled=n[0],T(R,"class","svelte-uc1fu9"),pe(R,"faded",!n[1]),T(U,"class","svelte-uc1fu9"),pe(U,"visible",!n[1]),T(A,"class","mute-container svelte-uc1fu9"),T(t,"class","landing svelte-uc1fu9")},m(G,H){se(G,t,H),P(t,r),r.innerHTML=n[2],P(t,s),P(t,u),P(u,o),P(t,h),P(t,c),P(c,m),P(t,y),P(t,p),p.innerHTML=n[4],P(t,S),P(t,k),P(k,b),P(t,w),P(t,A),P(A,R),I[E].m(R,null),P(A,F),P(A,U),P(U,q),$=!0,B||(W=[Le(k,"click",n[5]),Le(R,"click",n[8])],B=!0)},p(G,H){(!$||H&1)&&(k.disabled=G[0]);let ge=E;E=L(G),E!==ge&&(gt(),ie(I[ge],1,1,()=>{I[ge]=null}),dt(),x=I[E],x||(x=I[E]=Q[E](G),x.c()),ne(x,1),x.m(R,null)),(!$||H&2)&&pe(R,"faded",!G[1]),(!$||H&2)&&pe(U,"visible",!G[1])},i(G){$||(ne(x),$=!0)},o(G){ie(x),$=!1},d(G){G&&C(t),I[E].d(),B=!1,sn(W)}}}function Qw(n){let t,r;return t=new kn({props:{name:"volume-x"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function jw(n){let t,r;return t=new kn({props:{name:"volume-2"}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function $w(n){let t,r;return t=new fh({props:{id:n[10],title:n[11],chunks:n[12]}}),{c(){qe(t.$$.fragment)},l(s){Ge(t.$$.fragment,s)},m(s,u){Ye(t,s,u),r=!0},p:He,i(s){r||(ne(t.$$.fragment,s),r=!0)},o(s){ie(t.$$.fragment,s),r=!1},d(s){ze(t,s)}}}function e3(n){let t,r,s=n[11]+"",u,a,o,h;return o=new fh({props:{id:n[10],chunks:n[12]}}),{c(){t=K("details"),r=K("summary"),u=We(s),a=me(),qe(o.$$.fragment),this.h()},l(c){t=Z(c,"DETAILS",{class:!0});var g=j(t);r=Z(g,"SUMMARY",{class:!0});var m=j(r);u=Be(m,s),m.forEach(C),a=_e(g),Ge(o.$$.fragment,g),g.forEach(C),this.h()},h(){T(r,"class","svelte-uc1fu9"),T(t,"class","svelte-uc1fu9")},m(c,g){se(c,t,g),P(t,r),P(r,u),P(t,a),Ye(o,t,null),h=!0},p:He,i(c){h||(ne(o.$$.fragment,c),h=!0)},o(c){ie(o.$$.fragment,c),h=!1},d(c){c&&C(t),ze(o)}}}function Fc(n){let t,r,s,u;const a=[e3,$w],o=[];function h(c,g){return c[10]==="bonus"?0:1}return t=h(n),r=o[t]=a[t](n),{c(){r.c(),s=Oe()},l(c){r.l(c),s=Oe()},m(c,g){o[t].m(c,g),se(c,s,g),u=!0},p(c,g){r.p(c,g)},i(c){u||(ne(r),u=!0)},o(c){ie(r),u=!1},d(c){o[t].d(c),c&&C(s)}}}function t3(n){let t,r,s,u,a,o,h,c,g,m=n[6].length===0&&Jw(n),y=n[7],p=[];for(let k=0;k<y.length;k+=1)p[k]=Fc(Uc(n,y,k));const S=k=>ie(p[k],1,1,()=>{p[k]=null});return c=new fv({}),{c(){t=K("article"),m&&m.c(),r=me(),s=K("div");for(let k=0;k<p.length;k+=1)p[k].c();u=me(),a=K("iframe"),h=me(),qe(c.$$.fragment),this.h()},l(k){t=Z(k,"ARTICLE",{class:!0});var b=j(t);m&&m.l(b),r=_e(b),s=Z(b,"DIV",{class:!0});var w=j(s);for(let A=0;A<p.length;A+=1)p[A].l(w);u=_e(w),a=Z(w,"IFRAME",{style:!0,src:!0,width:!0,height:!0,frameborder:!0,allow:!0,loading:!0}),j(a).forEach(C),h=_e(w),Ge(c.$$.fragment,w),w.forEach(C),b.forEach(C),this.h()},h(){De(a,"border-radius","12px"),Ct(a.src,o="https://open.spotify.com/embed/playlist/2lv10HmmIbXoknNEoNDt2s?utm_source=generator&theme=0")||T(a,"src",o),T(a,"width","100%"),T(a,"height","352"),T(a,"frameborder","0"),a.allowFullscreen="",T(a,"allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"),T(a,"loading","lazy"),T(s,"class","sections svelte-uc1fu9"),pe(s,"started",n[0]),T(t,"class","svelte-uc1fu9"),pe(t,"started",n[0])},m(k,b){se(k,t,b),m&&m.m(t,null),P(t,r),P(t,s);for(let w=0;w<p.length;w+=1)p[w].m(s,null);P(s,u),P(s,a),P(s,h),Ye(c,s,null),g=!0},p(k,[b]){if(k[6].length===0&&m.p(k,b),b&128){y=k[7];let w;for(w=0;w<y.length;w+=1){const A=Uc(k,y,w);p[w]?(p[w].p(A,b),ne(p[w],1)):(p[w]=Fc(A),p[w].c(),ne(p[w],1),p[w].m(s,u))}for(gt(),w=y.length;w<p.length;w+=1)S(w);dt()}(!g||b&1)&&pe(s,"started",k[0]),(!g||b&1)&&pe(t,"started",k[0])},i(k){if(!g){ne(m);for(let b=0;b<y.length;b+=1)ne(p[b]);ne(c.$$.fragment,k),g=!0}},o(k){ie(m),p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)ie(p[b]);ie(c.$$.fragment,k),g=!1},d(k){k&&C(t),m&&m.d(),pt(p,k),ze(c)}}}function n3(n,t,r){let s,u;oe(n,ks,S=>r(0,s=S)),oe(n,ai,S=>r(1,u=S));const{hed:a,dek:o,byline:h}=Ts;let c;const g=async()=>{Qe(ks,s=!0,s),await tv(),c.scrollIntoView({block:"center",behavior:"smooth"})},m=[],y=Ts.sections;return fi(()=>{c=document.getElementById("start-of-story")}),[s,u,a,o,h,g,m,y,()=>Qe(ai,u=!u,u)]}class r3 extends rt{constructor(t){super(),it(this,t,n3,t3,$e,{})}}function i3(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-05-16-18:51"),console.log("--- --- --- --- --- ---")}function s3(n){let t,r,s,u;return t=new uv({props:{title:n[1],description:n[2],url:n[3],preloadFont:n[0],keywords:n[4]}}),s=new r3({}),{c(){qe(t.$$.fragment),r=me(),qe(s.$$.fragment)},l(a){Ge(t.$$.fragment,a),r=_e(a),Ge(s.$$.fragment,a)},m(a,o){Ye(t,a,o),se(a,r,o),Ye(s,a,o),u=!0},p:He,i(a){u||(ne(t.$$.fragment,a),ne(s.$$.fragment,a),u=!0)},o(a){ie(t.$$.fragment,a),ie(s.$$.fragment,a),u=!1},d(a){ze(t,a),a&&C(r),ze(s,a)}}}function l3(n,t,r){let{data:s}=t;i3();const u=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:a,description:o,url:h,keywords:c}=Ts;return fs("copy",Ts),fs("data",s.data),n.$$set=g=>{"data"in g&&r(5,s=g.data)},[u,a,o,h,c,s]}class h3 extends rt{constructor(t){super(),it(this,t,l3,s3,$e,{data:5})}}export{h3 as default};
