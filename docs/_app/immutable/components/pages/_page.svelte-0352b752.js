import{S as J,i as U,s as z,k as I,e as K,J as tn,l as E,h as w,n as v,D as M,C as Y,K as Ie,b as N,q as re,m as D,r as ie,a as q,c as X,L as Ee,u as Pe,M as jt,N as te,O as ne,P as V,Q as nn,R as it,T as Vt,I as me,g as Ke,U as rn,d as Je,f as C,t as G,x as ae,y as oe,z as se,A as le,V as an,W as at,X as on,Y as sn,Z as ln,_ as je,$ as un,v as Ue,a0 as qt,a1 as Xt,a2 as fn,E as cn,F as dn,G as _n,H as mn,o as hn}from"../../chunks/index-d8ba59c7.js";import{r as pn,w as Wt}from"../../chunks/index-f7741712.js";import{d as gn,I as ot}from"../../chunks/transform-f56d011b.js";function st(t,r,n){const i=t.slice();return i[5]=r[n],i}function lt(t){let r,n;return{c(){r=I("link"),this.h()},l(i){r=E(i,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){v(r,"rel","preload"),v(r,"href",n=t[5]),v(r,"as","font"),v(r,"type","font/woff2"),v(r,"crossorigin","")},m(i,o){N(i,r,o)},p(i,o){o&16&&n!==(n=i[5])&&v(r,"href",n)},d(i){i&&w(r)}}}function vn(t){let r,n,i,o,l,u,d,f,c,g,e,a,s,_,m,p,h,b,y,A,T,F,H,B,P,R;document.title=r=t[0];let k=t[4],O=[];for(let S=0;S<k.length;S+=1)O[S]=lt(st(t,k,S));return{c(){n=I("meta"),i=I("meta"),o=I("meta"),l=I("meta"),u=I("meta"),d=I("meta"),f=I("meta"),c=I("meta"),g=I("meta"),e=I("meta"),s=I("meta"),_=I("meta"),m=I("meta"),p=I("meta"),h=I("meta"),b=I("meta"),y=I("meta"),A=I("meta"),T=I("meta"),H=I("meta"),B=I("link");for(let S=0;S<O.length;S+=1)O[S].c();R=K(),this.h()},l(S){const x=tn("svelte-1htu80s",document.head);n=E(x,"META",{name:!0,content:!0}),i=E(x,"META",{name:!0,content:!0}),o=E(x,"META",{name:!0,content:!0}),l=E(x,"META",{property:!0,content:!0}),u=E(x,"META",{property:!0,content:!0}),d=E(x,"META",{property:!0,content:!0}),f=E(x,"META",{property:!0,content:!0}),c=E(x,"META",{property:!0,content:!0}),g=E(x,"META",{property:!0,content:!0}),e=E(x,"META",{property:!0,content:!0}),s=E(x,"META",{property:!0,content:!0}),_=E(x,"META",{property:!0,content:!0}),m=E(x,"META",{property:!0,content:!0}),p=E(x,"META",{name:!0,content:!0}),h=E(x,"META",{name:!0,content:!0}),b=E(x,"META",{name:!0,content:!0}),y=E(x,"META",{name:!0,content:!0}),A=E(x,"META",{name:!0,content:!0}),T=E(x,"META",{name:!0,content:!0}),H=E(x,"META",{name:!0,content:!0}),B=E(x,"LINK",{rel:!0,href:!0});for(let L=0;L<O.length;L+=1)O[L].l(x);R=K(),x.forEach(w),this.h()},h(){v(n,"name","description"),v(n,"content",t[1]),v(i,"name","author"),v(i,"content","The Pudding"),v(o,"name","news_keywords"),v(o,"content",t[3]),v(l,"property","og:title"),v(l,"content",t[0]),v(u,"property","og:site_name"),v(u,"content","The Pudding"),v(d,"property","og:url"),v(d,"content",t[2]),v(f,"property","og:description"),v(f,"content",t[1]),v(c,"property","og:type"),v(c,"content","article"),v(g,"property","og:locale"),v(g,"content","en_US"),v(e,"property","og:image"),v(e,"content",a=t[2]+"/assets/social-facebook.jpg"),v(s,"property","og:image:type"),v(s,"content","image/jpeg"),v(_,"property","og:image:width"),v(_,"content","1200"),v(m,"property","og:image:height"),v(m,"content","600"),v(p,"name","twitter:card"),v(p,"content","summary_large_image"),v(h,"name","twitter:site"),v(h,"content","https://pudding.cool"),v(b,"name","twitter:creator"),v(b,"content","@puddingviz"),v(y,"name","twitter:title"),v(y,"content",t[0]),v(A,"name","twitter:description"),v(A,"content",t[1]),v(T,"name","twitter:image:src"),v(T,"content",F=t[2]+"/assets/social-twitter.jpg"),v(H,"name","robots"),v(H,"content","max-image-preview:large"),v(B,"rel","canonical"),v(B,"href",P=t[2]+"/")},m(S,x){M(document.head,n),M(document.head,i),M(document.head,o),M(document.head,l),M(document.head,u),M(document.head,d),M(document.head,f),M(document.head,c),M(document.head,g),M(document.head,e),M(document.head,s),M(document.head,_),M(document.head,m),M(document.head,p),M(document.head,h),M(document.head,b),M(document.head,y),M(document.head,A),M(document.head,T),M(document.head,H),M(document.head,B);for(let L=0;L<O.length;L+=1)O[L].m(document.head,null);M(document.head,R)},p(S,[x]){if(x&1&&r!==(r=S[0])&&(document.title=r),x&2&&v(n,"content",S[1]),x&8&&v(o,"content",S[3]),x&1&&v(l,"content",S[0]),x&4&&v(d,"content",S[2]),x&2&&v(f,"content",S[1]),x&4&&a!==(a=S[2]+"/assets/social-facebook.jpg")&&v(e,"content",a),x&1&&v(y,"content",S[0]),x&2&&v(A,"content",S[1]),x&4&&F!==(F=S[2]+"/assets/social-twitter.jpg")&&v(T,"content",F),x&4&&P!==(P=S[2]+"/")&&v(B,"href",P),x&16){k=S[4];let L;for(L=0;L<k.length;L+=1){const ue=st(S,k,L);O[L]?O[L].p(ue,x):(O[L]=lt(ue),O[L].c(),O[L].m(R.parentNode,R))}for(;L<O.length;L+=1)O[L].d(1);O.length=k.length}},i:Y,o:Y,d(S){w(n),w(i),w(o),w(l),w(u),w(d),w(f),w(c),w(g),w(e),w(s),w(_),w(m),w(p),w(h),w(b),w(y),w(A),w(T),w(H),w(B),Ie(O,S),w(R)}}}function yn(t,r,n){let{title:i="Title TK"}=r,{description:o="Description TK"}=r,{url:l="https://pudding.cool"}=r,{keywords:u=""}=r,{preloadFont:d=[]}=r;return t.$$set=f=>{"title"in f&&n(0,i=f.title),"description"in f&&n(1,o=f.description),"url"in f&&n(2,l=f.url),"keywords"in f&&n(3,u=f.keywords),"preloadFont"in f&&n(4,d=f.preloadFont)},[i,o,l,u,d]}class bn extends J{constructor(r){super(),U(this,r,yn,vn,z,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function wn(t){let r,n;return{c(){r=I("p"),n=re("here we go")},l(i){r=E(i,"P",{});var o=D(r);n=ie(o,"here we go"),o.forEach(w)},m(i,o){N(i,r,o),M(r,n)},p:Y,i:Y,o:Y,d(i){i&&w(r)}}}class kn extends J{constructor(r){super(),U(this,r,null,wn,z,{})}}function ut(t){let r,n=t[2][0]+"",i,o,l,u=t[2][1]+"",d;return{c(){r=I("span"),i=re(n),o=q(),l=I("span"),d=re(u),this.h()},l(f){r=E(f,"SPAN",{class:!0});var c=D(r);i=ie(c,n),c.forEach(w),o=X(f),l=E(f,"SPAN",{class:!0});var g=D(l);d=ie(g,u),g.forEach(w),this.h()},h(){v(r,"class","svelte-157h5as"),v(l,"class","svelte-157h5as")},m(f,c){N(f,r,c),M(r,i),N(f,o,c),N(f,l,c),M(l,d)},p(f,c){c&4&&n!==(n=f[2][0]+"")&&Pe(i,n),c&4&&u!==(u=f[2][1]+"")&&Pe(d,u)},d(f){f&&w(r),f&&w(o),f&&w(l)}}}function xn(t){let r,n,i,o,l,u,d,f,c=t[1]==="inner"&&ut(t);return{c(){r=I("div"),n=I("span"),i=re(t[0]),o=q(),l=I("button"),c&&c.c(),this.h()},l(g){r=E(g,"DIV",{class:!0});var e=D(r);n=E(e,"SPAN",{class:!0,id:!0});var a=D(n);i=ie(a,t[0]),a.forEach(w),o=X(e),l=E(e,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var s=D(l);c&&c.l(s),s.forEach(w),e.forEach(w),this.h()},h(){v(n,"class","label svelte-157h5as"),v(n,"id",t[4]),v(l,"role","switch"),v(l,"aria-checked",t[3]),v(l,"aria-labelledby",t[4]),v(l,"class","svelte-157h5as"),v(r,"class",u="toggle toggle--"+t[1]+" svelte-157h5as")},m(g,e){N(g,r,e),M(r,n),M(n,i),M(r,o),M(r,l),c&&c.m(l,null),d||(f=Ee(l,"click",t[5]),d=!0)},p(g,[e]){e&1&&Pe(i,g[0]),g[1]==="inner"?c?c.p(g,e):(c=ut(g),c.c(),c.m(l,null)):c&&(c.d(1),c=null),e&8&&v(l,"aria-checked",g[3]),e&2&&u!==(u="toggle toggle--"+g[1]+" svelte-157h5as")&&v(r,"class",u)},i:Y,o:Y,d(g){g&&w(r),c&&c.d(),d=!1,f()}}}function An(t,r,n){let{label:i}=r,{style:o="inner"}=r,{options:l=["on","off"]}=r,{value:u=l[0]}=r,d=u===l[0];const f=`toggle-${Math.floor(Math.random()*1e6)}`,c=g=>{const a=g.target.getAttribute("aria-checked");n(3,d=a!=="true"),n(6,u=d?l[0]:l[1])};return t.$$set=g=>{"label"in g&&n(0,i=g.label),"style"in g&&n(1,o=g.style),"options"in g&&n(2,l=g.options),"value"in g&&n(6,u=g.value)},[i,o,l,d,f,c,u]}class Tn extends J{constructor(r){super(),U(this,r,An,xn,z,{label:0,style:1,options:2,value:6})}}var ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var r=function(){this.init()};r.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var a=this||n;if(e=parseFloat(e),a.ctx||g(),typeof e<"u"&&e>=0&&e<=1){if(a._volume=e,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var s=0;s<a._howls.length;s++)if(!a._howls[s]._webAudio)for(var _=a._howls[s]._getSoundIds(),m=0;m<_.length;m++){var p=a._howls[s]._soundById(_[m]);p&&p._node&&(p._node.volume=p._volume*e)}return a}return a._volume},mute:function(e){var a=this||n;a.ctx||g(),a._muted=e,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(e?0:a._volume,n.ctx.currentTime);for(var s=0;s<a._howls.length;s++)if(!a._howls[s]._webAudio)for(var _=a._howls[s]._getSoundIds(),m=0;m<_.length;m++){var p=a._howls[s]._soundById(_[m]);p&&p._node&&(p._node.muted=e?!0:p._muted)}return a},stop:function(){for(var e=this||n,a=0;a<e._howls.length;a++)e._howls[a].stop();return e},unload:function(){for(var e=this||n,a=e._howls.length-1;a>=0;a--)e._howls[a].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,g()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var a=new Audio;a.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return e}if(!a||typeof a.canPlayType!="function")return e;var s=a.canPlayType("audio/mpeg;").replace(/^no$/,""),_=e._navigator?e._navigator.userAgent:"",m=_.match(/OPR\/([0-6].)/g),p=m&&parseInt(m[0].split("/")[1],10)<33,h=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,b=_.match(/Version\/(.*?) /),y=h&&b&&parseInt(b[1],10)<15;return e._codecs={mp3:!!(!p&&(s||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!s,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!y&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!y&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var a=function(s){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,e._releaseHtml5Audio(_)}catch{e.noAudio=!0;break}for(var m=0;m<e._howls.length;m++)if(!e._howls[m]._webAudio)for(var p=e._howls[m]._getSoundIds(),h=0;h<p.length;h++){var b=e._howls[m]._soundById(p[h]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}e._autoResume();var y=e.ctx.createBufferSource();y.buffer=e._scratchBuffer,y.connect(e.ctx.destination),typeof y.start>"u"?y.noteOn(0):y.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),y.onended=function(){y.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var A=0;A<e._howls.length;A++)e._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var a=this||n;return e._unlocked&&a._html5AudioPool.push(e),a},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!n.usingWebAudio)){for(var a=0;a<e._howls.length;a++)if(e._howls[a]._webAudio){for(var s=0;s<e._howls[a]._sounds.length;s++)if(!e._howls[a]._sounds[s]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var _=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(_,_)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!n.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var a=0;a<e._howls.length;a++)e._howls[a]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var n=new r,i=function(e){var a=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(e)};i.prototype={init:function(e){var a=this;return n.ctx||g(),a._autoplay=e.autoplay||!1,a._format=typeof e.format!="string"?e.format:[e.format],a._html5=e.html5||!1,a._muted=e.mute||!1,a._loop=e.loop||!1,a._pool=e.pool||5,a._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,a._rate=e.rate||1,a._sprite=e.sprite||{},a._src=typeof e.src!="string"?e.src:[e.src],a._volume=e.volume!==void 0?e.volume:1,a._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=e.onend?[{fn:e.onend}]:[],a._onfade=e.onfade?[{fn:e.onfade}]:[],a._onload=e.onload?[{fn:e.onload}]:[],a._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],a._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],a._onpause=e.onpause?[{fn:e.onpause}]:[],a._onplay=e.onplay?[{fn:e.onplay}]:[],a._onstop=e.onstop?[{fn:e.onstop}]:[],a._onmute=e.onmute?[{fn:e.onmute}]:[],a._onvolume=e.onvolume?[{fn:e.onvolume}]:[],a._onrate=e.onrate?[{fn:e.onrate}]:[],a._onseek=e.onseek?[{fn:e.onseek}]:[],a._onunlock=e.onunlock?[{fn:e.onunlock}]:[],a._onresume=[],a._webAudio=n.usingWebAudio&&!a._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var e=this,a=null;if(n.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var s=0;s<e._src.length;s++){var _,m;if(e._format&&e._format[s])_=e._format[s];else{if(m=e._src[s],typeof m!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(m),_||(_=/\.([^.]+)$/.exec(m.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){a=e._src[s];break}}if(!a){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=a,e._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&u(e),e},play:function(e,a){var s=this,_=null;if(typeof e=="number")_=e,e=null;else{if(typeof e=="string"&&s._state==="loaded"&&!s._sprite[e])return null;if(typeof e>"u"&&(e="__default",!s._playLock)){for(var m=0,p=0;p<s._sounds.length;p++)s._sounds[p]._paused&&!s._sounds[p]._ended&&(m++,_=s._sounds[p]._id);m===1?e=null:_=null}}var h=_?s._soundById(_):s._inactiveSound();if(!h)return null;if(_&&!e&&(e=h._sprite||"__default"),s._state!=="loaded"){h._sprite=e,h._ended=!1;var b=h._id;return s._queue.push({event:"play",action:function(){s.play(b)}}),b}if(_&&!h._paused)return a||s._loadQueue("play"),h._id;s._webAudio&&n._autoResume();var y=Math.max(0,h._seek>0?h._seek:s._sprite[e][0]/1e3),A=Math.max(0,(s._sprite[e][0]+s._sprite[e][1])/1e3-y),T=A*1e3/Math.abs(h._rate),F=s._sprite[e][0]/1e3,H=(s._sprite[e][0]+s._sprite[e][1])/1e3;h._sprite=e,h._ended=!1;var B=function(){h._paused=!1,h._seek=y,h._start=F,h._stop=H,h._loop=!!(h._loop||s._sprite[e][2])};if(y>=H){s._ended(h);return}var P=h._node;if(s._webAudio){var R=function(){s._playLock=!1,B(),s._refreshBuffer(h);var x=h._muted||s._muted?0:h._volume;P.gain.setValueAtTime(x,n.ctx.currentTime),h._playStart=n.ctx.currentTime,typeof P.bufferSource.start>"u"?h._loop?P.bufferSource.noteGrainOn(0,y,86400):P.bufferSource.noteGrainOn(0,y,A):h._loop?P.bufferSource.start(0,y,86400):P.bufferSource.start(0,y,A),T!==1/0&&(s._endTimers[h._id]=setTimeout(s._ended.bind(s,h),T)),a||setTimeout(function(){s._emit("play",h._id),s._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?R():(s._playLock=!0,s.once("resume",R),s._clearTimer(h._id))}else{var k=function(){P.currentTime=y,P.muted=h._muted||s._muted||n._muted||P.muted,P.volume=h._volume*n.volume(),P.playbackRate=h._rate;try{var x=P.play();if(x&&typeof Promise<"u"&&(x instanceof Promise||typeof x.then=="function")?(s._playLock=!0,B(),x.then(function(){s._playLock=!1,P._unlocked=!0,a?s._loadQueue():s._emit("play",h._id)}).catch(function(){s._playLock=!1,s._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):a||(s._playLock=!1,B(),s._emit("play",h._id)),P.playbackRate=h._rate,P.paused){s._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||h._loop?s._endTimers[h._id]=setTimeout(s._ended.bind(s,h),T):(s._endTimers[h._id]=function(){s._ended(h),P.removeEventListener("ended",s._endTimers[h._id],!1)},P.addEventListener("ended",s._endTimers[h._id],!1))}catch(L){s._emit("playerror",h._id,L)}};P.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(P.src=s._src,P.load());var O=window&&window.ejecta||!P.readyState&&n._navigator.isCocoonJS;if(P.readyState>=3||O)k();else{s._playLock=!0,s._state="loading";var S=function(){s._state="loaded",k(),P.removeEventListener(n._canPlayEvent,S,!1)};P.addEventListener(n._canPlayEvent,S,!1),s._clearTimer(h._id)}}return h._id},pause:function(e){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(e)}}),a;for(var s=a._getSoundIds(e),_=0;_<s.length;_++){a._clearTimer(s[_]);var m=a._soundById(s[_]);if(m&&!m._paused&&(m._seek=a.seek(s[_]),m._rateSeek=0,m._paused=!0,a._stopFade(s[_]),m._node))if(a._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),a._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||a._emit("pause",m?m._id:null)}return a},stop:function(e,a){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"stop",action:function(){s.stop(e)}}),s;for(var _=s._getSoundIds(e),m=0;m<_.length;m++){s._clearTimer(_[m]);var p=s._soundById(_[m]);p&&(p._seek=p._start||0,p._rateSeek=0,p._paused=!0,p._ended=!0,s._stopFade(_[m]),p._node&&(s._webAudio?p._node.bufferSource&&(typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),s._cleanBuffer(p._node)):(!isNaN(p._node.duration)||p._node.duration===1/0)&&(p._node.currentTime=p._start||0,p._node.pause(),p._node.duration===1/0&&s._clearSound(p._node))),a||s._emit("stop",p._id))}return s},mute:function(e,a){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"mute",action:function(){s.mute(e,a)}}),s;if(typeof a>"u")if(typeof e=="boolean")s._muted=e;else return s._muted;for(var _=s._getSoundIds(a),m=0;m<_.length;m++){var p=s._soundById(_[m]);p&&(p._muted=e,p._interval&&s._stopFade(p._id),s._webAudio&&p._node?p._node.gain.setValueAtTime(e?0:p._volume,n.ctx.currentTime):p._node&&(p._node.muted=n._muted?!0:e),s._emit("mute",p._id))}return s},volume:function(){var e=this,a=arguments,s,_;if(a.length===0)return e._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var m=e._getSoundIds(),p=m.indexOf(a[0]);p>=0?_=parseInt(a[0],10):s=parseFloat(a[0])}else a.length>=2&&(s=parseFloat(a[0]),_=parseInt(a[1],10));var h;if(typeof s<"u"&&s>=0&&s<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,a)}}),e;typeof _>"u"&&(e._volume=s),_=e._getSoundIds(_);for(var b=0;b<_.length;b++)h=e._soundById(_[b]),h&&(h._volume=s,a[2]||e._stopFade(_[b]),e._webAudio&&h._node&&!h._muted?h._node.gain.setValueAtTime(s,n.ctx.currentTime):h._node&&!h._muted&&(h._node.volume=s*n.volume()),e._emit("volume",h._id))}else return h=_?e._soundById(_):e._sounds[0],h?h._volume:0;return e},fade:function(e,a,s,_){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(e,a,s,_)}}),m;e=Math.min(Math.max(0,parseFloat(e)),1),a=Math.min(Math.max(0,parseFloat(a)),1),s=parseFloat(s),m.volume(e,_);for(var p=m._getSoundIds(_),h=0;h<p.length;h++){var b=m._soundById(p[h]);if(b){if(_||m._stopFade(p[h]),m._webAudio&&!b._muted){var y=n.ctx.currentTime,A=y+s/1e3;b._volume=e,b._node.gain.setValueAtTime(e,y),b._node.gain.linearRampToValueAtTime(a,A)}m._startFadeInterval(b,e,a,s,p[h],typeof _>"u")}}return m},_startFadeInterval:function(e,a,s,_,m,p){var h=this,b=a,y=s-a,A=Math.abs(y/.01),T=Math.max(4,A>0?_/A:_),F=Date.now();e._fadeTo=s,e._interval=setInterval(function(){var H=(Date.now()-F)/_;F=Date.now(),b+=y*H,b=Math.round(b*100)/100,y<0?b=Math.max(s,b):b=Math.min(s,b),h._webAudio?e._volume=b:h.volume(b,e._id,!0),p&&(h._volume=b),(s<a&&b<=s||s>a&&b>=s)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,h.volume(s,e._id),h._emit("fade",e._id))},T)},_stopFade:function(e){var a=this,s=a._soundById(e);return s&&s._interval&&(a._webAudio&&s._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(s._interval),s._interval=null,a.volume(s._fadeTo,e),s._fadeTo=null,a._emit("fade",e)),a},loop:function(){var e=this,a=arguments,s,_,m;if(a.length===0)return e._loop;if(a.length===1)if(typeof a[0]=="boolean")s=a[0],e._loop=s;else return m=e._soundById(parseInt(a[0],10)),m?m._loop:!1;else a.length===2&&(s=a[0],_=parseInt(a[1],10));for(var p=e._getSoundIds(_),h=0;h<p.length;h++)m=e._soundById(p[h]),m&&(m._loop=s,e._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=s,s&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,e.playing(p[h])&&(e.pause(p[h],!0),e.play(p[h],!0)))));return e},rate:function(){var e=this,a=arguments,s,_;if(a.length===0)_=e._sounds[0]._id;else if(a.length===1){var m=e._getSoundIds(),p=m.indexOf(a[0]);p>=0?_=parseInt(a[0],10):s=parseFloat(a[0])}else a.length===2&&(s=parseFloat(a[0]),_=parseInt(a[1],10));var h;if(typeof s=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,a)}}),e;typeof _>"u"&&(e._rate=s),_=e._getSoundIds(_);for(var b=0;b<_.length;b++)if(h=e._soundById(_[b]),h){e.playing(_[b])&&(h._rateSeek=e.seek(_[b]),h._playStart=e._webAudio?n.ctx.currentTime:h._playStart),h._rate=s,e._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(s,n.ctx.currentTime):h._node&&(h._node.playbackRate=s);var y=e.seek(_[b]),A=(e._sprite[h._sprite][0]+e._sprite[h._sprite][1])/1e3-y,T=A*1e3/Math.abs(h._rate);(e._endTimers[_[b]]||!h._paused)&&(e._clearTimer(_[b]),e._endTimers[_[b]]=setTimeout(e._ended.bind(e,h),T)),e._emit("rate",h._id)}}else return h=e._soundById(_),h?h._rate:e._rate;return e},seek:function(){var e=this,a=arguments,s,_;if(a.length===0)e._sounds.length&&(_=e._sounds[0]._id);else if(a.length===1){var m=e._getSoundIds(),p=m.indexOf(a[0]);p>=0?_=parseInt(a[0],10):e._sounds.length&&(_=e._sounds[0]._id,s=parseFloat(a[0]))}else a.length===2&&(s=parseFloat(a[0]),_=parseInt(a[1],10));if(typeof _>"u")return 0;if(typeof s=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,a)}}),e;var h=e._soundById(_);if(h)if(typeof s=="number"&&s>=0){var b=e.playing(_);b&&e.pause(_,!0),h._seek=s,h._ended=!1,e._clearTimer(_),!e._webAudio&&h._node&&!isNaN(h._node.duration)&&(h._node.currentTime=s);var y=function(){b&&e.play(_,!0),e._emit("seek",_)};if(b&&!e._webAudio){var A=function(){e._playLock?setTimeout(A,0):y()};setTimeout(A,0)}else y()}else if(e._webAudio){var T=e.playing(_)?n.ctx.currentTime-h._playStart:0,F=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(F+T*Math.abs(h._rate))}else return h._node.currentTime;return e},playing:function(e){var a=this;if(typeof e=="number"){var s=a._soundById(e);return s?!s._paused:!1}for(var _=0;_<a._sounds.length;_++)if(!a._sounds[_]._paused)return!0;return!1},duration:function(e){var a=this,s=a._duration,_=a._soundById(e);return _&&(s=a._sprite[_._sprite][1]/1e3),s},state:function(){return this._state},unload:function(){for(var e=this,a=e._sounds,s=0;s<a.length;s++)a[s]._paused||e.stop(a[s]._id),e._webAudio||(e._clearSound(a[s]._node),a[s]._node.removeEventListener("error",a[s]._errorFn,!1),a[s]._node.removeEventListener(n._canPlayEvent,a[s]._loadFn,!1),a[s]._node.removeEventListener("ended",a[s]._endFn,!1),n._releaseHtml5Audio(a[s]._node)),delete a[s]._node,e._clearTimer(a[s]._id);var _=n._howls.indexOf(e);_>=0&&n._howls.splice(_,1);var m=!0;for(s=0;s<n._howls.length;s++)if(n._howls[s]._src===e._src||e._src.indexOf(n._howls[s]._src)>=0){m=!1;break}return l&&m&&delete l[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,a,s,_){var m=this,p=m["_on"+e];return typeof a=="function"&&p.push(_?{id:s,fn:a,once:_}:{id:s,fn:a}),m},off:function(e,a,s){var _=this,m=_["_on"+e],p=0;if(typeof a=="number"&&(s=a,a=null),a||s)for(p=0;p<m.length;p++){var h=s===m[p].id;if(a===m[p].fn&&h||!a&&h){m.splice(p,1);break}}else if(e)_["_on"+e]=[];else{var b=Object.keys(_);for(p=0;p<b.length;p++)b[p].indexOf("_on")===0&&Array.isArray(_[b[p]])&&(_[b[p]]=[])}return _},once:function(e,a,s){var _=this;return _.on(e,a,s,1),_},_emit:function(e,a,s){for(var _=this,m=_["_on"+e],p=m.length-1;p>=0;p--)(!m[p].id||m[p].id===a||e==="load")&&(setTimeout(function(h){h.call(this,a,s)}.bind(_,m[p].fn),0),m[p].once&&_.off(e,m[p].fn,m[p].id));return _._loadQueue(e),_},_loadQueue:function(e){var a=this;if(a._queue.length>0){var s=a._queue[0];s.event===e&&(a._queue.shift(),a._loadQueue()),e||s.action()}return a},_ended:function(e){var a=this,s=e._sprite;if(!a._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(a._ended.bind(a,e),100),a;var _=!!(e._loop||a._sprite[s][2]);if(a._emit("end",e._id),!a._webAudio&&_&&a.stop(e._id,!0).play(e._id),a._webAudio&&_){a._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var m=(e._stop-e._start)*1e3/Math.abs(e._rate);a._endTimers[e._id]=setTimeout(a._ended.bind(a,e),m)}return a._webAudio&&!_&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,a._clearTimer(e._id),a._cleanBuffer(e._node),n._autoSuspend()),!a._webAudio&&!_&&a.stop(e._id,!0),a},_clearTimer:function(e){var a=this;if(a._endTimers[e]){if(typeof a._endTimers[e]!="function")clearTimeout(a._endTimers[e]);else{var s=a._soundById(e);s&&s._node&&s._node.removeEventListener("ended",a._endTimers[e],!1)}delete a._endTimers[e]}return a},_soundById:function(e){for(var a=this,s=0;s<a._sounds.length;s++)if(e===a._sounds[s]._id)return a._sounds[s];return null},_inactiveSound:function(){var e=this;e._drain();for(var a=0;a<e._sounds.length;a++)if(e._sounds[a]._ended)return e._sounds[a].reset();return new o(e)},_drain:function(){var e=this,a=e._pool,s=0,_=0;if(!(e._sounds.length<a)){for(_=0;_<e._sounds.length;_++)e._sounds[_]._ended&&s++;for(_=e._sounds.length-1;_>=0;_--){if(s<=a)return;e._sounds[_]._ended&&(e._webAudio&&e._sounds[_]._node&&e._sounds[_]._node.disconnect(0),e._sounds.splice(_,1),s--)}}},_getSoundIds:function(e){var a=this;if(typeof e>"u"){for(var s=[],_=0;_<a._sounds.length;_++)s.push(a._sounds[_]._id);return s}else return[e]},_refreshBuffer:function(e){var a=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=l[a._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),a},_cleanBuffer:function(e){var a=this,s=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),s))try{e.bufferSource.buffer=n._scratchBuffer}catch{}return e.bufferSource=null,a},_clearSound:function(e){var a=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);a||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,a=e._parent;return e._muted=a._muted,e._loop=a._loop,e._volume=a._volume,e._rate=a._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,a._sounds.push(e),e.create(),e},create:function(){var e=this,a=e._parent,s=n._muted||e._muted||e._parent._muted?0:e._volume;return a._webAudio?(e._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(s,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=a._src,e._node.preload=a._preload===!0?"auto":a._preload,e._node.volume=s*n.volume(),e._node.load()),e},reset:function(){var e=this,a=e._parent;return e._muted=a._muted,e._loop=a._loop,e._volume=a._volume,e._rate=a._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,a=e._parent;a._duration=Math.ceil(e._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,a=e._parent;a._duration===1/0&&(a._duration=Math.ceil(e._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},u=function(e){var a=e._src;if(l[a]){e._duration=l[a].duration,c(e);return}if(/^data:[^;]+;base64,/.test(a)){for(var s=atob(a.split(",")[1]),_=new Uint8Array(s.length),m=0;m<s.length;++m)_[m]=s.charCodeAt(m);f(_.buffer,e)}else{var p=new XMLHttpRequest;p.open(e._xhr.method,a,!0),p.withCredentials=e._xhr.withCredentials,p.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(h){p.setRequestHeader(h,e._xhr.headers[h])}),p.onload=function(){var h=(p.status+"")[0];if(h!=="0"&&h!=="2"&&h!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+p.status+".");return}f(p.response,e)},p.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[a],e.load())},d(p)}},d=function(e){try{e.send()}catch{e.onerror()}},f=function(e,a){var s=function(){a._emit("loaderror",null,"Decoding audio data failed.")},_=function(m){m&&a._sounds.length>0?(l[a._src]=m,c(a,m)):s()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(e).then(_).catch(s):n.ctx.decodeAudioData(e,_,s)},c=function(e,a){a&&!e._duration&&(e._duration=a.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),a=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),s=a?parseInt(a[1],10):null;if(e&&s&&s<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=i,typeof ee<"u"?(ee.HowlerGlobal=r,ee.Howler=n,ee.Howl=i,ee.Sound=o):typeof window<"u"&&(window.HowlerGlobal=r,window.Howler=n,window.Howl=i,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var o=i._howls.length-1;o>=0;o--)i._howls[o].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(i=typeof i!="number"?l._pos[1]:i,o=typeof o!="number"?l._pos[2]:o,typeof n=="number")l._pos=[n,i,o],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(n,i,o,l,u,d){var f=this;if(!f.ctx||!f.ctx.listener)return f;var c=f._orientation;if(i=typeof i!="number"?c[1]:i,o=typeof o!="number"?c[2]:o,l=typeof l!="number"?c[3]:l,u=typeof u!="number"?c[4]:u,d=typeof d!="number"?c[5]:d,typeof n=="number")f._orientation=[n,i,o,l,u,d],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,i,o,l,u,d);else return c;return f},Howl.prototype.init=function(n){return function(i){var o=this;return o._orientation=i.orientation||[1,0,0],o._stereo=i.stereo||null,o._pos=i.pos||null,o._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},o._onstereo=i.onstereo?[{fn:i.onstereo}]:[],o._onpos=i.onpos?[{fn:i.onpos}]:[],o._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,i)}}),o;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(i),d=0;d<u.length;d++){var f=o._soundById(u[d]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&r(f,l),l==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,i,o,l){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,i,o,l)}}),u;if(i=typeof i!="number"?0:i,o=typeof o!="number"?-.5:o,typeof l>"u")if(typeof n=="number")u._pos=[n,i,o];else return u._pos;for(var d=u._getSoundIds(l),f=0;f<d.length;f++){var c=u._soundById(d[f]);if(c)if(typeof n=="number")c._pos=[n,i,o],c._node&&((!c._panner||c._panner.pan)&&r(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):c._panner.setPosition(n,i,o)),u._emit("pos",c._id);else return c._pos}return u},Howl.prototype.orientation=function(n,i,o,l){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,i,o,l)}}),u;if(i=typeof i!="number"?u._orientation[1]:i,o=typeof o!="number"?u._orientation[2]:o,typeof l>"u")if(typeof n=="number")u._orientation=[n,i,o];else return u._orientation;for(var d=u._getSoundIds(l),f=0;f<d.length;f++){var c=u._soundById(d[f]);if(c)if(typeof n=="number")c._orientation=[n,i,o],c._node&&(c._panner||(c._pos||(c._pos=u._pos||[0,0,-.5]),r(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):c._panner.setOrientation(n,i,o)),u._emit("orientation",c._id);else return c._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,i=arguments,o,l,u;if(!n._webAudio)return n;if(i.length===0)return n._pannerAttr;if(i.length===1)if(typeof i[0]=="object")o=i[0],typeof l>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(i[0],10)),u?u._pannerAttr:n._pannerAttr;else i.length===2&&(o=i[0],l=parseInt(i[1],10));for(var d=n._getSoundIds(l),f=0;f<d.length;f++)if(u=n._soundById(d[f]),u){var c=u._pannerAttr;c={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:c.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:c.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:c.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:c.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:c.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:c.panningModel};var g=u._panner;g?(g.coneInnerAngle=c.coneInnerAngle,g.coneOuterAngle=c.coneOuterAngle,g.coneOuterGain=c.coneOuterGain,g.distanceModel=c.distanceModel,g.maxDistance=c.maxDistance,g.refDistance=c.refDistance,g.rolloffFactor=c.rolloffFactor,g.panningModel=c.panningModel):(u._pos||(u._pos=n._pos||[0,0,-.5]),r(u,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var i=this,o=i._parent;i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,n.call(this),i._stereo?o.stereo(i._stereo):i._pos&&o.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,o=i._parent;return i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,i._stereo?o.stereo(i._stereo):i._pos?o.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,o._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var r=function(n,i){i=i||"spatial",i==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Me);function ft(t,{delay:r=0,duration:n=400,easing:i=jt}={}){const o=+getComputedStyle(t).opacity;return{delay:r,duration:n,easing:i,css:l=>`opacity: ${l*o}`}}function Mn(t){let r,n,i;return{c(){r=te("rect"),this.h()},l(o){r=ne(o,"rect",{x:!0,height:!0,width:!0,class:!0}),D(r).forEach(w),this.h()},h(){v(r,"x",t[2]),v(r,"height",t[1]),v(r,"width",t[0]),v(r,"class","svelte-1h5sur8"),V(r,"playing",t[4]&&t[3]),V(r,"off-grid",t[5])},m(o,l){N(o,r,l),i=!0},p(o,[l]){(!i||l&4)&&v(r,"x",o[2]),(!i||l&2)&&v(r,"height",o[1]),(!i||l&1)&&v(r,"width",o[0]),(!i||l&24)&&V(r,"playing",o[4]&&o[3]),(!i||l&32)&&V(r,"off-grid",o[5])},i(o){i||(nn(()=>{n||(n=it(r,ft,{},!0)),n.run(1)}),i=!0)},o(o){n||(n=it(r,ft,{},!1)),n.run(0),i=!1},d(o){o&&w(r),o&&n&&n.end()}}}const Sn=.05;function In(t,r,n){let i,o,l,u,d,{note:f}=r,{instrumentId:c}=r,{width:g}=r,{height:e}=r,{x:a}=r;const{getT:s,getInstrumentToggles:_}=Vt("song"),m=s();me(t,m,y=>n(11,d=y));const p=_();me(t,p,y=>n(10,u=y));const h={hihat:new Me.Howl({src:["assets/sound/hihat.mp3"]}),kick:new Me.Howl({src:["assets/sound/kick.mp3"]}),snare:new Me.Howl({src:["assets/sound/snare.mp3"]})},b=()=>{h[c].state()==="loaded"&&h[c].play()};return t.$$set=y=>{"note"in y&&n(8,f=y.note),"instrumentId"in y&&n(9,c=y.instrumentId),"width"in y&&n(0,g=y.width),"height"in y&&n(1,e=y.height),"x"in y&&n(2,a=y.x)},t.$$.update=()=>{t.$$.dirty&256&&n(5,i=f%.0625!==0),t.$$.dirty&2304&&n(4,o=d>=f&&d<f+Sn),t.$$.dirty&1536&&n(3,l=u[c]==="on"),t.$$.dirty&24&&o&&l&&b()},[g,e,a,l,o,i,m,p,f,c,u,d]}class En extends J{constructor(r){super(),U(this,r,In,Mn,z,{note:8,instrumentId:9,width:0,height:1,x:2})}}function ct(t,r,n){const i=t.slice();i[9]=r[n],i[17]=n;const o=i[5](i[9]);i[10]=o;const l=i[17]===0;i[11]=l;const u=i[17]===i[0].length-1;i[12]=u;const d=i[11]?Ve:i[5](i[0][i[17]-1])+Ve;i[13]=d;const f=i[11]?i[10]:Math.abs(i[10]-i[13]);i[14]=f;const c=i[3][i[1]]==="off";return i[15]=c,i}function dt(t){let r,n,i;return{c(){r=te("rect"),this.h()},l(o){r=ne(o,"rect",{height:!0,width:!0,x:!0,class:!0}),D(r).forEach(w),this.h()},h(){v(r,"height",t[2]),v(r,"width",n=Math.abs(t[5](t[4])-t[10])),v(r,"x",i=t[10]),v(r,"class","svelte-kk1298"),V(r,"muted",t[15])},m(o,l){N(o,r,l)},p(o,l){l&4&&v(r,"height",o[2]),l&1&&n!==(n=Math.abs(o[5](o[4])-o[10]))&&v(r,"width",n),l&1&&i!==(i=o[10])&&v(r,"x",i),l&10&&V(r,"muted",o[15])},d(o){o&&w(r)}}}function _t(t,r){let n,i,o,l,u,d,f,c=r[12]&&dt(r);return d=new En({props:{note:r[9],instrumentId:r[1],height:r[2],width:Ve,x:r[10]}}),{key:t,first:null,c(){n=te("rect"),l=q(),c&&c.c(),u=q(),ae(d.$$.fragment),this.h()},l(g){n=ne(g,"rect",{height:!0,width:!0,x:!0,class:!0}),D(n).forEach(w),l=X(g),c&&c.l(g),u=X(g),oe(d.$$.fragment,g),this.h()},h(){v(n,"height",r[2]),v(n,"width",i=r[14]),v(n,"x",o=r[13]),v(n,"class","svelte-kk1298"),V(n,"muted",r[15]),this.first=n},m(g,e){N(g,n,e),N(g,l,e),c&&c.m(g,e),N(g,u,e),se(d,g,e),f=!0},p(g,e){r=g,(!f||e&4)&&v(n,"height",r[2]),(!f||e&1&&i!==(i=r[14]))&&v(n,"width",i),(!f||e&1&&o!==(o=r[13]))&&v(n,"x",o),(!f||e&10)&&V(n,"muted",r[15]),r[12]?c?c.p(r,e):(c=dt(r),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null);const a={};e&1&&(a.note=r[9]),e&2&&(a.instrumentId=r[1]),e&4&&(a.height=r[2]),e&1&&(a.x=r[10]),d.$set(a)},i(g){f||(C(d.$$.fragment,g),f=!0)},o(g){G(d.$$.fragment,g),f=!1},d(g){g&&w(n),g&&w(l),c&&c.d(g),g&&w(u),le(d,g)}}}function Pn(t){let r=[],n=new Map,i,o,l=t[0];const u=d=>`${d[1]}-${d[17]}`;for(let d=0;d<l.length;d+=1){let f=ct(t,l,d),c=u(f);n.set(c,r[d]=_t(c,f))}return{c(){for(let d=0;d<r.length;d+=1)r[d].c();i=K()},l(d){for(let f=0;f<r.length;f+=1)r[f].l(d);i=K()},m(d,f){for(let c=0;c<r.length;c+=1)r[c].m(d,f);N(d,i,f),o=!0},p(d,[f]){f&63&&(l=d[0],Ke(),r=rn(r,f,u,1,d,l,n,i.parentNode,an,_t,i,ct),Je())},i(d){if(!o){for(let f=0;f<l.length;f+=1)C(r[f]);o=!0}},o(d){for(let f=0;f<r.length;f+=1)G(r[f]);o=!1},d(d){for(let f=0;f<r.length;f+=1)r[f].d(d);d&&w(i)}}}const Ve=10;function Fn(t,r,n){let i,{data:o}=r,{id:l}=r,{height:u}=r;const{getXScale:d,beatsPerRotation:f,getInstrumentToggles:c}=Vt("song"),g=d(),e=c();return me(t,e,a=>n(3,i=a)),t.$$set=a=>{"data"in a&&n(0,o=a.data),"id"in a&&n(1,l=a.id),"height"in a&&n(2,u=a.height)},[o,l,u,i,f,g,e]}class On extends J{constructor(r){super(),U(this,r,Fn,Pn,z,{data:0,id:1,height:2})}}var Nn="Expected a function",mt=0/0,Hn="[object Symbol]",Dn=/^\s+|\s+$/g,Bn=/^[-+]0x[0-9a-f]+$/i,Ln=/^0b[01]+$/i,Cn=/^0o[0-7]+$/i,Rn=parseInt,Gn=typeof ee=="object"&&ee&&ee.Object===Object&&ee,jn=typeof self=="object"&&self&&self.Object===Object&&self,Vn=Gn||jn||Function("return this")(),qn=Object.prototype,Xn=qn.toString,Wn=Math.max,Yn=Math.min,Ce=function(){return Vn.Date.now()};function Zn(t,r,n){var i,o,l,u,d,f,c=0,g=!1,e=!1,a=!0;if(typeof t!="function")throw new TypeError(Nn);r=ht(r)||0,qe(n)&&(g=!!n.leading,e="maxWait"in n,l=e?Wn(ht(n.maxWait)||0,r):l,a="trailing"in n?!!n.trailing:a);function s(F){var H=i,B=o;return i=o=void 0,c=F,u=t.apply(B,H),u}function _(F){return c=F,d=setTimeout(h,r),g?s(F):u}function m(F){var H=F-f,B=F-c,P=r-H;return e?Yn(P,l-B):P}function p(F){var H=F-f,B=F-c;return f===void 0||H>=r||H<0||e&&B>=l}function h(){var F=Ce();if(p(F))return b(F);d=setTimeout(h,m(F))}function b(F){return d=void 0,a&&i?s(F):(i=o=void 0,u)}function y(){d!==void 0&&clearTimeout(d),c=0,i=f=o=d=void 0}function A(){return d===void 0?u:b(Ce())}function T(){var F=Ce(),H=p(F);if(i=arguments,o=this,f=F,H){if(d===void 0)return _(f);if(e)return d=setTimeout(h,r),s(f)}return d===void 0&&(d=setTimeout(h,r)),u}return T.cancel=y,T.flush=A,T}function qe(t){var r=typeof t;return!!t&&(r=="object"||r=="function")}function Qn(t){return!!t&&typeof t=="object"}function Kn(t){return typeof t=="symbol"||Qn(t)&&Xn.call(t)==Hn}function ht(t){if(typeof t=="number")return t;if(Kn(t))return mt;if(qe(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=qe(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=t.replace(Dn,"");var n=Ln.test(t);return n||Cn.test(t)?Rn(t.slice(2),n?2:8):Bn.test(t)?mt:+t}var Jn=Zn;const Un=pn({width:0,height:0},t=>{const r=()=>t({width:window.innerWidth,height:window.innerHeight});return r(),window.addEventListener("resize",Jn(r,250)),()=>{window.removeEventListener("resize",r)}});function Se(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function Yt(t){let r,n,i;t.length!==2?(r=Se,n=(d,f)=>Se(t(d),f),i=(d,f)=>t(d)-f):(r=t===Se||t===gn?t:zn,n=t,i=t);function o(d,f,c=0,g=d.length){if(c<g){if(r(f,f)!==0)return g;do{const e=c+g>>>1;n(d[e],f)<0?c=e+1:g=e}while(c<g)}return c}function l(d,f,c=0,g=d.length){if(c<g){if(r(f,f)!==0)return g;do{const e=c+g>>>1;n(d[e],f)<=0?c=e+1:g=e}while(c<g)}return c}function u(d,f,c=0,g=d.length){const e=o(d,f,c,g-1);return e>c&&i(d[e-1],f)>-i(d[e],f)?e-1:e}return{left:o,center:u,right:l}}function zn(){return 0}function $n(t){return t===null?NaN:+t}const er=Yt(Se),tr=er.right;Yt($n).center;const nr=tr;function rr(t,r){let n,i;if(r===void 0)for(const o of t)o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)));else{let o=-1;for(let l of t)(l=r(l,++o,t))!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}return[n,i]}const ir=Math.sqrt(50),ar=Math.sqrt(10),or=Math.sqrt(2);function Fe(t,r,n){const i=(r-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),l=i/Math.pow(10,o),u=l>=ir?10:l>=ar?5:l>=or?2:1;let d,f,c;return o<0?(c=Math.pow(10,-o)/u,d=Math.round(t*c),f=Math.round(r*c),d/c<t&&++d,f/c>r&&--f,c=-c):(c=Math.pow(10,o)*u,d=Math.round(t/c),f=Math.round(r/c),d*c<t&&++d,f*c>r&&--f),f<d&&.5<=n&&n<2?Fe(t,r,n*2):[d,f,c]}function sr(t,r,n){if(r=+r,t=+t,n=+n,!(n>0))return[];if(t===r)return[t];const i=r<t,[o,l,u]=i?Fe(r,t,n):Fe(t,r,n);if(!(l>=o))return[];const d=l-o+1,f=new Array(d);if(i)if(u<0)for(let c=0;c<d;++c)f[c]=(l-c)/-u;else for(let c=0;c<d;++c)f[c]=(l-c)*u;else if(u<0)for(let c=0;c<d;++c)f[c]=(o+c)/-u;else for(let c=0;c<d;++c)f[c]=(o+c)*u;return f}function Xe(t,r,n){return r=+r,t=+t,n=+n,Fe(t,r,n)[2]}function lr(t,r,n){r=+r,t=+t,n=+n;const i=r<t,o=i?Xe(r,t,n):Xe(t,r,n);return(i?-1:1)*(o<0?1/-o:o)}function de(t,r,n){t=+t,r=+r,n=(o=arguments.length)<2?(r=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((r-t)/n))|0,l=new Array(o);++i<o;)l[i]=t+i*n;return l}function ze(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function Zt(t,r){var n=Object.create(t.prototype);for(var i in r)n[i]=r[i];return n}function be(){}var ge=.7,Oe=1/ge,he="\\s*([+-]?\\d+)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Q="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ur=/^#([0-9a-f]{3,8})$/,fr=new RegExp(`^rgb\\(${he},${he},${he}\\)$`),cr=new RegExp(`^rgb\\(${Q},${Q},${Q}\\)$`),dr=new RegExp(`^rgba\\(${he},${he},${he},${ve}\\)$`),_r=new RegExp(`^rgba\\(${Q},${Q},${Q},${ve}\\)$`),mr=new RegExp(`^hsl\\(${ve},${Q},${Q}\\)$`),hr=new RegExp(`^hsla\\(${ve},${Q},${Q},${ve}\\)$`),pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ze(be,ye,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gt,formatHex:gt,formatHex8:pr,formatHsl:gr,formatRgb:vt,toString:vt});function gt(){return this.rgb().formatHex()}function pr(){return this.rgb().formatHex8()}function gr(){return Qt(this).formatHsl()}function vt(){return this.rgb().formatRgb()}function ye(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=ur.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?yt(r):n===3?new j(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?xe(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?xe(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=fr.exec(t))?new j(r[1],r[2],r[3],1):(r=cr.exec(t))?new j(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=dr.exec(t))?xe(r[1],r[2],r[3],r[4]):(r=_r.exec(t))?xe(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=mr.exec(t))?kt(r[1],r[2]/100,r[3]/100,1):(r=hr.exec(t))?kt(r[1],r[2]/100,r[3]/100,r[4]):pt.hasOwnProperty(t)?yt(pt[t]):t==="transparent"?new j(NaN,NaN,NaN,0):null}function yt(t){return new j(t>>16&255,t>>8&255,t&255,1)}function xe(t,r,n,i){return i<=0&&(t=r=n=NaN),new j(t,r,n,i)}function vr(t){return t instanceof be||(t=ye(t)),t?(t=t.rgb(),new j(t.r,t.g,t.b,t.opacity)):new j}function We(t,r,n,i){return arguments.length===1?vr(t):new j(t,r,n,i??1)}function j(t,r,n,i){this.r=+t,this.g=+r,this.b=+n,this.opacity=+i}ze(j,We,Zt(be,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new j(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new j(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new j(ce(this.r),ce(this.g),ce(this.b),Ne(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bt,formatHex:bt,formatHex8:yr,formatRgb:wt,toString:wt}));function bt(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}`}function yr(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}${fe((isNaN(this.opacity)?1:this.opacity)*255)}`}function wt(){const t=Ne(this.opacity);return`${t===1?"rgb(":"rgba("}${ce(this.r)}, ${ce(this.g)}, ${ce(this.b)}${t===1?")":`, ${t})`}`}function Ne(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ce(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fe(t){return t=ce(t),(t<16?"0":"")+t.toString(16)}function kt(t,r,n,i){return i<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new W(t,r,n,i)}function Qt(t){if(t instanceof W)return new W(t.h,t.s,t.l,t.opacity);if(t instanceof be||(t=ye(t)),!t)return new W;if(t instanceof W)return t;t=t.rgb();var r=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(r,n,i),l=Math.max(r,n,i),u=NaN,d=l-o,f=(l+o)/2;return d?(r===l?u=(n-i)/d+(n<i)*6:n===l?u=(i-r)/d+2:u=(r-n)/d+4,d/=f<.5?l+o:2-l-o,u*=60):d=f>0&&f<1?0:u,new W(u,d,f,t.opacity)}function br(t,r,n,i){return arguments.length===1?Qt(t):new W(t,r,n,i??1)}function W(t,r,n,i){this.h=+t,this.s=+r,this.l=+n,this.opacity=+i}ze(W,br,Zt(be,{brighter(t){return t=t==null?Oe:Math.pow(Oe,t),new W(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new W(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,o=2*n-i;return new j(Re(t>=240?t-240:t+120,o,i),Re(t,o,i),Re(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new W(xt(this.h),Ae(this.s),Ae(this.l),Ne(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ne(this.opacity);return`${t===1?"hsl(":"hsla("}${xt(this.h)}, ${Ae(this.s)*100}%, ${Ae(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xt(t){return t=(t||0)%360,t<0?t+360:t}function Ae(t){return Math.max(0,Math.min(1,t||0))}function Re(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const $e=t=>()=>t;function wr(t,r){return function(n){return t+n*r}}function kr(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(i){return Math.pow(t+i*r,n)}}function xr(t){return(t=+t)==1?Kt:function(r,n){return n-r?kr(r,n,t):$e(isNaN(r)?n:r)}}function Kt(t,r){var n=r-t;return n?wr(t,n):$e(isNaN(t)?r:t)}const At=function t(r){var n=xr(r);function i(o,l){var u=n((o=We(o)).r,(l=We(l)).r),d=n(o.g,l.g),f=n(o.b,l.b),c=Kt(o.opacity,l.opacity);return function(g){return o.r=u(g),o.g=d(g),o.b=f(g),o.opacity=c(g),o+""}}return i.gamma=t,i}(1);function Ar(t,r){r||(r=[]);var n=t?Math.min(r.length,t.length):0,i=r.slice(),o;return function(l){for(o=0;o<n;++o)i[o]=t[o]*(1-l)+r[o]*l;return i}}function Tr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mr(t,r){var n=r?r.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),l=new Array(n),u;for(u=0;u<i;++u)o[u]=et(t[u],r[u]);for(;u<n;++u)l[u]=r[u];return function(d){for(u=0;u<i;++u)l[u]=o[u](d);return l}}function Sr(t,r){var n=new Date;return t=+t,r=+r,function(i){return n.setTime(t*(1-i)+r*i),n}}function He(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}function Ir(t,r){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(o in r)o in t?n[o]=et(t[o],r[o]):i[o]=r[o];return function(l){for(o in n)i[o]=n[o](l);return i}}var Ye=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ge=new RegExp(Ye.source,"g");function Er(t){return function(){return t}}function Pr(t){return function(r){return t(r)+""}}function Fr(t,r){var n=Ye.lastIndex=Ge.lastIndex=0,i,o,l,u=-1,d=[],f=[];for(t=t+"",r=r+"";(i=Ye.exec(t))&&(o=Ge.exec(r));)(l=o.index)>n&&(l=r.slice(n,l),d[u]?d[u]+=l:d[++u]=l),(i=i[0])===(o=o[0])?d[u]?d[u]+=o:d[++u]=o:(d[++u]=null,f.push({i:u,x:He(i,o)})),n=Ge.lastIndex;return n<r.length&&(l=r.slice(n),d[u]?d[u]+=l:d[++u]=l),d.length<2?f[0]?Pr(f[0].x):Er(r):(r=f.length,function(c){for(var g=0,e;g<r;++g)d[(e=f[g]).i]=e.x(c);return d.join("")})}function et(t,r){var n=typeof r,i;return r==null||n==="boolean"?$e(r):(n==="number"?He:n==="string"?(i=ye(r))?(r=i,At):Fr:r instanceof ye?At:r instanceof Date?Sr:Tr(r)?Ar:Array.isArray(r)?Mr:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Ir:He)(t,r)}function Or(t,r){return t=+t,r=+r,function(n){return Math.round(t*(1-n)+r*n)}}function Nr(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function De(t,r){if((n=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function pe(t){return t=De(Math.abs(t)),t?t[1]:NaN}function Hr(t,r){return function(n,i){for(var o=n.length,l=[],u=0,d=t[0],f=0;o>0&&d>0&&(f+d+1>i&&(d=Math.max(1,i-f)),l.push(n.substring(o-=d,o+d)),!((f+=d+1)>i));)d=t[u=(u+1)%t.length];return l.reverse().join(r)}}function Dr(t){return function(r){return r.replace(/[0-9]/g,function(n){return t[+n]})}}var Br=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Be(t){if(!(r=Br.exec(t)))throw new Error("invalid format: "+t);var r;return new tt({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Be.prototype=tt.prototype;function tt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lr(t){e:for(var r=t.length,n=1,i=-1,o;n<r;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var Jt;function Cr(t,r){var n=De(t,r);if(!n)return t+"";var i=n[0],o=n[1],l=o-(Jt=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return l===u?i:l>u?i+new Array(l-u+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+De(t,Math.max(0,r+l-1))[0]}function Tt(t,r){var n=De(t,r);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const Mt={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nr,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>Tt(t*100,r),r:Tt,s:Cr,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function St(t){return t}var It=Array.prototype.map,Et=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Rr(t){var r=t.grouping===void 0||t.thousands===void 0?St:Hr(It.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?St:Dr(It.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function c(e){e=Be(e);var a=e.fill,s=e.align,_=e.sign,m=e.symbol,p=e.zero,h=e.width,b=e.comma,y=e.precision,A=e.trim,T=e.type;T==="n"?(b=!0,T="g"):Mt[T]||(y===void 0&&(y=12),A=!0,T="g"),(p||a==="0"&&s==="=")&&(p=!0,a="0",s="=");var F=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",H=m==="$"?i:/[%p]/.test(T)?u:"",B=Mt[T],P=/[defgprs%]/.test(T);y=y===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function R(k){var O=F,S=H,x,L,ue;if(T==="c")S=B(k)+S,k="";else{k=+k;var we=k<0||1/k<0;if(k=isNaN(k)?f:B(Math.abs(k),y),A&&(k=Lr(k)),we&&+k==0&&_!=="+"&&(we=!1),O=(we?_==="("?_:d:_==="-"||_==="("?"":_)+O,S=(T==="s"?Et[8+Jt/3]:"")+S+(we&&_==="("?")":""),P){for(x=-1,L=k.length;++x<L;)if(ue=k.charCodeAt(x),48>ue||ue>57){S=(ue===46?o+k.slice(x+1):k.slice(x))+S,k=k.slice(0,x);break}}}b&&!p&&(k=r(k,1/0));var ke=O.length+k.length+S.length,$=ke<h?new Array(h-ke+1).join(a):"";switch(b&&p&&(k=r($+k,$.length?h-S.length:1/0),$=""),s){case"<":k=O+k+S+$;break;case"=":k=O+$+k+S;break;case"^":k=$.slice(0,ke=$.length>>1)+O+k+S+$.slice(ke);break;default:k=$+O+k+S;break}return l(k)}return R.toString=function(){return e+""},R}function g(e,a){var s=c((e=Be(e),e.type="f",e)),_=Math.max(-8,Math.min(8,Math.floor(pe(a)/3)))*3,m=Math.pow(10,-_),p=Et[8+_/3];return function(h){return s(m*h)+p}}return{format:c,formatPrefix:g}}var Te,Ut,zt;Gr({thousands:",",grouping:[3],currency:["$",""]});function Gr(t){return Te=Rr(t),Ut=Te.format,zt=Te.formatPrefix,Te}function jr(t){return Math.max(0,-pe(Math.abs(t)))}function Vr(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pe(r)/3)))*3-pe(Math.abs(t)))}function qr(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,pe(r)-pe(t))+1}function nt(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}const Pt=Symbol("implicit");function $t(){var t=new ot,r=[],n=[],i=Pt;function o(l){let u=t.get(l);if(u===void 0){if(i!==Pt)return i;t.set(l,u=r.push(l)-1)}return n[u%n.length]}return o.domain=function(l){if(!arguments.length)return r.slice();r=[],t=new ot;for(const u of l)t.has(u)||t.set(u,r.push(u)-1);return o},o.range=function(l){return arguments.length?(n=Array.from(l),o):n.slice()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.copy=function(){return $t(r,n).unknown(i)},nt.apply(o,arguments),o}function en(){var t=$t().unknown(void 0),r=t.domain,n=t.range,i=0,o=1,l,u,d=!1,f=0,c=0,g=.5;delete t.unknown;function e(){var a=r().length,s=o<i,_=s?o:i,m=s?i:o;l=(m-_)/Math.max(1,a-f+c*2),d&&(l=Math.floor(l)),_+=(m-_-l*(a-f))*g,u=l*(1-f),d&&(_=Math.round(_),u=Math.round(u));var p=de(a).map(function(h){return _+l*h});return n(s?p.reverse():p)}return t.domain=function(a){return arguments.length?(r(a),e()):r()},t.range=function(a){return arguments.length?([i,o]=a,i=+i,o=+o,e()):[i,o]},t.rangeRound=function(a){return[i,o]=a,i=+i,o=+o,d=!0,e()},t.bandwidth=function(){return u},t.step=function(){return l},t.round=function(a){return arguments.length?(d=!!a,e()):d},t.padding=function(a){return arguments.length?(f=Math.min(1,c=+a),e()):f},t.paddingInner=function(a){return arguments.length?(f=Math.min(1,a),e()):f},t.paddingOuter=function(a){return arguments.length?(c=+a,e()):c},t.align=function(a){return arguments.length?(g=Math.max(0,Math.min(1,a)),e()):g},t.copy=function(){return en(r(),[i,o]).round(d).paddingInner(f).paddingOuter(c).align(g)},nt.apply(e(),arguments)}function Xr(t){return function(){return t}}function Wr(t){return+t}var Ft=[0,1];function _e(t){return t}function Ze(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:Xr(isNaN(r)?NaN:.5)}function Yr(t,r){var n;return t>r&&(n=t,t=r,r=n),function(i){return Math.max(t,Math.min(r,i))}}function Zr(t,r,n){var i=t[0],o=t[1],l=r[0],u=r[1];return o<i?(i=Ze(o,i),l=n(u,l)):(i=Ze(i,o),l=n(l,u)),function(d){return l(i(d))}}function Qr(t,r,n){var i=Math.min(t.length,r.length)-1,o=new Array(i),l=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++u<i;)o[u]=Ze(t[u],t[u+1]),l[u]=n(r[u],r[u+1]);return function(d){var f=nr(t,d,1,i)-1;return l[f](o[f](d))}}function Kr(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jr(){var t=Ft,r=Ft,n=et,i,o,l,u=_e,d,f,c;function g(){var a=Math.min(t.length,r.length);return u!==_e&&(u=Yr(t[0],t[a-1])),d=a>2?Qr:Zr,f=c=null,e}function e(a){return a==null||isNaN(a=+a)?l:(f||(f=d(t.map(i),r,n)))(i(u(a)))}return e.invert=function(a){return u(o((c||(c=d(r,t.map(i),He)))(a)))},e.domain=function(a){return arguments.length?(t=Array.from(a,Wr),g()):t.slice()},e.range=function(a){return arguments.length?(r=Array.from(a),g()):r.slice()},e.rangeRound=function(a){return r=Array.from(a),n=Or,g()},e.clamp=function(a){return arguments.length?(u=a?!0:_e,g()):u!==_e},e.interpolate=function(a){return arguments.length?(n=a,g()):n},e.unknown=function(a){return arguments.length?(l=a,e):l},function(a,s){return i=a,o=s,g()}}function Ur(){return Jr()(_e,_e)}function zr(t,r,n,i){var o=lr(t,r,n),l;switch(i=Be(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(r));return i.precision==null&&!isNaN(l=Vr(o,u))&&(i.precision=l),zt(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=qr(o,Math.max(Math.abs(t),Math.abs(r))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=jr(o))&&(i.precision=l-(i.type==="%")*2);break}}return Ut(i)}function $r(t){var r=t.domain;return t.ticks=function(n){var i=r();return sr(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=r();return zr(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=r(),o=0,l=i.length-1,u=i[o],d=i[l],f,c,g=10;for(d<u&&(c=u,u=d,d=c,c=o,o=l,l=c);g-- >0;){if(c=Xe(u,d,n),c===f)return i[o]=u,i[l]=d,r(i);if(c>0)u=Math.floor(u/c)*c,d=Math.ceil(d/c)*c;else if(c<0)u=Math.ceil(u*c)/c,d=Math.floor(d*c)/c;else break;f=c}return t},t}function rt(){var t=Ur();return t.copy=function(){return Kr(t,rt())},nt.apply(t,arguments),$r(t)}function Ot(t){return Object.prototype.toString.call(t)==="[object Date]"}function Qe(t,r){if(t===r||t!==t)return()=>t;const n=typeof t;if(n!==typeof r||Array.isArray(t)!==Array.isArray(r))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=r.map((o,l)=>Qe(t[l],o));return o=>i.map(l=>l(o))}if(n==="object"){if(!t||!r)throw new Error("Object cannot be null");if(Ot(t)&&Ot(r)){t=t.getTime(),r=r.getTime();const l=r-t;return u=>new Date(t+u*l)}const i=Object.keys(r),o={};return i.forEach(l=>{o[l]=Qe(t[l],r[l])}),l=>{const u={};return i.forEach(d=>{u[d]=o[d](l)}),u}}if(n==="number"){const i=r-t;return o=>t+o*i}throw new Error(`Cannot interpolate ${n} values`)}function ei(t,r={}){const n=Wt(t);let i,o=t;function l(u,d){if(t==null)return n.set(t=u),Promise.resolve();o=u;let f=i,c=!1,{delay:g=0,duration:e=400,easing:a=jt,interpolate:s=Qe}=at(at({},r),d);if(e===0)return f&&(f.abort(),f=null),n.set(t=o),Promise.resolve();const _=on()+g;let m;return i=sn(p=>{if(p<_)return!0;c||(m=s(t,u),typeof e=="function"&&(e=e(t,u)),c=!0),f&&(f.abort(),f=null);const h=p-_;return h>e?(n.set(t=u),!1):(n.set(t=m(a(h/e))),!0)}),i.promise}return{set:l,update:(u,d)=>l(u(o,t),d),subscribe:n.subscribe}}function Nt(t,r,n){const i=t.slice();i[24]=r[n];const o=i[24]%1===0;return i[25]=o,i}function Ht(t,r,n){const i=t.slice();return i[28]=r[n],i[30]=n,i}function ti(t){let r,n;return r=new kn({}),{c(){ae(r.$$.fragment)},l(i){oe(r.$$.fragment,i)},m(i,o){se(r,i,o),n=!0},p:Y,i(i){n||(C(r.$$.fragment,i),n=!0)},o(i){G(r.$$.fragment,i),n=!1},d(i){le(r,i)}}}function ni(t){let r,n,i,o,l,u,d,f=Object.keys(t[0]),c=[];for(let s=0;s<f.length;s+=1)c[s]=Dt(Ht(t,f,s));const g=s=>G(c[s],1,1,()=>{c[s]=null});let e=de(0,t[1],1/t[2]),a=[];for(let s=0;s<e.length;s+=1)a[s]=Bt(Nt(t,e,s));return{c(){r=te("svg"),n=te("g");for(let s=0;s<c.length;s+=1)c[s].c();i=K();for(let s=0;s<a.length;s+=1)a[s].c();o=te("line"),this.h()},l(s){r=ne(s,"svg",{width:!0,height:!0,class:!0});var _=D(r);n=ne(_,"g",{class:!0,transform:!0});var m=D(n);for(let p=0;p<c.length;p+=1)c[p].l(m);i=K();for(let p=0;p<a.length;p+=1)a[p].l(m);o=ne(m,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),D(o).forEach(w),m.forEach(w),_.forEach(w),this.h()},h(){v(o,"class","marker svelte-argvxo"),v(o,"x1",l=t[6](t[7])),v(o,"x2",u=t[6](t[7])),v(o,"y1",0),v(o,"y2",Le),v(n,"class","wrapper"),v(n,"transform",`translate(${t[10].left}, ${t[10].top})`),v(r,"width","100%"),v(r,"height",Le),v(r,"class","svelte-argvxo")},m(s,_){N(s,r,_),M(r,n);for(let m=0;m<c.length;m+=1)c[m].m(n,null);M(n,i);for(let m=0;m<a.length;m+=1)a[m].m(n,null);M(n,o),d=!0},p(s,_){if(_&8233){f=Object.keys(s[0]);let m;for(m=0;m<f.length;m+=1){const p=Ht(s,f,m);c[m]?(c[m].p(p,_),C(c[m],1)):(c[m]=Dt(p),c[m].c(),C(c[m],1),c[m].m(n,i))}for(Ke(),m=f.length;m<c.length;m+=1)g(m);Je()}if(_&86){e=de(0,s[1],1/s[2]);let m;for(m=0;m<e.length;m+=1){const p=Nt(s,e,m);a[m]?a[m].p(p,_):(a[m]=Bt(p),a[m].c(),a[m].m(n,o))}for(;m<a.length;m+=1)a[m].d(1);a.length=e.length}(!d||_&192&&l!==(l=s[6](s[7])))&&v(o,"x1",l),(!d||_&192&&u!==(u=s[6](s[7])))&&v(o,"x2",u)},i(s){if(!d){for(let _=0;_<f.length;_+=1)C(c[_]);d=!0}},o(s){c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)G(c[_]);d=!1},d(s){s&&w(r),Ie(c,s),Ie(a,s)}}}function Dt(t){let r,n,i,o=t[28]+"",l,u,d,f,c,g;n=new On({props:{data:t[0][t[28]],id:t[28],height:t[5]}});function e(){return t[18](t[28])}return{c(){r=te("g"),ae(n.$$.fragment),i=te("text"),l=re(o),this.h()},l(a){r=ne(a,"g",{class:!0,transform:!0});var s=D(r);oe(n.$$.fragment,s),i=ne(s,"text",{x:!0,y:!0,class:!0});var _=D(i);l=ie(_,o),_.forEach(w),s.forEach(w),this.h()},h(){v(i,"x",-10),v(i,"y",u=t[5]/2),v(i,"class","svelte-argvxo"),v(r,"class","instrument svelte-argvxo"),v(r,"transform",d=`translate(0, ${t[3](t[28])})`)},m(a,s){N(a,r,s),se(n,r,null),M(r,i),M(i,l),f=!0,c||(g=Ee(r,"click",e),c=!0)},p(a,s){t=a;const _={};s&1&&(_.data=t[0][t[28]]),s&1&&(_.id=t[28]),s&32&&(_.height=t[5]),n.$set(_),(!f||s&1)&&o!==(o=t[28]+"")&&Pe(l,o),(!f||s&32&&u!==(u=t[5]/2))&&v(i,"y",u),(!f||s&9&&d!==(d=`translate(0, ${t[3](t[28])})`))&&v(r,"transform",d)},i(a){f||(C(n.$$.fragment,a),f=!0)},o(a){G(n.$$.fragment,a),f=!1},d(a){a&&w(r),le(n),c=!1,g()}}}function Bt(t){let r,n,i;return{c(){r=te("line"),this.h()},l(o){r=ne(o,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),D(r).forEach(w),this.h()},h(){v(r,"class","grid svelte-argvxo"),v(r,"x1",n=t[6](t[24])),v(r,"x2",i=t[6](t[24])),v(r,"y1",0),v(r,"y2",Le),V(r,"visible",t[4]==="on"),V(r,"thick",t[25])},m(o,l){N(o,r,l)},p(o,l){l&70&&n!==(n=o[6](o[24]))&&v(r,"x1",n),l&70&&i!==(i=o[6](o[24]))&&v(r,"x2",i),l&16&&V(r,"visible",o[4]==="on"),l&6&&V(r,"thick",o[25])},d(o){o&&w(r)}}}function ri(t){let r,n,i,o,l,u,d,f,c,g;function e(s){t[19](s)}let a={label:"Show grid",style:"inner"};return t[4]!==void 0&&(a.value=t[4]),r=new Tn({props:a}),Ue.push(()=>qt(r,"value",e)),{c(){ae(r.$$.fragment),i=q(),o=I("ul"),l=I("li"),u=re("click a track to mute it"),d=q(),f=I("li"),c=re("blue notes are ones that don't fall on the 16th note grid")},l(s){oe(r.$$.fragment,s),i=X(s),o=E(s,"UL",{});var _=D(o);l=E(_,"LI",{});var m=D(l);u=ie(m,"click a track to mute it"),m.forEach(w),d=X(_),f=E(_,"LI",{});var p=D(f);c=ie(p,"blue notes are ones that don't fall on the 16th note grid"),p.forEach(w),_.forEach(w)},m(s,_){se(r,s,_),N(s,i,_),N(s,o,_),M(o,l),M(l,u),M(o,d),M(o,f),M(f,c),g=!0},p(s,_){const m={};!n&&_&16&&(n=!0,m.value=s[4],Xt(()=>n=!1)),r.$set(m)},i(s){g||(C(r.$$.fragment,s),g=!0)},o(s){G(r.$$.fragment,s),g=!1},d(s){le(r,s),s&&w(i),s&&w(o)}}}function ii(t){let r,n,i,o,l,u,d,f,c,g,e,a,s;const _=[ni,ti],m=[];function p(b,y){return 0}~(r=p())&&(n=m[r]=_[r](t));let h=ri(t);return{c(){n&&n.c(),i=q(),o=I("button"),l=re("play"),u=q(),d=I("button"),f=re("pause"),c=q(),h&&h.c(),g=K()},l(b){n&&n.l(b),i=X(b),o=E(b,"BUTTON",{});var y=D(o);l=ie(y,"play"),y.forEach(w),u=X(b),d=E(b,"BUTTON",{});var A=D(d);f=ie(A,"pause"),A.forEach(w),c=X(b),h&&h.l(b),g=K()},m(b,y){~r&&m[r].m(b,y),N(b,i,y),N(b,o,y),M(o,l),N(b,u,y),N(b,d,y),M(d,f),N(b,c,y),h&&h.m(b,y),N(b,g,y),e=!0,a||(s=[Ee(o,"click",t[12]),Ee(d,"click",t[11])],a=!0)},p(b,[y]){n&&n.p(b,y),h.p(b,y)},i(b){e||(C(n),C(h),e=!0)},o(b){G(n),G(h),e=!1},d(b){~r&&m[r].d(b),b&&w(i),b&&w(o),b&&w(u),b&&w(d),b&&w(c),h&&h.d(b),b&&w(g),a=!1,ln(s)}}}const Le=500,Lt=0;function ai(t,r,n){let i,o,l,u,d,f,c,g;me(t,Un,k=>n(17,c=k));let{data:e}=r,{beatsPerRotation:a}=r,{division:s}=r,{bpm:_}=r,{showPercentage:m}=r,{showDivisions:p}=r;je("song",{beatsPerRotation:a,division:s,getT:()=>y,getXScale:()=>l,getInstrumentToggles:()=>A,getCycleDuration:()=>o});let h="off",b;const y=ei(0);me(t,y,k=>n(7,g=k));const A=Wt({hihat:"on",snare:"on",kick:"on"});me(t,A,k=>n(23,f=k));const T={top:0,right:0,bottom:0,left:60},F=()=>{clearInterval(b),y.set(i,{duration:0})},H=()=>{y.set(Lt,{duration:0}),y.set(i,{duration:o}),b=setInterval(()=>{y.set(Lt,{duration:0}),y.set(i,{duration:o})},o)},B=k=>{fn(A,f[k]=f[k]==="on"?"off":"on",f)};un(()=>{clearInterval(b)});const P=k=>B(k);function R(k){h=k,n(4,h)}return t.$$set=k=>{"data"in k&&n(0,e=k.data),"beatsPerRotation"in k&&n(1,a=k.beatsPerRotation),"division"in k&&n(2,s=k.division),"bpm"in k&&n(14,_=k.bpm),"showPercentage"in k&&n(15,m=k.showPercentage),"showDivisions"in k&&n(16,p=k.showDivisions)},t.$$.update=()=>{t.$$.dirty&2&&(i=a),t.$$.dirty&16386&&(o=6e4*a/_),t.$$.dirty&131074&&n(6,l=rt().domain([0,a]).range([0,c.width-T.left-T.right])),t.$$.dirty&1&&n(3,u=en().domain(Object.keys(e)).range([0,Le-T.top-T.bottom]).padding(.25)),t.$$.dirty&8&&n(5,d=u.bandwidth())},[e,a,s,u,h,d,l,g,y,A,T,F,H,B,_,m,p,c,P,R]}class oi extends J{constructor(r){super(),U(this,r,ai,ii,z,{data:0,beatsPerRotation:1,division:2,bpm:14,showPercentage:15,showDivisions:16})}}const si="The math and the magic of wonky grooves",li="Visualizing wonky grooves",ui="By <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",fi=[{type:"text",value:"You’re the drummer. The backbone of the band. Your job is to keep a steady rhythm. Here, try it."},{type:"text",value:"[imagine] You try to tap a rhythm on your keyboard."},{type:"text",value:"Nice job. Sometimes you were a <span class=off>little late</span> or a <span class=off>little early</span>."},{type:"text",value:"With quantizing, we can snap it all into perfect place."},{type:"text",value:"Now listen to this (TBD what song, something modern with Dilla influences)."},{type:"text",value:"The beat is wonky, it’s irregular. some beats are *slightly* late, others are early. It’s not exactly perfect. But… it’s groovy. It’s laid back, sort of off-kilter, which some people love. It shows up everywhere in popular music if you listen closely. Why does being off the grid, out of time, the rhythmic equivalent of playing out of tune, work?"},{type:"text",value:"This is a beat made by the hit-less, yet revered producer JDilla. Dan Charnas wrote a whole <a href=https://dillati.me/ target=_blank>book</a> about it that I just read. It talks about JDilla’s life and his enormous contribution to music - a brand new way of conceiving of time. But even after reading it, I wanted visuals I could see, hear, and play with (at the same time) to really get an understanding of how Dilla changed music."}],ci=[{type:"text",value:"<strong>Part 1: Straight</strong>"},{type:"text",value:"The beat you made, once quantized, is called <strong>straight</strong>. Press play to hear it."},{type:"text",value:"Now let’s bring in the other parts of the drums. In this visual, every little rectangle is a note played by one of the 3 parts of the drum kit: hi-hat, snare, and kick drum. The full bar represents 4 beats, or 1 measure. A straight groove has evenly spaced beats."},{type:"text",value:"Here’s a song with a straight groove. [will show on viz]"}],di=[{type:"text",value:"<strong>Part 2: Swing</strong>"},{type:"text",value:"Sometimes straight can be a little boring. If we move every other note on the hihat a little bit later, we get what’s called <strong>swing</strong>. This is very common in jazz."},{type:"text",value:"Here’s a song with a swung groove. [will show on viz]"},{type:"text",value:"Swing can get really interesting. You can delay that hihat note different amounts and get very different feels. Listen to this song [show on viz]. Every other hihat is late, but not as late as the last example."},{type:"text",value:"[viz] slider where you can change the swing percentage"}],_i=[{type:"text",value:"<strong>Part 3: Dilla</strong>"},{type:"text",value:"Straight and swung used to be the only two ways. A Dilla timefeel is one that combines straight, swung, and shifted elements to create an all-new funky timefeel."},{type:"text",value:"Let’s take your groove and Dilla-ify it."},{type:"text",value:"1) The kick is straight. 2) The hihat is swung slightly. 3) The snare is shifted slightly early to create a flam against the hihat."},{type:"text",value:"Each instrument is on their own grid, and the way they interplay is really satisfying."},{type:"text",value:"Here’s another JDilla groove."},{type:"text",value:"Here’s a song by [modern artist] with a Dilla groove."}],Z={hed:si,dek:li,byline:ui,intro:fi,straight:ci,swing:di,dilla:_i};function mi(t){let r,n;const i=t[7].default,o=cn(i,t,t[6],null);return{c(){r=I("div"),o&&o.c()},l(l){r=E(l,"DIV",{});var u=D(r);o&&o.l(u),u.forEach(w)},m(l,u){N(l,r,u),o&&o.m(r,null),t[8](r),n=!0},p(l,[u]){o&&o.p&&(!n||u&64)&&dn(o,i,l,l[6],n?mn(i,l[6],u,null):_n(l[6]),null)},i(l){n||(C(o,l),n=!0)},o(l){G(o,l),n=!1},d(l){l&&w(r),o&&o.d(l),t[8](null)}}}function hi(t,r,n){let{$$slots:i={},$$scope:o}=r,{root:l=null}=r,{top:u=0}=r,{bottom:d=0}=r,{increments:f=100}=r,{value:c=void 0}=r;const g=[],e=[];let a=[],s=[],_;const m=()=>{a.length&&a.forEach(h)},p=()=>{let y=0,A=0;for(let T=0;T<g.length;T++)g[T]>y&&(y=g[T],A=T);y>0?n(1,c=A):n(1,c=void 0)},h=(y,A)=>{const T=k=>{k[0].isIntersecting;const O=k[0].intersectionRatio;g[A]=O,p()},F=u?u*-1:0,H=d?d*-1:0,B=`${F}px 0px ${H}px 0px`,P={root:l,rootMargin:B,threshold:e};s[A]&&s[A].disconnect();const R=new IntersectionObserver(T,P);R.observe(y),s[A]=R};hn(()=>{for(let y=0;y<f+1;y++)e.push(y/f);a=_.querySelectorAll(":scope > *:not(iframe)"),m()});function b(y){Ue[y?"unshift":"push"](()=>{_=y,n(0,_)})}return t.$$set=y=>{"root"in y&&n(2,l=y.root),"top"in y&&n(3,u=y.top),"bottom"in y&&n(4,d=y.bottom),"increments"in y&&n(5,f=y.increments),"value"in y&&n(1,c=y.value),"$$scope"in y&&n(6,o=y.$$scope)},t.$$.update=()=>{t.$$.dirty&24&&m()},[_,c,l,u,d,f,o,i,b]}class pi extends J{constructor(r){super(),U(this,r,hi,mi,z,{root:2,top:3,bottom:4,increments:5,value:1})}}function Ct(t,r,n){const i=t.slice();return i[11]=r[n].type,i[12]=r[n].value,i}function Rt(t){let r,n;return r=new oi({props:{data:t[1],beatsPerRotation:4,division:4,bpm:80}}),{c(){ae(r.$$.fragment)},l(i){oe(r.$$.fragment,i)},m(i,o){se(r,i,o),n=!0},p(i,o){const l={};o&2&&(l.data=i[1]),r.$set(l)},i(i){n||(C(r.$$.fragment,i),n=!0)},o(i){G(r.$$.fragment,i),n=!1},d(i){le(r,i)}}}function Gt(t){let r,n,i=t[12]+"",o;return{c(){r=I("div"),n=I("p"),o=q(),this.h()},l(l){r=E(l,"DIV",{class:!0});var u=D(r);n=E(u,"P",{class:!0});var d=D(n);d.forEach(w),o=X(u),u.forEach(w),this.h()},h(){v(n,"class","svelte-1alunmg"),v(r,"class","step svelte-1alunmg")},m(l,u){N(l,r,u),M(r,n),n.innerHTML=i,M(r,o)},p:Y,d(l){l&&w(r)}}}function gi(t){let r,n=[...Z.intro,...Z.straight,...Z.swing,...Z.dilla],i=[];for(let o=0;o<n.length;o+=1)i[o]=Gt(Ct(t,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();r=K()},l(o){for(let l=0;l<i.length;l+=1)i[l].l(o);r=K()},m(o,l){for(let u=0;u<i.length;u+=1)i[u].m(o,l);N(o,r,l)},p(o,l){if(l&0){n=[...Z.intro,...Z.straight,...Z.swing,...Z.dilla];let u;for(u=0;u<n.length;u+=1){const d=Ct(o,n,u);i[u]?i[u].p(d,l):(i[u]=Gt(d),i[u].c(),i[u].m(r.parentNode,r))}for(;u<i.length;u+=1)i[u].d(1);i.length=n.length}},d(o){Ie(i,o),o&&w(r)}}}function vi(t){let r,n,i,o,l,u,d,f=t[0]>=2&&Rt(t);function c(e){t[2](e)}let g={$$slots:{default:[gi]},$$scope:{ctx:t}};return t[0]!==void 0&&(g.value=t[0]),l=new pi({props:g}),Ue.push(()=>qt(l,"value",c)),{c(){r=I("div"),n=I("div"),f&&f.c(),i=q(),o=I("div"),ae(l.$$.fragment),this.h()},l(e){r=E(e,"DIV",{});var a=D(r);n=E(a,"DIV",{class:!0});var s=D(n);f&&f.l(s),s.forEach(w),i=X(a),o=E(a,"DIV",{class:!0});var _=D(o);oe(l.$$.fragment,_),_.forEach(w),a.forEach(w),this.h()},h(){v(n,"class","sticky svelte-1alunmg"),v(o,"class","steps svelte-1alunmg")},m(e,a){N(e,r,a),M(r,n),f&&f.m(n,null),M(r,i),M(r,o),se(l,o,null),d=!0},p(e,[a]){e[0]>=2?f?(f.p(e,a),a&1&&C(f,1)):(f=Rt(e),f.c(),C(f,1),f.m(n,null)):f&&(Ke(),G(f,1,1,()=>{f=null}),Je());const s={};a&32768&&(s.$$scope={dirty:a,ctx:e}),!u&&a&1&&(u=!0,s.value=e[0],Xt(()=>u=!1)),l.$set(s)},i(e){d||(C(f),C(l.$$.fragment,e),d=!0)},o(e){G(f),G(l.$$.fragment,e),d=!1},d(e){e&&w(r),f&&f.d(),le(l)}}}function yi(t,r,n){const i=(_,m)=>de(m).map(p=>[p,p+_]).flat(),o={hihat:de(0,4,.5),snare:[1,3],kick:[0,2]},l={hihat:i(2/3,4),snare:[1,3],kick:[0,2]},u={hihat:i(3/5,4),snare:[.95,2.95],kick:[0,2]},d={hihat:i(4/7,4),snare:[.95,2.95],kick:[0,2]},f={hihat:[.1,.9,2.1,2.9]},c={hihat:[0,1,2,3]};let g,e;const a=()=>{(e===void 0||e<3)&&n(1,g=f),e>=3&&e<9&&n(1,g=c),e>=9&&e<12&&n(1,g=o),e>=12&&e<14&&n(1,g=l),e>=14&&e<16&&n(1,g=u),e>=16&&e<18&&n(1,g=o),e>=18&&n(1,g=d)};function s(_){e=_,n(0,e)}return t.$$.update=()=>{t.$$.dirty&1&&a()},[e,g,s]}class bi extends J{constructor(r){super(),U(this,r,yi,vi,z,{})}}const wi={keySignatures:[{key:"C",scale:"major",ticks:0}],meta:[],name:"Drums",ppq:480,tempos:[{bpm:120,ticks:0},{bpm:120,ticks:1920},{bpm:120,ticks:3840}],timeSignatures:[{ticks:0,timeSignature:[4,4],measures:0}]},ki=[{channel:0,controlChanges:{},pitchBends:[],instrument:{family:"piano",number:0,name:"acoustic grand piano"},name:"Drums",notes:[{duration:.221875,durationTicks:213,midi:36,name:"C2",ticks:0,time:0,velocity:.7716535433070866},{duration:.10520833333333333,durationTicks:101,midi:42,name:"F#2",ticks:0,time:0,velocity:.7716535433070866},{duration:.06874999999999998,durationTicks:66,midi:42,name:"F#2",ticks:240,time:.25,velocity:.7716535433070866},{duration:.09583333333333333,durationTicks:92,midi:42,name:"F#2",ticks:360,time:.375,velocity:.7716535433070866},{duration:.09166666666666667,durationTicks:88,midi:38,name:"D2",ticks:678,time:.70625,velocity:.7716535433070866},{duration:.10520833333333335,durationTicks:101,midi:42,name:"F#2",ticks:680,time:.7083333333333334,velocity:.7716535433070866},{duration:.06874999999999998,durationTicks:66,midi:42,name:"F#2",ticks:920,time:.9583333333333334,velocity:.7716535433070866},{duration:.09583333333333344,durationTicks:92,midi:42,name:"F#2",ticks:1040,time:1.0833333333333333,velocity:.7716535433070866},{duration:.12291666666666679,durationTicks:118,midi:36,name:"C2",ticks:1280,time:1.3333333333333333,velocity:.7716535433070866},{duration:.10520833333333335,durationTicks:101,midi:42,name:"F#2",ticks:1320,time:1.375,velocity:.7716535433070866},{duration:.06875000000000009,durationTicks:66,midi:42,name:"F#2",ticks:1560,time:1.625,velocity:.7716535433070866},{duration:.09583333333333344,durationTicks:92,midi:42,name:"F#2",ticks:1680,time:1.75,velocity:.7716535433070866},{duration:.10000000000000009,durationTicks:96,midi:38,name:"D2",ticks:1996,time:2.0791666666666666,velocity:.7716535433070866},{duration:.10520833333333313,durationTicks:101,midi:42,name:"F#2",ticks:2e3,time:2.0833333333333335,velocity:.7716535433070866},{duration:.06875000000000009,durationTicks:66,midi:42,name:"F#2",ticks:2240,time:2.3333333333333335,velocity:.7716535433070866},{duration:.09583333333333321,durationTicks:92,midi:42,name:"F#2",ticks:2360,time:2.4583333333333335,velocity:.7716535433070866},{duration:.10000000000000009,durationTicks:96,midi:36,name:"C2",ticks:2708,time:2.8208333333333333,velocity:.7716535433070866},{duration:.10520833333333357,durationTicks:101,midi:42,name:"F#2",ticks:2740,time:2.8541666666666665,velocity:.7716535433070866},{duration:.11875000000000036,durationTicks:114,midi:38,name:"D2",ticks:2945,time:3.067708333333333,velocity:.7716535433070866},{duration:.06875000000000009,durationTicks:66,midi:42,name:"F#2",ticks:3e3,time:3.125,velocity:.7716535433070866},{duration:.09583333333333321,durationTicks:92,midi:42,name:"F#2",ticks:3187,time:3.3197916666666667,velocity:.7716535433070866}],endOfTrackTicks:3840}],xi={header:wi,tracks:ki},Ai={keySignatures:[{key:"C",scale:"major",ticks:0}],meta:[],name:"Beat Machine",ppq:480,tempos:[{bpm:107.99991360006912,ticks:0},{bpm:107.99991360006912,ticks:1920},{bpm:107.99991360006912,ticks:5280}],timeSignatures:[{ticks:0,timeSignature:[4,4],measures:0}]},Ti=[{channel:0,controlChanges:{},pitchBends:[],instrument:{family:"piano",number:0,name:"acoustic grand piano"},name:"Beat Machine",notes:[{duration:.11574083333333335,durationTicks:100,midi:36,name:"C2",ticks:0,time:0,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:0,time:0,velocity:.7716535433070866},{duration:.16435198333333328,durationTicks:142,midi:36,name:"C2",ticks:280,time:.3240743333333334,velocity:.7716535433070866},{duration:.1689816166666666,durationTicks:146,midi:42,name:"F#2",ticks:280,time:.3240743333333334,velocity:.7716535433070866},{duration:.15277790000000002,durationTicks:132,midi:38,name:"D2",ticks:549,time:.6354171750000001,velocity:.7716535433070866},{duration:.16898161666666678,durationTicks:146,midi:42,name:"F#2",ticks:549,time:.6354171750000001,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:840,time:.9722230000000001,velocity:.7716535433070866},{duration:.16782420833333322,durationTicks:145,midi:42,name:"F#2",ticks:1113,time:1.2881954750000002,velocity:.7716535433070866},{duration:.11574083333333318,durationTicks:100,midi:36,name:"C2",ticks:1124,time:1.3009269666666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:1400,time:1.6203716666666668,velocity:.7716535433070866},{duration:.11574083333333318,durationTicks:100,midi:36,name:"C2",ticks:1420,time:1.6435198333333336,velocity:.7716535433070866},{duration:.09722229999999987,durationTicks:84,midi:36,name:"C2",ticks:1600,time:1.8518533333333336,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:1680,time:1.9444460000000001,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:1940,time:2.245372166666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:2220,time:2.5694465,velocity:.7716535433070866},{duration:.11574083333333363,durationTicks:100,midi:36,name:"C2",ticks:2240,time:2.592594666666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:2500,time:2.8935208333333335,velocity:.7716535433070866},{duration:.16435198333333334,durationTicks:142,midi:36,name:"C2",ticks:2520,time:2.916669,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:2769,time:3.2048636750000004,velocity:.7716535433070866},{duration:.11921305833333351,durationTicks:103,midi:38,name:"D2",ticks:2780,time:3.217595166666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:3060,time:3.5416695000000002,velocity:.7716535433070866},{duration:.16782420833333367,durationTicks:145,midi:42,name:"F#2",ticks:3333,time:3.8576419750000004,velocity:.7716535433070866},{duration:.11574083333333407,durationTicks:100,midi:36,name:"C2",ticks:3364,time:3.8935216333333336,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:3620,time:4.189818166666667,velocity:.7716535433070866},{duration:.11574083333333363,durationTicks:100,midi:36,name:"C2",ticks:3660,time:4.2361145,velocity:.7716535433070866},{duration:.09722229999999943,durationTicks:84,midi:36,name:"C2",ticks:3840,time:4.444448,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:3900,time:4.513892500000001,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:4160,time:4.8148186666666675,velocity:.7716535433070866}],endOfTrackTicks:5760}],Mi={header:Ai,tracks:Ti};function Si(t){let r,n;return r=new bi({}),{c(){ae(r.$$.fragment)},l(i){oe(r.$$.fragment,i)},m(i,o){se(r,i,o),n=!0},p:Y,i(i){n||(C(r.$$.fragment,i),n=!0)},o(i){G(r.$$.fragment,i),n=!1},d(i){le(r,i)}}}function Ii(t){const r=(i,o)=>de(o).map(l=>[l,l+i]).flat(),n=(i,o)=>{i.header.tempos[0].bpm,i.header.ppq;const l=rt().domain(rr(i.tracks[0].notes.map(d=>d.ticks))).range([0,o]),u=i.tracks[0].notes.map(d=>({beat:l(d.ticks),instrument:d.midi}));return{hihat:u.filter(d=>d.instrument===42).map(d=>d.beat),snare:u.filter(d=>d.instrument===38).map(d=>d.beat),kick:u.filter(d=>d.instrument===36).map(d=>d.beat)}};return de(0,4,.5),r(2/3,4),r(3/5,4),r(4/7,4),n(xi,5),n(Mi,4),[]}class Ei extends J{constructor(r){super(),U(this,r,Ii,Si,z,{})}}function Pi(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-03-09-17:13"),console.log("--- --- --- --- --- ---")}function Fi(t){let r,n,i,o;return r=new bn({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),i=new Ei({}),{c(){ae(r.$$.fragment),n=q(),ae(i.$$.fragment)},l(l){oe(r.$$.fragment,l),n=X(l),oe(i.$$.fragment,l)},m(l,u){se(r,l,u),N(l,n,u),se(i,l,u),o=!0},p:Y,i(l){o||(C(r.$$.fragment,l),C(i.$$.fragment,l),o=!0)},o(l){G(r.$$.fragment,l),G(i.$$.fragment,l),o=!1},d(l){le(r,l),l&&w(n),le(i,l)}}}function Oi(t,r,n){let{data:i}=r;Pi();const o=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:l,description:u,url:d,keywords:f}=Z;return je("copy",Z),je("data",i.data),t.$$set=c=>{"data"in c&&n(5,i=c.data)},[o,l,u,d,f,i]}class Bi extends J{constructor(r){super(),U(this,r,Oi,Fi,z,{data:5})}}export{Bi as default};
