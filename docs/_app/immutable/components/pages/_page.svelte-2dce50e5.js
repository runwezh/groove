import{S as it,i as rt,s as Ze,k as X,e as Ye,J as m6,l as z,h as O,n as R,D as G,C as Fe,K as It,b as ie,a as ye,q as Ie,m as ee,c as we,r as Me,o as p6,L as ol,u as Wt,M as cf,N as df,O as on,p as Ce,P as Hr,I as je,Q as Ut,f as ce,g as Vt,d as Xt,t as be,R as Gr,x as et,y as ct,z as tt,A as nt,T as an,v as hf,U as _f,V as mf,W as g6,X as v6,Y as y6,Z as Er,_ as Qn,$ as Jn,a0 as ti,a1 as w6,a2 as b6,a3 as k6,a4 as ul,a5 as T6,a6 as A6,a7 as sl,a8 as ll,a9 as Wr,w as fl,aa as To}from"../../chunks/index-6ae0757d.js";import{w as x6}from"../../chunks/wordmark-fc3f3709.js";import{d as S6,I as cl}from"../../chunks/transform-f56d011b.js";import{w as Fn}from"../../chunks/index-a72d2d44.js";function dl(a,r,n){const u=a.slice();return u[5]=r[n],u}function hl(a){let r,n;return{c(){r=X("link"),this.h()},l(u){r=z(u,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){R(r,"rel","preload"),R(r,"href",n=a[5]),R(r,"as","font"),R(r,"type","font/woff2"),R(r,"crossorigin","")},m(u,s){ie(u,r,s)},p(u,s){s&16&&n!==(n=u[5])&&R(r,"href",n)},d(u){u&&O(r)}}}function I6(a){let r,n,u,s,c,h,v,m,p,b,o,l,d,g,w,x,T,E,D,C,H,J,L,K,W,se;document.title=r=a[0];let Y=a[4],re=[];for(let U=0;U<Y.length;U+=1)re[U]=hl(dl(a,Y,U));return{c(){n=X("meta"),u=X("meta"),s=X("meta"),c=X("meta"),h=X("meta"),v=X("meta"),m=X("meta"),p=X("meta"),b=X("meta"),o=X("meta"),d=X("meta"),g=X("meta"),w=X("meta"),x=X("meta"),T=X("meta"),E=X("meta"),D=X("meta"),C=X("meta"),H=X("meta"),L=X("meta"),K=X("link");for(let U=0;U<re.length;U+=1)re[U].c();se=Ye(),this.h()},l(U){const V=m6("svelte-1htu80s",document.head);n=z(V,"META",{name:!0,content:!0}),u=z(V,"META",{name:!0,content:!0}),s=z(V,"META",{name:!0,content:!0}),c=z(V,"META",{property:!0,content:!0}),h=z(V,"META",{property:!0,content:!0}),v=z(V,"META",{property:!0,content:!0}),m=z(V,"META",{property:!0,content:!0}),p=z(V,"META",{property:!0,content:!0}),b=z(V,"META",{property:!0,content:!0}),o=z(V,"META",{property:!0,content:!0}),d=z(V,"META",{property:!0,content:!0}),g=z(V,"META",{property:!0,content:!0}),w=z(V,"META",{property:!0,content:!0}),x=z(V,"META",{name:!0,content:!0}),T=z(V,"META",{name:!0,content:!0}),E=z(V,"META",{name:!0,content:!0}),D=z(V,"META",{name:!0,content:!0}),C=z(V,"META",{name:!0,content:!0}),H=z(V,"META",{name:!0,content:!0}),L=z(V,"META",{name:!0,content:!0}),K=z(V,"LINK",{rel:!0,href:!0});for(let ne=0;ne<re.length;ne+=1)re[ne].l(V);se=Ye(),V.forEach(O),this.h()},h(){R(n,"name","description"),R(n,"content",a[1]),R(u,"name","author"),R(u,"content","The Pudding"),R(s,"name","news_keywords"),R(s,"content",a[3]),R(c,"property","og:title"),R(c,"content",a[0]),R(h,"property","og:site_name"),R(h,"content","The Pudding"),R(v,"property","og:url"),R(v,"content",a[2]),R(m,"property","og:description"),R(m,"content",a[1]),R(p,"property","og:type"),R(p,"content","article"),R(b,"property","og:locale"),R(b,"content","en_US"),R(o,"property","og:image"),R(o,"content",l=a[2]+"/assets/social-facebook.jpg"),R(d,"property","og:image:type"),R(d,"content","image/jpeg"),R(g,"property","og:image:width"),R(g,"content","1200"),R(w,"property","og:image:height"),R(w,"content","600"),R(x,"name","twitter:card"),R(x,"content","summary_large_image"),R(T,"name","twitter:site"),R(T,"content","https://pudding.cool"),R(E,"name","twitter:creator"),R(E,"content","@puddingviz"),R(D,"name","twitter:title"),R(D,"content",a[0]),R(C,"name","twitter:description"),R(C,"content",a[1]),R(H,"name","twitter:image:src"),R(H,"content",J=a[2]+"/assets/social-twitter.jpg"),R(L,"name","robots"),R(L,"content","max-image-preview:large"),R(K,"rel","canonical"),R(K,"href",W=a[2]+"/")},m(U,V){G(document.head,n),G(document.head,u),G(document.head,s),G(document.head,c),G(document.head,h),G(document.head,v),G(document.head,m),G(document.head,p),G(document.head,b),G(document.head,o),G(document.head,d),G(document.head,g),G(document.head,w),G(document.head,x),G(document.head,T),G(document.head,E),G(document.head,D),G(document.head,C),G(document.head,H),G(document.head,L),G(document.head,K);for(let ne=0;ne<re.length;ne+=1)re[ne].m(document.head,null);G(document.head,se)},p(U,[V]){if(V&1&&r!==(r=U[0])&&(document.title=r),V&2&&R(n,"content",U[1]),V&8&&R(s,"content",U[3]),V&1&&R(c,"content",U[0]),V&4&&R(v,"content",U[2]),V&2&&R(m,"content",U[1]),V&4&&l!==(l=U[2]+"/assets/social-facebook.jpg")&&R(o,"content",l),V&1&&R(D,"content",U[0]),V&2&&R(C,"content",U[1]),V&4&&J!==(J=U[2]+"/assets/social-twitter.jpg")&&R(H,"content",J),V&4&&W!==(W=U[2]+"/")&&R(K,"href",W),V&16){Y=U[4];let ne;for(ne=0;ne<Y.length;ne+=1){const me=dl(U,Y,ne);re[ne]?re[ne].p(me,V):(re[ne]=hl(me),re[ne].c(),re[ne].m(se.parentNode,se))}for(;ne<re.length;ne+=1)re[ne].d(1);re.length=Y.length}},i:Fe,o:Fe,d(U){O(n),O(u),O(s),O(c),O(h),O(v),O(m),O(p),O(b),O(o),O(d),O(g),O(w),O(x),O(T),O(E),O(D),O(C),O(H),O(L),O(K),It(re,U),O(se)}}}function M6(a,r,n){let{title:u="Title TK"}=r,{description:s="Description TK"}=r,{url:c="https://pudding.cool"}=r,{keywords:h=""}=r,{preloadFont:v=[]}=r;return a.$$set=m=>{"title"in m&&n(0,u=m.title),"description"in m&&n(1,s=m.description),"url"in m&&n(2,c=m.url),"keywords"in m&&n(3,h=m.keywords),"preloadFont"in m&&n(4,v=m.preloadFont)},[u,s,c,h,v]}class E6 extends it{constructor(r){super(),rt(this,r,M6,I6,Ze,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function _l(a,r,n){const u=a.slice();return u[5]=r[n],u}function ml(a,r,n){const u=a.slice();return u[8]=r[n].hed,u[2]=r[n].url,u[9]=r[n].image,u}function pl(a){let r,n,u,s,c,h,v=a[8]+"",m,p,b;return{c(){r=X("div"),n=X("a"),u=X("img"),c=ye(),h=X("span"),m=Ie(v),b=ye(),this.h()},l(o){r=z(o,"DIV",{class:!0});var l=ee(r);n=z(l,"A",{href:!0,class:!0});var d=ee(n);u=z(d,"IMG",{src:!0,alt:!0}),c=we(d),h=z(d,"SPAN",{class:!0});var g=ee(h);m=Me(g,v),g.forEach(O),d.forEach(O),b=we(l),l.forEach(O),this.h()},h(){ol(u.src,s="https://pudding.cool/common/assets/thumbnails/640/"+a[9]+".jpg")||R(u,"src",s),R(u,"alt","thumbnail"),R(h,"class","svelte-1en6glb"),R(n,"href",p="https://pudding.cool/"+a[2]),R(n,"class","svelte-1en6glb"),R(r,"class","story svelte-1en6glb")},m(o,l){ie(o,r,l),G(r,n),G(n,u),G(n,c),G(n,h),G(h,m),G(r,b)},p(o,l){l&1&&!ol(u.src,s="https://pudding.cool/common/assets/thumbnails/640/"+o[9]+".jpg")&&R(u,"src",s),l&1&&v!==(v=o[8]+"")&&Wt(m,v),l&1&&p!==(p="https://pudding.cool/"+o[2])&&R(n,"href",p)},d(o){o&&O(r)}}}function gl(a){let r,n,u,s=a[5].name.toUpperCase()+"",c,h;return{c(){r=X("li"),n=X("a"),u=X("span"),c=Ie(s),h=ye(),this.h()},l(v){r=z(v,"LI",{class:!0});var m=ee(r);n=z(m,"A",{href:!0,class:!0});var p=ee(n);u=z(p,"SPAN",{class:!0});var b=ee(u);c=Me(b,s),b.forEach(O),p.forEach(O),h=we(m),m.forEach(O),this.h()},h(){R(u,"class","svelte-1en6glb"),R(n,"href",a[5].url),R(n,"class","svelte-1en6glb"),R(r,"class","svelte-1en6glb")},m(v,m){ie(v,r,m),G(r,n),G(n,u),G(u,c),G(r,h)},p:Fe,d(v){v&&O(r)}}}function R6(a){let r,n,u,s,c,h,v,m,p,b,o,l,d,g=a[0],w=[];for(let E=0;E<g.length;E+=1)w[E]=pl(ml(a,g,E));let x=a[1],T=[];for(let E=0;E<x.length;E+=1)T[E]=gl(_l(a,x,E));return{c(){r=X("footer"),n=X("section");for(let E=0;E<w.length;E+=1)w[E].c();u=ye(),s=X("section"),c=X("div"),h=ye(),v=X("p"),m=X("a"),p=Ie("The Pudding"),b=Ie(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),o=ye(),l=X("section"),d=X("ul");for(let E=0;E<T.length;E+=1)T[E].c();this.h()},l(E){r=z(E,"FOOTER",{class:!0});var D=ee(r);n=z(D,"SECTION",{class:!0});var C=ee(n);for(let Y=0;Y<w.length;Y+=1)w[Y].l(C);C.forEach(O),u=we(D),s=z(D,"SECTION",{class:!0});var H=ee(s);c=z(H,"DIV",{class:!0});var J=ee(c);J.forEach(O),h=we(H),v=z(H,"P",{});var L=ee(v);m=z(L,"A",{href:!0,class:!0});var K=ee(m);p=Me(K,"The Pudding"),K.forEach(O),b=Me(L,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),L.forEach(O),H.forEach(O),o=we(D),l=z(D,"SECTION",{class:!0});var W=ee(l);d=z(W,"UL",{class:!0});var se=ee(d);for(let Y=0;Y<T.length;Y+=1)T[Y].l(se);se.forEach(O),W.forEach(O),D.forEach(O),this.h()},h(){R(n,"class","stories svelte-1en6glb"),R(c,"class","wordmark svelte-1en6glb"),R(m,"href","https://pudding.cool"),R(m,"class","svelte-1en6glb"),R(s,"class","about svelte-1en6glb"),R(d,"class","svelte-1en6glb"),R(l,"class","links svelte-1en6glb"),R(r,"class","svelte-1en6glb")},m(E,D){ie(E,r,D),G(r,n);for(let C=0;C<w.length;C+=1)w[C].m(n,null);G(r,u),G(r,s),G(s,c),c.innerHTML=x6,G(s,h),G(s,v),G(v,m),G(m,p),G(v,b),G(r,o),G(r,l),G(l,d);for(let C=0;C<T.length;C+=1)T[C].m(d,null)},p(E,[D]){if(D&1){g=E[0];let C;for(C=0;C<g.length;C+=1){const H=ml(E,g,C);w[C]?w[C].p(H,D):(w[C]=pl(H),w[C].c(),w[C].m(n,null))}for(;C<w.length;C+=1)w[C].d(1);w.length=g.length}if(D&2){x=E[1];let C;for(C=0;C<x.length;C+=1){const H=_l(E,x,C);T[C]?T[C].p(H,D):(T[C]=gl(H),T[C].c(),T[C].m(d,null))}for(;C<T.length;C+=1)T[C].d(1);T.length=x.length}},i:Fe,o:Fe,d(E){E&&O(r),It(w,E),It(T,E)}}}function F6(a,r,n){let u,s=[];const h=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,v=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return p6(async()=>{u=window.location.href;const p=await(await fetch(h)).json();n(0,s=p.filter(b=>!u.includes(b.url)).slice(0,4))}),[s,v,h]}class O6 extends it{constructor(r){super(),rt(this,r,F6,R6,Ze,{})}}function C6(a){let r,n,u,s,c,h;return{c(){r=X("div"),n=X("p"),u=ye(),s=X("p"),c=Ie("-"),h=new cf(!1),this.h()},l(v){r=z(v,"DIV",{class:!0});var m=ee(r);n=z(m,"P",{class:!0});var p=ee(n);p.forEach(O),u=we(m),s=z(m,"P",{});var b=ee(s);c=Me(b,"-"),h=df(b,!1),b.forEach(O),m.forEach(O),this.h()},h(){R(n,"class","quote svelte-r2e3hn"),h.a=null,R(r,"class","svelte-r2e3hn")},m(v,m){ie(v,r,m),G(r,n),n.innerHTML=a[0],G(r,u),G(r,s),G(s,c),h.m(a[1],s)},p(v,[m]){m&1&&(n.innerHTML=v[0]),m&2&&h.p(v[1])},i:Fe,o:Fe,d(v){v&&O(r)}}}function P6(a,r,n){let{quote:u}=r,{speaker:s}=r,{videoUrl:c}=r;return a.$$set=h=>{"quote"in h&&n(0,u=h.quote),"speaker"in h&&n(1,s=h.speaker),"videoUrl"in h&&n(2,c=h.videoUrl)},[u,s,c]}class L6 extends it{constructor(r){super(),rt(this,r,P6,C6,Ze,{quote:0,speaker:1,videoUrl:2})}}var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xi={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(a){(function(){var r=function(){this.init()};r.prototype={init:function(){var o=this||n;return o._counter=1e3,o._html5AudioPool=[],o.html5PoolSize=10,o._codecs={},o._howls=[],o._muted=!1,o._volume=1,o._canPlayEvent="canplaythrough",o._navigator=typeof window<"u"&&window.navigator?window.navigator:null,o.masterGain=null,o.noAudio=!1,o.usingWebAudio=!0,o.autoSuspend=!0,o.ctx=null,o.autoUnlock=!0,o._setup(),o},volume:function(o){var l=this||n;if(o=parseFloat(o),l.ctx||b(),typeof o<"u"&&o>=0&&o<=1){if(l._volume=o,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(o,n.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var g=l._howls[d]._getSoundIds(),w=0;w<g.length;w++){var x=l._howls[d]._soundById(g[w]);x&&x._node&&(x._node.volume=x._volume*o)}return l}return l._volume},mute:function(o){var l=this||n;l.ctx||b(),l._muted=o,l.usingWebAudio&&l.masterGain.gain.setValueAtTime(o?0:l._volume,n.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var g=l._howls[d]._getSoundIds(),w=0;w<g.length;w++){var x=l._howls[d]._soundById(g[w]);x&&x._node&&(x._node.muted=o?!0:x._muted)}return l},stop:function(){for(var o=this||n,l=0;l<o._howls.length;l++)o._howls[l].stop();return o},unload:function(){for(var o=this||n,l=o._howls.length-1;l>=0;l--)o._howls[l].unload();return o.usingWebAudio&&o.ctx&&typeof o.ctx.close<"u"&&(o.ctx.close(),o.ctx=null,b()),o},codecs:function(o){return(this||n)._codecs[o.replace(/^x-/,"")]},_setup:function(){var o=this||n;if(o.state=o.ctx&&o.ctx.state||"suspended",o._autoSuspend(),!o.usingWebAudio)if(typeof Audio<"u")try{var l=new Audio;typeof l.oncanplaythrough>"u"&&(o._canPlayEvent="canplay")}catch{o.noAudio=!0}else o.noAudio=!0;try{var l=new Audio;l.muted&&(o.noAudio=!0)}catch{}return o.noAudio||o._setupCodecs(),o},_setupCodecs:function(){var o=this||n,l=null;try{l=typeof Audio<"u"?new Audio:null}catch{return o}if(!l||typeof l.canPlayType!="function")return o;var d=l.canPlayType("audio/mpeg;").replace(/^no$/,""),g=o._navigator?o._navigator.userAgent:"",w=g.match(/OPR\/([0-6].)/g),x=w&&parseInt(w[0].split("/")[1],10)<33,T=g.indexOf("Safari")!==-1&&g.indexOf("Chrome")===-1,E=g.match(/Version\/(.*?) /),D=T&&E&&parseInt(E[1],10)<15;return o._codecs={mp3:!!(!x&&(d||l.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(l.canPlayType('audio/wav; codecs="1"')||l.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!l.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(l.canPlayType("audio/x-m4b;")||l.canPlayType("audio/m4b;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!D&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!D&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!l.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(l.canPlayType("audio/x-flac;")||l.canPlayType("audio/flac;")).replace(/^no$/,"")},o},_unlockAudio:function(){var o=this||n;if(!(o._audioUnlocked||!o.ctx)){o._audioUnlocked=!1,o.autoUnlock=!1,!o._mobileUnloaded&&o.ctx.sampleRate!==44100&&(o._mobileUnloaded=!0,o.unload()),o._scratchBuffer=o.ctx.createBuffer(1,1,22050);var l=function(d){for(;o._html5AudioPool.length<o.html5PoolSize;)try{var g=new Audio;g._unlocked=!0,o._releaseHtml5Audio(g)}catch{o.noAudio=!0;break}for(var w=0;w<o._howls.length;w++)if(!o._howls[w]._webAudio)for(var x=o._howls[w]._getSoundIds(),T=0;T<x.length;T++){var E=o._howls[w]._soundById(x[T]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}o._autoResume();var D=o.ctx.createBufferSource();D.buffer=o._scratchBuffer,D.connect(o.ctx.destination),typeof D.start>"u"?D.noteOn(0):D.start(0),typeof o.ctx.resume=="function"&&o.ctx.resume(),D.onended=function(){D.disconnect(0),o._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0),document.removeEventListener("keydown",l,!0);for(var C=0;C<o._howls.length;C++)o._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),document.addEventListener("keydown",l,!0),o}},_obtainHtml5Audio:function(){var o=this||n;if(o._html5AudioPool.length)return o._html5AudioPool.pop();var l=new Audio().play();return l&&typeof Promise<"u"&&(l instanceof Promise||typeof l.then=="function")&&l.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(o){var l=this||n;return o._unlocked&&l._html5AudioPool.push(o),l},_autoSuspend:function(){var o=this;if(!(!o.autoSuspend||!o.ctx||typeof o.ctx.suspend>"u"||!n.usingWebAudio)){for(var l=0;l<o._howls.length;l++)if(o._howls[l]._webAudio){for(var d=0;d<o._howls[l]._sounds.length;d++)if(!o._howls[l]._sounds[d]._paused)return o}return o._suspendTimer&&clearTimeout(o._suspendTimer),o._suspendTimer=setTimeout(function(){if(o.autoSuspend){o._suspendTimer=null,o.state="suspending";var g=function(){o.state="suspended",o._resumeAfterSuspend&&(delete o._resumeAfterSuspend,o._autoResume())};o.ctx.suspend().then(g,g)}},3e4),o}},_autoResume:function(){var o=this;if(!(!o.ctx||typeof o.ctx.resume>"u"||!n.usingWebAudio))return o.state==="running"&&o.ctx.state!=="interrupted"&&o._suspendTimer?(clearTimeout(o._suspendTimer),o._suspendTimer=null):o.state==="suspended"||o.state==="running"&&o.ctx.state==="interrupted"?(o.ctx.resume().then(function(){o.state="running";for(var l=0;l<o._howls.length;l++)o._howls[l]._emit("resume")}),o._suspendTimer&&(clearTimeout(o._suspendTimer),o._suspendTimer=null)):o.state==="suspending"&&(o._resumeAfterSuspend=!0),o}};var n=new r,u=function(o){var l=this;if(!o.src||o.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}l.init(o)};u.prototype={init:function(o){var l=this;return n.ctx||b(),l._autoplay=o.autoplay||!1,l._format=typeof o.format!="string"?o.format:[o.format],l._html5=o.html5||!1,l._muted=o.mute||!1,l._loop=o.loop||!1,l._pool=o.pool||5,l._preload=typeof o.preload=="boolean"||o.preload==="metadata"?o.preload:!0,l._rate=o.rate||1,l._sprite=o.sprite||{},l._src=typeof o.src!="string"?o.src:[o.src],l._volume=o.volume!==void 0?o.volume:1,l._xhr={method:o.xhr&&o.xhr.method?o.xhr.method:"GET",headers:o.xhr&&o.xhr.headers?o.xhr.headers:null,withCredentials:o.xhr&&o.xhr.withCredentials?o.xhr.withCredentials:!1},l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=o.onend?[{fn:o.onend}]:[],l._onfade=o.onfade?[{fn:o.onfade}]:[],l._onload=o.onload?[{fn:o.onload}]:[],l._onloaderror=o.onloaderror?[{fn:o.onloaderror}]:[],l._onplayerror=o.onplayerror?[{fn:o.onplayerror}]:[],l._onpause=o.onpause?[{fn:o.onpause}]:[],l._onplay=o.onplay?[{fn:o.onplay}]:[],l._onstop=o.onstop?[{fn:o.onstop}]:[],l._onmute=o.onmute?[{fn:o.onmute}]:[],l._onvolume=o.onvolume?[{fn:o.onvolume}]:[],l._onrate=o.onrate?[{fn:o.onrate}]:[],l._onseek=o.onseek?[{fn:o.onseek}]:[],l._onunlock=o.onunlock?[{fn:o.onunlock}]:[],l._onresume=[],l._webAudio=n.usingWebAudio&&!l._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l._preload!=="none"&&l.load(),l},load:function(){var o=this,l=null;if(n.noAudio){o._emit("loaderror",null,"No audio support.");return}typeof o._src=="string"&&(o._src=[o._src]);for(var d=0;d<o._src.length;d++){var g,w;if(o._format&&o._format[d])g=o._format[d];else{if(w=o._src[d],typeof w!="string"){o._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}g=/^data:audio\/([^;,]+);/i.exec(w),g||(g=/\.([^.]+)$/.exec(w.split("?",1)[0])),g&&(g=g[1].toLowerCase())}if(g||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),g&&n.codecs(g)){l=o._src[d];break}}if(!l){o._emit("loaderror",null,"No codec support for selected audio sources.");return}return o._src=l,o._state="loading",window.location.protocol==="https:"&&l.slice(0,5)==="http:"&&(o._html5=!0,o._webAudio=!1),new s(o),o._webAudio&&h(o),o},play:function(o,l){var d=this,g=null;if(typeof o=="number")g=o,o=null;else{if(typeof o=="string"&&d._state==="loaded"&&!d._sprite[o])return null;if(typeof o>"u"&&(o="__default",!d._playLock)){for(var w=0,x=0;x<d._sounds.length;x++)d._sounds[x]._paused&&!d._sounds[x]._ended&&(w++,g=d._sounds[x]._id);w===1?o=null:g=null}}var T=g?d._soundById(g):d._inactiveSound();if(!T)return null;if(g&&!o&&(o=T._sprite||"__default"),d._state!=="loaded"){T._sprite=o,T._ended=!1;var E=T._id;return d._queue.push({event:"play",action:function(){d.play(E)}}),E}if(g&&!T._paused)return l||d._loadQueue("play"),T._id;d._webAudio&&n._autoResume();var D=Math.max(0,T._seek>0?T._seek:d._sprite[o][0]/1e3),C=Math.max(0,(d._sprite[o][0]+d._sprite[o][1])/1e3-D),H=C*1e3/Math.abs(T._rate),J=d._sprite[o][0]/1e3,L=(d._sprite[o][0]+d._sprite[o][1])/1e3;T._sprite=o,T._ended=!1;var K=function(){T._paused=!1,T._seek=D,T._start=J,T._stop=L,T._loop=!!(T._loop||d._sprite[o][2])};if(D>=L){d._ended(T);return}var W=T._node;if(d._webAudio){var se=function(){d._playLock=!1,K(),d._refreshBuffer(T);var V=T._muted||d._muted?0:T._volume;W.gain.setValueAtTime(V,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof W.bufferSource.start>"u"?T._loop?W.bufferSource.noteGrainOn(0,D,86400):W.bufferSource.noteGrainOn(0,D,C):T._loop?W.bufferSource.start(0,D,86400):W.bufferSource.start(0,D,C),H!==1/0&&(d._endTimers[T._id]=setTimeout(d._ended.bind(d,T),H)),l||setTimeout(function(){d._emit("play",T._id),d._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?se():(d._playLock=!0,d.once("resume",se),d._clearTimer(T._id))}else{var Y=function(){W.currentTime=D,W.muted=T._muted||d._muted||n._muted||W.muted,W.volume=T._volume*n.volume(),W.playbackRate=T._rate;try{var V=W.play();if(V&&typeof Promise<"u"&&(V instanceof Promise||typeof V.then=="function")?(d._playLock=!0,K(),V.then(function(){d._playLock=!1,W._unlocked=!0,l?d._loadQueue():d._emit("play",T._id)}).catch(function(){d._playLock=!1,d._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):l||(d._playLock=!1,K(),d._emit("play",T._id)),W.playbackRate=T._rate,W.paused){d._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}o!=="__default"||T._loop?d._endTimers[T._id]=setTimeout(d._ended.bind(d,T),H):(d._endTimers[T._id]=function(){d._ended(T),W.removeEventListener("ended",d._endTimers[T._id],!1)},W.addEventListener("ended",d._endTimers[T._id],!1))}catch(ne){d._emit("playerror",T._id,ne)}};W.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(W.src=d._src,W.load());var re=window&&window.ejecta||!W.readyState&&n._navigator.isCocoonJS;if(W.readyState>=3||re)Y();else{d._playLock=!0,d._state="loading";var U=function(){d._state="loaded",Y(),W.removeEventListener(n._canPlayEvent,U,!1)};W.addEventListener(n._canPlayEvent,U,!1),d._clearTimer(T._id)}}return T._id},pause:function(o){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(o)}}),l;for(var d=l._getSoundIds(o),g=0;g<d.length;g++){l._clearTimer(d[g]);var w=l._soundById(d[g]);if(w&&!w._paused&&(w._seek=l.seek(d[g]),w._rateSeek=0,w._paused=!0,l._stopFade(d[g]),w._node))if(l._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),l._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||l._emit("pause",w?w._id:null)}return l},stop:function(o,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(o)}}),d;for(var g=d._getSoundIds(o),w=0;w<g.length;w++){d._clearTimer(g[w]);var x=d._soundById(g[w]);x&&(x._seek=x._start||0,x._rateSeek=0,x._paused=!0,x._ended=!0,d._stopFade(g[w]),x._node&&(d._webAudio?x._node.bufferSource&&(typeof x._node.bufferSource.stop>"u"?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),d._cleanBuffer(x._node)):(!isNaN(x._node.duration)||x._node.duration===1/0)&&(x._node.currentTime=x._start||0,x._node.pause(),x._node.duration===1/0&&d._clearSound(x._node))),l||d._emit("stop",x._id))}return d},mute:function(o,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(o,l)}}),d;if(typeof l>"u")if(typeof o=="boolean")d._muted=o;else return d._muted;for(var g=d._getSoundIds(l),w=0;w<g.length;w++){var x=d._soundById(g[w]);x&&(x._muted=o,x._interval&&d._stopFade(x._id),d._webAudio&&x._node?x._node.gain.setValueAtTime(o?0:x._volume,n.ctx.currentTime):x._node&&(x._node.muted=n._muted?!0:o),d._emit("mute",x._id))}return d},volume:function(){var o=this,l=arguments,d,g;if(l.length===0)return o._volume;if(l.length===1||l.length===2&&typeof l[1]>"u"){var w=o._getSoundIds(),x=w.indexOf(l[0]);x>=0?g=parseInt(l[0],10):d=parseFloat(l[0])}else l.length>=2&&(d=parseFloat(l[0]),g=parseInt(l[1],10));var T;if(typeof d<"u"&&d>=0&&d<=1){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,l)}}),o;typeof g>"u"&&(o._volume=d),g=o._getSoundIds(g);for(var E=0;E<g.length;E++)T=o._soundById(g[E]),T&&(T._volume=d,l[2]||o._stopFade(g[E]),o._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(d,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=d*n.volume()),o._emit("volume",T._id))}else return T=g?o._soundById(g):o._sounds[0],T?T._volume:0;return o},fade:function(o,l,d,g){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(o,l,d,g)}}),w;o=Math.min(Math.max(0,parseFloat(o)),1),l=Math.min(Math.max(0,parseFloat(l)),1),d=parseFloat(d),w.volume(o,g);for(var x=w._getSoundIds(g),T=0;T<x.length;T++){var E=w._soundById(x[T]);if(E){if(g||w._stopFade(x[T]),w._webAudio&&!E._muted){var D=n.ctx.currentTime,C=D+d/1e3;E._volume=o,E._node.gain.setValueAtTime(o,D),E._node.gain.linearRampToValueAtTime(l,C)}w._startFadeInterval(E,o,l,d,x[T],typeof g>"u")}}return w},_startFadeInterval:function(o,l,d,g,w,x){var T=this,E=l,D=d-l,C=Math.abs(D/.01),H=Math.max(4,C>0?g/C:g),J=Date.now();o._fadeTo=d,o._interval=setInterval(function(){var L=(Date.now()-J)/g;J=Date.now(),E+=D*L,E=Math.round(E*100)/100,D<0?E=Math.max(d,E):E=Math.min(d,E),T._webAudio?o._volume=E:T.volume(E,o._id,!0),x&&(T._volume=E),(d<l&&E<=d||d>l&&E>=d)&&(clearInterval(o._interval),o._interval=null,o._fadeTo=null,T.volume(d,o._id),T._emit("fade",o._id))},H)},_stopFade:function(o){var l=this,d=l._soundById(o);return d&&d._interval&&(l._webAudio&&d._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(d._interval),d._interval=null,l.volume(d._fadeTo,o),d._fadeTo=null,l._emit("fade",o)),l},loop:function(){var o=this,l=arguments,d,g,w;if(l.length===0)return o._loop;if(l.length===1)if(typeof l[0]=="boolean")d=l[0],o._loop=d;else return w=o._soundById(parseInt(l[0],10)),w?w._loop:!1;else l.length===2&&(d=l[0],g=parseInt(l[1],10));for(var x=o._getSoundIds(g),T=0;T<x.length;T++)w=o._soundById(x[T]),w&&(w._loop=d,o._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=d,d&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,o.playing(x[T])&&(o.pause(x[T],!0),o.play(x[T],!0)))));return o},rate:function(){var o=this,l=arguments,d,g;if(l.length===0)g=o._sounds[0]._id;else if(l.length===1){var w=o._getSoundIds(),x=w.indexOf(l[0]);x>=0?g=parseInt(l[0],10):d=parseFloat(l[0])}else l.length===2&&(d=parseFloat(l[0]),g=parseInt(l[1],10));var T;if(typeof d=="number"){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,l)}}),o;typeof g>"u"&&(o._rate=d),g=o._getSoundIds(g);for(var E=0;E<g.length;E++)if(T=o._soundById(g[E]),T){o.playing(g[E])&&(T._rateSeek=o.seek(g[E]),T._playStart=o._webAudio?n.ctx.currentTime:T._playStart),T._rate=d,o._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(d,n.ctx.currentTime):T._node&&(T._node.playbackRate=d);var D=o.seek(g[E]),C=(o._sprite[T._sprite][0]+o._sprite[T._sprite][1])/1e3-D,H=C*1e3/Math.abs(T._rate);(o._endTimers[g[E]]||!T._paused)&&(o._clearTimer(g[E]),o._endTimers[g[E]]=setTimeout(o._ended.bind(o,T),H)),o._emit("rate",T._id)}}else return T=o._soundById(g),T?T._rate:o._rate;return o},seek:function(){var o=this,l=arguments,d,g;if(l.length===0)o._sounds.length&&(g=o._sounds[0]._id);else if(l.length===1){var w=o._getSoundIds(),x=w.indexOf(l[0]);x>=0?g=parseInt(l[0],10):o._sounds.length&&(g=o._sounds[0]._id,d=parseFloat(l[0]))}else l.length===2&&(d=parseFloat(l[0]),g=parseInt(l[1],10));if(typeof g>"u")return 0;if(typeof d=="number"&&(o._state!=="loaded"||o._playLock))return o._queue.push({event:"seek",action:function(){o.seek.apply(o,l)}}),o;var T=o._soundById(g);if(T)if(typeof d=="number"&&d>=0){var E=o.playing(g);E&&o.pause(g,!0),T._seek=d,T._ended=!1,o._clearTimer(g),!o._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=d);var D=function(){E&&o.play(g,!0),o._emit("seek",g)};if(E&&!o._webAudio){var C=function(){o._playLock?setTimeout(C,0):D()};setTimeout(C,0)}else D()}else if(o._webAudio){var H=o.playing(g)?n.ctx.currentTime-T._playStart:0,J=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(J+H*Math.abs(T._rate))}else return T._node.currentTime;return o},playing:function(o){var l=this;if(typeof o=="number"){var d=l._soundById(o);return d?!d._paused:!1}for(var g=0;g<l._sounds.length;g++)if(!l._sounds[g]._paused)return!0;return!1},duration:function(o){var l=this,d=l._duration,g=l._soundById(o);return g&&(d=l._sprite[g._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var o=this,l=o._sounds,d=0;d<l.length;d++)l[d]._paused||o.stop(l[d]._id),o._webAudio||(o._clearSound(l[d]._node),l[d]._node.removeEventListener("error",l[d]._errorFn,!1),l[d]._node.removeEventListener(n._canPlayEvent,l[d]._loadFn,!1),l[d]._node.removeEventListener("ended",l[d]._endFn,!1),n._releaseHtml5Audio(l[d]._node)),delete l[d]._node,o._clearTimer(l[d]._id);var g=n._howls.indexOf(o);g>=0&&n._howls.splice(g,1);var w=!0;for(d=0;d<n._howls.length;d++)if(n._howls[d]._src===o._src||o._src.indexOf(n._howls[d]._src)>=0){w=!1;break}return c&&w&&delete c[o._src],n.noAudio=!1,o._state="unloaded",o._sounds=[],o=null,null},on:function(o,l,d,g){var w=this,x=w["_on"+o];return typeof l=="function"&&x.push(g?{id:d,fn:l,once:g}:{id:d,fn:l}),w},off:function(o,l,d){var g=this,w=g["_on"+o],x=0;if(typeof l=="number"&&(d=l,l=null),l||d)for(x=0;x<w.length;x++){var T=d===w[x].id;if(l===w[x].fn&&T||!l&&T){w.splice(x,1);break}}else if(o)g["_on"+o]=[];else{var E=Object.keys(g);for(x=0;x<E.length;x++)E[x].indexOf("_on")===0&&Array.isArray(g[E[x]])&&(g[E[x]]=[])}return g},once:function(o,l,d){var g=this;return g.on(o,l,d,1),g},_emit:function(o,l,d){for(var g=this,w=g["_on"+o],x=w.length-1;x>=0;x--)(!w[x].id||w[x].id===l||o==="load")&&(setTimeout(function(T){T.call(this,l,d)}.bind(g,w[x].fn),0),w[x].once&&g.off(o,w[x].fn,w[x].id));return g._loadQueue(o),g},_loadQueue:function(o){var l=this;if(l._queue.length>0){var d=l._queue[0];d.event===o&&(l._queue.shift(),l._loadQueue()),o||d.action()}return l},_ended:function(o){var l=this,d=o._sprite;if(!l._webAudio&&o._node&&!o._node.paused&&!o._node.ended&&o._node.currentTime<o._stop)return setTimeout(l._ended.bind(l,o),100),l;var g=!!(o._loop||l._sprite[d][2]);if(l._emit("end",o._id),!l._webAudio&&g&&l.stop(o._id,!0).play(o._id),l._webAudio&&g){l._emit("play",o._id),o._seek=o._start||0,o._rateSeek=0,o._playStart=n.ctx.currentTime;var w=(o._stop-o._start)*1e3/Math.abs(o._rate);l._endTimers[o._id]=setTimeout(l._ended.bind(l,o),w)}return l._webAudio&&!g&&(o._paused=!0,o._ended=!0,o._seek=o._start||0,o._rateSeek=0,l._clearTimer(o._id),l._cleanBuffer(o._node),n._autoSuspend()),!l._webAudio&&!g&&l.stop(o._id,!0),l},_clearTimer:function(o){var l=this;if(l._endTimers[o]){if(typeof l._endTimers[o]!="function")clearTimeout(l._endTimers[o]);else{var d=l._soundById(o);d&&d._node&&d._node.removeEventListener("ended",l._endTimers[o],!1)}delete l._endTimers[o]}return l},_soundById:function(o){for(var l=this,d=0;d<l._sounds.length;d++)if(o===l._sounds[d]._id)return l._sounds[d];return null},_inactiveSound:function(){var o=this;o._drain();for(var l=0;l<o._sounds.length;l++)if(o._sounds[l]._ended)return o._sounds[l].reset();return new s(o)},_drain:function(){var o=this,l=o._pool,d=0,g=0;if(!(o._sounds.length<l)){for(g=0;g<o._sounds.length;g++)o._sounds[g]._ended&&d++;for(g=o._sounds.length-1;g>=0;g--){if(d<=l)return;o._sounds[g]._ended&&(o._webAudio&&o._sounds[g]._node&&o._sounds[g]._node.disconnect(0),o._sounds.splice(g,1),d--)}}},_getSoundIds:function(o){var l=this;if(typeof o>"u"){for(var d=[],g=0;g<l._sounds.length;g++)d.push(l._sounds[g]._id);return d}else return[o]},_refreshBuffer:function(o){var l=this;return o._node.bufferSource=n.ctx.createBufferSource(),o._node.bufferSource.buffer=c[l._src],o._panner?o._node.bufferSource.connect(o._panner):o._node.bufferSource.connect(o._node),o._node.bufferSource.loop=o._loop,o._loop&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop||0),o._node.bufferSource.playbackRate.setValueAtTime(o._rate,n.ctx.currentTime),l},_cleanBuffer:function(o){var l=this,d=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&o.bufferSource&&(o.bufferSource.onended=null,o.bufferSource.disconnect(0),d))try{o.bufferSource.buffer=n._scratchBuffer}catch{}return o.bufferSource=null,l},_clearSound:function(o){var l=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);l||(o.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(o){this._parent=o,this.init()};s.prototype={init:function(){var o=this,l=o._parent;return o._muted=l._muted,o._loop=l._loop,o._volume=l._volume,o._rate=l._rate,o._seek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++n._counter,l._sounds.push(o),o.create(),o},create:function(){var o=this,l=o._parent,d=n._muted||o._muted||o._parent._muted?0:o._volume;return l._webAudio?(o._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),o._node.gain.setValueAtTime(d,n.ctx.currentTime),o._node.paused=!0,o._node.connect(n.masterGain)):n.noAudio||(o._node=n._obtainHtml5Audio(),o._errorFn=o._errorListener.bind(o),o._node.addEventListener("error",o._errorFn,!1),o._loadFn=o._loadListener.bind(o),o._node.addEventListener(n._canPlayEvent,o._loadFn,!1),o._endFn=o._endListener.bind(o),o._node.addEventListener("ended",o._endFn,!1),o._node.src=l._src,o._node.preload=l._preload===!0?"auto":l._preload,o._node.volume=d*n.volume(),o._node.load()),o},reset:function(){var o=this,l=o._parent;return o._muted=l._muted,o._loop=l._loop,o._volume=l._volume,o._rate=l._rate,o._seek=0,o._rateSeek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++n._counter,o},_errorListener:function(){var o=this;o._parent._emit("loaderror",o._id,o._node.error?o._node.error.code:0),o._node.removeEventListener("error",o._errorFn,!1)},_loadListener:function(){var o=this,l=o._parent;l._duration=Math.ceil(o._node.duration*10)/10,Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue()),o._node.removeEventListener(n._canPlayEvent,o._loadFn,!1)},_endListener:function(){var o=this,l=o._parent;l._duration===1/0&&(l._duration=Math.ceil(o._node.duration*10)/10,l._sprite.__default[1]===1/0&&(l._sprite.__default[1]=l._duration*1e3),l._ended(o)),o._node.removeEventListener("ended",o._endFn,!1)}};var c={},h=function(o){var l=o._src;if(c[l]){o._duration=c[l].duration,p(o);return}if(/^data:[^;]+;base64,/.test(l)){for(var d=atob(l.split(",")[1]),g=new Uint8Array(d.length),w=0;w<d.length;++w)g[w]=d.charCodeAt(w);m(g.buffer,o)}else{var x=new XMLHttpRequest;x.open(o._xhr.method,l,!0),x.withCredentials=o._xhr.withCredentials,x.responseType="arraybuffer",o._xhr.headers&&Object.keys(o._xhr.headers).forEach(function(T){x.setRequestHeader(T,o._xhr.headers[T])}),x.onload=function(){var T=(x.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){o._emit("loaderror",null,"Failed loading audio file with status: "+x.status+".");return}m(x.response,o)},x.onerror=function(){o._webAudio&&(o._html5=!0,o._webAudio=!1,o._sounds=[],delete c[l],o.load())},v(x)}},v=function(o){try{o.send()}catch{o.onerror()}},m=function(o,l){var d=function(){l._emit("loaderror",null,"Decoding audio data failed.")},g=function(w){w&&l._sounds.length>0?(c[l._src]=w,p(l,w)):d()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(o).then(g).catch(d):n.ctx.decodeAudioData(o,g,d)},p=function(o,l){l&&!o._duration&&(o._duration=l.duration),Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue())},b=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var o=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),l=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=l?parseInt(l[1],10):null;if(o&&d&&d<9){var g=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!g&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};a.Howler=n,a.Howl=u,typeof Gt<"u"?(Gt.HowlerGlobal=r,Gt.Howler=n,Gt.Howl=u,Gt.Sound=s):typeof window<"u"&&(window.HowlerGlobal=r,window.Howler=n,window.Howl=u,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var u=this;if(!u.ctx||!u.ctx.listener)return u;for(var s=u._howls.length-1;s>=0;s--)u._howls[s].stereo(n);return u},HowlerGlobal.prototype.pos=function(n,u,s){var c=this;if(!c.ctx||!c.ctx.listener)return c;if(u=typeof u!="number"?c._pos[1]:u,s=typeof s!="number"?c._pos[2]:s,typeof n=="number")c._pos=[n,u,s],typeof c.ctx.listener.positionX<"u"?(c.ctx.listener.positionX.setTargetAtTime(c._pos[0],Howler.ctx.currentTime,.1),c.ctx.listener.positionY.setTargetAtTime(c._pos[1],Howler.ctx.currentTime,.1),c.ctx.listener.positionZ.setTargetAtTime(c._pos[2],Howler.ctx.currentTime,.1)):c.ctx.listener.setPosition(c._pos[0],c._pos[1],c._pos[2]);else return c._pos;return c},HowlerGlobal.prototype.orientation=function(n,u,s,c,h,v){var m=this;if(!m.ctx||!m.ctx.listener)return m;var p=m._orientation;if(u=typeof u!="number"?p[1]:u,s=typeof s!="number"?p[2]:s,c=typeof c!="number"?p[3]:c,h=typeof h!="number"?p[4]:h,v=typeof v!="number"?p[5]:v,typeof n=="number")m._orientation=[n,u,s,c,h,v],typeof m.ctx.listener.forwardX<"u"?(m.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(u,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(c,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(h,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(v,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(n,u,s,c,h,v);else return p;return m},Howl.prototype.init=function(n){return function(u){var s=this;return s._orientation=u.orientation||[1,0,0],s._stereo=u.stereo||null,s._pos=u.pos||null,s._pannerAttr={coneInnerAngle:typeof u.coneInnerAngle<"u"?u.coneInnerAngle:360,coneOuterAngle:typeof u.coneOuterAngle<"u"?u.coneOuterAngle:360,coneOuterGain:typeof u.coneOuterGain<"u"?u.coneOuterGain:0,distanceModel:typeof u.distanceModel<"u"?u.distanceModel:"inverse",maxDistance:typeof u.maxDistance<"u"?u.maxDistance:1e4,panningModel:typeof u.panningModel<"u"?u.panningModel:"HRTF",refDistance:typeof u.refDistance<"u"?u.refDistance:1,rolloffFactor:typeof u.rolloffFactor<"u"?u.rolloffFactor:1},s._onstereo=u.onstereo?[{fn:u.onstereo}]:[],s._onpos=u.onpos?[{fn:u.onpos}]:[],s._onorientation=u.onorientation?[{fn:u.onorientation}]:[],n.call(this,u)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,u){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(n,u)}}),s;var c=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof u>"u")if(typeof n=="number")s._stereo=n,s._pos=[n,0,0];else return s._stereo;for(var h=s._getSoundIds(u),v=0;v<h.length;v++){var m=s._soundById(h[v]);if(m)if(typeof n=="number")m._stereo=n,m._pos=[n,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&r(m,c),c==="spatial"?typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(n,0,0):m._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),s._emit("stereo",m._id);else return m._stereo}return s},Howl.prototype.pos=function(n,u,s,c){var h=this;if(!h._webAudio)return h;if(h._state!=="loaded")return h._queue.push({event:"pos",action:function(){h.pos(n,u,s,c)}}),h;if(u=typeof u!="number"?0:u,s=typeof s!="number"?-.5:s,typeof c>"u")if(typeof n=="number")h._pos=[n,u,s];else return h._pos;for(var v=h._getSoundIds(c),m=0;m<v.length;m++){var p=h._soundById(v[m]);if(p)if(typeof n=="number")p._pos=[n,u,s],p._node&&((!p._panner||p._panner.pan)&&r(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(u,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):p._panner.setPosition(n,u,s)),h._emit("pos",p._id);else return p._pos}return h},Howl.prototype.orientation=function(n,u,s,c){var h=this;if(!h._webAudio)return h;if(h._state!=="loaded")return h._queue.push({event:"orientation",action:function(){h.orientation(n,u,s,c)}}),h;if(u=typeof u!="number"?h._orientation[1]:u,s=typeof s!="number"?h._orientation[2]:s,typeof c>"u")if(typeof n=="number")h._orientation=[n,u,s];else return h._orientation;for(var v=h._getSoundIds(c),m=0;m<v.length;m++){var p=h._soundById(v[m]);if(p)if(typeof n=="number")p._orientation=[n,u,s],p._node&&(p._panner||(p._pos||(p._pos=h._pos||[0,0,-.5]),r(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(u,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):p._panner.setOrientation(n,u,s)),h._emit("orientation",p._id);else return p._orientation}return h},Howl.prototype.pannerAttr=function(){var n=this,u=arguments,s,c,h;if(!n._webAudio)return n;if(u.length===0)return n._pannerAttr;if(u.length===1)if(typeof u[0]=="object")s=u[0],typeof c>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),n._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:n._panningModel});else return h=n._soundById(parseInt(u[0],10)),h?h._pannerAttr:n._pannerAttr;else u.length===2&&(s=u[0],c=parseInt(u[1],10));for(var v=n._getSoundIds(c),m=0;m<v.length;m++)if(h=n._soundById(v[m]),h){var p=h._pannerAttr;p={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:p.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:p.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:p.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:p.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:p.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:p.panningModel};var b=h._panner;b?(b.coneInnerAngle=p.coneInnerAngle,b.coneOuterAngle=p.coneOuterAngle,b.coneOuterGain=p.coneOuterGain,b.distanceModel=p.distanceModel,b.maxDistance=p.maxDistance,b.refDistance=p.refDistance,b.rolloffFactor=p.rolloffFactor,b.panningModel=p.panningModel):(h._pos||(h._pos=n._pos||[0,0,-.5]),r(h,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var u=this,s=u._parent;u._orientation=s._orientation,u._stereo=s._stereo,u._pos=s._pos,u._pannerAttr=s._pannerAttr,n.call(this),u._stereo?s.stereo(u._stereo):u._pos&&s.pos(u._pos[0],u._pos[1],u._pos[2],u._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var u=this,s=u._parent;return u._orientation=s._orientation,u._stereo=s._stereo,u._pos=s._pos,u._pannerAttr=s._pannerAttr,u._stereo?s.stereo(u._stereo):u._pos?s.pos(u._pos[0],u._pos[1],u._pos[2],u._id):u._panner&&(u._panner.disconnect(0),u._panner=void 0,s._refreshBuffer(u)),n.call(this)}}(Sound.prototype.reset);var r=function(n,u){u=u||"spatial",u==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(xi);function D6(a){let r;return{c(){r=X("div"),this.h()},l(n){r=z(n,"DIV",{class:!0}),ee(r).forEach(O),this.h()},h(){R(r,"class","svelte-tbodll"),on(r,"played",a[6]>=a[0]%a[7]-mo&&!a[8]),on(r,"playable",a[8]),on(r,"visible",a[5]),Ce(r,"height",`${a[2]}px`),Ce(r,"width",`${a[1]}px`),Ce(r,"left",`${a[3]}px`),Ce(r,"--color",a[4])},m(n,u){ie(n,r,u)},p(n,[u]){u&449&&on(r,"played",n[6]>=n[0]%n[7]-mo&&!n[8]),u&32&&on(r,"visible",n[5]),u&4&&Ce(r,"height",`${n[2]}px`),u&2&&Ce(r,"width",`${n[1]}px`),u&8&&Ce(r,"left",`${n[3]}px`),u&16&&Ce(r,"--color",n[4])},i:Fe,o:Fe,d(n){n&&O(r)}}}const mo=.05;function B6(a,r,n){let u,s,c,h,{note:v}=r,{instrumentId:m}=r,{width:p}=r,{height:b}=r,{x:o}=r,{color:l}=r,{withSound:d}=r,{visible:g}=r;const{beatsPerMeasure:w,getCurrentBeat:x,getInstrumentToggles:T,isPlayable:E}=Hr("song"),D=x();je(a,D,L=>n(6,h=L));const C=T();je(a,C,L=>n(15,c=L));const H={hihat:new xi.Howl({src:["assets/sound/hihat.mp3"]}),kick:new xi.Howl({src:["assets/sound/kick.mp3"]}),snare:new xi.Howl({src:["assets/sound/snare.mp3"]})},J=()=>{H[m].state()==="loaded"&&H[m].play()};return a.$$set=L=>{"note"in L&&n(0,v=L.note),"instrumentId"in L&&n(11,m=L.instrumentId),"width"in L&&n(1,p=L.width),"height"in L&&n(2,b=L.height),"x"in L&&n(3,o=L.x),"color"in L&&n(4,l=L.color),"withSound"in L&&n(12,d=L.withSound),"visible"in L&&n(5,g=L.visible)},a.$$.update=()=>{a.$$.dirty&65&&n(14,u=h!==0&&h>=v&&h<v+mo),a.$$.dirty&34816&&n(13,s=c[m]==="on"),a.$$.dirty&28672&&d&&u&&s&&J()},[v,p,b,o,l,g,h,w,E,D,C,m,d,s,u,c]}class N6 extends it{constructor(r){super(),rt(this,r,B6,D6,Ze,{note:0,instrumentId:11,width:1,height:2,x:3,color:4,withSound:12,visible:5})}}function Mr(a,r){return a==null||r==null?NaN:a<r?-1:a>r?1:a>=r?0:NaN}function pf(a){let r,n,u;a.length!==2?(r=Mr,n=(v,m)=>Mr(a(v),m),u=(v,m)=>a(v)-m):(r=a===Mr||a===S6?a:H6,n=a,u=a);function s(v,m,p=0,b=v.length){if(p<b){if(r(m,m)!==0)return b;do{const o=p+b>>>1;n(v[o],m)<0?p=o+1:b=o}while(p<b)}return p}function c(v,m,p=0,b=v.length){if(p<b){if(r(m,m)!==0)return b;do{const o=p+b>>>1;n(v[o],m)<=0?p=o+1:b=o}while(p<b)}return p}function h(v,m,p=0,b=v.length){const o=s(v,m,p,b-1);return o>p&&u(v[o-1],m)>-u(v[o],m)?o-1:o}return{left:s,center:h,right:c}}function H6(){return 0}function G6(a){return a===null?NaN:+a}const W6=pf(Mr),q6=W6.right;pf(G6).center;const U6=q6,V6=Math.sqrt(50),X6=Math.sqrt(10),z6=Math.sqrt(2);function Rr(a,r,n){const u=(r-a)/Math.max(0,n),s=Math.floor(Math.log10(u)),c=u/Math.pow(10,s),h=c>=V6?10:c>=X6?5:c>=z6?2:1;let v,m,p;return s<0?(p=Math.pow(10,-s)/h,v=Math.round(a*p),m=Math.round(r*p),v/p<a&&++v,m/p>r&&--m,p=-p):(p=Math.pow(10,s)*h,v=Math.round(a/p),m=Math.round(r/p),v*p<a&&++v,m*p>r&&--m),m<v&&.5<=n&&n<2?Rr(a,r,n*2):[v,m,p]}function K6(a,r,n){if(r=+r,a=+a,n=+n,!(n>0))return[];if(a===r)return[a];const u=r<a,[s,c,h]=u?Rr(r,a,n):Rr(a,r,n);if(!(c>=s))return[];const v=c-s+1,m=new Array(v);if(u)if(h<0)for(let p=0;p<v;++p)m[p]=(c-p)/-h;else for(let p=0;p<v;++p)m[p]=(c-p)*h;else if(h<0)for(let p=0;p<v;++p)m[p]=(s+p)/-h;else for(let p=0;p<v;++p)m[p]=(s+p)*h;return m}function po(a,r,n){return r=+r,a=+a,n=+n,Rr(a,r,n)[2]}function Y6(a,r,n){r=+r,a=+a,n=+n;const u=r<a,s=u?po(r,a,n):po(a,r,n);return(u?-1:1)*(s<0?1/-s:s)}function ni(a,r,n){a=+a,r=+r,n=(s=arguments.length)<2?(r=a,a=0,1):s<3?1:+n;for(var u=-1,s=Math.max(0,Math.ceil((r-a)/n))|0,c=new Array(s);++u<s;)c[u]=a+u*n;return c}function Ao(a,r,n){a.prototype=r.prototype=n,n.constructor=a}function gf(a,r){var n=Object.create(a.prototype);for(var u in r)n[u]=r[u];return n}function Oi(){}var Si=.7,Fr=1/Si,ei="\\s*([+-]?\\d+)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z6=/^#([0-9a-f]{3,8})$/,Q6=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),J6=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),$6=new RegExp(`^rgba\\(${ei},${ei},${ei},${Ii}\\)$`),j6=new RegExp(`^rgba\\(${qt},${qt},${qt},${Ii}\\)$`),ep=new RegExp(`^hsl\\(${Ii},${qt},${qt}\\)$`),tp=new RegExp(`^hsla\\(${Ii},${qt},${qt},${Ii}\\)$`),vl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ao(Oi,Mi,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:yl,formatHex:yl,formatHex8:np,formatHsl:ip,formatRgb:wl,toString:wl});function yl(){return this.rgb().formatHex()}function np(){return this.rgb().formatHex8()}function ip(){return vf(this).formatHsl()}function wl(){return this.rgb().formatRgb()}function Mi(a){var r,n;return a=(a+"").trim().toLowerCase(),(r=Z6.exec(a))?(n=r[1].length,r=parseInt(r[1],16),n===6?bl(r):n===3?new ft(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Ar(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Ar(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Q6.exec(a))?new ft(r[1],r[2],r[3],1):(r=J6.exec(a))?new ft(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=$6.exec(a))?Ar(r[1],r[2],r[3],r[4]):(r=j6.exec(a))?Ar(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=ep.exec(a))?Al(r[1],r[2]/100,r[3]/100,1):(r=tp.exec(a))?Al(r[1],r[2]/100,r[3]/100,r[4]):vl.hasOwnProperty(a)?bl(vl[a]):a==="transparent"?new ft(NaN,NaN,NaN,0):null}function bl(a){return new ft(a>>16&255,a>>8&255,a&255,1)}function Ar(a,r,n,u){return u<=0&&(a=r=n=NaN),new ft(a,r,n,u)}function rp(a){return a instanceof Oi||(a=Mi(a)),a?(a=a.rgb(),new ft(a.r,a.g,a.b,a.opacity)):new ft}function go(a,r,n,u){return arguments.length===1?rp(a):new ft(a,r,n,u??1)}function ft(a,r,n,u){this.r=+a,this.g=+r,this.b=+n,this.opacity=+u}Ao(ft,go,gf(Oi,{brighter(a){return a=a==null?Fr:Math.pow(Fr,a),new ft(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?Si:Math.pow(Si,a),new ft(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new ft(Pn(this.r),Pn(this.g),Pn(this.b),Or(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kl,formatHex:kl,formatHex8:ap,formatRgb:Tl,toString:Tl}));function kl(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}`}function ap(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}${Cn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tl(){const a=Or(this.opacity);return`${a===1?"rgb(":"rgba("}${Pn(this.r)}, ${Pn(this.g)}, ${Pn(this.b)}${a===1?")":`, ${a})`}`}function Or(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Pn(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Cn(a){return a=Pn(a),(a<16?"0":"")+a.toString(16)}function Al(a,r,n,u){return u<=0?a=r=n=NaN:n<=0||n>=1?a=r=NaN:r<=0&&(a=NaN),new Lt(a,r,n,u)}function vf(a){if(a instanceof Lt)return new Lt(a.h,a.s,a.l,a.opacity);if(a instanceof Oi||(a=Mi(a)),!a)return new Lt;if(a instanceof Lt)return a;a=a.rgb();var r=a.r/255,n=a.g/255,u=a.b/255,s=Math.min(r,n,u),c=Math.max(r,n,u),h=NaN,v=c-s,m=(c+s)/2;return v?(r===c?h=(n-u)/v+(n<u)*6:n===c?h=(u-r)/v+2:h=(r-n)/v+4,v/=m<.5?c+s:2-c-s,h*=60):v=m>0&&m<1?0:h,new Lt(h,v,m,a.opacity)}function op(a,r,n,u){return arguments.length===1?vf(a):new Lt(a,r,n,u??1)}function Lt(a,r,n,u){this.h=+a,this.s=+r,this.l=+n,this.opacity=+u}Ao(Lt,op,gf(Oi,{brighter(a){return a=a==null?Fr:Math.pow(Fr,a),new Lt(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?Si:Math.pow(Si,a),new Lt(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,r=isNaN(a)||isNaN(this.s)?0:this.s,n=this.l,u=n+(n<.5?n:1-n)*r,s=2*n-u;return new ft(lo(a>=240?a-240:a+120,s,u),lo(a,s,u),lo(a<120?a+240:a-120,s,u),this.opacity)},clamp(){return new Lt(xl(this.h),xr(this.s),xr(this.l),Or(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=Or(this.opacity);return`${a===1?"hsl(":"hsla("}${xl(this.h)}, ${xr(this.s)*100}%, ${xr(this.l)*100}%${a===1?")":`, ${a})`}`}}));function xl(a){return a=(a||0)%360,a<0?a+360:a}function xr(a){return Math.max(0,Math.min(1,a||0))}function lo(a,r,n){return(a<60?r+(n-r)*a/60:a<180?n:a<240?r+(n-r)*(240-a)/60:r)*255}const xo=a=>()=>a;function up(a,r){return function(n){return a+n*r}}function sp(a,r,n){return a=Math.pow(a,n),r=Math.pow(r,n)-a,n=1/n,function(u){return Math.pow(a+u*r,n)}}function lp(a){return(a=+a)==1?yf:function(r,n){return n-r?sp(r,n,a):xo(isNaN(r)?n:r)}}function yf(a,r){var n=r-a;return n?up(a,n):xo(isNaN(a)?r:a)}const Sl=function a(r){var n=lp(r);function u(s,c){var h=n((s=go(s)).r,(c=go(c)).r),v=n(s.g,c.g),m=n(s.b,c.b),p=yf(s.opacity,c.opacity);return function(b){return s.r=h(b),s.g=v(b),s.b=m(b),s.opacity=p(b),s+""}}return u.gamma=a,u}(1);function fp(a,r){r||(r=[]);var n=a?Math.min(r.length,a.length):0,u=r.slice(),s;return function(c){for(s=0;s<n;++s)u[s]=a[s]*(1-c)+r[s]*c;return u}}function cp(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function dp(a,r){var n=r?r.length:0,u=a?Math.min(n,a.length):0,s=new Array(u),c=new Array(n),h;for(h=0;h<u;++h)s[h]=So(a[h],r[h]);for(;h<n;++h)c[h]=r[h];return function(v){for(h=0;h<u;++h)c[h]=s[h](v);return c}}function hp(a,r){var n=new Date;return a=+a,r=+r,function(u){return n.setTime(a*(1-u)+r*u),n}}function Cr(a,r){return a=+a,r=+r,function(n){return a*(1-n)+r*n}}function _p(a,r){var n={},u={},s;(a===null||typeof a!="object")&&(a={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in a?n[s]=So(a[s],r[s]):u[s]=r[s];return function(c){for(s in n)u[s]=n[s](c);return u}}var vo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fo=new RegExp(vo.source,"g");function mp(a){return function(){return a}}function pp(a){return function(r){return a(r)+""}}function gp(a,r){var n=vo.lastIndex=fo.lastIndex=0,u,s,c,h=-1,v=[],m=[];for(a=a+"",r=r+"";(u=vo.exec(a))&&(s=fo.exec(r));)(c=s.index)>n&&(c=r.slice(n,c),v[h]?v[h]+=c:v[++h]=c),(u=u[0])===(s=s[0])?v[h]?v[h]+=s:v[++h]=s:(v[++h]=null,m.push({i:h,x:Cr(u,s)})),n=fo.lastIndex;return n<r.length&&(c=r.slice(n),v[h]?v[h]+=c:v[++h]=c),v.length<2?m[0]?pp(m[0].x):mp(r):(r=m.length,function(p){for(var b=0,o;b<r;++b)v[(o=m[b]).i]=o.x(p);return v.join("")})}function So(a,r){var n=typeof r,u;return r==null||n==="boolean"?xo(r):(n==="number"?Cr:n==="string"?(u=Mi(r))?(r=u,Sl):gp:r instanceof Mi?Sl:r instanceof Date?hp:cp(r)?fp:Array.isArray(r)?dp:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?_p:Cr)(a,r)}function vp(a,r){return a=+a,r=+r,function(n){return Math.round(a*(1-n)+r*n)}}const yo=Math.PI,wo=2*yo,On=1e-6,yp=wo-On;function wf(a){this._+=a[0];for(let r=1,n=a.length;r<n;++r)this._+=arguments[r]+a[r]}function wp(a){let r=Math.floor(a);if(!(r>=0))throw new Error(`invalid digits: ${a}`);if(r>15)return wf;const n=10**r;return function(u){this._+=u[0];for(let s=1,c=u.length;s<c;++s)this._+=Math.round(arguments[s]*n)/n+u[s]}}class bp{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?wf:wp(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,u,s){this._append`Q${+r},${+n},${this._x1=+u},${this._y1=+s}`}bezierCurveTo(r,n,u,s,c,h){this._append`C${+r},${+n},${+u},${+s},${this._x1=+c},${this._y1=+h}`}arcTo(r,n,u,s,c){if(r=+r,n=+n,u=+u,s=+s,c=+c,c<0)throw new Error(`negative radius: ${c}`);let h=this._x1,v=this._y1,m=u-r,p=s-n,b=h-r,o=v-n,l=b*b+o*o;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(l>On)if(!(Math.abs(o*m-p*b)>On)||!c)this._append`L${this._x1=r},${this._y1=n}`;else{let d=u-h,g=s-v,w=m*m+p*p,x=d*d+g*g,T=Math.sqrt(w),E=Math.sqrt(l),D=c*Math.tan((yo-Math.acos((w+l-x)/(2*T*E)))/2),C=D/E,H=D/T;Math.abs(C-1)>On&&this._append`L${r+C*b},${n+C*o}`,this._append`A${c},${c},0,0,${+(o*d>b*g)},${this._x1=r+H*m},${this._y1=n+H*p}`}}arc(r,n,u,s,c,h){if(r=+r,n=+n,u=+u,h=!!h,u<0)throw new Error(`negative radius: ${u}`);let v=u*Math.cos(s),m=u*Math.sin(s),p=r+v,b=n+m,o=1^h,l=h?s-c:c-s;this._x1===null?this._append`M${p},${b}`:(Math.abs(this._x1-p)>On||Math.abs(this._y1-b)>On)&&this._append`L${p},${b}`,u&&(l<0&&(l=l%wo+wo),l>yp?this._append`A${u},${u},0,1,${o},${r-v},${n-m}A${u},${u},0,1,${o},${this._x1=p},${this._y1=b}`:l>On&&this._append`A${u},${u},0,${+(l>=yo)},${o},${this._x1=r+u*Math.cos(c)},${this._y1=n+u*Math.sin(c)}`)}rect(r,n,u,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${u=+u}v${+s}h${-u}Z`}toString(){return this._}}function kp(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)}function Pr(a,r){if((n=(a=r?a.toExponential(r-1):a.toExponential()).indexOf("e"))<0)return null;var n,u=a.slice(0,n);return[u.length>1?u[0]+u.slice(2):u,+a.slice(n+1)]}function ii(a){return a=Pr(Math.abs(a)),a?a[1]:NaN}function Tp(a,r){return function(n,u){for(var s=n.length,c=[],h=0,v=a[0],m=0;s>0&&v>0&&(m+v+1>u&&(v=Math.max(1,u-m)),c.push(n.substring(s-=v,s+v)),!((m+=v+1)>u));)v=a[h=(h+1)%a.length];return c.reverse().join(r)}}function Ap(a){return function(r){return r.replace(/[0-9]/g,function(n){return a[+n]})}}var xp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lr(a){if(!(r=xp.exec(a)))throw new Error("invalid format: "+a);var r;return new Io({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Lr.prototype=Io.prototype;function Io(a){this.fill=a.fill===void 0?" ":a.fill+"",this.align=a.align===void 0?">":a.align+"",this.sign=a.sign===void 0?"-":a.sign+"",this.symbol=a.symbol===void 0?"":a.symbol+"",this.zero=!!a.zero,this.width=a.width===void 0?void 0:+a.width,this.comma=!!a.comma,this.precision=a.precision===void 0?void 0:+a.precision,this.trim=!!a.trim,this.type=a.type===void 0?"":a.type+""}Io.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sp(a){e:for(var r=a.length,n=1,u=-1,s;n<r;++n)switch(a[n]){case".":u=s=n;break;case"0":u===0&&(u=n),s=n;break;default:if(!+a[n])break e;u>0&&(u=0);break}return u>0?a.slice(0,u)+a.slice(s+1):a}var bf;function Ip(a,r){var n=Pr(a,r);if(!n)return a+"";var u=n[0],s=n[1],c=s-(bf=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,h=u.length;return c===h?u:c>h?u+new Array(c-h+1).join("0"):c>0?u.slice(0,c)+"."+u.slice(c):"0."+new Array(1-c).join("0")+Pr(a,Math.max(0,r+c-1))[0]}function Il(a,r){var n=Pr(a,r);if(!n)return a+"";var u=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+u:u.length>s+1?u.slice(0,s+1)+"."+u.slice(s+1):u+new Array(s-u.length+2).join("0")}const Ml={"%":(a,r)=>(a*100).toFixed(r),b:a=>Math.round(a).toString(2),c:a=>a+"",d:kp,e:(a,r)=>a.toExponential(r),f:(a,r)=>a.toFixed(r),g:(a,r)=>a.toPrecision(r),o:a=>Math.round(a).toString(8),p:(a,r)=>Il(a*100,r),r:Il,s:Ip,X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function El(a){return a}var Rl=Array.prototype.map,Fl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Mp(a){var r=a.grouping===void 0||a.thousands===void 0?El:Tp(Rl.call(a.grouping,Number),a.thousands+""),n=a.currency===void 0?"":a.currency[0]+"",u=a.currency===void 0?"":a.currency[1]+"",s=a.decimal===void 0?".":a.decimal+"",c=a.numerals===void 0?El:Ap(Rl.call(a.numerals,String)),h=a.percent===void 0?"%":a.percent+"",v=a.minus===void 0?"−":a.minus+"",m=a.nan===void 0?"NaN":a.nan+"";function p(o){o=Lr(o);var l=o.fill,d=o.align,g=o.sign,w=o.symbol,x=o.zero,T=o.width,E=o.comma,D=o.precision,C=o.trim,H=o.type;H==="n"?(E=!0,H="g"):Ml[H]||(D===void 0&&(D=12),C=!0,H="g"),(x||l==="0"&&d==="=")&&(x=!0,l="0",d="=");var J=w==="$"?n:w==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",L=w==="$"?u:/[%p]/.test(H)?h:"",K=Ml[H],W=/[defgprs%]/.test(H);D=D===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function se(Y){var re=J,U=L,V,ne,me;if(H==="c")U=K(Y)+U,Y="";else{Y=+Y;var Z=Y<0||1/Y<0;if(Y=isNaN(Y)?m:K(Math.abs(Y),D),C&&(Y=Sp(Y)),Z&&+Y==0&&g!=="+"&&(Z=!1),re=(Z?g==="("?g:v:g==="-"||g==="("?"":g)+re,U=(H==="s"?Fl[8+bf/3]:"")+U+(Z&&g==="("?")":""),W){for(V=-1,ne=Y.length;++V<ne;)if(me=Y.charCodeAt(V),48>me||me>57){U=(me===46?s+Y.slice(V+1):Y.slice(V))+U,Y=Y.slice(0,V);break}}}E&&!x&&(Y=r(Y,1/0));var $=re.length+Y.length+U.length,Be=$<T?new Array(T-$+1).join(l):"";switch(E&&x&&(Y=r(Be+Y,Be.length?T-U.length:1/0),Be=""),d){case"<":Y=re+Y+U+Be;break;case"=":Y=re+Be+Y+U;break;case"^":Y=Be.slice(0,$=Be.length>>1)+re+Y+U+Be.slice($);break;default:Y=Be+re+Y+U;break}return c(Y)}return se.toString=function(){return o+""},se}function b(o,l){var d=p((o=Lr(o),o.type="f",o)),g=Math.max(-8,Math.min(8,Math.floor(ii(l)/3)))*3,w=Math.pow(10,-g),x=Fl[8+g/3];return function(T){return d(w*T)+x}}return{format:p,formatPrefix:b}}var Sr,Dr,kf;Ep({thousands:",",grouping:[3],currency:["$",""]});function Ep(a){return Sr=Mp(a),Dr=Sr.format,kf=Sr.formatPrefix,Sr}function Rp(a){return Math.max(0,-ii(Math.abs(a)))}function Fp(a,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ii(r)/3)))*3-ii(Math.abs(a)))}function Op(a,r){return a=Math.abs(a),r=Math.abs(r)-a,Math.max(0,ii(r)-ii(a))+1}function Mo(a,r){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(r).domain(a);break}return this}const Ol=Symbol("implicit");function Tf(){var a=new cl,r=[],n=[],u=Ol;function s(c){let h=a.get(c);if(h===void 0){if(u!==Ol)return u;a.set(c,h=r.push(c)-1)}return n[h%n.length]}return s.domain=function(c){if(!arguments.length)return r.slice();r=[],a=new cl;for(const h of c)a.has(h)||a.set(h,r.push(h)-1);return s},s.range=function(c){return arguments.length?(n=Array.from(c),s):n.slice()},s.unknown=function(c){return arguments.length?(u=c,s):u},s.copy=function(){return Tf(r,n).unknown(u)},Mo.apply(s,arguments),s}function Af(){var a=Tf().unknown(void 0),r=a.domain,n=a.range,u=0,s=1,c,h,v=!1,m=0,p=0,b=.5;delete a.unknown;function o(){var l=r().length,d=s<u,g=d?s:u,w=d?u:s;c=(w-g)/Math.max(1,l-m+p*2),v&&(c=Math.floor(c)),g+=(w-g-c*(l-m))*b,h=c*(1-m),v&&(g=Math.round(g),h=Math.round(h));var x=ni(l).map(function(T){return g+c*T});return n(d?x.reverse():x)}return a.domain=function(l){return arguments.length?(r(l),o()):r()},a.range=function(l){return arguments.length?([u,s]=l,u=+u,s=+s,o()):[u,s]},a.rangeRound=function(l){return[u,s]=l,u=+u,s=+s,v=!0,o()},a.bandwidth=function(){return h},a.step=function(){return c},a.round=function(l){return arguments.length?(v=!!l,o()):v},a.padding=function(l){return arguments.length?(m=Math.min(1,p=+l),o()):m},a.paddingInner=function(l){return arguments.length?(m=Math.min(1,l),o()):m},a.paddingOuter=function(l){return arguments.length?(p=+l,o()):p},a.align=function(l){return arguments.length?(b=Math.max(0,Math.min(1,l)),o()):b},a.copy=function(){return Af(r(),[u,s]).round(v).paddingInner(m).paddingOuter(p).align(b)},Mo.apply(o(),arguments)}function Cp(a){return function(){return a}}function Pp(a){return+a}var Cl=[0,1];function $n(a){return a}function bo(a,r){return(r-=a=+a)?function(n){return(n-a)/r}:Cp(isNaN(r)?NaN:.5)}function Lp(a,r){var n;return a>r&&(n=a,a=r,r=n),function(u){return Math.max(a,Math.min(r,u))}}function Dp(a,r,n){var u=a[0],s=a[1],c=r[0],h=r[1];return s<u?(u=bo(s,u),c=n(h,c)):(u=bo(u,s),c=n(c,h)),function(v){return c(u(v))}}function Bp(a,r,n){var u=Math.min(a.length,r.length)-1,s=new Array(u),c=new Array(u),h=-1;for(a[u]<a[0]&&(a=a.slice().reverse(),r=r.slice().reverse());++h<u;)s[h]=bo(a[h],a[h+1]),c[h]=n(r[h],r[h+1]);return function(v){var m=U6(a,v,1,u)-1;return c[m](s[m](v))}}function Np(a,r){return r.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Hp(){var a=Cl,r=Cl,n=So,u,s,c,h=$n,v,m,p;function b(){var l=Math.min(a.length,r.length);return h!==$n&&(h=Lp(a[0],a[l-1])),v=l>2?Bp:Dp,m=p=null,o}function o(l){return l==null||isNaN(l=+l)?c:(m||(m=v(a.map(u),r,n)))(u(h(l)))}return o.invert=function(l){return h(s((p||(p=v(r,a.map(u),Cr)))(l)))},o.domain=function(l){return arguments.length?(a=Array.from(l,Pp),b()):a.slice()},o.range=function(l){return arguments.length?(r=Array.from(l),b()):r.slice()},o.rangeRound=function(l){return r=Array.from(l),n=vp,b()},o.clamp=function(l){return arguments.length?(h=l?!0:$n,b()):h!==$n},o.interpolate=function(l){return arguments.length?(n=l,b()):n},o.unknown=function(l){return arguments.length?(c=l,o):c},function(l,d){return u=l,s=d,b()}}function Gp(){return Hp()($n,$n)}function Wp(a,r,n,u){var s=Y6(a,r,n),c;switch(u=Lr(u??",f"),u.type){case"s":{var h=Math.max(Math.abs(a),Math.abs(r));return u.precision==null&&!isNaN(c=Fp(s,h))&&(u.precision=c),kf(u,h)}case"":case"e":case"g":case"p":case"r":{u.precision==null&&!isNaN(c=Op(s,Math.max(Math.abs(a),Math.abs(r))))&&(u.precision=c-(u.type==="e"));break}case"f":case"%":{u.precision==null&&!isNaN(c=Rp(s))&&(u.precision=c-(u.type==="%")*2);break}}return Dr(u)}function qp(a){var r=a.domain;return a.ticks=function(n){var u=r();return K6(u[0],u[u.length-1],n??10)},a.tickFormat=function(n,u){var s=r();return Wp(s[0],s[s.length-1],n??10,u)},a.nice=function(n){n==null&&(n=10);var u=r(),s=0,c=u.length-1,h=u[s],v=u[c],m,p,b=10;for(v<h&&(p=h,h=v,v=p,p=s,s=c,c=p);b-- >0;){if(p=po(h,v,n),p===m)return u[s]=h,u[c]=v,r(u);if(p>0)h=Math.floor(h/p)*p,v=Math.ceil(v/p)*p;else if(p<0)h=Math.ceil(h*p)/p,v=Math.floor(v*p)/p;else break;m=p}return a},a}function Ei(){var a=Gp();return a.copy=function(){return Np(a,Ei())},Mo.apply(a,arguments),qp(a)}function yn(a){return function(){return a}}const Pl=Math.abs,Ke=Math.atan2,Rn=Math.cos,Up=Math.max,co=Math.min,Ht=Math.sin,jn=Math.sqrt,lt=1e-12,Ri=Math.PI,Br=Ri/2,Vp=2*Ri;function Xp(a){return a>1?0:a<-1?Ri:Math.acos(a)}function Ll(a){return a>=1?Br:a<=-1?-Br:Math.asin(a)}function zp(a){let r=3;return a.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const u=Math.floor(n);if(!(u>=0))throw new RangeError(`invalid digits: ${n}`);r=u}return a},()=>new bp(r)}function Kp(a){return a.innerRadius}function Yp(a){return a.outerRadius}function Zp(a){return a.startAngle}function Qp(a){return a.endAngle}function Jp(a){return a&&a.padAngle}function $p(a,r,n,u,s,c,h,v){var m=n-a,p=u-r,b=h-s,o=v-c,l=o*m-b*p;if(!(l*l<lt))return l=(b*(r-c)-o*(a-s))/l,[a+l*m,r+l*p]}function Ir(a,r,n,u,s,c,h){var v=a-n,m=r-u,p=(h?c:-c)/jn(v*v+m*m),b=p*m,o=-p*v,l=a+b,d=r+o,g=n+b,w=u+o,x=(l+g)/2,T=(d+w)/2,E=g-l,D=w-d,C=E*E+D*D,H=s-c,J=l*w-g*d,L=(D<0?-1:1)*jn(Up(0,H*H*C-J*J)),K=(J*D-E*L)/C,W=(-J*E-D*L)/C,se=(J*D+E*L)/C,Y=(-J*E+D*L)/C,re=K-x,U=W-T,V=se-x,ne=Y-T;return re*re+U*U>V*V+ne*ne&&(K=se,W=Y),{cx:K,cy:W,x01:-b,y01:-o,x11:K*(s/H-1),y11:W*(s/H-1)}}function jp(){var a=Kp,r=Yp,n=yn(0),u=null,s=Zp,c=Qp,h=Jp,v=null,m=zp(p);function p(){var b,o,l=+a.apply(this,arguments),d=+r.apply(this,arguments),g=s.apply(this,arguments)-Br,w=c.apply(this,arguments)-Br,x=Pl(w-g),T=w>g;if(v||(v=b=m()),d<l&&(o=d,d=l,l=o),!(d>lt))v.moveTo(0,0);else if(x>Vp-lt)v.moveTo(d*Rn(g),d*Ht(g)),v.arc(0,0,d,g,w,!T),l>lt&&(v.moveTo(l*Rn(w),l*Ht(w)),v.arc(0,0,l,w,g,T));else{var E=g,D=w,C=g,H=w,J=x,L=x,K=h.apply(this,arguments)/2,W=K>lt&&(u?+u.apply(this,arguments):jn(l*l+d*d)),se=co(Pl(d-l)/2,+n.apply(this,arguments)),Y=se,re=se,U,V;if(W>lt){var ne=Ll(W/l*Ht(K)),me=Ll(W/d*Ht(K));(J-=ne*2)>lt?(ne*=T?1:-1,C+=ne,H-=ne):(J=0,C=H=(g+w)/2),(L-=me*2)>lt?(me*=T?1:-1,E+=me,D-=me):(L=0,E=D=(g+w)/2)}var Z=d*Rn(E),$=d*Ht(E),Be=l*Rn(H),dt=l*Ht(H);if(se>lt){var Ge=d*Rn(D),Mt=d*Ht(D),un=l*Rn(C),sn=l*Ht(C),Ve;if(x<Ri)if(Ve=$p(Z,$,un,sn,Ge,Mt,Be,dt)){var ln=Z-Ve[0],ri=$-Ve[1],zt=Ge-Ve[0],Kt=Mt-Ve[1],Ci=1/Ht(Xp((ln*zt+ri*Kt)/(jn(ln*ln+ri*ri)*jn(zt*zt+Kt*Kt)))/2),wn=jn(Ve[0]*Ve[0]+Ve[1]*Ve[1]);Y=co(se,(l-wn)/(Ci-1)),re=co(se,(d-wn)/(Ci+1))}else Y=re=0}L>lt?re>lt?(U=Ir(un,sn,Z,$,d,re,T),V=Ir(Ge,Mt,Be,dt,d,re,T),v.moveTo(U.cx+U.x01,U.cy+U.y01),re<se?v.arc(U.cx,U.cy,re,Ke(U.y01,U.x01),Ke(V.y01,V.x01),!T):(v.arc(U.cx,U.cy,re,Ke(U.y01,U.x01),Ke(U.y11,U.x11),!T),v.arc(0,0,d,Ke(U.cy+U.y11,U.cx+U.x11),Ke(V.cy+V.y11,V.cx+V.x11),!T),v.arc(V.cx,V.cy,re,Ke(V.y11,V.x11),Ke(V.y01,V.x01),!T))):(v.moveTo(Z,$),v.arc(0,0,d,E,D,!T)):v.moveTo(Z,$),!(l>lt)||!(J>lt)?v.lineTo(Be,dt):Y>lt?(U=Ir(Be,dt,Ge,Mt,l,-Y,T),V=Ir(Z,$,un,sn,l,-Y,T),v.lineTo(U.cx+U.x01,U.cy+U.y01),Y<se?v.arc(U.cx,U.cy,Y,Ke(U.y01,U.x01),Ke(V.y01,V.x01),!T):(v.arc(U.cx,U.cy,Y,Ke(U.y01,U.x01),Ke(U.y11,U.x11),!T),v.arc(0,0,l,Ke(U.cy+U.y11,U.cx+U.x11),Ke(V.cy+V.y11,V.cx+V.x11),T),v.arc(V.cx,V.cy,Y,Ke(V.y11,V.x11),Ke(V.y01,V.x01),!T))):v.arc(0,0,l,H,C,T)}if(v.closePath(),b)return v=null,b+""||null}return p.centroid=function(){var b=(+a.apply(this,arguments)+ +r.apply(this,arguments))/2,o=(+s.apply(this,arguments)+ +c.apply(this,arguments))/2-Ri/2;return[Rn(o)*b,Ht(o)*b]},p.innerRadius=function(b){return arguments.length?(a=typeof b=="function"?b:yn(+b),p):a},p.outerRadius=function(b){return arguments.length?(r=typeof b=="function"?b:yn(+b),p):r},p.cornerRadius=function(b){return arguments.length?(n=typeof b=="function"?b:yn(+b),p):n},p.padRadius=function(b){return arguments.length?(u=b==null?null:typeof b=="function"?b:yn(+b),p):u},p.startAngle=function(b){return arguments.length?(s=typeof b=="function"?b:yn(+b),p):s},p.endAngle=function(b){return arguments.length?(c=typeof b=="function"?b:yn(+b),p):c},p.padAngle=function(b){return arguments.length?(h=typeof b=="function"?b:yn(+b),p):h},p.context=function(b){return arguments.length?(v=b??null,p):v},p}const eg=a=>{const r=[.0625,.125,.25,.5,1],n=a[1];if(!n)return 1;const u=r.map(s=>Math.abs(s-n));return r[u.indexOf(Math.min(...u))]},xf=a=>{const r=eg(a);return a.map(n=>Math.round(n/r)*r)};function Dl(a,r,n){const u=a.slice();u[18]=r[n],u[25]=n;const s=Math.floor(u[18]/u[7]);u[19]=s;const c=u[19]===u[6];u[20]=c;const h=u[5](u[18]%u[7]);u[21]=h;const v=u[25]+1<u[0].length&&u[0][u[25]+1]%u[7]>u[18]%u[7]?u[0][u[25]+1]%u[7]:u[5].domain()[1];u[22]=v;const m=u[8]?8:u[5](u[22])-u[21];return u[23]=m,u}function Bl(a,r,n){const u=a.slice();u[18]=r[n],u[25]=n;const s=u[5](u[18]);u[21]=s;const c=u[25]+1<u[3].length?u[3][u[25]+1]:u[5].domain()[1];u[22]=c;const h=u[5](u[22])-u[21];return u[23]=h,u}function tg(a){let r;return{c(){r=X("div"),this.h()},l(n){r=z(n,"DIV",{class:!0}),ee(r).forEach(O),this.h()},h(){R(r,"class","ghost svelte-1exvcy7")},m(n,u){ie(n,r,u)},d(n){n&&O(r)}}}function Nl(a){let r,n,u=a[8]&&tg();return{c(){r=X("div"),u&&u.c(),n=ye(),this.h()},l(s){r=z(s,"DIV",{class:!0});var c=ee(r);u&&u.l(c),n=we(c),c.forEach(O),this.h()},h(){R(r,"class","expected-note svelte-1exvcy7"),Ce(r,"height",`${a[2]}px`),Ce(r,"width",`${a[23]}px`),Ce(r,"left",`${a[21]}px`)},m(s,c){ie(s,r,c),u&&u.m(r,null),G(r,n)},p(s,c){c&4&&Ce(r,"height",`${s[2]}px`),c&40&&Ce(r,"width",`${s[23]}px`),c&40&&Ce(r,"left",`${s[21]}px`)},d(s){s&&O(r),u&&u.d()}}}function Hl(a){let r,n;return r=new N6({props:{note:a[18],instrumentId:a[1],height:a[2],width:a[23],x:a[21],color:a[8]||a[25]%2===0?"#f4c05c":"#fbe6be",visible:a[20]}}),{c(){et(r.$$.fragment)},l(u){ct(r.$$.fragment,u)},m(u,s){tt(r,u,s),n=!0},p(u,s){const c={};s&1&&(c.note=u[18]),s&2&&(c.instrumentId=u[1]),s&4&&(c.height=u[2]),s&33&&(c.width=u[23]),s&33&&(c.x=u[21]),s&65&&(c.visible=u[20]),r.$set(c)},i(u){n||(ce(r.$$.fragment,u),n=!0)},o(u){be(r.$$.fragment,u),n=!1},d(u){nt(r,u)}}}function ng(a){let r,n,u,s,c,h,v,m=a[3],p=[];for(let d=0;d<m.length;d+=1)p[d]=Nl(Bl(a,m,d));let b=a[0],o=[];for(let d=0;d<b.length;d+=1)o[d]=Hl(Dl(a,b,d));const l=d=>be(o[d],1,1,()=>{o[d]=null});return{c(){r=X("div"),n=X("div");for(let d=0;d<p.length;d+=1)p[d].c();u=ye(),s=X("div");for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l(d){r=z(d,"DIV",{class:!0});var g=ee(r);n=z(g,"DIV",{class:!0});var w=ee(n);for(let T=0;T<p.length;T+=1)p[T].l(w);w.forEach(O),u=we(g),s=z(g,"DIV",{class:!0});var x=ee(s);for(let T=0;T<o.length;T+=1)o[T].l(x);x.forEach(O),g.forEach(O),this.h()},h(){R(n,"class","expected-notes svelte-1exvcy7"),R(s,"class","notes svelte-1exvcy7"),R(r,"class","instrument svelte-1exvcy7"),on(r,"muted",a[4][a[1]]==="off"),Ce(r,"height",`${a[2]}px`)},m(d,g){ie(d,r,g),G(r,n);for(let w=0;w<p.length;w+=1)p[w].m(n,null);G(r,u),G(r,s);for(let w=0;w<o.length;w+=1)o[w].m(s,null);c=!0,h||(v=[Ut(r,"click",a[13]),Ut(r,"keydown",a[14])],h=!0)},p(d,[g]){if(g&300){m=d[3];let w;for(w=0;w<m.length;w+=1){const x=Bl(d,m,w);p[w]?p[w].p(x,g):(p[w]=Nl(x),p[w].c(),p[w].m(n,null))}for(;w<p.length;w+=1)p[w].d(1);p.length=m.length}if(g&487){b=d[0];let w;for(w=0;w<b.length;w+=1){const x=Dl(d,b,w);o[w]?(o[w].p(x,g),ce(o[w],1)):(o[w]=Hl(x),o[w].c(),ce(o[w],1),o[w].m(s,null))}for(Vt(),w=b.length;w<o.length;w+=1)l(w);Xt()}(!c||g&18)&&on(r,"muted",d[4][d[1]]==="off"),g&4&&Ce(r,"height",`${d[2]}px`)},i(d){if(!c){for(let g=0;g<b.length;g+=1)ce(o[g]);c=!0}},o(d){o=o.filter(Boolean);for(let g=0;g<o.length;g+=1)be(o[g]);c=!1},d(d){d&&O(r),It(p,d),It(o,d),h=!1,Gr(v)}}}function ig(a,r,n){let u,s,c,h,{data:v}=r,{id:m}=r,{height:p}=r;const{beatsPerMeasure:b,getCurrentMeasure:o,getXScale:l,getInstrumentToggles:d,isPlayable:g}=Hr("song"),w=l();je(a,w,H=>n(5,c=H));const x=o();je(a,x,H=>n(6,h=H));const T=d();je(a,T,H=>n(4,s=H));const E=H=>{an(T,s[H]=s[H]==="on"?"off":"on",s)},D=()=>E(m),C=()=>E(m);return a.$$set=H=>{"data"in H&&n(0,v=H.data),"id"in H&&n(1,m=H.id),"height"in H&&n(2,p=H.height)},a.$$.update=()=>{a.$$.dirty&1&&n(3,u=g?ni(0,b):xf(v).filter(H=>H<b))},[v,m,p,u,s,c,h,b,g,w,x,T,E,D,C]}class Sf extends it{constructor(r){super(),rt(this,r,ig,ng,Ze,{data:0,id:1,height:2})}}function Gl(a){let r,n=a[2][0]+"",u,s,c,h=a[2][1]+"",v;return{c(){r=X("span"),u=Ie(n),s=ye(),c=X("span"),v=Ie(h),this.h()},l(m){r=z(m,"SPAN",{class:!0});var p=ee(r);u=Me(p,n),p.forEach(O),s=we(m),c=z(m,"SPAN",{class:!0});var b=ee(c);v=Me(b,h),b.forEach(O),this.h()},h(){R(r,"class","svelte-157h5as"),R(c,"class","svelte-157h5as")},m(m,p){ie(m,r,p),G(r,u),ie(m,s,p),ie(m,c,p),G(c,v)},p(m,p){p&4&&n!==(n=m[2][0]+"")&&Wt(u,n),p&4&&h!==(h=m[2][1]+"")&&Wt(v,h)},d(m){m&&O(r),m&&O(s),m&&O(c)}}}function rg(a){let r,n,u,s,c,h,v,m,p=a[1]==="inner"&&Gl(a);return{c(){r=X("div"),n=X("span"),u=Ie(a[0]),s=ye(),c=X("button"),p&&p.c(),this.h()},l(b){r=z(b,"DIV",{class:!0});var o=ee(r);n=z(o,"SPAN",{class:!0,id:!0});var l=ee(n);u=Me(l,a[0]),l.forEach(O),s=we(o),c=z(o,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var d=ee(c);p&&p.l(d),d.forEach(O),o.forEach(O),this.h()},h(){R(n,"class","label svelte-157h5as"),R(n,"id",a[4]),R(c,"role","switch"),R(c,"aria-checked",a[3]),R(c,"aria-labelledby",a[4]),R(c,"class","svelte-157h5as"),R(r,"class",h="toggle toggle--"+a[1]+" svelte-157h5as")},m(b,o){ie(b,r,o),G(r,n),G(n,u),G(r,s),G(r,c),p&&p.m(c,null),v||(m=Ut(c,"click",a[5]),v=!0)},p(b,[o]){o&1&&Wt(u,b[0]),b[1]==="inner"?p?p.p(b,o):(p=Gl(b),p.c(),p.m(c,null)):p&&(p.d(1),p=null),o&8&&R(c,"aria-checked",b[3]),o&2&&h!==(h="toggle toggle--"+b[1]+" svelte-157h5as")&&R(r,"class",h)},i:Fe,o:Fe,d(b){b&&O(r),p&&p.d(),v=!1,m()}}}function ag(a,r,n){let{label:u}=r,{style:s="inner"}=r,{options:c=["on","off"]}=r,{value:h=c[0]}=r,v=h===c[0];const m=`toggle-${Math.floor(Math.random()*1e6)}`,p=b=>{const l=b.target.getAttribute("aria-checked");n(3,v=l!=="true"),n(6,h=v?c[0]:c[1])};return a.$$set=b=>{"label"in b&&n(0,u=b.label),"style"in b&&n(1,s=b.style),"options"in b&&n(2,c=b.options),"value"in b&&n(6,h=b.value)},[u,s,c,v,m,p,h]}class og extends it{constructor(r){super(),rt(this,r,ag,rg,Ze,{label:0,style:1,options:2,value:6})}}function ug(a){let r,n,u,s,c,h,v;u=new Sf({props:{data:a[3],id:"result",height:a[1]}});function m(b){a[5](b)}let p={label:"quantize",style:"inner"};return a[2]!==void 0&&(p.value=a[2]),c=new og({props:p}),hf.push(()=>_f(c,"value",m)),{c(){r=X("div"),n=X("div"),et(u.$$.fragment),s=ye(),et(c.$$.fragment),this.h()},l(b){r=z(b,"DIV",{class:!0});var o=ee(r);n=z(o,"DIV",{class:!0});var l=ee(n);ct(u.$$.fragment,l),l.forEach(O),s=we(o),ct(c.$$.fragment,o),o.forEach(O),this.h()},h(){R(n,"class","container svelte-cdxpfr"),R(r,"class","result svelte-cdxpfr"),on(r,"visible",a[0].length>0)},m(b,o){ie(b,r,o),G(r,n),tt(u,n,null),G(r,s),tt(c,r,null),v=!0},p(b,[o]){const l={};o&8&&(l.data=b[3]),o&2&&(l.height=b[1]),u.$set(l);const d={};!h&&o&4&&(h=!0,d.value=b[2],mf(()=>h=!1)),c.$set(d),(!v||o&1)&&on(r,"visible",b[0].length>0)},i(b){v||(ce(u.$$.fragment,b),ce(c.$$.fragment,b),v=!0)},o(b){be(u.$$.fragment,b),be(c.$$.fragment,b),v=!1},d(b){b&&O(r),nt(u),nt(c)}}}function sg(a,r,n){let u,s,{data:c}=r,{barHeight:h}=r,v="off";function m(p){v=p,n(2,v)}return a.$$set=p=>{"data"in p&&n(0,c=p.data),"barHeight"in p&&n(1,h=p.barHeight)},a.$$.update=()=>{a.$$.dirty&1&&n(4,u=xf(c)),a.$$.dirty&17&&console.log({data:c,quantizedData:u}),a.$$.dirty&21&&n(3,s=v==="off"?c:u)},[c,h,v,s,u,m]}class lg extends it{constructor(r){super(),rt(this,r,sg,ug,Ze,{data:0,barHeight:1})}}function fg(a){let r,n;return{c:Fe,l:Fe,m(u,s){r||(n=Ut(window,"keydown",g6(a[3])),r=!0)},p:Fe,i:Fe,o:Fe,d(u){r=!1,n()}}}const Wl="hihat";function cg(a,r,n){let u,s,c;const{beatsPerMeasure:h,getIsPlaying:v,getData:m,getCurrentBeat:p}=Hr("song"),b=v();je(a,b,g=>n(6,c=g));const o=m();je(a,o,g=>n(4,u=g));const l=p();je(a,l,g=>n(5,s=g));const d=g=>{c&&g.keyCode===32&&an(o,u[Wl]=[...u[Wl],+(s%h)],u)};return a.$$.update=()=>{a.$$.dirty&16&&console.log(u)},[b,o,l,d,u]}class If extends it{constructor(r){super(),rt(this,r,cg,fg,Ze,{})}}const ho={hihat:[45,42,44],kick:[55,36,53],snare:[52,38]},ql=(a,r,n,u=4)=>{const s=r.header.tempos[0].bpm,c=r.header.ppq,h=6e4/s/c,v=r.tracks[0].endOfTrackTicks,m=Ei().domain([0,h*v/1e3]).range([0,n*u]),p=r.tracks[0].notes.map(b=>({beat:m(b.time),instrument:b.midi}));return{hihat:p.filter(b=>ho.hihat.includes(b.instrument)).map(b=>+b.beat),snare:p.filter(b=>ho.snare.includes(b.instrument)).map(b=>+b.beat),kick:p.filter(b=>ho.kick.includes(b.instrument)).map(b=>+b.beat)}},dg={keySignatures:[{key:"C",scale:"major",ticks:0}],meta:[],name:"Beat Machine",ppq:480,tempos:[{bpm:107.99991360006912,ticks:0},{bpm:107.99991360006912,ticks:1920},{bpm:107.99991360006912,ticks:5280}],timeSignatures:[{ticks:0,timeSignature:[4,4],measures:0}]},hg=[{channel:0,controlChanges:{},pitchBends:[],instrument:{family:"piano",number:0,name:"acoustic grand piano"},name:"Beat Machine",notes:[{duration:.11574083333333335,durationTicks:100,midi:36,name:"C2",ticks:0,time:0,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:0,time:0,velocity:.7716535433070866},{duration:.16435198333333328,durationTicks:142,midi:36,name:"C2",ticks:280,time:.3240743333333334,velocity:.7716535433070866},{duration:.1689816166666666,durationTicks:146,midi:42,name:"F#2",ticks:280,time:.3240743333333334,velocity:.7716535433070866},{duration:.15277790000000002,durationTicks:132,midi:38,name:"D2",ticks:549,time:.6354171750000001,velocity:.7716535433070866},{duration:.16898161666666678,durationTicks:146,midi:42,name:"F#2",ticks:549,time:.6354171750000001,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:840,time:.9722230000000001,velocity:.7716535433070866},{duration:.16782420833333322,durationTicks:145,midi:42,name:"F#2",ticks:1113,time:1.2881954750000002,velocity:.7716535433070866},{duration:.11574083333333318,durationTicks:100,midi:36,name:"C2",ticks:1124,time:1.3009269666666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:1400,time:1.6203716666666668,velocity:.7716535433070866},{duration:.11574083333333318,durationTicks:100,midi:36,name:"C2",ticks:1420,time:1.6435198333333336,velocity:.7716535433070866},{duration:.09722229999999987,durationTicks:84,midi:36,name:"C2",ticks:1600,time:1.8518533333333336,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:1680,time:1.9444460000000001,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:1940,time:2.245372166666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:2220,time:2.5694465,velocity:.7716535433070866},{duration:.11574083333333363,durationTicks:100,midi:36,name:"C2",ticks:2240,time:2.592594666666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:2500,time:2.8935208333333335,velocity:.7716535433070866},{duration:.16435198333333334,durationTicks:142,midi:36,name:"C2",ticks:2520,time:2.916669,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:2769,time:3.2048636750000004,velocity:.7716535433070866},{duration:.11921305833333351,durationTicks:103,midi:38,name:"D2",ticks:2780,time:3.217595166666667,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:3060,time:3.5416695000000002,velocity:.7716535433070866},{duration:.16782420833333367,durationTicks:145,midi:42,name:"F#2",ticks:3333,time:3.8576419750000004,velocity:.7716535433070866},{duration:.11574083333333407,durationTicks:100,midi:36,name:"C2",ticks:3364,time:3.8935216333333336,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:3620,time:4.189818166666667,velocity:.7716535433070866},{duration:.11574083333333363,durationTicks:100,midi:36,name:"C2",ticks:3660,time:4.2361145,velocity:.7716535433070866},{duration:.09722229999999943,durationTicks:84,midi:36,name:"C2",ticks:3840,time:4.444448,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:3900,time:4.513892500000001,velocity:.7716535433070866},{duration:.16898161666666667,durationTicks:146,midi:42,name:"F#2",ticks:4160,time:4.8148186666666675,velocity:.7716535433070866}],endOfTrackTicks:4100}],_g={header:dg,tracks:hg},mg={keySignatures:[{key:"C",scale:"major",ticks:0}],meta:[],name:"kick",ppq:480,tempos:[{bpm:120,ticks:0}],timeSignatures:[{ticks:0,timeSignature:[4,4],measures:0}]},pg=[{channel:0,controlChanges:{},pitchBends:[],instrument:{family:"piano",number:0,name:"acoustic grand piano"},name:"kick",notes:[{duration:.09270833333333334,durationTicks:89,midi:45,name:"A2",ticks:0,time:0,velocity:.6929133858267716},{duration:.11145833333333334,durationTicks:107,midi:55,name:"G3",ticks:0,time:0,velocity:.6929133858267716},{duration:.11875000000000002,durationTicks:114,midi:45,name:"A2",ticks:420,time:.4375,velocity:.6929133858267716},{duration:.10729166666666667,durationTicks:103,midi:52,name:"E3",ticks:647,time:.6739583333333333,velocity:.6929133858267716},{duration:.09270833333333328,durationTicks:89,midi:45,name:"A2",ticks:720,time:.75,velocity:.6929133858267716},{duration:.10729166666666656,durationTicks:103,midi:45,name:"A2",ticks:1e3,time:1.0416666666666667,velocity:.6929133858267716},{duration:.08437499999999987,durationTicks:81,midi:45,name:"A2",ticks:1334,time:1.3895833333333334,velocity:.6929133858267716},{duration:.13854166666666656,durationTicks:133,midi:45,name:"A2",ticks:1680,time:1.75,velocity:.6929133858267716},{duration:.1708333333333334,durationTicks:164,midi:52,name:"E3",ticks:1920,time:2,velocity:.6929133858267716},{duration:.08437500000000009,durationTicks:81,midi:45,name:"A2",ticks:1980,time:2.0625,velocity:.6929133858267716},{duration:.13854166666666679,durationTicks:133,midi:45,name:"A2",ticks:2320,time:2.4166666666666665,velocity:.6929133858267716},{duration:.09270833333333339,durationTicks:89,midi:45,name:"A2",ticks:2551,time:2.6572916666666666,velocity:.6929133858267716},{duration:.1791666666666667,durationTicks:172,midi:55,name:"G3",ticks:2571,time:2.678125,velocity:.6929133858267716},{duration:.11875000000000036,durationTicks:114,midi:45,name:"A2",ticks:2920,time:3.0416666666666665,velocity:.6929133858267716},{duration:.1552083333333334,durationTicks:149,midi:52,name:"E3",ticks:3175,time:3.3072916666666665,velocity:.6929133858267716},{duration:.09270833333333339,durationTicks:89,midi:45,name:"A2",ticks:3220,time:3.3541666666666665,velocity:.6929133858267716},{duration:.10729166666666634,durationTicks:103,midi:45,name:"A2",ticks:3500,time:3.6458333333333335,velocity:.6929133858267716},{duration:.08437500000000009,durationTicks:81,midi:45,name:"A2",ticks:3834,time:3.99375,velocity:.6929133858267716},{duration:.13854166666666679,durationTicks:133,midi:45,name:"A2",ticks:4180,time:4.354166666666667,velocity:.6929133858267716},{duration:.13229166666666625,durationTicks:127,midi:52,name:"E3",ticks:4440,time:4.625,velocity:.6929133858267716},{duration:.08437499999999964,durationTicks:81,midi:45,name:"A2",ticks:4480,time:4.666666666666667,velocity:.6929133858267716},{duration:.13854166666666679,durationTicks:133,midi:45,name:"A2",ticks:4820,time:5.020833333333333,velocity:.6929133858267716},{duration:.1552083333333334,durationTicks:149,midi:55,name:"G3",ticks:5055,time:5.265625,velocity:.6929133858267716},{duration:.09270833333333339,durationTicks:89,midi:45,name:"A2",ticks:5100,time:5.3125,velocity:.6929133858267716},{duration:.11874999999999947,durationTicks:114,midi:45,name:"A2",ticks:5470,time:5.697916666666667,velocity:.6929133858267716},{duration:.09583333333333321,durationTicks:92,midi:52,name:"E3",ticks:5714,time:5.952083333333333,velocity:.6929133858267716},{duration:.09270833333333339,durationTicks:89,midi:45,name:"A2",ticks:5770,time:6.010416666666667,velocity:.6929133858267716},{duration:.10729166666666679,durationTicks:103,midi:45,name:"A2",ticks:6050,time:6.302083333333333,velocity:.6929133858267716},{duration:.08437499999999964,durationTicks:81,midi:45,name:"A2",ticks:6384,time:6.65,velocity:.6929133858267716},{duration:.13854166666666679,durationTicks:133,midi:45,name:"A2",ticks:6730,time:7.010416666666667,velocity:.6929133858267716},{duration:.1552083333333334,durationTicks:149,midi:52,name:"E3",ticks:6980,time:7.270833333333333,velocity:.6929133858267716},{duration:.08437499999999964,durationTicks:81,midi:45,name:"A2",ticks:7030,time:7.322916666666667,velocity:.6929133858267716},{duration:.13854166666666679,durationTicks:133,midi:45,name:"A2",ticks:7370,time:7.677083333333333,velocity:.6929133858267716},{duration:.0927083333333325,durationTicks:89,midi:45,name:"A2",ticks:7601,time:7.917708333333334,velocity:.6929133858267716},{duration:.13437500000000036,durationTicks:129,midi:55,name:"G3",ticks:7626,time:7.94375,velocity:.6929133858267716},{duration:.11874999999999858,durationTicks:114,midi:45,name:"A2",ticks:7970,time:8.302083333333334,velocity:.6929133858267716},{duration:.14583333333333215,durationTicks:140,midi:52,name:"E3",ticks:8240,time:8.583333333333334,velocity:.6929133858267716},{duration:.0927083333333325,durationTicks:89,midi:45,name:"A2",ticks:8270,time:8.614583333333334,velocity:.6929133858267716},{duration:.10729166666666679,durationTicks:103,midi:45,name:"A2",ticks:8550,time:8.90625,velocity:.6929133858267716},{duration:.08437499999999964,durationTicks:81,midi:45,name:"A2",ticks:8884,time:9.254166666666666,velocity:.6929133858267716},{duration:.13854166666666679,durationTicks:133,midi:45,name:"A2",ticks:9230,time:9.614583333333334,velocity:.6929133858267716},{duration:.1437500000000007,durationTicks:138,midi:52,name:"E3",ticks:9507,time:9.903125,velocity:.6929133858267716},{duration:.08437499999999964,durationTicks:81,midi:45,name:"A2",ticks:9530,time:9.927083333333334,velocity:.6929133858267716},{duration:.14374999999999893,durationTicks:138,midi:52,name:"E3",ticks:9740,time:10.145833333333334,velocity:.6929133858267716},{duration:.13854166666666679,durationTicks:133,midi:45,name:"A2",ticks:9870,time:10.28125,velocity:.6929133858267716}],endOfTrackTicks:10200}],gg={header:mg,tracks:pg},vg={keySignatures:[{key:"C",scale:"major",ticks:0}],meta:[],name:"Beat Machine",ppq:480,tempos:[{bpm:183.99997546666995,ticks:0}],timeSignatures:[{ticks:0,timeSignature:[4,4],measures:0}]},yg=[{channel:0,controlChanges:{},pitchBends:[],instrument:{family:"piano",number:0,name:"acoustic grand piano"},name:"Beat Machine",notes:[{duration:.09986414375,durationTicks:147,midi:44,name:"G#2",ticks:0,time:0,velocity:.7716535433070866},{duration:.13790762708333332,durationTicks:203,midi:53,name:"F3",ticks:0,time:0,velocity:.7716535433070866},{duration:.09986414375,durationTicks:147,midi:44,name:"G#2",ticks:240,time:.16304349999999998,velocity:.7716535433070866},{duration:.07744566250000001,durationTicks:114,midi:44,name:"G#2",ticks:480,time:.32608699999999996,velocity:.7716535433070866},{duration:.11413045,durationTicks:168,midi:52,name:"E3",ticks:480,time:.32608699999999996,velocity:.7716535433070866},{duration:.11480979791666668,durationTicks:169,midi:44,name:"G#2",ticks:720,time:.4891304999999999,velocity:.7716535433070866},{duration:.13858697500000006,durationTicks:204,midi:53,name:"F3",ticks:720,time:.4891304999999999,velocity:.7716535433070866},{duration:.06793479166666672,durationTicks:100,midi:44,name:"G#2",ticks:960,time:.6521739999999999,velocity:.7716535433070866},{duration:.08763588124999988,durationTicks:129,midi:44,name:"G#2",ticks:1200,time:.8152174999999999,velocity:.7716535433070866},{duration:.15353262916666655,durationTicks:226,midi:53,name:"F3",ticks:1200,time:.8152174999999999,velocity:.7716535433070866},{duration:.09986414375000008,durationTicks:147,midi:44,name:"G#2",ticks:1440,time:.9782609999999998,velocity:.7716535433070866},{duration:.11073371041666658,durationTicks:163,midi:52,name:"E3",ticks:1440,time:.9782609999999998,velocity:.7716535433070866},{duration:.10054349166666654,durationTicks:148,midi:44,name:"G#2",ticks:1680,time:1.1413045,velocity:.7716535433070866},{duration:.11277175416666663,durationTicks:166,midi:44,name:"G#2",ticks:1920,time:1.3043479999999998,velocity:.7716535433070866},{duration:.1399456708333331,durationTicks:206,midi:53,name:"F3",ticks:1920,time:1.3043479999999998,velocity:.7716535433070866},{duration:.10054349166666676,durationTicks:148,midi:44,name:"G#2",ticks:2160,time:1.4673914999999997,velocity:.7716535433070866},{duration:.07472827083333344,durationTicks:110,midi:44,name:"G#2",ticks:2400,time:1.6304349999999999,velocity:.7716535433070866},{duration:.11073371041666658,durationTicks:163,midi:52,name:"E3",ticks:2400,time:1.6304349999999999,velocity:.7716535433070866},{duration:.1216032770833333,durationTicks:179,midi:44,name:"G#2",ticks:2640,time:1.7934784999999998,velocity:.7716535433070866},{duration:.13586958333333343,durationTicks:200,midi:53,name:"F3",ticks:2640,time:1.7934784999999998,velocity:.7716535433070866},{duration:.11480979791666668,durationTicks:169,midi:44,name:"G#2",ticks:2880,time:1.9565219999999997,velocity:.7716535433070866},{duration:.11345110208333331,durationTicks:167,midi:44,name:"G#2",ticks:3120,time:2.1195654999999998,velocity:.7716535433070866},{duration:.11480979791666668,durationTicks:169,midi:53,name:"F3",ticks:3120,time:2.1195654999999998,velocity:.7716535433070866},{duration:.08763588124999977,durationTicks:129,midi:44,name:"G#2",ticks:3360,time:2.282609,velocity:.7716535433070866},{duration:.1501358895833329,durationTicks:221,midi:52,name:"E3",ticks:3360,time:2.282609,velocity:.7716535433070866},{duration:.10054349166666698,durationTicks:148,midi:44,name:"G#2",ticks:3600,time:2.4456524999999996,velocity:.7716535433070866},{duration:.07676631458333372,durationTicks:113,midi:44,name:"G#2",ticks:3840,time:2.6086959999999997,velocity:.7716535433070866},{duration:.15013588958333335,durationTicks:221,midi:53,name:"F3",ticks:3840,time:2.6086959999999997,velocity:.7716535433070866},{duration:.0638587041666665,durationTicks:94,midi:44,name:"G#2",ticks:4080,time:2.7717395,velocity:.7716535433070866},{duration:.08831522916666712,durationTicks:130,midi:44,name:"G#2",ticks:4320,time:2.9347829999999995,velocity:.7716535433070866},{duration:.11209240624999994,durationTicks:165,midi:52,name:"E3",ticks:4320,time:2.9347829999999995,velocity:.7716535433070866},{duration:.09986414375000008,durationTicks:147,midi:44,name:"G#2",ticks:4560,time:3.0978264999999996,velocity:.7716535433070866},{duration:.11345110208333331,durationTicks:167,midi:53,name:"F3",ticks:4560,time:3.0978264999999996,velocity:.7716535433070866},{duration:.07336957499999963,durationTicks:108,midi:44,name:"G#2",ticks:4800,time:3.2608699999999997,velocity:.7716535433070866},{duration:.11209240625000039,durationTicks:165,midi:44,name:"G#2",ticks:5040,time:3.4239134999999994,velocity:.7716535433070866},{duration:.11480979791666668,durationTicks:169,midi:53,name:"F3",ticks:5040,time:3.4239134999999994,velocity:.7716535433070866},{duration:.09239131666666678,durationTicks:136,midi:44,name:"G#2",ticks:5280,time:3.5869569999999995,velocity:.7716535433070866},{duration:.15149458541666672,durationTicks:223,midi:52,name:"E3",ticks:5280,time:3.5869569999999995,velocity:.7716535433070866},{duration:.07336957499999963,durationTicks:108,midi:44,name:"G#2",ticks:5520,time:3.7500004999999996,velocity:.7716535433070866},{duration:.07404892291666654,durationTicks:109,midi:44,name:"G#2",ticks:5760,time:3.9130439999999993,velocity:.7716535433070866},{duration:.14130436666666668,durationTicks:208,midi:53,name:"F3",ticks:5760,time:3.9130439999999993,velocity:.7716535433070866},{duration:.07676631458333283,durationTicks:113,midi:44,name:"G#2",ticks:6e3,time:4.0760875,velocity:.7716535433070866},{duration:.08763588124999977,durationTicks:129,midi:44,name:"G#2",ticks:6240,time:4.2391309999999995,velocity:.7716535433070866},{duration:.14877719374999998,durationTicks:219,midi:52,name:"E3",ticks:6240,time:4.2391309999999995,velocity:.7716535433070866},{duration:.07404892291666698,durationTicks:109,midi:44,name:"G#2",ticks:6480,time:4.402174499999999,velocity:.7716535433070866},{duration:.11277175416666729,durationTicks:166,midi:53,name:"F3",ticks:6480,time:4.402174499999999,velocity:.7716535433070866},{duration:.09171196874999943,durationTicks:135,midi:44,name:"G#2",ticks:6720,time:4.565218,velocity:.7716535433070866},{duration:.07336957500000008,durationTicks:108,midi:44,name:"G#2",ticks:6960,time:4.7282614999999995,velocity:.7716535433070866},{duration:.12092392916666661,durationTicks:178,midi:53,name:"F3",ticks:6960,time:4.7282614999999995,velocity:.7716535433070866},{duration:.08899457708333358,durationTicks:131,midi:44,name:"G#2",ticks:7200,time:4.891304999999999,velocity:.7716535433070866},{duration:.1419837145833336,durationTicks:209,midi:52,name:"E3",ticks:7200,time:4.891304999999999,velocity:.7716535433070866},{duration:.09171196874999943,durationTicks:135,midi:44,name:"G#2",ticks:7440,time:5.0543485,velocity:.7716535433070866}],endOfTrackTicks:7680}],wg={header:vg,tracks:yg},bg={keySignatures:[{key:"C",scale:"major",ticks:0}],meta:[],name:"Beat Machine",ppq:480,tempos:[{bpm:96,ticks:0}],timeSignatures:[{ticks:0,timeSignature:[4,4],measures:0}]},kg=[{channel:0,controlChanges:{},pitchBends:[],instrument:{family:"piano",number:0,name:"acoustic grand piano"},name:"Beat Machine",notes:[{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:0,time:0,velocity:.7716535433070866},{duration:.08854166666666669,durationTicks:68,midi:42,name:"F#2",ticks:262,time:.3411458333333333,velocity:.7716535433070866},{duration:.06901041666666663,durationTicks:53,midi:42,name:"F#2",ticks:402,time:.5234375,velocity:.7716535433070866},{duration:.10026041666666663,durationTicks:77,midi:42,name:"F#2",ticks:480,time:.625,velocity:.7716535433070866},{duration:.06901041666666663,durationTicks:53,midi:42,name:"F#2",ticks:722,time:.9401041666666666,velocity:.7716535433070866},{duration:.10026041666666652,durationTicks:77,midi:42,name:"F#2",ticks:866,time:1.1276041666666667,velocity:.7716535433070866},{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:960,time:1.25,velocity:.7716535433070866},{duration:.08854166666666652,durationTicks:68,midi:42,name:"F#2",ticks:1222,time:1.5911458333333335,velocity:.7716535433070866},{duration:.06901041666666652,durationTicks:53,midi:42,name:"F#2",ticks:1362,time:1.7734375,velocity:.7716535433070866},{duration:.10026041666666674,durationTicks:77,midi:42,name:"F#2",ticks:1440,time:1.875,velocity:.7716535433070866},{duration:.06901041666666652,durationTicks:53,midi:42,name:"F#2",ticks:1682,time:2.190104166666667,velocity:.7716535433070866},{duration:.10026041666666652,durationTicks:77,midi:42,name:"F#2",ticks:1826,time:2.3776041666666665,velocity:.7716535433070866},{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:1920,time:2.5,velocity:.7716535433070866},{duration:.08854166666666652,durationTicks:68,midi:42,name:"F#2",ticks:2182,time:2.8411458333333335,velocity:.7716535433070866},{duration:.06901041666666696,durationTicks:53,midi:42,name:"F#2",ticks:2322,time:3.0234375,velocity:.7716535433070866},{duration:.10026041666666652,durationTicks:77,midi:42,name:"F#2",ticks:2400,time:3.125,velocity:.7716535433070866},{duration:.06901041666666652,durationTicks:53,midi:42,name:"F#2",ticks:2642,time:3.4401041666666665,velocity:.7716535433070866},{duration:.10026041666666696,durationTicks:77,midi:42,name:"F#2",ticks:2786,time:3.6276041666666665,velocity:.7716535433070866},{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:2880,time:3.75,velocity:.7716535433070866},{duration:.08854166666666696,durationTicks:68,midi:42,name:"F#2",ticks:3142,time:4.091145833333333,velocity:.7716535433070866},{duration:.06901041666666696,durationTicks:53,midi:42,name:"F#2",ticks:3282,time:4.2734375,velocity:.7716535433070866},{duration:.10026041666666607,durationTicks:77,midi:42,name:"F#2",ticks:3360,time:4.375,velocity:.7716535433070866},{duration:.06901041666666696,durationTicks:53,midi:42,name:"F#2",ticks:3602,time:4.690104166666666,velocity:.7716535433070866},{duration:.10026041666666785,durationTicks:77,midi:42,name:"F#2",ticks:3746,time:4.877604166666666,velocity:.7716535433070866}],endOfTrackTicks:3840}],Tg={header:bg,tracks:kg},Ag={keySignatures:[{key:"C",scale:"major",ticks:0}],meta:[],name:"Beat Machine",ppq:480,tempos:[{bpm:96,ticks:0}],timeSignatures:[{ticks:0,timeSignature:[4,4],measures:0}]},xg=[{channel:0,controlChanges:{},pitchBends:[],instrument:{family:"piano",number:0,name:"acoustic grand piano"},name:"Beat Machine",notes:[{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:0,time:0,velocity:.7716535433070866},{duration:.08854166666666669,durationTicks:68,midi:42,name:"F#2",ticks:240,time:.3125,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:360,time:.46875,velocity:.7716535433070866},{duration:.10026041666666663,durationTicks:77,midi:42,name:"F#2",ticks:480,time:.625,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:720,time:.9375,velocity:.7716535433070866},{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:960,time:1.25,velocity:.7716535433070866},{duration:.08854166666666652,durationTicks:68,midi:42,name:"F#2",ticks:1200,time:1.5625,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:1320,time:1.71875,velocity:.7716535433070866},{duration:.10026041666666674,durationTicks:77,midi:42,name:"F#2",ticks:1440,time:1.875,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:1680,time:2.1875,velocity:.7716535433070866},{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:1920,time:2.5,velocity:.7716535433070866},{duration:.08854166666666652,durationTicks:68,midi:42,name:"F#2",ticks:2160,time:2.8125,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:2280,time:2.96875,velocity:.7716535433070866},{duration:.10026041666666652,durationTicks:77,midi:42,name:"F#2",ticks:2400,time:3.125,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:2640,time:3.4375,velocity:.7716535433070866},{duration:.10546875,durationTicks:81,midi:42,name:"F#2",ticks:2880,time:3.75,velocity:.7716535433070866},{duration:.08854166666666696,durationTicks:68,midi:42,name:"F#2",ticks:3120,time:4.0625,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:3240,time:4.21875,velocity:.7716535433070866},{duration:.10026041666666607,durationTicks:77,midi:42,name:"F#2",ticks:3360,time:4.375,velocity:.7716535433070866},{duration:.0703125,durationTicks:54,midi:42,name:"F#2",ticks:3600,time:4.6875,velocity:.7716535433070866}],endOfTrackTicks:3840}],Sg={header:Ag,tracks:xg};var Nr={},Ig={get exports(){return Nr},set exports(a){Nr=a}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,r){(function(){var n,u="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",v="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",p=500,b="__lodash_placeholder__",o=1,l=2,d=4,g=1,w=2,x=1,T=2,E=4,D=8,C=16,H=32,J=64,L=128,K=256,W=512,se=30,Y="...",re=800,U=16,V=1,ne=2,me=3,Z=1/0,$=9007199254740991,Be=17976931348623157e292,dt=0/0,Ge=4294967295,Mt=Ge-1,un=Ge>>>1,sn=[["ary",L],["bind",x],["bindKey",T],["curry",D],["curryRight",C],["flip",W],["partial",H],["partialRight",J],["rearg",K]],Ve="[object Arguments]",ln="[object Array]",ri="[object AsyncFunction]",zt="[object Boolean]",Kt="[object Date]",Ci="[object DOMException]",wn="[object Error]",Pi="[object Function]",Eo="[object GeneratorFunction]",Et="[object Map]",ai="[object Number]",Of="[object Null]",Yt="[object Object]",Ro="[object Promise]",Cf="[object Proxy]",oi="[object RegExp]",Rt="[object Set]",ui="[object String]",Li="[object Symbol]",Pf="[object Undefined]",si="[object WeakMap]",Lf="[object WeakSet]",li="[object ArrayBuffer]",Ln="[object DataView]",qr="[object Float32Array]",Ur="[object Float64Array]",Vr="[object Int8Array]",Xr="[object Int16Array]",zr="[object Int32Array]",Kr="[object Uint8Array]",Yr="[object Uint8ClampedArray]",Zr="[object Uint16Array]",Qr="[object Uint32Array]",Df=/\b__p \+= '';/g,Bf=/\b(__p \+=) '' \+/g,Nf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fo=/&(?:amp|lt|gt|quot|#39);/g,Oo=/[&<>"']/g,Hf=RegExp(Fo.source),Gf=RegExp(Oo.source),Wf=/<%-([\s\S]+?)%>/g,qf=/<%([\s\S]+?)%>/g,Co=/<%=([\s\S]+?)%>/g,Uf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vf=/^\w*$/,Xf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jr=/[\\^$.*+?()[\]{}|]/g,zf=RegExp(Jr.source),$r=/^\s+/,Kf=/\s/,Yf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zf=/\{\n\/\* \[wrapped with (.+)\] \*/,Qf=/,? & /,Jf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$f=/[()=,{}\[\]\/\s]/,jf=/\\(\\)?/g,ec=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Po=/\w*$/,tc=/^[-+]0x[0-9a-f]+$/i,nc=/^0b[01]+$/i,ic=/^\[object .+?Constructor\]$/,rc=/^0o[0-7]+$/i,ac=/^(?:0|[1-9]\d*)$/,oc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Di=/($^)/,uc=/['\n\r\u2028\u2029\\]/g,Bi="\\ud800-\\udfff",sc="\\u0300-\\u036f",lc="\\ufe20-\\ufe2f",fc="\\u20d0-\\u20ff",Lo=sc+lc+fc,Do="\\u2700-\\u27bf",Bo="a-z\\xdf-\\xf6\\xf8-\\xff",cc="\\xac\\xb1\\xd7\\xf7",dc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hc="\\u2000-\\u206f",_c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",No="A-Z\\xc0-\\xd6\\xd8-\\xde",Ho="\\ufe0e\\ufe0f",Go=cc+dc+hc+_c,jr="['’]",mc="["+Bi+"]",Wo="["+Go+"]",Ni="["+Lo+"]",qo="\\d+",pc="["+Do+"]",Uo="["+Bo+"]",Vo="[^"+Bi+Go+qo+Do+Bo+No+"]",ea="\\ud83c[\\udffb-\\udfff]",gc="(?:"+Ni+"|"+ea+")",Xo="[^"+Bi+"]",ta="(?:\\ud83c[\\udde6-\\uddff]){2}",na="[\\ud800-\\udbff][\\udc00-\\udfff]",Dn="["+No+"]",zo="\\u200d",Ko="(?:"+Uo+"|"+Vo+")",vc="(?:"+Dn+"|"+Vo+")",Yo="(?:"+jr+"(?:d|ll|m|re|s|t|ve))?",Zo="(?:"+jr+"(?:D|LL|M|RE|S|T|VE))?",Qo=gc+"?",Jo="["+Ho+"]?",yc="(?:"+zo+"(?:"+[Xo,ta,na].join("|")+")"+Jo+Qo+")*",wc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$o=Jo+Qo+yc,kc="(?:"+[pc,ta,na].join("|")+")"+$o,Tc="(?:"+[Xo+Ni+"?",Ni,ta,na,mc].join("|")+")",Ac=RegExp(jr,"g"),xc=RegExp(Ni,"g"),ia=RegExp(ea+"(?="+ea+")|"+Tc+$o,"g"),Sc=RegExp([Dn+"?"+Uo+"+"+Yo+"(?="+[Wo,Dn,"$"].join("|")+")",vc+"+"+Zo+"(?="+[Wo,Dn+Ko,"$"].join("|")+")",Dn+"?"+Ko+"+"+Yo,Dn+"+"+Zo,bc,wc,qo,kc].join("|"),"g"),Ic=RegExp("["+zo+Bi+Lo+Ho+"]"),Mc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ec=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rc=-1,Ee={};Ee[qr]=Ee[Ur]=Ee[Vr]=Ee[Xr]=Ee[zr]=Ee[Kr]=Ee[Yr]=Ee[Zr]=Ee[Qr]=!0,Ee[Ve]=Ee[ln]=Ee[li]=Ee[zt]=Ee[Ln]=Ee[Kt]=Ee[wn]=Ee[Pi]=Ee[Et]=Ee[ai]=Ee[Yt]=Ee[oi]=Ee[Rt]=Ee[ui]=Ee[si]=!1;var Se={};Se[Ve]=Se[ln]=Se[li]=Se[Ln]=Se[zt]=Se[Kt]=Se[qr]=Se[Ur]=Se[Vr]=Se[Xr]=Se[zr]=Se[Et]=Se[ai]=Se[Yt]=Se[oi]=Se[Rt]=Se[ui]=Se[Li]=Se[Kr]=Se[Yr]=Se[Zr]=Se[Qr]=!0,Se[wn]=Se[Pi]=Se[si]=!1;var Fc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Oc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Pc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lc=parseFloat,Dc=parseInt,jo=typeof Gt=="object"&&Gt&&Gt.Object===Object&&Gt,Bc=typeof self=="object"&&self&&self.Object===Object&&self,qe=jo||Bc||Function("return this")(),ra=r&&!r.nodeType&&r,bn=ra&&!0&&a&&!a.nodeType&&a,eu=bn&&bn.exports===ra,aa=eu&&jo.process,yt=function(){try{var I=bn&&bn.require&&bn.require("util").types;return I||aa&&aa.binding&&aa.binding("util")}catch{}}(),tu=yt&&yt.isArrayBuffer,nu=yt&&yt.isDate,iu=yt&&yt.isMap,ru=yt&&yt.isRegExp,au=yt&&yt.isSet,ou=yt&&yt.isTypedArray;function ht(I,P,F){switch(F.length){case 0:return I.call(P);case 1:return I.call(P,F[0]);case 2:return I.call(P,F[0],F[1]);case 3:return I.call(P,F[0],F[1],F[2])}return I.apply(P,F)}function Nc(I,P,F,j){for(var le=-1,ke=I==null?0:I.length;++le<ke;){var Ne=I[le];P(j,Ne,F(Ne),I)}return j}function wt(I,P){for(var F=-1,j=I==null?0:I.length;++F<j&&P(I[F],F,I)!==!1;);return I}function Hc(I,P){for(var F=I==null?0:I.length;F--&&P(I[F],F,I)!==!1;);return I}function uu(I,P){for(var F=-1,j=I==null?0:I.length;++F<j;)if(!P(I[F],F,I))return!1;return!0}function fn(I,P){for(var F=-1,j=I==null?0:I.length,le=0,ke=[];++F<j;){var Ne=I[F];P(Ne,F,I)&&(ke[le++]=Ne)}return ke}function Hi(I,P){var F=I==null?0:I.length;return!!F&&Bn(I,P,0)>-1}function oa(I,P,F){for(var j=-1,le=I==null?0:I.length;++j<le;)if(F(P,I[j]))return!0;return!1}function Re(I,P){for(var F=-1,j=I==null?0:I.length,le=Array(j);++F<j;)le[F]=P(I[F],F,I);return le}function cn(I,P){for(var F=-1,j=P.length,le=I.length;++F<j;)I[le+F]=P[F];return I}function ua(I,P,F,j){var le=-1,ke=I==null?0:I.length;for(j&&ke&&(F=I[++le]);++le<ke;)F=P(F,I[le],le,I);return F}function Gc(I,P,F,j){var le=I==null?0:I.length;for(j&&le&&(F=I[--le]);le--;)F=P(F,I[le],le,I);return F}function sa(I,P){for(var F=-1,j=I==null?0:I.length;++F<j;)if(P(I[F],F,I))return!0;return!1}var Wc=la("length");function qc(I){return I.split("")}function Uc(I){return I.match(Jf)||[]}function su(I,P,F){var j;return F(I,function(le,ke,Ne){if(P(le,ke,Ne))return j=ke,!1}),j}function Gi(I,P,F,j){for(var le=I.length,ke=F+(j?1:-1);j?ke--:++ke<le;)if(P(I[ke],ke,I))return ke;return-1}function Bn(I,P,F){return P===P?t0(I,P,F):Gi(I,lu,F)}function Vc(I,P,F,j){for(var le=F-1,ke=I.length;++le<ke;)if(j(I[le],P))return le;return-1}function lu(I){return I!==I}function fu(I,P){var F=I==null?0:I.length;return F?ca(I,P)/F:dt}function la(I){return function(P){return P==null?n:P[I]}}function fa(I){return function(P){return I==null?n:I[P]}}function cu(I,P,F,j,le){return le(I,function(ke,Ne,xe){F=j?(j=!1,ke):P(F,ke,Ne,xe)}),F}function Xc(I,P){var F=I.length;for(I.sort(P);F--;)I[F]=I[F].value;return I}function ca(I,P){for(var F,j=-1,le=I.length;++j<le;){var ke=P(I[j]);ke!==n&&(F=F===n?ke:F+ke)}return F}function da(I,P){for(var F=-1,j=Array(I);++F<I;)j[F]=P(F);return j}function zc(I,P){return Re(P,function(F){return[F,I[F]]})}function du(I){return I&&I.slice(0,pu(I)+1).replace($r,"")}function _t(I){return function(P){return I(P)}}function ha(I,P){return Re(P,function(F){return I[F]})}function fi(I,P){return I.has(P)}function hu(I,P){for(var F=-1,j=I.length;++F<j&&Bn(P,I[F],0)>-1;);return F}function _u(I,P){for(var F=I.length;F--&&Bn(P,I[F],0)>-1;);return F}function Kc(I,P){for(var F=I.length,j=0;F--;)I[F]===P&&++j;return j}var Yc=fa(Fc),Zc=fa(Oc);function Qc(I){return"\\"+Pc[I]}function Jc(I,P){return I==null?n:I[P]}function Nn(I){return Ic.test(I)}function $c(I){return Mc.test(I)}function jc(I){for(var P,F=[];!(P=I.next()).done;)F.push(P.value);return F}function _a(I){var P=-1,F=Array(I.size);return I.forEach(function(j,le){F[++P]=[le,j]}),F}function mu(I,P){return function(F){return I(P(F))}}function dn(I,P){for(var F=-1,j=I.length,le=0,ke=[];++F<j;){var Ne=I[F];(Ne===P||Ne===b)&&(I[F]=b,ke[le++]=F)}return ke}function Wi(I){var P=-1,F=Array(I.size);return I.forEach(function(j){F[++P]=j}),F}function e0(I){var P=-1,F=Array(I.size);return I.forEach(function(j){F[++P]=[j,j]}),F}function t0(I,P,F){for(var j=F-1,le=I.length;++j<le;)if(I[j]===P)return j;return-1}function n0(I,P,F){for(var j=F+1;j--;)if(I[j]===P)return j;return j}function Hn(I){return Nn(I)?r0(I):Wc(I)}function Ft(I){return Nn(I)?a0(I):qc(I)}function pu(I){for(var P=I.length;P--&&Kf.test(I.charAt(P)););return P}var i0=fa(Cc);function r0(I){for(var P=ia.lastIndex=0;ia.test(I);)++P;return P}function a0(I){return I.match(ia)||[]}function o0(I){return I.match(Sc)||[]}var u0=function I(P){P=P==null?qe:Gn.defaults(qe.Object(),P,Gn.pick(qe,Ec));var F=P.Array,j=P.Date,le=P.Error,ke=P.Function,Ne=P.Math,xe=P.Object,ma=P.RegExp,s0=P.String,bt=P.TypeError,qi=F.prototype,l0=ke.prototype,Wn=xe.prototype,Ui=P["__core-js_shared__"],Vi=l0.toString,Ae=Wn.hasOwnProperty,f0=0,gu=function(){var e=/[^.]+$/.exec(Ui&&Ui.keys&&Ui.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xi=Wn.toString,c0=Vi.call(xe),d0=qe._,h0=ma("^"+Vi.call(Ae).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zi=eu?P.Buffer:n,hn=P.Symbol,Ki=P.Uint8Array,vu=zi?zi.allocUnsafe:n,Yi=mu(xe.getPrototypeOf,xe),yu=xe.create,wu=Wn.propertyIsEnumerable,Zi=qi.splice,bu=hn?hn.isConcatSpreadable:n,ci=hn?hn.iterator:n,kn=hn?hn.toStringTag:n,Qi=function(){try{var e=In(xe,"defineProperty");return e({},"",{}),e}catch{}}(),_0=P.clearTimeout!==qe.clearTimeout&&P.clearTimeout,m0=j&&j.now!==qe.Date.now&&j.now,p0=P.setTimeout!==qe.setTimeout&&P.setTimeout,Ji=Ne.ceil,$i=Ne.floor,pa=xe.getOwnPropertySymbols,g0=zi?zi.isBuffer:n,ku=P.isFinite,v0=qi.join,y0=mu(xe.keys,xe),He=Ne.max,Xe=Ne.min,w0=j.now,b0=P.parseInt,Tu=Ne.random,k0=qi.reverse,ga=In(P,"DataView"),di=In(P,"Map"),va=In(P,"Promise"),qn=In(P,"Set"),hi=In(P,"WeakMap"),_i=In(xe,"create"),ji=hi&&new hi,Un={},T0=Mn(ga),A0=Mn(di),x0=Mn(va),S0=Mn(qn),I0=Mn(hi),er=hn?hn.prototype:n,mi=er?er.valueOf:n,Au=er?er.toString:n;function y(e){if(Pe(e)&&!fe(e)&&!(e instanceof ge)){if(e instanceof kt)return e;if(Ae.call(e,"__wrapped__"))return xs(e)}return new kt(e)}var Vn=function(){function e(){}return function(t){if(!Oe(t))return{};if(yu)return yu(t);e.prototype=t;var i=new e;return e.prototype=n,i}}();function tr(){}function kt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}y.templateSettings={escape:Wf,evaluate:qf,interpolate:Co,variable:"",imports:{_:y}},y.prototype=tr.prototype,y.prototype.constructor=y,kt.prototype=Vn(tr.prototype),kt.prototype.constructor=kt;function ge(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ge,this.__views__=[]}function M0(){var e=new ge(this.__wrapped__);return e.__actions__=at(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=at(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=at(this.__views__),e}function E0(){if(this.__filtered__){var e=new ge(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function R0(){var e=this.__wrapped__.value(),t=this.__dir__,i=fe(e),f=t<0,_=i?e.length:0,k=qd(0,_,this.__views__),A=k.start,S=k.end,M=S-A,B=f?S:A-1,N=this.__iteratees__,q=N.length,Q=0,te=Xe(M,this.__takeCount__);if(!i||!f&&_==M&&te==M)return Yu(e,this.__actions__);var oe=[];e:for(;M--&&Q<te;){B+=t;for(var he=-1,ue=e[B];++he<q;){var pe=N[he],ve=pe.iteratee,gt=pe.type,$e=ve(ue);if(gt==ne)ue=$e;else if(!$e){if(gt==V)continue e;break e}}oe[Q++]=ue}return oe}ge.prototype=Vn(tr.prototype),ge.prototype.constructor=ge;function Tn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var f=e[t];this.set(f[0],f[1])}}function F0(){this.__data__=_i?_i(null):{},this.size=0}function O0(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function C0(e){var t=this.__data__;if(_i){var i=t[e];return i===m?n:i}return Ae.call(t,e)?t[e]:n}function P0(e){var t=this.__data__;return _i?t[e]!==n:Ae.call(t,e)}function L0(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=_i&&t===n?m:t,this}Tn.prototype.clear=F0,Tn.prototype.delete=O0,Tn.prototype.get=C0,Tn.prototype.has=P0,Tn.prototype.set=L0;function Zt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var f=e[t];this.set(f[0],f[1])}}function D0(){this.__data__=[],this.size=0}function B0(e){var t=this.__data__,i=nr(t,e);if(i<0)return!1;var f=t.length-1;return i==f?t.pop():Zi.call(t,i,1),--this.size,!0}function N0(e){var t=this.__data__,i=nr(t,e);return i<0?n:t[i][1]}function H0(e){return nr(this.__data__,e)>-1}function G0(e,t){var i=this.__data__,f=nr(i,e);return f<0?(++this.size,i.push([e,t])):i[f][1]=t,this}Zt.prototype.clear=D0,Zt.prototype.delete=B0,Zt.prototype.get=N0,Zt.prototype.has=H0,Zt.prototype.set=G0;function Qt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var f=e[t];this.set(f[0],f[1])}}function W0(){this.size=0,this.__data__={hash:new Tn,map:new(di||Zt),string:new Tn}}function q0(e){var t=_r(this,e).delete(e);return this.size-=t?1:0,t}function U0(e){return _r(this,e).get(e)}function V0(e){return _r(this,e).has(e)}function X0(e,t){var i=_r(this,e),f=i.size;return i.set(e,t),this.size+=i.size==f?0:1,this}Qt.prototype.clear=W0,Qt.prototype.delete=q0,Qt.prototype.get=U0,Qt.prototype.has=V0,Qt.prototype.set=X0;function An(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Qt;++t<i;)this.add(e[t])}function z0(e){return this.__data__.set(e,m),this}function K0(e){return this.__data__.has(e)}An.prototype.add=An.prototype.push=z0,An.prototype.has=K0;function Ot(e){var t=this.__data__=new Zt(e);this.size=t.size}function Y0(){this.__data__=new Zt,this.size=0}function Z0(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function Q0(e){return this.__data__.get(e)}function J0(e){return this.__data__.has(e)}function $0(e,t){var i=this.__data__;if(i instanceof Zt){var f=i.__data__;if(!di||f.length<s-1)return f.push([e,t]),this.size=++i.size,this;i=this.__data__=new Qt(f)}return i.set(e,t),this.size=i.size,this}Ot.prototype.clear=Y0,Ot.prototype.delete=Z0,Ot.prototype.get=Q0,Ot.prototype.has=J0,Ot.prototype.set=$0;function xu(e,t){var i=fe(e),f=!i&&En(e),_=!i&&!f&&vn(e),k=!i&&!f&&!_&&Yn(e),A=i||f||_||k,S=A?da(e.length,s0):[],M=S.length;for(var B in e)(t||Ae.call(e,B))&&!(A&&(B=="length"||_&&(B=="offset"||B=="parent")||k&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||en(B,M)))&&S.push(B);return S}function Su(e){var t=e.length;return t?e[Ea(0,t-1)]:n}function j0(e,t){return mr(at(e),xn(t,0,e.length))}function ed(e){return mr(at(e))}function ya(e,t,i){(i!==n&&!Ct(e[t],i)||i===n&&!(t in e))&&Jt(e,t,i)}function pi(e,t,i){var f=e[t];(!(Ae.call(e,t)&&Ct(f,i))||i===n&&!(t in e))&&Jt(e,t,i)}function nr(e,t){for(var i=e.length;i--;)if(Ct(e[i][0],t))return i;return-1}function td(e,t,i,f){return _n(e,function(_,k,A){t(f,_,i(_),A)}),f}function Iu(e,t){return e&&Bt(t,We(t),e)}function nd(e,t){return e&&Bt(t,ut(t),e)}function Jt(e,t,i){t=="__proto__"&&Qi?Qi(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function wa(e,t){for(var i=-1,f=t.length,_=F(f),k=e==null;++i<f;)_[i]=k?n:eo(e,t[i]);return _}function xn(e,t,i){return e===e&&(i!==n&&(e=e<=i?e:i),t!==n&&(e=e>=t?e:t)),e}function Tt(e,t,i,f,_,k){var A,S=t&o,M=t&l,B=t&d;if(i&&(A=_?i(e,f,_,k):i(e)),A!==n)return A;if(!Oe(e))return e;var N=fe(e);if(N){if(A=Vd(e),!S)return at(e,A)}else{var q=ze(e),Q=q==Pi||q==Eo;if(vn(e))return Ju(e,S);if(q==Yt||q==Ve||Q&&!_){if(A=M||Q?{}:ps(e),!S)return M?Cd(e,nd(A,e)):Od(e,Iu(A,e))}else{if(!Se[q])return _?e:{};A=Xd(e,q,S)}}k||(k=new Ot);var te=k.get(e);if(te)return te;k.set(e,A),Xs(e)?e.forEach(function(ue){A.add(Tt(ue,t,i,ue,e,k))}):Us(e)&&e.forEach(function(ue,pe){A.set(pe,Tt(ue,t,i,pe,e,k))});var oe=B?M?Ga:Ha:M?ut:We,he=N?n:oe(e);return wt(he||e,function(ue,pe){he&&(pe=ue,ue=e[pe]),pi(A,pe,Tt(ue,t,i,pe,e,k))}),A}function id(e){var t=We(e);return function(i){return Mu(i,e,t)}}function Mu(e,t,i){var f=i.length;if(e==null)return!f;for(e=xe(e);f--;){var _=i[f],k=t[_],A=e[_];if(A===n&&!(_ in e)||!k(A))return!1}return!0}function Eu(e,t,i){if(typeof e!="function")throw new bt(h);return Ti(function(){e.apply(n,i)},t)}function gi(e,t,i,f){var _=-1,k=Hi,A=!0,S=e.length,M=[],B=t.length;if(!S)return M;i&&(t=Re(t,_t(i))),f?(k=oa,A=!1):t.length>=s&&(k=fi,A=!1,t=new An(t));e:for(;++_<S;){var N=e[_],q=i==null?N:i(N);if(N=f||N!==0?N:0,A&&q===q){for(var Q=B;Q--;)if(t[Q]===q)continue e;M.push(N)}else k(t,q,f)||M.push(N)}return M}var _n=ns(Dt),Ru=ns(ka,!0);function rd(e,t){var i=!0;return _n(e,function(f,_,k){return i=!!t(f,_,k),i}),i}function ir(e,t,i){for(var f=-1,_=e.length;++f<_;){var k=e[f],A=t(k);if(A!=null&&(S===n?A===A&&!pt(A):i(A,S)))var S=A,M=k}return M}function ad(e,t,i,f){var _=e.length;for(i=de(i),i<0&&(i=-i>_?0:_+i),f=f===n||f>_?_:de(f),f<0&&(f+=_),f=i>f?0:Ks(f);i<f;)e[i++]=t;return e}function Fu(e,t){var i=[];return _n(e,function(f,_,k){t(f,_,k)&&i.push(f)}),i}function Ue(e,t,i,f,_){var k=-1,A=e.length;for(i||(i=Kd),_||(_=[]);++k<A;){var S=e[k];t>0&&i(S)?t>1?Ue(S,t-1,i,f,_):cn(_,S):f||(_[_.length]=S)}return _}var ba=is(),Ou=is(!0);function Dt(e,t){return e&&ba(e,t,We)}function ka(e,t){return e&&Ou(e,t,We)}function rr(e,t){return fn(t,function(i){return tn(e[i])})}function Sn(e,t){t=pn(t,e);for(var i=0,f=t.length;e!=null&&i<f;)e=e[Nt(t[i++])];return i&&i==f?e:n}function Cu(e,t,i){var f=t(e);return fe(e)?f:cn(f,i(e))}function Qe(e){return e==null?e===n?Pf:Of:kn&&kn in xe(e)?Wd(e):eh(e)}function Ta(e,t){return e>t}function od(e,t){return e!=null&&Ae.call(e,t)}function ud(e,t){return e!=null&&t in xe(e)}function sd(e,t,i){return e>=Xe(t,i)&&e<He(t,i)}function Aa(e,t,i){for(var f=i?oa:Hi,_=e[0].length,k=e.length,A=k,S=F(k),M=1/0,B=[];A--;){var N=e[A];A&&t&&(N=Re(N,_t(t))),M=Xe(N.length,M),S[A]=!i&&(t||_>=120&&N.length>=120)?new An(A&&N):n}N=e[0];var q=-1,Q=S[0];e:for(;++q<_&&B.length<M;){var te=N[q],oe=t?t(te):te;if(te=i||te!==0?te:0,!(Q?fi(Q,oe):f(B,oe,i))){for(A=k;--A;){var he=S[A];if(!(he?fi(he,oe):f(e[A],oe,i)))continue e}Q&&Q.push(oe),B.push(te)}}return B}function ld(e,t,i,f){return Dt(e,function(_,k,A){t(f,i(_),k,A)}),f}function vi(e,t,i){t=pn(t,e),e=ws(e,t);var f=e==null?e:e[Nt(xt(t))];return f==null?n:ht(f,e,i)}function Pu(e){return Pe(e)&&Qe(e)==Ve}function fd(e){return Pe(e)&&Qe(e)==li}function cd(e){return Pe(e)&&Qe(e)==Kt}function yi(e,t,i,f,_){return e===t?!0:e==null||t==null||!Pe(e)&&!Pe(t)?e!==e&&t!==t:dd(e,t,i,f,yi,_)}function dd(e,t,i,f,_,k){var A=fe(e),S=fe(t),M=A?ln:ze(e),B=S?ln:ze(t);M=M==Ve?Yt:M,B=B==Ve?Yt:B;var N=M==Yt,q=B==Yt,Q=M==B;if(Q&&vn(e)){if(!vn(t))return!1;A=!0,N=!1}if(Q&&!N)return k||(k=new Ot),A||Yn(e)?hs(e,t,i,f,_,k):Hd(e,t,M,i,f,_,k);if(!(i&g)){var te=N&&Ae.call(e,"__wrapped__"),oe=q&&Ae.call(t,"__wrapped__");if(te||oe){var he=te?e.value():e,ue=oe?t.value():t;return k||(k=new Ot),_(he,ue,i,f,k)}}return Q?(k||(k=new Ot),Gd(e,t,i,f,_,k)):!1}function hd(e){return Pe(e)&&ze(e)==Et}function xa(e,t,i,f){var _=i.length,k=_,A=!f;if(e==null)return!k;for(e=xe(e);_--;){var S=i[_];if(A&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++_<k;){S=i[_];var M=S[0],B=e[M],N=S[1];if(A&&S[2]){if(B===n&&!(M in e))return!1}else{var q=new Ot;if(f)var Q=f(B,N,M,e,t,q);if(!(Q===n?yi(N,B,g|w,f,q):Q))return!1}}return!0}function Lu(e){if(!Oe(e)||Zd(e))return!1;var t=tn(e)?h0:ic;return t.test(Mn(e))}function _d(e){return Pe(e)&&Qe(e)==oi}function md(e){return Pe(e)&&ze(e)==Rt}function pd(e){return Pe(e)&&br(e.length)&&!!Ee[Qe(e)]}function Du(e){return typeof e=="function"?e:e==null?st:typeof e=="object"?fe(e)?Hu(e[0],e[1]):Nu(e):rl(e)}function Sa(e){if(!ki(e))return y0(e);var t=[];for(var i in xe(e))Ae.call(e,i)&&i!="constructor"&&t.push(i);return t}function gd(e){if(!Oe(e))return jd(e);var t=ki(e),i=[];for(var f in e)f=="constructor"&&(t||!Ae.call(e,f))||i.push(f);return i}function Ia(e,t){return e<t}function Bu(e,t){var i=-1,f=ot(e)?F(e.length):[];return _n(e,function(_,k,A){f[++i]=t(_,k,A)}),f}function Nu(e){var t=qa(e);return t.length==1&&t[0][2]?vs(t[0][0],t[0][1]):function(i){return i===e||xa(i,e,t)}}function Hu(e,t){return Va(e)&&gs(t)?vs(Nt(e),t):function(i){var f=eo(i,e);return f===n&&f===t?to(i,e):yi(t,f,g|w)}}function ar(e,t,i,f,_){e!==t&&ba(t,function(k,A){if(_||(_=new Ot),Oe(k))vd(e,t,A,i,ar,f,_);else{var S=f?f(za(e,A),k,A+"",e,t,_):n;S===n&&(S=k),ya(e,A,S)}},ut)}function vd(e,t,i,f,_,k,A){var S=za(e,i),M=za(t,i),B=A.get(M);if(B){ya(e,i,B);return}var N=k?k(S,M,i+"",e,t,A):n,q=N===n;if(q){var Q=fe(M),te=!Q&&vn(M),oe=!Q&&!te&&Yn(M);N=M,Q||te||oe?fe(S)?N=S:Le(S)?N=at(S):te?(q=!1,N=Ju(M,!0)):oe?(q=!1,N=$u(M,!0)):N=[]:Ai(M)||En(M)?(N=S,En(S)?N=Ys(S):(!Oe(S)||tn(S))&&(N=ps(M))):q=!1}q&&(A.set(M,N),_(N,M,f,k,A),A.delete(M)),ya(e,i,N)}function Gu(e,t){var i=e.length;if(i)return t+=t<0?i:0,en(t,i)?e[t]:n}function Wu(e,t,i){t.length?t=Re(t,function(k){return fe(k)?function(A){return Sn(A,k.length===1?k[0]:k)}:k}):t=[st];var f=-1;t=Re(t,_t(ae()));var _=Bu(e,function(k,A,S){var M=Re(t,function(B){return B(k)});return{criteria:M,index:++f,value:k}});return Xc(_,function(k,A){return Fd(k,A,i)})}function yd(e,t){return qu(e,t,function(i,f){return to(e,f)})}function qu(e,t,i){for(var f=-1,_=t.length,k={};++f<_;){var A=t[f],S=Sn(e,A);i(S,A)&&wi(k,pn(A,e),S)}return k}function wd(e){return function(t){return Sn(t,e)}}function Ma(e,t,i,f){var _=f?Vc:Bn,k=-1,A=t.length,S=e;for(e===t&&(t=at(t)),i&&(S=Re(e,_t(i)));++k<A;)for(var M=0,B=t[k],N=i?i(B):B;(M=_(S,N,M,f))>-1;)S!==e&&Zi.call(S,M,1),Zi.call(e,M,1);return e}function Uu(e,t){for(var i=e?t.length:0,f=i-1;i--;){var _=t[i];if(i==f||_!==k){var k=_;en(_)?Zi.call(e,_,1):Oa(e,_)}}return e}function Ea(e,t){return e+$i(Tu()*(t-e+1))}function bd(e,t,i,f){for(var _=-1,k=He(Ji((t-e)/(i||1)),0),A=F(k);k--;)A[f?k:++_]=e,e+=i;return A}function Ra(e,t){var i="";if(!e||t<1||t>$)return i;do t%2&&(i+=e),t=$i(t/2),t&&(e+=e);while(t);return i}function _e(e,t){return Ka(ys(e,t,st),e+"")}function kd(e){return Su(Zn(e))}function Td(e,t){var i=Zn(e);return mr(i,xn(t,0,i.length))}function wi(e,t,i,f){if(!Oe(e))return e;t=pn(t,e);for(var _=-1,k=t.length,A=k-1,S=e;S!=null&&++_<k;){var M=Nt(t[_]),B=i;if(M==="__proto__"||M==="constructor"||M==="prototype")return e;if(_!=A){var N=S[M];B=f?f(N,M,S):n,B===n&&(B=Oe(N)?N:en(t[_+1])?[]:{})}pi(S,M,B),S=S[M]}return e}var Vu=ji?function(e,t){return ji.set(e,t),e}:st,Ad=Qi?function(e,t){return Qi(e,"toString",{configurable:!0,enumerable:!1,value:io(t),writable:!0})}:st;function xd(e){return mr(Zn(e))}function At(e,t,i){var f=-1,_=e.length;t<0&&(t=-t>_?0:_+t),i=i>_?_:i,i<0&&(i+=_),_=t>i?0:i-t>>>0,t>>>=0;for(var k=F(_);++f<_;)k[f]=e[f+t];return k}function Sd(e,t){var i;return _n(e,function(f,_,k){return i=t(f,_,k),!i}),!!i}function or(e,t,i){var f=0,_=e==null?f:e.length;if(typeof t=="number"&&t===t&&_<=un){for(;f<_;){var k=f+_>>>1,A=e[k];A!==null&&!pt(A)&&(i?A<=t:A<t)?f=k+1:_=k}return _}return Fa(e,t,st,i)}function Fa(e,t,i,f){var _=0,k=e==null?0:e.length;if(k===0)return 0;t=i(t);for(var A=t!==t,S=t===null,M=pt(t),B=t===n;_<k;){var N=$i((_+k)/2),q=i(e[N]),Q=q!==n,te=q===null,oe=q===q,he=pt(q);if(A)var ue=f||oe;else B?ue=oe&&(f||Q):S?ue=oe&&Q&&(f||!te):M?ue=oe&&Q&&!te&&(f||!he):te||he?ue=!1:ue=f?q<=t:q<t;ue?_=N+1:k=N}return Xe(k,Mt)}function Xu(e,t){for(var i=-1,f=e.length,_=0,k=[];++i<f;){var A=e[i],S=t?t(A):A;if(!i||!Ct(S,M)){var M=S;k[_++]=A===0?0:A}}return k}function zu(e){return typeof e=="number"?e:pt(e)?dt:+e}function mt(e){if(typeof e=="string")return e;if(fe(e))return Re(e,mt)+"";if(pt(e))return Au?Au.call(e):"";var t=e+"";return t=="0"&&1/e==-Z?"-0":t}function mn(e,t,i){var f=-1,_=Hi,k=e.length,A=!0,S=[],M=S;if(i)A=!1,_=oa;else if(k>=s){var B=t?null:Bd(e);if(B)return Wi(B);A=!1,_=fi,M=new An}else M=t?[]:S;e:for(;++f<k;){var N=e[f],q=t?t(N):N;if(N=i||N!==0?N:0,A&&q===q){for(var Q=M.length;Q--;)if(M[Q]===q)continue e;t&&M.push(q),S.push(N)}else _(M,q,i)||(M!==S&&M.push(q),S.push(N))}return S}function Oa(e,t){return t=pn(t,e),e=ws(e,t),e==null||delete e[Nt(xt(t))]}function Ku(e,t,i,f){return wi(e,t,i(Sn(e,t)),f)}function ur(e,t,i,f){for(var _=e.length,k=f?_:-1;(f?k--:++k<_)&&t(e[k],k,e););return i?At(e,f?0:k,f?k+1:_):At(e,f?k+1:0,f?_:k)}function Yu(e,t){var i=e;return i instanceof ge&&(i=i.value()),ua(t,function(f,_){return _.func.apply(_.thisArg,cn([f],_.args))},i)}function Ca(e,t,i){var f=e.length;if(f<2)return f?mn(e[0]):[];for(var _=-1,k=F(f);++_<f;)for(var A=e[_],S=-1;++S<f;)S!=_&&(k[_]=gi(k[_]||A,e[S],t,i));return mn(Ue(k,1),t,i)}function Zu(e,t,i){for(var f=-1,_=e.length,k=t.length,A={};++f<_;){var S=f<k?t[f]:n;i(A,e[f],S)}return A}function Pa(e){return Le(e)?e:[]}function La(e){return typeof e=="function"?e:st}function pn(e,t){return fe(e)?e:Va(e,t)?[e]:As(Te(e))}var Id=_e;function gn(e,t,i){var f=e.length;return i=i===n?f:i,!t&&i>=f?e:At(e,t,i)}var Qu=_0||function(e){return qe.clearTimeout(e)};function Ju(e,t){if(t)return e.slice();var i=e.length,f=vu?vu(i):new e.constructor(i);return e.copy(f),f}function Da(e){var t=new e.constructor(e.byteLength);return new Ki(t).set(new Ki(e)),t}function Md(e,t){var i=t?Da(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Ed(e){var t=new e.constructor(e.source,Po.exec(e));return t.lastIndex=e.lastIndex,t}function Rd(e){return mi?xe(mi.call(e)):{}}function $u(e,t){var i=t?Da(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function ju(e,t){if(e!==t){var i=e!==n,f=e===null,_=e===e,k=pt(e),A=t!==n,S=t===null,M=t===t,B=pt(t);if(!S&&!B&&!k&&e>t||k&&A&&M&&!S&&!B||f&&A&&M||!i&&M||!_)return 1;if(!f&&!k&&!B&&e<t||B&&i&&_&&!f&&!k||S&&i&&_||!A&&_||!M)return-1}return 0}function Fd(e,t,i){for(var f=-1,_=e.criteria,k=t.criteria,A=_.length,S=i.length;++f<A;){var M=ju(_[f],k[f]);if(M){if(f>=S)return M;var B=i[f];return M*(B=="desc"?-1:1)}}return e.index-t.index}function es(e,t,i,f){for(var _=-1,k=e.length,A=i.length,S=-1,M=t.length,B=He(k-A,0),N=F(M+B),q=!f;++S<M;)N[S]=t[S];for(;++_<A;)(q||_<k)&&(N[i[_]]=e[_]);for(;B--;)N[S++]=e[_++];return N}function ts(e,t,i,f){for(var _=-1,k=e.length,A=-1,S=i.length,M=-1,B=t.length,N=He(k-S,0),q=F(N+B),Q=!f;++_<N;)q[_]=e[_];for(var te=_;++M<B;)q[te+M]=t[M];for(;++A<S;)(Q||_<k)&&(q[te+i[A]]=e[_++]);return q}function at(e,t){var i=-1,f=e.length;for(t||(t=F(f));++i<f;)t[i]=e[i];return t}function Bt(e,t,i,f){var _=!i;i||(i={});for(var k=-1,A=t.length;++k<A;){var S=t[k],M=f?f(i[S],e[S],S,i,e):n;M===n&&(M=e[S]),_?Jt(i,S,M):pi(i,S,M)}return i}function Od(e,t){return Bt(e,Ua(e),t)}function Cd(e,t){return Bt(e,_s(e),t)}function sr(e,t){return function(i,f){var _=fe(i)?Nc:td,k=t?t():{};return _(i,e,ae(f,2),k)}}function Xn(e){return _e(function(t,i){var f=-1,_=i.length,k=_>1?i[_-1]:n,A=_>2?i[2]:n;for(k=e.length>3&&typeof k=="function"?(_--,k):n,A&&Je(i[0],i[1],A)&&(k=_<3?n:k,_=1),t=xe(t);++f<_;){var S=i[f];S&&e(t,S,f,k)}return t})}function ns(e,t){return function(i,f){if(i==null)return i;if(!ot(i))return e(i,f);for(var _=i.length,k=t?_:-1,A=xe(i);(t?k--:++k<_)&&f(A[k],k,A)!==!1;);return i}}function is(e){return function(t,i,f){for(var _=-1,k=xe(t),A=f(t),S=A.length;S--;){var M=A[e?S:++_];if(i(k[M],M,k)===!1)break}return t}}function Pd(e,t,i){var f=t&x,_=bi(e);function k(){var A=this&&this!==qe&&this instanceof k?_:e;return A.apply(f?i:this,arguments)}return k}function rs(e){return function(t){t=Te(t);var i=Nn(t)?Ft(t):n,f=i?i[0]:t.charAt(0),_=i?gn(i,1).join(""):t.slice(1);return f[e]()+_}}function zn(e){return function(t){return ua(nl(tl(t).replace(Ac,"")),e,"")}}function bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Vn(e.prototype),f=e.apply(i,t);return Oe(f)?f:i}}function Ld(e,t,i){var f=bi(e);function _(){for(var k=arguments.length,A=F(k),S=k,M=Kn(_);S--;)A[S]=arguments[S];var B=k<3&&A[0]!==M&&A[k-1]!==M?[]:dn(A,M);if(k-=B.length,k<i)return ls(e,t,lr,_.placeholder,n,A,B,n,n,i-k);var N=this&&this!==qe&&this instanceof _?f:e;return ht(N,this,A)}return _}function as(e){return function(t,i,f){var _=xe(t);if(!ot(t)){var k=ae(i,3);t=We(t),i=function(S){return k(_[S],S,_)}}var A=e(t,i,f);return A>-1?_[k?t[A]:A]:n}}function os(e){return jt(function(t){var i=t.length,f=i,_=kt.prototype.thru;for(e&&t.reverse();f--;){var k=t[f];if(typeof k!="function")throw new bt(h);if(_&&!A&&hr(k)=="wrapper")var A=new kt([],!0)}for(f=A?f:i;++f<i;){k=t[f];var S=hr(k),M=S=="wrapper"?Wa(k):n;M&&Xa(M[0])&&M[1]==(L|D|H|K)&&!M[4].length&&M[9]==1?A=A[hr(M[0])].apply(A,M[3]):A=k.length==1&&Xa(k)?A[S]():A.thru(k)}return function(){var B=arguments,N=B[0];if(A&&B.length==1&&fe(N))return A.plant(N).value();for(var q=0,Q=i?t[q].apply(this,B):N;++q<i;)Q=t[q].call(this,Q);return Q}})}function lr(e,t,i,f,_,k,A,S,M,B){var N=t&L,q=t&x,Q=t&T,te=t&(D|C),oe=t&W,he=Q?n:bi(e);function ue(){for(var pe=arguments.length,ve=F(pe),gt=pe;gt--;)ve[gt]=arguments[gt];if(te)var $e=Kn(ue),vt=Kc(ve,$e);if(f&&(ve=es(ve,f,_,te)),k&&(ve=ts(ve,k,A,te)),pe-=vt,te&&pe<B){var De=dn(ve,$e);return ls(e,t,lr,ue.placeholder,i,ve,De,S,M,B-pe)}var Pt=q?i:this,rn=Q?Pt[e]:e;return pe=ve.length,S?ve=th(ve,S):oe&&pe>1&&ve.reverse(),N&&M<pe&&(ve.length=M),this&&this!==qe&&this instanceof ue&&(rn=he||bi(rn)),rn.apply(Pt,ve)}return ue}function us(e,t){return function(i,f){return ld(i,e,t(f),{})}}function fr(e,t){return function(i,f){var _;if(i===n&&f===n)return t;if(i!==n&&(_=i),f!==n){if(_===n)return f;typeof i=="string"||typeof f=="string"?(i=mt(i),f=mt(f)):(i=zu(i),f=zu(f)),_=e(i,f)}return _}}function Ba(e){return jt(function(t){return t=Re(t,_t(ae())),_e(function(i){var f=this;return e(t,function(_){return ht(_,f,i)})})})}function cr(e,t){t=t===n?" ":mt(t);var i=t.length;if(i<2)return i?Ra(t,e):t;var f=Ra(t,Ji(e/Hn(t)));return Nn(t)?gn(Ft(f),0,e).join(""):f.slice(0,e)}function Dd(e,t,i,f){var _=t&x,k=bi(e);function A(){for(var S=-1,M=arguments.length,B=-1,N=f.length,q=F(N+M),Q=this&&this!==qe&&this instanceof A?k:e;++B<N;)q[B]=f[B];for(;M--;)q[B++]=arguments[++S];return ht(Q,_?i:this,q)}return A}function ss(e){return function(t,i,f){return f&&typeof f!="number"&&Je(t,i,f)&&(i=f=n),t=nn(t),i===n?(i=t,t=0):i=nn(i),f=f===n?t<i?1:-1:nn(f),bd(t,i,f,e)}}function dr(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=St(t),i=St(i)),e(t,i)}}function ls(e,t,i,f,_,k,A,S,M,B){var N=t&D,q=N?A:n,Q=N?n:A,te=N?k:n,oe=N?n:k;t|=N?H:J,t&=~(N?J:H),t&E||(t&=~(x|T));var he=[e,t,_,te,q,oe,Q,S,M,B],ue=i.apply(n,he);return Xa(e)&&bs(ue,he),ue.placeholder=f,ks(ue,e,t)}function Na(e){var t=Ne[e];return function(i,f){if(i=St(i),f=f==null?0:Xe(de(f),292),f&&ku(i)){var _=(Te(i)+"e").split("e"),k=t(_[0]+"e"+(+_[1]+f));return _=(Te(k)+"e").split("e"),+(_[0]+"e"+(+_[1]-f))}return t(i)}}var Bd=qn&&1/Wi(new qn([,-0]))[1]==Z?function(e){return new qn(e)}:oo;function fs(e){return function(t){var i=ze(t);return i==Et?_a(t):i==Rt?e0(t):zc(t,e(t))}}function $t(e,t,i,f,_,k,A,S){var M=t&T;if(!M&&typeof e!="function")throw new bt(h);var B=f?f.length:0;if(B||(t&=~(H|J),f=_=n),A=A===n?A:He(de(A),0),S=S===n?S:de(S),B-=_?_.length:0,t&J){var N=f,q=_;f=_=n}var Q=M?n:Wa(e),te=[e,t,i,f,_,N,q,k,A,S];if(Q&&$d(te,Q),e=te[0],t=te[1],i=te[2],f=te[3],_=te[4],S=te[9]=te[9]===n?M?0:e.length:He(te[9]-B,0),!S&&t&(D|C)&&(t&=~(D|C)),!t||t==x)var oe=Pd(e,t,i);else t==D||t==C?oe=Ld(e,t,S):(t==H||t==(x|H))&&!_.length?oe=Dd(e,t,i,f):oe=lr.apply(n,te);var he=Q?Vu:bs;return ks(he(oe,te),e,t)}function cs(e,t,i,f){return e===n||Ct(e,Wn[i])&&!Ae.call(f,i)?t:e}function ds(e,t,i,f,_,k){return Oe(e)&&Oe(t)&&(k.set(t,e),ar(e,t,n,ds,k),k.delete(t)),e}function Nd(e){return Ai(e)?n:e}function hs(e,t,i,f,_,k){var A=i&g,S=e.length,M=t.length;if(S!=M&&!(A&&M>S))return!1;var B=k.get(e),N=k.get(t);if(B&&N)return B==t&&N==e;var q=-1,Q=!0,te=i&w?new An:n;for(k.set(e,t),k.set(t,e);++q<S;){var oe=e[q],he=t[q];if(f)var ue=A?f(he,oe,q,t,e,k):f(oe,he,q,e,t,k);if(ue!==n){if(ue)continue;Q=!1;break}if(te){if(!sa(t,function(pe,ve){if(!fi(te,ve)&&(oe===pe||_(oe,pe,i,f,k)))return te.push(ve)})){Q=!1;break}}else if(!(oe===he||_(oe,he,i,f,k))){Q=!1;break}}return k.delete(e),k.delete(t),Q}function Hd(e,t,i,f,_,k,A){switch(i){case Ln:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case li:return!(e.byteLength!=t.byteLength||!k(new Ki(e),new Ki(t)));case zt:case Kt:case ai:return Ct(+e,+t);case wn:return e.name==t.name&&e.message==t.message;case oi:case ui:return e==t+"";case Et:var S=_a;case Rt:var M=f&g;if(S||(S=Wi),e.size!=t.size&&!M)return!1;var B=A.get(e);if(B)return B==t;f|=w,A.set(e,t);var N=hs(S(e),S(t),f,_,k,A);return A.delete(e),N;case Li:if(mi)return mi.call(e)==mi.call(t)}return!1}function Gd(e,t,i,f,_,k){var A=i&g,S=Ha(e),M=S.length,B=Ha(t),N=B.length;if(M!=N&&!A)return!1;for(var q=M;q--;){var Q=S[q];if(!(A?Q in t:Ae.call(t,Q)))return!1}var te=k.get(e),oe=k.get(t);if(te&&oe)return te==t&&oe==e;var he=!0;k.set(e,t),k.set(t,e);for(var ue=A;++q<M;){Q=S[q];var pe=e[Q],ve=t[Q];if(f)var gt=A?f(ve,pe,Q,t,e,k):f(pe,ve,Q,e,t,k);if(!(gt===n?pe===ve||_(pe,ve,i,f,k):gt)){he=!1;break}ue||(ue=Q=="constructor")}if(he&&!ue){var $e=e.constructor,vt=t.constructor;$e!=vt&&"constructor"in e&&"constructor"in t&&!(typeof $e=="function"&&$e instanceof $e&&typeof vt=="function"&&vt instanceof vt)&&(he=!1)}return k.delete(e),k.delete(t),he}function jt(e){return Ka(ys(e,n,Ms),e+"")}function Ha(e){return Cu(e,We,Ua)}function Ga(e){return Cu(e,ut,_s)}var Wa=ji?function(e){return ji.get(e)}:oo;function hr(e){for(var t=e.name+"",i=Un[t],f=Ae.call(Un,t)?i.length:0;f--;){var _=i[f],k=_.func;if(k==null||k==e)return _.name}return t}function Kn(e){var t=Ae.call(y,"placeholder")?y:e;return t.placeholder}function ae(){var e=y.iteratee||ro;return e=e===ro?Du:e,arguments.length?e(arguments[0],arguments[1]):e}function _r(e,t){var i=e.__data__;return Yd(t)?i[typeof t=="string"?"string":"hash"]:i.map}function qa(e){for(var t=We(e),i=t.length;i--;){var f=t[i],_=e[f];t[i]=[f,_,gs(_)]}return t}function In(e,t){var i=Jc(e,t);return Lu(i)?i:n}function Wd(e){var t=Ae.call(e,kn),i=e[kn];try{e[kn]=n;var f=!0}catch{}var _=Xi.call(e);return f&&(t?e[kn]=i:delete e[kn]),_}var Ua=pa?function(e){return e==null?[]:(e=xe(e),fn(pa(e),function(t){return wu.call(e,t)}))}:uo,_s=pa?function(e){for(var t=[];e;)cn(t,Ua(e)),e=Yi(e);return t}:uo,ze=Qe;(ga&&ze(new ga(new ArrayBuffer(1)))!=Ln||di&&ze(new di)!=Et||va&&ze(va.resolve())!=Ro||qn&&ze(new qn)!=Rt||hi&&ze(new hi)!=si)&&(ze=function(e){var t=Qe(e),i=t==Yt?e.constructor:n,f=i?Mn(i):"";if(f)switch(f){case T0:return Ln;case A0:return Et;case x0:return Ro;case S0:return Rt;case I0:return si}return t});function qd(e,t,i){for(var f=-1,_=i.length;++f<_;){var k=i[f],A=k.size;switch(k.type){case"drop":e+=A;break;case"dropRight":t-=A;break;case"take":t=Xe(t,e+A);break;case"takeRight":e=He(e,t-A);break}}return{start:e,end:t}}function Ud(e){var t=e.match(Zf);return t?t[1].split(Qf):[]}function ms(e,t,i){t=pn(t,e);for(var f=-1,_=t.length,k=!1;++f<_;){var A=Nt(t[f]);if(!(k=e!=null&&i(e,A)))break;e=e[A]}return k||++f!=_?k:(_=e==null?0:e.length,!!_&&br(_)&&en(A,_)&&(fe(e)||En(e)))}function Vd(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&Ae.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function ps(e){return typeof e.constructor=="function"&&!ki(e)?Vn(Yi(e)):{}}function Xd(e,t,i){var f=e.constructor;switch(t){case li:return Da(e);case zt:case Kt:return new f(+e);case Ln:return Md(e,i);case qr:case Ur:case Vr:case Xr:case zr:case Kr:case Yr:case Zr:case Qr:return $u(e,i);case Et:return new f;case ai:case ui:return new f(e);case oi:return Ed(e);case Rt:return new f;case Li:return Rd(e)}}function zd(e,t){var i=t.length;if(!i)return e;var f=i-1;return t[f]=(i>1?"& ":"")+t[f],t=t.join(i>2?", ":" "),e.replace(Yf,`{
/* [wrapped with `+t+`] */
`)}function Kd(e){return fe(e)||En(e)||!!(bu&&e&&e[bu])}function en(e,t){var i=typeof e;return t=t??$,!!t&&(i=="number"||i!="symbol"&&ac.test(e))&&e>-1&&e%1==0&&e<t}function Je(e,t,i){if(!Oe(i))return!1;var f=typeof t;return(f=="number"?ot(i)&&en(t,i.length):f=="string"&&t in i)?Ct(i[t],e):!1}function Va(e,t){if(fe(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||pt(e)?!0:Vf.test(e)||!Uf.test(e)||t!=null&&e in xe(t)}function Yd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Xa(e){var t=hr(e),i=y[t];if(typeof i!="function"||!(t in ge.prototype))return!1;if(e===i)return!0;var f=Wa(i);return!!f&&e===f[0]}function Zd(e){return!!gu&&gu in e}var Qd=Ui?tn:so;function ki(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Wn;return e===i}function gs(e){return e===e&&!Oe(e)}function vs(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==n||e in xe(i))}}function Jd(e){var t=yr(e,function(f){return i.size===p&&i.clear(),f}),i=t.cache;return t}function $d(e,t){var i=e[1],f=t[1],_=i|f,k=_<(x|T|L),A=f==L&&i==D||f==L&&i==K&&e[7].length<=t[8]||f==(L|K)&&t[7].length<=t[8]&&i==D;if(!(k||A))return e;f&x&&(e[2]=t[2],_|=i&x?0:E);var S=t[3];if(S){var M=e[3];e[3]=M?es(M,S,t[4]):S,e[4]=M?dn(e[3],b):t[4]}return S=t[5],S&&(M=e[5],e[5]=M?ts(M,S,t[6]):S,e[6]=M?dn(e[5],b):t[6]),S=t[7],S&&(e[7]=S),f&L&&(e[8]=e[8]==null?t[8]:Xe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=_,e}function jd(e){var t=[];if(e!=null)for(var i in xe(e))t.push(i);return t}function eh(e){return Xi.call(e)}function ys(e,t,i){return t=He(t===n?e.length-1:t,0),function(){for(var f=arguments,_=-1,k=He(f.length-t,0),A=F(k);++_<k;)A[_]=f[t+_];_=-1;for(var S=F(t+1);++_<t;)S[_]=f[_];return S[t]=i(A),ht(e,this,S)}}function ws(e,t){return t.length<2?e:Sn(e,At(t,0,-1))}function th(e,t){for(var i=e.length,f=Xe(t.length,i),_=at(e);f--;){var k=t[f];e[f]=en(k,i)?_[k]:n}return e}function za(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var bs=Ts(Vu),Ti=p0||function(e,t){return qe.setTimeout(e,t)},Ka=Ts(Ad);function ks(e,t,i){var f=t+"";return Ka(e,zd(f,nh(Ud(f),i)))}function Ts(e){var t=0,i=0;return function(){var f=w0(),_=U-(f-i);if(i=f,_>0){if(++t>=re)return arguments[0]}else t=0;return e.apply(n,arguments)}}function mr(e,t){var i=-1,f=e.length,_=f-1;for(t=t===n?f:t;++i<t;){var k=Ea(i,_),A=e[k];e[k]=e[i],e[i]=A}return e.length=t,e}var As=Jd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Xf,function(i,f,_,k){t.push(_?k.replace(jf,"$1"):f||i)}),t});function Nt(e){if(typeof e=="string"||pt(e))return e;var t=e+"";return t=="0"&&1/e==-Z?"-0":t}function Mn(e){if(e!=null){try{return Vi.call(e)}catch{}try{return e+""}catch{}}return""}function nh(e,t){return wt(sn,function(i){var f="_."+i[0];t&i[1]&&!Hi(e,f)&&e.push(f)}),e.sort()}function xs(e){if(e instanceof ge)return e.clone();var t=new kt(e.__wrapped__,e.__chain__);return t.__actions__=at(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ih(e,t,i){(i?Je(e,t,i):t===n)?t=1:t=He(de(t),0);var f=e==null?0:e.length;if(!f||t<1)return[];for(var _=0,k=0,A=F(Ji(f/t));_<f;)A[k++]=At(e,_,_+=t);return A}function rh(e){for(var t=-1,i=e==null?0:e.length,f=0,_=[];++t<i;){var k=e[t];k&&(_[f++]=k)}return _}function ah(){var e=arguments.length;if(!e)return[];for(var t=F(e-1),i=arguments[0],f=e;f--;)t[f-1]=arguments[f];return cn(fe(i)?at(i):[i],Ue(t,1))}var oh=_e(function(e,t){return Le(e)?gi(e,Ue(t,1,Le,!0)):[]}),uh=_e(function(e,t){var i=xt(t);return Le(i)&&(i=n),Le(e)?gi(e,Ue(t,1,Le,!0),ae(i,2)):[]}),sh=_e(function(e,t){var i=xt(t);return Le(i)&&(i=n),Le(e)?gi(e,Ue(t,1,Le,!0),n,i):[]});function lh(e,t,i){var f=e==null?0:e.length;return f?(t=i||t===n?1:de(t),At(e,t<0?0:t,f)):[]}function fh(e,t,i){var f=e==null?0:e.length;return f?(t=i||t===n?1:de(t),t=f-t,At(e,0,t<0?0:t)):[]}function ch(e,t){return e&&e.length?ur(e,ae(t,3),!0,!0):[]}function dh(e,t){return e&&e.length?ur(e,ae(t,3),!0):[]}function hh(e,t,i,f){var _=e==null?0:e.length;return _?(i&&typeof i!="number"&&Je(e,t,i)&&(i=0,f=_),ad(e,t,i,f)):[]}function Ss(e,t,i){var f=e==null?0:e.length;if(!f)return-1;var _=i==null?0:de(i);return _<0&&(_=He(f+_,0)),Gi(e,ae(t,3),_)}function Is(e,t,i){var f=e==null?0:e.length;if(!f)return-1;var _=f-1;return i!==n&&(_=de(i),_=i<0?He(f+_,0):Xe(_,f-1)),Gi(e,ae(t,3),_,!0)}function Ms(e){var t=e==null?0:e.length;return t?Ue(e,1):[]}function _h(e){var t=e==null?0:e.length;return t?Ue(e,Z):[]}function mh(e,t){var i=e==null?0:e.length;return i?(t=t===n?1:de(t),Ue(e,t)):[]}function ph(e){for(var t=-1,i=e==null?0:e.length,f={};++t<i;){var _=e[t];f[_[0]]=_[1]}return f}function Es(e){return e&&e.length?e[0]:n}function gh(e,t,i){var f=e==null?0:e.length;if(!f)return-1;var _=i==null?0:de(i);return _<0&&(_=He(f+_,0)),Bn(e,t,_)}function vh(e){var t=e==null?0:e.length;return t?At(e,0,-1):[]}var yh=_e(function(e){var t=Re(e,Pa);return t.length&&t[0]===e[0]?Aa(t):[]}),wh=_e(function(e){var t=xt(e),i=Re(e,Pa);return t===xt(i)?t=n:i.pop(),i.length&&i[0]===e[0]?Aa(i,ae(t,2)):[]}),bh=_e(function(e){var t=xt(e),i=Re(e,Pa);return t=typeof t=="function"?t:n,t&&i.pop(),i.length&&i[0]===e[0]?Aa(i,n,t):[]});function kh(e,t){return e==null?"":v0.call(e,t)}function xt(e){var t=e==null?0:e.length;return t?e[t-1]:n}function Th(e,t,i){var f=e==null?0:e.length;if(!f)return-1;var _=f;return i!==n&&(_=de(i),_=_<0?He(f+_,0):Xe(_,f-1)),t===t?n0(e,t,_):Gi(e,lu,_,!0)}function Ah(e,t){return e&&e.length?Gu(e,de(t)):n}var xh=_e(Rs);function Rs(e,t){return e&&e.length&&t&&t.length?Ma(e,t):e}function Sh(e,t,i){return e&&e.length&&t&&t.length?Ma(e,t,ae(i,2)):e}function Ih(e,t,i){return e&&e.length&&t&&t.length?Ma(e,t,n,i):e}var Mh=jt(function(e,t){var i=e==null?0:e.length,f=wa(e,t);return Uu(e,Re(t,function(_){return en(_,i)?+_:_}).sort(ju)),f});function Eh(e,t){var i=[];if(!(e&&e.length))return i;var f=-1,_=[],k=e.length;for(t=ae(t,3);++f<k;){var A=e[f];t(A,f,e)&&(i.push(A),_.push(f))}return Uu(e,_),i}function Ya(e){return e==null?e:k0.call(e)}function Rh(e,t,i){var f=e==null?0:e.length;return f?(i&&typeof i!="number"&&Je(e,t,i)?(t=0,i=f):(t=t==null?0:de(t),i=i===n?f:de(i)),At(e,t,i)):[]}function Fh(e,t){return or(e,t)}function Oh(e,t,i){return Fa(e,t,ae(i,2))}function Ch(e,t){var i=e==null?0:e.length;if(i){var f=or(e,t);if(f<i&&Ct(e[f],t))return f}return-1}function Ph(e,t){return or(e,t,!0)}function Lh(e,t,i){return Fa(e,t,ae(i,2),!0)}function Dh(e,t){var i=e==null?0:e.length;if(i){var f=or(e,t,!0)-1;if(Ct(e[f],t))return f}return-1}function Bh(e){return e&&e.length?Xu(e):[]}function Nh(e,t){return e&&e.length?Xu(e,ae(t,2)):[]}function Hh(e){var t=e==null?0:e.length;return t?At(e,1,t):[]}function Gh(e,t,i){return e&&e.length?(t=i||t===n?1:de(t),At(e,0,t<0?0:t)):[]}function Wh(e,t,i){var f=e==null?0:e.length;return f?(t=i||t===n?1:de(t),t=f-t,At(e,t<0?0:t,f)):[]}function qh(e,t){return e&&e.length?ur(e,ae(t,3),!1,!0):[]}function Uh(e,t){return e&&e.length?ur(e,ae(t,3)):[]}var Vh=_e(function(e){return mn(Ue(e,1,Le,!0))}),Xh=_e(function(e){var t=xt(e);return Le(t)&&(t=n),mn(Ue(e,1,Le,!0),ae(t,2))}),zh=_e(function(e){var t=xt(e);return t=typeof t=="function"?t:n,mn(Ue(e,1,Le,!0),n,t)});function Kh(e){return e&&e.length?mn(e):[]}function Yh(e,t){return e&&e.length?mn(e,ae(t,2)):[]}function Zh(e,t){return t=typeof t=="function"?t:n,e&&e.length?mn(e,n,t):[]}function Za(e){if(!(e&&e.length))return[];var t=0;return e=fn(e,function(i){if(Le(i))return t=He(i.length,t),!0}),da(t,function(i){return Re(e,la(i))})}function Fs(e,t){if(!(e&&e.length))return[];var i=Za(e);return t==null?i:Re(i,function(f){return ht(t,n,f)})}var Qh=_e(function(e,t){return Le(e)?gi(e,t):[]}),Jh=_e(function(e){return Ca(fn(e,Le))}),$h=_e(function(e){var t=xt(e);return Le(t)&&(t=n),Ca(fn(e,Le),ae(t,2))}),jh=_e(function(e){var t=xt(e);return t=typeof t=="function"?t:n,Ca(fn(e,Le),n,t)}),e1=_e(Za);function t1(e,t){return Zu(e||[],t||[],pi)}function n1(e,t){return Zu(e||[],t||[],wi)}var i1=_e(function(e){var t=e.length,i=t>1?e[t-1]:n;return i=typeof i=="function"?(e.pop(),i):n,Fs(e,i)});function Os(e){var t=y(e);return t.__chain__=!0,t}function r1(e,t){return t(e),e}function pr(e,t){return t(e)}var a1=jt(function(e){var t=e.length,i=t?e[0]:0,f=this.__wrapped__,_=function(k){return wa(k,e)};return t>1||this.__actions__.length||!(f instanceof ge)||!en(i)?this.thru(_):(f=f.slice(i,+i+(t?1:0)),f.__actions__.push({func:pr,args:[_],thisArg:n}),new kt(f,this.__chain__).thru(function(k){return t&&!k.length&&k.push(n),k}))});function o1(){return Os(this)}function u1(){return new kt(this.value(),this.__chain__)}function s1(){this.__values__===n&&(this.__values__=zs(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function l1(){return this}function f1(e){for(var t,i=this;i instanceof tr;){var f=xs(i);f.__index__=0,f.__values__=n,t?_.__wrapped__=f:t=f;var _=f;i=i.__wrapped__}return _.__wrapped__=e,t}function c1(){var e=this.__wrapped__;if(e instanceof ge){var t=e;return this.__actions__.length&&(t=new ge(this)),t=t.reverse(),t.__actions__.push({func:pr,args:[Ya],thisArg:n}),new kt(t,this.__chain__)}return this.thru(Ya)}function d1(){return Yu(this.__wrapped__,this.__actions__)}var h1=sr(function(e,t,i){Ae.call(e,i)?++e[i]:Jt(e,i,1)});function _1(e,t,i){var f=fe(e)?uu:rd;return i&&Je(e,t,i)&&(t=n),f(e,ae(t,3))}function m1(e,t){var i=fe(e)?fn:Fu;return i(e,ae(t,3))}var p1=as(Ss),g1=as(Is);function v1(e,t){return Ue(gr(e,t),1)}function y1(e,t){return Ue(gr(e,t),Z)}function w1(e,t,i){return i=i===n?1:de(i),Ue(gr(e,t),i)}function Cs(e,t){var i=fe(e)?wt:_n;return i(e,ae(t,3))}function Ps(e,t){var i=fe(e)?Hc:Ru;return i(e,ae(t,3))}var b1=sr(function(e,t,i){Ae.call(e,i)?e[i].push(t):Jt(e,i,[t])});function k1(e,t,i,f){e=ot(e)?e:Zn(e),i=i&&!f?de(i):0;var _=e.length;return i<0&&(i=He(_+i,0)),kr(e)?i<=_&&e.indexOf(t,i)>-1:!!_&&Bn(e,t,i)>-1}var T1=_e(function(e,t,i){var f=-1,_=typeof t=="function",k=ot(e)?F(e.length):[];return _n(e,function(A){k[++f]=_?ht(t,A,i):vi(A,t,i)}),k}),A1=sr(function(e,t,i){Jt(e,i,t)});function gr(e,t){var i=fe(e)?Re:Bu;return i(e,ae(t,3))}function x1(e,t,i,f){return e==null?[]:(fe(t)||(t=t==null?[]:[t]),i=f?n:i,fe(i)||(i=i==null?[]:[i]),Wu(e,t,i))}var S1=sr(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function I1(e,t,i){var f=fe(e)?ua:cu,_=arguments.length<3;return f(e,ae(t,4),i,_,_n)}function M1(e,t,i){var f=fe(e)?Gc:cu,_=arguments.length<3;return f(e,ae(t,4),i,_,Ru)}function E1(e,t){var i=fe(e)?fn:Fu;return i(e,wr(ae(t,3)))}function R1(e){var t=fe(e)?Su:kd;return t(e)}function F1(e,t,i){(i?Je(e,t,i):t===n)?t=1:t=de(t);var f=fe(e)?j0:Td;return f(e,t)}function O1(e){var t=fe(e)?ed:xd;return t(e)}function C1(e){if(e==null)return 0;if(ot(e))return kr(e)?Hn(e):e.length;var t=ze(e);return t==Et||t==Rt?e.size:Sa(e).length}function P1(e,t,i){var f=fe(e)?sa:Sd;return i&&Je(e,t,i)&&(t=n),f(e,ae(t,3))}var L1=_e(function(e,t){if(e==null)return[];var i=t.length;return i>1&&Je(e,t[0],t[1])?t=[]:i>2&&Je(t[0],t[1],t[2])&&(t=[t[0]]),Wu(e,Ue(t,1),[])}),vr=m0||function(){return qe.Date.now()};function D1(e,t){if(typeof t!="function")throw new bt(h);return e=de(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ls(e,t,i){return t=i?n:t,t=e&&t==null?e.length:t,$t(e,L,n,n,n,n,t)}function Ds(e,t){var i;if(typeof t!="function")throw new bt(h);return e=de(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Qa=_e(function(e,t,i){var f=x;if(i.length){var _=dn(i,Kn(Qa));f|=H}return $t(e,f,t,i,_)}),Bs=_e(function(e,t,i){var f=x|T;if(i.length){var _=dn(i,Kn(Bs));f|=H}return $t(t,f,e,i,_)});function Ns(e,t,i){t=i?n:t;var f=$t(e,D,n,n,n,n,n,t);return f.placeholder=Ns.placeholder,f}function Hs(e,t,i){t=i?n:t;var f=$t(e,C,n,n,n,n,n,t);return f.placeholder=Hs.placeholder,f}function Gs(e,t,i){var f,_,k,A,S,M,B=0,N=!1,q=!1,Q=!0;if(typeof e!="function")throw new bt(h);t=St(t)||0,Oe(i)&&(N=!!i.leading,q="maxWait"in i,k=q?He(St(i.maxWait)||0,t):k,Q="trailing"in i?!!i.trailing:Q);function te(De){var Pt=f,rn=_;return f=_=n,B=De,A=e.apply(rn,Pt),A}function oe(De){return B=De,S=Ti(pe,t),N?te(De):A}function he(De){var Pt=De-M,rn=De-B,al=t-Pt;return q?Xe(al,k-rn):al}function ue(De){var Pt=De-M,rn=De-B;return M===n||Pt>=t||Pt<0||q&&rn>=k}function pe(){var De=vr();if(ue(De))return ve(De);S=Ti(pe,he(De))}function ve(De){return S=n,Q&&f?te(De):(f=_=n,A)}function gt(){S!==n&&Qu(S),B=0,f=M=_=S=n}function $e(){return S===n?A:ve(vr())}function vt(){var De=vr(),Pt=ue(De);if(f=arguments,_=this,M=De,Pt){if(S===n)return oe(M);if(q)return Qu(S),S=Ti(pe,t),te(M)}return S===n&&(S=Ti(pe,t)),A}return vt.cancel=gt,vt.flush=$e,vt}var B1=_e(function(e,t){return Eu(e,1,t)}),N1=_e(function(e,t,i){return Eu(e,St(t)||0,i)});function H1(e){return $t(e,W)}function yr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new bt(h);var i=function(){var f=arguments,_=t?t.apply(this,f):f[0],k=i.cache;if(k.has(_))return k.get(_);var A=e.apply(this,f);return i.cache=k.set(_,A)||k,A};return i.cache=new(yr.Cache||Qt),i}yr.Cache=Qt;function wr(e){if(typeof e!="function")throw new bt(h);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function G1(e){return Ds(2,e)}var W1=Id(function(e,t){t=t.length==1&&fe(t[0])?Re(t[0],_t(ae())):Re(Ue(t,1),_t(ae()));var i=t.length;return _e(function(f){for(var _=-1,k=Xe(f.length,i);++_<k;)f[_]=t[_].call(this,f[_]);return ht(e,this,f)})}),Ja=_e(function(e,t){var i=dn(t,Kn(Ja));return $t(e,H,n,t,i)}),Ws=_e(function(e,t){var i=dn(t,Kn(Ws));return $t(e,J,n,t,i)}),q1=jt(function(e,t){return $t(e,K,n,n,n,t)});function U1(e,t){if(typeof e!="function")throw new bt(h);return t=t===n?t:de(t),_e(e,t)}function V1(e,t){if(typeof e!="function")throw new bt(h);return t=t==null?0:He(de(t),0),_e(function(i){var f=i[t],_=gn(i,0,t);return f&&cn(_,f),ht(e,this,_)})}function X1(e,t,i){var f=!0,_=!0;if(typeof e!="function")throw new bt(h);return Oe(i)&&(f="leading"in i?!!i.leading:f,_="trailing"in i?!!i.trailing:_),Gs(e,t,{leading:f,maxWait:t,trailing:_})}function z1(e){return Ls(e,1)}function K1(e,t){return Ja(La(t),e)}function Y1(){if(!arguments.length)return[];var e=arguments[0];return fe(e)?e:[e]}function Z1(e){return Tt(e,d)}function Q1(e,t){return t=typeof t=="function"?t:n,Tt(e,d,t)}function J1(e){return Tt(e,o|d)}function $1(e,t){return t=typeof t=="function"?t:n,Tt(e,o|d,t)}function j1(e,t){return t==null||Mu(e,t,We(t))}function Ct(e,t){return e===t||e!==e&&t!==t}var e_=dr(Ta),t_=dr(function(e,t){return e>=t}),En=Pu(function(){return arguments}())?Pu:function(e){return Pe(e)&&Ae.call(e,"callee")&&!wu.call(e,"callee")},fe=F.isArray,n_=tu?_t(tu):fd;function ot(e){return e!=null&&br(e.length)&&!tn(e)}function Le(e){return Pe(e)&&ot(e)}function i_(e){return e===!0||e===!1||Pe(e)&&Qe(e)==zt}var vn=g0||so,r_=nu?_t(nu):cd;function a_(e){return Pe(e)&&e.nodeType===1&&!Ai(e)}function o_(e){if(e==null)return!0;if(ot(e)&&(fe(e)||typeof e=="string"||typeof e.splice=="function"||vn(e)||Yn(e)||En(e)))return!e.length;var t=ze(e);if(t==Et||t==Rt)return!e.size;if(ki(e))return!Sa(e).length;for(var i in e)if(Ae.call(e,i))return!1;return!0}function u_(e,t){return yi(e,t)}function s_(e,t,i){i=typeof i=="function"?i:n;var f=i?i(e,t):n;return f===n?yi(e,t,n,i):!!f}function $a(e){if(!Pe(e))return!1;var t=Qe(e);return t==wn||t==Ci||typeof e.message=="string"&&typeof e.name=="string"&&!Ai(e)}function l_(e){return typeof e=="number"&&ku(e)}function tn(e){if(!Oe(e))return!1;var t=Qe(e);return t==Pi||t==Eo||t==ri||t==Cf}function qs(e){return typeof e=="number"&&e==de(e)}function br(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$}function Oe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Pe(e){return e!=null&&typeof e=="object"}var Us=iu?_t(iu):hd;function f_(e,t){return e===t||xa(e,t,qa(t))}function c_(e,t,i){return i=typeof i=="function"?i:n,xa(e,t,qa(t),i)}function d_(e){return Vs(e)&&e!=+e}function h_(e){if(Qd(e))throw new le(c);return Lu(e)}function __(e){return e===null}function m_(e){return e==null}function Vs(e){return typeof e=="number"||Pe(e)&&Qe(e)==ai}function Ai(e){if(!Pe(e)||Qe(e)!=Yt)return!1;var t=Yi(e);if(t===null)return!0;var i=Ae.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Vi.call(i)==c0}var ja=ru?_t(ru):_d;function p_(e){return qs(e)&&e>=-$&&e<=$}var Xs=au?_t(au):md;function kr(e){return typeof e=="string"||!fe(e)&&Pe(e)&&Qe(e)==ui}function pt(e){return typeof e=="symbol"||Pe(e)&&Qe(e)==Li}var Yn=ou?_t(ou):pd;function g_(e){return e===n}function v_(e){return Pe(e)&&ze(e)==si}function y_(e){return Pe(e)&&Qe(e)==Lf}var w_=dr(Ia),b_=dr(function(e,t){return e<=t});function zs(e){if(!e)return[];if(ot(e))return kr(e)?Ft(e):at(e);if(ci&&e[ci])return jc(e[ci]());var t=ze(e),i=t==Et?_a:t==Rt?Wi:Zn;return i(e)}function nn(e){if(!e)return e===0?e:0;if(e=St(e),e===Z||e===-Z){var t=e<0?-1:1;return t*Be}return e===e?e:0}function de(e){var t=nn(e),i=t%1;return t===t?i?t-i:t:0}function Ks(e){return e?xn(de(e),0,Ge):0}function St(e){if(typeof e=="number")return e;if(pt(e))return dt;if(Oe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Oe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=du(e);var i=nc.test(e);return i||rc.test(e)?Dc(e.slice(2),i?2:8):tc.test(e)?dt:+e}function Ys(e){return Bt(e,ut(e))}function k_(e){return e?xn(de(e),-$,$):e===0?e:0}function Te(e){return e==null?"":mt(e)}var T_=Xn(function(e,t){if(ki(t)||ot(t)){Bt(t,We(t),e);return}for(var i in t)Ae.call(t,i)&&pi(e,i,t[i])}),Zs=Xn(function(e,t){Bt(t,ut(t),e)}),Tr=Xn(function(e,t,i,f){Bt(t,ut(t),e,f)}),A_=Xn(function(e,t,i,f){Bt(t,We(t),e,f)}),x_=jt(wa);function S_(e,t){var i=Vn(e);return t==null?i:Iu(i,t)}var I_=_e(function(e,t){e=xe(e);var i=-1,f=t.length,_=f>2?t[2]:n;for(_&&Je(t[0],t[1],_)&&(f=1);++i<f;)for(var k=t[i],A=ut(k),S=-1,M=A.length;++S<M;){var B=A[S],N=e[B];(N===n||Ct(N,Wn[B])&&!Ae.call(e,B))&&(e[B]=k[B])}return e}),M_=_e(function(e){return e.push(n,ds),ht(Qs,n,e)});function E_(e,t){return su(e,ae(t,3),Dt)}function R_(e,t){return su(e,ae(t,3),ka)}function F_(e,t){return e==null?e:ba(e,ae(t,3),ut)}function O_(e,t){return e==null?e:Ou(e,ae(t,3),ut)}function C_(e,t){return e&&Dt(e,ae(t,3))}function P_(e,t){return e&&ka(e,ae(t,3))}function L_(e){return e==null?[]:rr(e,We(e))}function D_(e){return e==null?[]:rr(e,ut(e))}function eo(e,t,i){var f=e==null?n:Sn(e,t);return f===n?i:f}function B_(e,t){return e!=null&&ms(e,t,od)}function to(e,t){return e!=null&&ms(e,t,ud)}var N_=us(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Xi.call(t)),e[t]=i},io(st)),H_=us(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Xi.call(t)),Ae.call(e,t)?e[t].push(i):e[t]=[i]},ae),G_=_e(vi);function We(e){return ot(e)?xu(e):Sa(e)}function ut(e){return ot(e)?xu(e,!0):gd(e)}function W_(e,t){var i={};return t=ae(t,3),Dt(e,function(f,_,k){Jt(i,t(f,_,k),f)}),i}function q_(e,t){var i={};return t=ae(t,3),Dt(e,function(f,_,k){Jt(i,_,t(f,_,k))}),i}var U_=Xn(function(e,t,i){ar(e,t,i)}),Qs=Xn(function(e,t,i,f){ar(e,t,i,f)}),V_=jt(function(e,t){var i={};if(e==null)return i;var f=!1;t=Re(t,function(k){return k=pn(k,e),f||(f=k.length>1),k}),Bt(e,Ga(e),i),f&&(i=Tt(i,o|l|d,Nd));for(var _=t.length;_--;)Oa(i,t[_]);return i});function X_(e,t){return Js(e,wr(ae(t)))}var z_=jt(function(e,t){return e==null?{}:yd(e,t)});function Js(e,t){if(e==null)return{};var i=Re(Ga(e),function(f){return[f]});return t=ae(t),qu(e,i,function(f,_){return t(f,_[0])})}function K_(e,t,i){t=pn(t,e);var f=-1,_=t.length;for(_||(_=1,e=n);++f<_;){var k=e==null?n:e[Nt(t[f])];k===n&&(f=_,k=i),e=tn(k)?k.call(e):k}return e}function Y_(e,t,i){return e==null?e:wi(e,t,i)}function Z_(e,t,i,f){return f=typeof f=="function"?f:n,e==null?e:wi(e,t,i,f)}var $s=fs(We),js=fs(ut);function Q_(e,t,i){var f=fe(e),_=f||vn(e)||Yn(e);if(t=ae(t,4),i==null){var k=e&&e.constructor;_?i=f?new k:[]:Oe(e)?i=tn(k)?Vn(Yi(e)):{}:i={}}return(_?wt:Dt)(e,function(A,S,M){return t(i,A,S,M)}),i}function J_(e,t){return e==null?!0:Oa(e,t)}function $_(e,t,i){return e==null?e:Ku(e,t,La(i))}function j_(e,t,i,f){return f=typeof f=="function"?f:n,e==null?e:Ku(e,t,La(i),f)}function Zn(e){return e==null?[]:ha(e,We(e))}function em(e){return e==null?[]:ha(e,ut(e))}function tm(e,t,i){return i===n&&(i=t,t=n),i!==n&&(i=St(i),i=i===i?i:0),t!==n&&(t=St(t),t=t===t?t:0),xn(St(e),t,i)}function nm(e,t,i){return t=nn(t),i===n?(i=t,t=0):i=nn(i),e=St(e),sd(e,t,i)}function im(e,t,i){if(i&&typeof i!="boolean"&&Je(e,t,i)&&(t=i=n),i===n&&(typeof t=="boolean"?(i=t,t=n):typeof e=="boolean"&&(i=e,e=n)),e===n&&t===n?(e=0,t=1):(e=nn(e),t===n?(t=e,e=0):t=nn(t)),e>t){var f=e;e=t,t=f}if(i||e%1||t%1){var _=Tu();return Xe(e+_*(t-e+Lc("1e-"+((_+"").length-1))),t)}return Ea(e,t)}var rm=zn(function(e,t,i){return t=t.toLowerCase(),e+(i?el(t):t)});function el(e){return no(Te(e).toLowerCase())}function tl(e){return e=Te(e),e&&e.replace(oc,Yc).replace(xc,"")}function am(e,t,i){e=Te(e),t=mt(t);var f=e.length;i=i===n?f:xn(de(i),0,f);var _=i;return i-=t.length,i>=0&&e.slice(i,_)==t}function om(e){return e=Te(e),e&&Gf.test(e)?e.replace(Oo,Zc):e}function um(e){return e=Te(e),e&&zf.test(e)?e.replace(Jr,"\\$&"):e}var sm=zn(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),lm=zn(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),fm=rs("toLowerCase");function cm(e,t,i){e=Te(e),t=de(t);var f=t?Hn(e):0;if(!t||f>=t)return e;var _=(t-f)/2;return cr($i(_),i)+e+cr(Ji(_),i)}function dm(e,t,i){e=Te(e),t=de(t);var f=t?Hn(e):0;return t&&f<t?e+cr(t-f,i):e}function hm(e,t,i){e=Te(e),t=de(t);var f=t?Hn(e):0;return t&&f<t?cr(t-f,i)+e:e}function _m(e,t,i){return i||t==null?t=0:t&&(t=+t),b0(Te(e).replace($r,""),t||0)}function mm(e,t,i){return(i?Je(e,t,i):t===n)?t=1:t=de(t),Ra(Te(e),t)}function pm(){var e=arguments,t=Te(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var gm=zn(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function vm(e,t,i){return i&&typeof i!="number"&&Je(e,t,i)&&(t=i=n),i=i===n?Ge:i>>>0,i?(e=Te(e),e&&(typeof t=="string"||t!=null&&!ja(t))&&(t=mt(t),!t&&Nn(e))?gn(Ft(e),0,i):e.split(t,i)):[]}var ym=zn(function(e,t,i){return e+(i?" ":"")+no(t)});function wm(e,t,i){return e=Te(e),i=i==null?0:xn(de(i),0,e.length),t=mt(t),e.slice(i,i+t.length)==t}function bm(e,t,i){var f=y.templateSettings;i&&Je(e,t,i)&&(t=n),e=Te(e),t=Tr({},t,f,cs);var _=Tr({},t.imports,f.imports,cs),k=We(_),A=ha(_,k),S,M,B=0,N=t.interpolate||Di,q="__p += '",Q=ma((t.escape||Di).source+"|"+N.source+"|"+(N===Co?ec:Di).source+"|"+(t.evaluate||Di).source+"|$","g"),te="//# sourceURL="+(Ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rc+"]")+`
`;e.replace(Q,function(ue,pe,ve,gt,$e,vt){return ve||(ve=gt),q+=e.slice(B,vt).replace(uc,Qc),pe&&(S=!0,q+=`' +
__e(`+pe+`) +
'`),$e&&(M=!0,q+=`';
`+$e+`;
__p += '`),ve&&(q+=`' +
((__t = (`+ve+`)) == null ? '' : __t) +
'`),B=vt+ue.length,ue}),q+=`';
`;var oe=Ae.call(t,"variable")&&t.variable;if(!oe)q=`with (obj) {
`+q+`
}
`;else if($f.test(oe))throw new le(v);q=(M?q.replace(Df,""):q).replace(Bf,"$1").replace(Nf,"$1;"),q="function("+(oe||"obj")+`) {
`+(oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(M?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+q+`return __p
}`;var he=il(function(){return ke(k,te+"return "+q).apply(n,A)});if(he.source=q,$a(he))throw he;return he}function km(e){return Te(e).toLowerCase()}function Tm(e){return Te(e).toUpperCase()}function Am(e,t,i){if(e=Te(e),e&&(i||t===n))return du(e);if(!e||!(t=mt(t)))return e;var f=Ft(e),_=Ft(t),k=hu(f,_),A=_u(f,_)+1;return gn(f,k,A).join("")}function xm(e,t,i){if(e=Te(e),e&&(i||t===n))return e.slice(0,pu(e)+1);if(!e||!(t=mt(t)))return e;var f=Ft(e),_=_u(f,Ft(t))+1;return gn(f,0,_).join("")}function Sm(e,t,i){if(e=Te(e),e&&(i||t===n))return e.replace($r,"");if(!e||!(t=mt(t)))return e;var f=Ft(e),_=hu(f,Ft(t));return gn(f,_).join("")}function Im(e,t){var i=se,f=Y;if(Oe(t)){var _="separator"in t?t.separator:_;i="length"in t?de(t.length):i,f="omission"in t?mt(t.omission):f}e=Te(e);var k=e.length;if(Nn(e)){var A=Ft(e);k=A.length}if(i>=k)return e;var S=i-Hn(f);if(S<1)return f;var M=A?gn(A,0,S).join(""):e.slice(0,S);if(_===n)return M+f;if(A&&(S+=M.length-S),ja(_)){if(e.slice(S).search(_)){var B,N=M;for(_.global||(_=ma(_.source,Te(Po.exec(_))+"g")),_.lastIndex=0;B=_.exec(N);)var q=B.index;M=M.slice(0,q===n?S:q)}}else if(e.indexOf(mt(_),S)!=S){var Q=M.lastIndexOf(_);Q>-1&&(M=M.slice(0,Q))}return M+f}function Mm(e){return e=Te(e),e&&Hf.test(e)?e.replace(Fo,i0):e}var Em=zn(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),no=rs("toUpperCase");function nl(e,t,i){return e=Te(e),t=i?n:t,t===n?$c(e)?o0(e):Uc(e):e.match(t)||[]}var il=_e(function(e,t){try{return ht(e,n,t)}catch(i){return $a(i)?i:new le(i)}}),Rm=jt(function(e,t){return wt(t,function(i){i=Nt(i),Jt(e,i,Qa(e[i],e))}),e});function Fm(e){var t=e==null?0:e.length,i=ae();return e=t?Re(e,function(f){if(typeof f[1]!="function")throw new bt(h);return[i(f[0]),f[1]]}):[],_e(function(f){for(var _=-1;++_<t;){var k=e[_];if(ht(k[0],this,f))return ht(k[1],this,f)}})}function Om(e){return id(Tt(e,o))}function io(e){return function(){return e}}function Cm(e,t){return e==null||e!==e?t:e}var Pm=os(),Lm=os(!0);function st(e){return e}function ro(e){return Du(typeof e=="function"?e:Tt(e,o))}function Dm(e){return Nu(Tt(e,o))}function Bm(e,t){return Hu(e,Tt(t,o))}var Nm=_e(function(e,t){return function(i){return vi(i,e,t)}}),Hm=_e(function(e,t){return function(i){return vi(e,i,t)}});function ao(e,t,i){var f=We(t),_=rr(t,f);i==null&&!(Oe(t)&&(_.length||!f.length))&&(i=t,t=e,e=this,_=rr(t,We(t)));var k=!(Oe(i)&&"chain"in i)||!!i.chain,A=tn(e);return wt(_,function(S){var M=t[S];e[S]=M,A&&(e.prototype[S]=function(){var B=this.__chain__;if(k||B){var N=e(this.__wrapped__),q=N.__actions__=at(this.__actions__);return q.push({func:M,args:arguments,thisArg:e}),N.__chain__=B,N}return M.apply(e,cn([this.value()],arguments))})}),e}function Gm(){return qe._===this&&(qe._=d0),this}function oo(){}function Wm(e){return e=de(e),_e(function(t){return Gu(t,e)})}var qm=Ba(Re),Um=Ba(uu),Vm=Ba(sa);function rl(e){return Va(e)?la(Nt(e)):wd(e)}function Xm(e){return function(t){return e==null?n:Sn(e,t)}}var zm=ss(),Km=ss(!0);function uo(){return[]}function so(){return!1}function Ym(){return{}}function Zm(){return""}function Qm(){return!0}function Jm(e,t){if(e=de(e),e<1||e>$)return[];var i=Ge,f=Xe(e,Ge);t=ae(t),e-=Ge;for(var _=da(f,t);++i<e;)t(i);return _}function $m(e){return fe(e)?Re(e,Nt):pt(e)?[e]:at(As(Te(e)))}function jm(e){var t=++f0;return Te(e)+t}var e6=fr(function(e,t){return e+t},0),t6=Na("ceil"),n6=fr(function(e,t){return e/t},1),i6=Na("floor");function r6(e){return e&&e.length?ir(e,st,Ta):n}function a6(e,t){return e&&e.length?ir(e,ae(t,2),Ta):n}function o6(e){return fu(e,st)}function u6(e,t){return fu(e,ae(t,2))}function s6(e){return e&&e.length?ir(e,st,Ia):n}function l6(e,t){return e&&e.length?ir(e,ae(t,2),Ia):n}var f6=fr(function(e,t){return e*t},1),c6=Na("round"),d6=fr(function(e,t){return e-t},0);function h6(e){return e&&e.length?ca(e,st):0}function _6(e,t){return e&&e.length?ca(e,ae(t,2)):0}return y.after=D1,y.ary=Ls,y.assign=T_,y.assignIn=Zs,y.assignInWith=Tr,y.assignWith=A_,y.at=x_,y.before=Ds,y.bind=Qa,y.bindAll=Rm,y.bindKey=Bs,y.castArray=Y1,y.chain=Os,y.chunk=ih,y.compact=rh,y.concat=ah,y.cond=Fm,y.conforms=Om,y.constant=io,y.countBy=h1,y.create=S_,y.curry=Ns,y.curryRight=Hs,y.debounce=Gs,y.defaults=I_,y.defaultsDeep=M_,y.defer=B1,y.delay=N1,y.difference=oh,y.differenceBy=uh,y.differenceWith=sh,y.drop=lh,y.dropRight=fh,y.dropRightWhile=ch,y.dropWhile=dh,y.fill=hh,y.filter=m1,y.flatMap=v1,y.flatMapDeep=y1,y.flatMapDepth=w1,y.flatten=Ms,y.flattenDeep=_h,y.flattenDepth=mh,y.flip=H1,y.flow=Pm,y.flowRight=Lm,y.fromPairs=ph,y.functions=L_,y.functionsIn=D_,y.groupBy=b1,y.initial=vh,y.intersection=yh,y.intersectionBy=wh,y.intersectionWith=bh,y.invert=N_,y.invertBy=H_,y.invokeMap=T1,y.iteratee=ro,y.keyBy=A1,y.keys=We,y.keysIn=ut,y.map=gr,y.mapKeys=W_,y.mapValues=q_,y.matches=Dm,y.matchesProperty=Bm,y.memoize=yr,y.merge=U_,y.mergeWith=Qs,y.method=Nm,y.methodOf=Hm,y.mixin=ao,y.negate=wr,y.nthArg=Wm,y.omit=V_,y.omitBy=X_,y.once=G1,y.orderBy=x1,y.over=qm,y.overArgs=W1,y.overEvery=Um,y.overSome=Vm,y.partial=Ja,y.partialRight=Ws,y.partition=S1,y.pick=z_,y.pickBy=Js,y.property=rl,y.propertyOf=Xm,y.pull=xh,y.pullAll=Rs,y.pullAllBy=Sh,y.pullAllWith=Ih,y.pullAt=Mh,y.range=zm,y.rangeRight=Km,y.rearg=q1,y.reject=E1,y.remove=Eh,y.rest=U1,y.reverse=Ya,y.sampleSize=F1,y.set=Y_,y.setWith=Z_,y.shuffle=O1,y.slice=Rh,y.sortBy=L1,y.sortedUniq=Bh,y.sortedUniqBy=Nh,y.split=vm,y.spread=V1,y.tail=Hh,y.take=Gh,y.takeRight=Wh,y.takeRightWhile=qh,y.takeWhile=Uh,y.tap=r1,y.throttle=X1,y.thru=pr,y.toArray=zs,y.toPairs=$s,y.toPairsIn=js,y.toPath=$m,y.toPlainObject=Ys,y.transform=Q_,y.unary=z1,y.union=Vh,y.unionBy=Xh,y.unionWith=zh,y.uniq=Kh,y.uniqBy=Yh,y.uniqWith=Zh,y.unset=J_,y.unzip=Za,y.unzipWith=Fs,y.update=$_,y.updateWith=j_,y.values=Zn,y.valuesIn=em,y.without=Qh,y.words=nl,y.wrap=K1,y.xor=Jh,y.xorBy=$h,y.xorWith=jh,y.zip=e1,y.zipObject=t1,y.zipObjectDeep=n1,y.zipWith=i1,y.entries=$s,y.entriesIn=js,y.extend=Zs,y.extendWith=Tr,ao(y,y),y.add=e6,y.attempt=il,y.camelCase=rm,y.capitalize=el,y.ceil=t6,y.clamp=tm,y.clone=Z1,y.cloneDeep=J1,y.cloneDeepWith=$1,y.cloneWith=Q1,y.conformsTo=j1,y.deburr=tl,y.defaultTo=Cm,y.divide=n6,y.endsWith=am,y.eq=Ct,y.escape=om,y.escapeRegExp=um,y.every=_1,y.find=p1,y.findIndex=Ss,y.findKey=E_,y.findLast=g1,y.findLastIndex=Is,y.findLastKey=R_,y.floor=i6,y.forEach=Cs,y.forEachRight=Ps,y.forIn=F_,y.forInRight=O_,y.forOwn=C_,y.forOwnRight=P_,y.get=eo,y.gt=e_,y.gte=t_,y.has=B_,y.hasIn=to,y.head=Es,y.identity=st,y.includes=k1,y.indexOf=gh,y.inRange=nm,y.invoke=G_,y.isArguments=En,y.isArray=fe,y.isArrayBuffer=n_,y.isArrayLike=ot,y.isArrayLikeObject=Le,y.isBoolean=i_,y.isBuffer=vn,y.isDate=r_,y.isElement=a_,y.isEmpty=o_,y.isEqual=u_,y.isEqualWith=s_,y.isError=$a,y.isFinite=l_,y.isFunction=tn,y.isInteger=qs,y.isLength=br,y.isMap=Us,y.isMatch=f_,y.isMatchWith=c_,y.isNaN=d_,y.isNative=h_,y.isNil=m_,y.isNull=__,y.isNumber=Vs,y.isObject=Oe,y.isObjectLike=Pe,y.isPlainObject=Ai,y.isRegExp=ja,y.isSafeInteger=p_,y.isSet=Xs,y.isString=kr,y.isSymbol=pt,y.isTypedArray=Yn,y.isUndefined=g_,y.isWeakMap=v_,y.isWeakSet=y_,y.join=kh,y.kebabCase=sm,y.last=xt,y.lastIndexOf=Th,y.lowerCase=lm,y.lowerFirst=fm,y.lt=w_,y.lte=b_,y.max=r6,y.maxBy=a6,y.mean=o6,y.meanBy=u6,y.min=s6,y.minBy=l6,y.stubArray=uo,y.stubFalse=so,y.stubObject=Ym,y.stubString=Zm,y.stubTrue=Qm,y.multiply=f6,y.nth=Ah,y.noConflict=Gm,y.noop=oo,y.now=vr,y.pad=cm,y.padEnd=dm,y.padStart=hm,y.parseInt=_m,y.random=im,y.reduce=I1,y.reduceRight=M1,y.repeat=mm,y.replace=pm,y.result=K_,y.round=c6,y.runInContext=I,y.sample=R1,y.size=C1,y.snakeCase=gm,y.some=P1,y.sortedIndex=Fh,y.sortedIndexBy=Oh,y.sortedIndexOf=Ch,y.sortedLastIndex=Ph,y.sortedLastIndexBy=Lh,y.sortedLastIndexOf=Dh,y.startCase=ym,y.startsWith=wm,y.subtract=d6,y.sum=h6,y.sumBy=_6,y.template=bm,y.times=Jm,y.toFinite=nn,y.toInteger=de,y.toLength=Ks,y.toLower=km,y.toNumber=St,y.toSafeInteger=k_,y.toString=Te,y.toUpper=Tm,y.trim=Am,y.trimEnd=xm,y.trimStart=Sm,y.truncate=Im,y.unescape=Mm,y.uniqueId=jm,y.upperCase=Em,y.upperFirst=no,y.each=Cs,y.eachRight=Ps,y.first=Es,ao(y,function(){var e={};return Dt(y,function(t,i){Ae.call(y.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),y.VERSION=u,wt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){y[e].placeholder=y}),wt(["drop","take"],function(e,t){ge.prototype[e]=function(i){i=i===n?1:He(de(i),0);var f=this.__filtered__&&!t?new ge(this):this.clone();return f.__filtered__?f.__takeCount__=Xe(i,f.__takeCount__):f.__views__.push({size:Xe(i,Ge),type:e+(f.__dir__<0?"Right":"")}),f},ge.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),wt(["filter","map","takeWhile"],function(e,t){var i=t+1,f=i==V||i==me;ge.prototype[e]=function(_){var k=this.clone();return k.__iteratees__.push({iteratee:ae(_,3),type:i}),k.__filtered__=k.__filtered__||f,k}}),wt(["head","last"],function(e,t){var i="take"+(t?"Right":"");ge.prototype[e]=function(){return this[i](1).value()[0]}}),wt(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");ge.prototype[e]=function(){return this.__filtered__?new ge(this):this[i](1)}}),ge.prototype.compact=function(){return this.filter(st)},ge.prototype.find=function(e){return this.filter(e).head()},ge.prototype.findLast=function(e){return this.reverse().find(e)},ge.prototype.invokeMap=_e(function(e,t){return typeof e=="function"?new ge(this):this.map(function(i){return vi(i,e,t)})}),ge.prototype.reject=function(e){return this.filter(wr(ae(e)))},ge.prototype.slice=function(e,t){e=de(e);var i=this;return i.__filtered__&&(e>0||t<0)?new ge(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==n&&(t=de(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},ge.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ge.prototype.toArray=function(){return this.take(Ge)},Dt(ge.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),_=y[f?"take"+(t=="last"?"Right":""):t],k=f||/^find/.test(t);_&&(y.prototype[t]=function(){var A=this.__wrapped__,S=f?[1]:arguments,M=A instanceof ge,B=S[0],N=M||fe(A),q=function(pe){var ve=_.apply(y,cn([pe],S));return f&&Q?ve[0]:ve};N&&i&&typeof B=="function"&&B.length!=1&&(M=N=!1);var Q=this.__chain__,te=!!this.__actions__.length,oe=k&&!Q,he=M&&!te;if(!k&&N){A=he?A:new ge(this);var ue=e.apply(A,S);return ue.__actions__.push({func:pr,args:[q],thisArg:n}),new kt(ue,Q)}return oe&&he?e.apply(this,S):(ue=this.thru(q),oe?f?ue.value()[0]:ue.value():ue)})}),wt(["pop","push","shift","sort","splice","unshift"],function(e){var t=qi[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);y.prototype[e]=function(){var _=arguments;if(f&&!this.__chain__){var k=this.value();return t.apply(fe(k)?k:[],_)}return this[i](function(A){return t.apply(fe(A)?A:[],_)})}}),Dt(ge.prototype,function(e,t){var i=y[t];if(i){var f=i.name+"";Ae.call(Un,f)||(Un[f]=[]),Un[f].push({name:t,func:i})}}),Un[lr(n,T).name]=[{name:"wrapper",func:n}],ge.prototype.clone=M0,ge.prototype.reverse=E0,ge.prototype.value=R0,y.prototype.at=a1,y.prototype.chain=o1,y.prototype.commit=u1,y.prototype.next=s1,y.prototype.plant=f1,y.prototype.reverse=c1,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=d1,y.prototype.first=y.prototype.head,ci&&(y.prototype[ci]=l1),y},Gn=u0();bn?((bn.exports=Gn)._=Gn,ra._=Gn):qe._=Gn}).call(Gt)})(Ig,Nr);const Mf=Nr;function Ul(a,r,n){const u=a.slice();return u[31]=r[n],u[33]=n,u}function Vl(a){let r,n,u=Object.keys(a[3]),s=[];for(let h=0;h<u.length;h+=1)s[h]=Xl(Ul(a,u,h));const c=h=>be(s[h],1,1,()=>{s[h]=null});return{c(){for(let h=0;h<s.length;h+=1)s[h].c();r=Ye()},l(h){for(let v=0;v<s.length;v+=1)s[v].l(h);r=Ye()},m(h,v){for(let m=0;m<s.length;m+=1)s[m].m(h,v);ie(h,r,v),n=!0},p(h,v){if(v[0]&40){u=Object.keys(h[3]);let m;for(m=0;m<u.length;m+=1){const p=Ul(h,u,m);s[m]?(s[m].p(p,v),ce(s[m],1)):(s[m]=Xl(p),s[m].c(),ce(s[m],1),s[m].m(r.parentNode,r))}for(Vt(),m=u.length;m<s.length;m+=1)c(m);Xt()}},i(h){if(!n){for(let v=0;v<u.length;v+=1)ce(s[v]);n=!0}},o(h){s=s.filter(Boolean);for(let v=0;v<s.length;v+=1)be(s[v]);n=!1},d(h){It(s,h),h&&O(r)}}}function Xl(a){let r,n;return r=new Sf({props:{data:a[3][a[31]],id:a[31],height:a[5]}}),{c(){et(r.$$.fragment)},l(u){ct(r.$$.fragment,u)},m(u,s){tt(r,u,s),n=!0},p(u,s){const c={};s[0]&8&&(c.data=u[3][u[31]]),s[0]&8&&(c.id=u[31]),s[0]&32&&(c.height=u[5]),r.$set(c)},i(u){n||(ce(r.$$.fragment,u),n=!0)},o(u){be(r.$$.fragment,u),n=!1},d(u){nt(r,u)}}}function zl(a){let r,n,u,s;return r=new If({}),u=new lg({props:{data:a[4],barHeight:a[5]}}),{c(){et(r.$$.fragment),n=ye(),et(u.$$.fragment)},l(c){ct(r.$$.fragment,c),n=we(c),ct(u.$$.fragment,c)},m(c,h){tt(r,c,h),ie(c,n,h),tt(u,c,h),s=!0},p(c,h){const v={};h[0]&16&&(v.data=c[4]),h[0]&32&&(v.barHeight=c[5]),u.$set(v)},i(c){s||(ce(r.$$.fragment,c),ce(u.$$.fragment,c),s=!0)},o(c){be(r.$$.fragment,c),be(u.$$.fragment,c),s=!1},d(c){nt(r,c),c&&O(n),nt(u,c)}}}function Mg(a){let r,n=a[1].toFixed(2)+"",u,s,c,h,v,m=a[8].toFixed(1)+"",p,b,o,l,d,g,w,x,T,E,D,C,H,J,L,K,W,se,Y,re,U,V,ne=a[2]&&Vl(a),me=a[0]&&zl(a);return{c(){r=X("p"),u=Ie(n),s=Ie("s"),c=ye(),h=X("p"),v=Ie("beat: "),p=Ie(m),b=ye(),o=X("p"),l=Ie("measure: "),d=Ie(a[7]),g=ye(),w=X("div"),x=X("div"),T=X("div"),E=ye(),ne&&ne.c(),C=ye(),H=X("button"),J=Ie("play"),L=ye(),K=X("button"),W=Ie("pause"),se=ye(),me&&me.c(),Y=Ye(),this.h()},l(Z){r=z(Z,"P",{});var $=ee(r);u=Me($,n),s=Me($,"s"),$.forEach(O),c=we(Z),h=z(Z,"P",{});var Be=ee(h);v=Me(Be,"beat: "),p=Me(Be,m),Be.forEach(O),b=we(Z),o=z(Z,"P",{});var dt=ee(o);l=Me(dt,"measure: "),d=Me(dt,a[7]),dt.forEach(O),g=we(Z),w=z(Z,"DIV",{class:!0});var Ge=ee(w);x=z(Ge,"DIV",{class:!0});var Mt=ee(x);T=z(Mt,"DIV",{class:!0}),ee(T).forEach(O),E=we(Mt),ne&&ne.l(Mt),Mt.forEach(O),Ge.forEach(O),C=we(Z),H=z(Z,"BUTTON",{});var un=ee(H);J=Me(un,"play"),un.forEach(O),L=we(Z),K=z(Z,"BUTTON",{});var sn=ee(K);W=Me(sn,"pause"),sn.forEach(O),se=we(Z),me&&me.l(Z),Y=Ye(),this.h()},h(){R(T,"class","marker svelte-1ir7iin"),Ce(T,"left",`${a[6](a[8])}px`),R(x,"class","instruments svelte-1ir7iin"),v6(()=>a[21].call(x)),R(w,"class","container svelte-1ir7iin"),Ce(w,"height",`${Ef}px`)},m(Z,$){ie(Z,r,$),G(r,u),G(r,s),ie(Z,c,$),ie(Z,h,$),G(h,v),G(h,p),ie(Z,b,$),ie(Z,o,$),G(o,l),G(o,d),ie(Z,g,$),ie(Z,w,$),G(w,x),G(x,T),G(x,E),ne&&ne.m(x,null),D=y6(x,a[21].bind(x)),ie(Z,C,$),ie(Z,H,$),G(H,J),ie(Z,L,$),ie(Z,K,$),G(K,W),ie(Z,se,$),me&&me.m(Z,$),ie(Z,Y,$),re=!0,U||(V=[Ut(H,"click",a[14]),Ut(K,"click",a[15])],U=!0)},p(Z,$){(!re||$[0]&2)&&n!==(n=Z[1].toFixed(2)+"")&&Wt(u,n),(!re||$[0]&256)&&m!==(m=Z[8].toFixed(1)+"")&&Wt(p,m),(!re||$[0]&128)&&Wt(d,Z[7]),$[0]&320&&Ce(T,"left",`${Z[6](Z[8])}px`),Z[2]?ne?(ne.p(Z,$),$[0]&4&&ce(ne,1)):(ne=Vl(Z),ne.c(),ce(ne,1),ne.m(x,null)):ne&&(Vt(),be(ne,1,1,()=>{ne=null}),Xt()),Z[0]?me?(me.p(Z,$),$[0]&1&&ce(me,1)):(me=zl(Z),me.c(),ce(me,1),me.m(Y.parentNode,Y)):me&&(Vt(),be(me,1,1,()=>{me=null}),Xt())},i(Z){re||(ce(ne),ce(me),re=!0)},o(Z){be(ne),be(me),re=!1},d(Z){Z&&O(r),Z&&O(c),Z&&O(h),Z&&O(b),Z&&O(o),Z&&O(g),Z&&O(w),ne&&ne.d(),D(),Z&&O(C),Z&&O(H),Z&&O(L),Z&&O(K),Z&&O(se),me&&me.d(Z),Z&&O(Y),U=!1,Gr(V)}}}const Ef=500;function Eg(a,r,n){let u,s,c,h,v,m,p,b,{id:o}=r,{beatsPerMeasure:l=4}=r,{measures:d}=r,{playable:g=!1}=r,w,x=0;Er("song",{beatsPerMeasure:l,getCurrentBeat:()=>C,getCurrentMeasure:()=>H,getXScale:()=>J,getInstrumentToggles:()=>L,getCycleDuration:()=>u,getIsPlaying:()=>K,getData:()=>D,isPlayable:g});const T=new Howl({src:[`assets/sound/${o.includes("dmat")?"dmat":o}.mp3`]}),E={kamaal:_g,sincerity:gg,lightSwitch:wg,dmatSwung:Tg,dmatStraight:Sg},D=Fn({});je(a,D,$=>n(3,v=$));const C=Fn(0);je(a,C,$=>n(8,b=$));const H=Fn(0);je(a,H,$=>n(7,p=$));const J=Fn(void 0);je(a,J,$=>n(6,m=$));const L=Fn({hihat:"on",snare:"on",kick:"on"}),K=Fn(!1);je(a,K,$=>n(24,h=$));let W,se=()=>0;T.on("load",()=>{Y()});const Y=()=>{n(19,se=Ei().domain([0,T.duration()*1e3]).range([0,l*d]))};let re=[];T.on("end",()=>{g&&U(),V()});const U=()=>{n(4,re=v.hihat),an(D,v={hihat:[]},v)},V=()=>{an(K,h=!0,h),T.play(),w=requestAnimationFrame(me)},ne=()=>{an(K,h=!1,h),cancelAnimationFrame(w),T.pause()},me=()=>{n(1,x=T.seek()),w=requestAnimationFrame(me)};function Z(){W=this.clientWidth,n(2,W)}return a.$$set=$=>{"id"in $&&n(16,o=$.id),"beatsPerMeasure"in $&&n(17,l=$.beatsPerMeasure),"measures"in $&&n(18,d=$.measures),"playable"in $&&n(0,g=$.playable)},a.$$.update=()=>{a.$$.dirty[0]&65536&&Y(),a.$$.dirty[0]&655363&&an(C,b=g?se(x*1e3)%l-.5:se(x*1e3)%l,b),a.$$.dirty[0]&655362&&an(H,p=Math.floor(se(x*1e3)/l),p),a.$$.dirty[0]&131076&&an(J,m=Ei().domain([0,l]).range([0,W]),m),a.$$.dirty[0]&458753&&an(D,v=g?{hihat:[]}:o==="sincerity"?Mf.pick(ql(o,E[o],l,d),"hihat"):ql(o,E[o],l,d),v),a.$$.dirty[0]&8&&n(20,s=Af().domain(Object.keys(v)).range([0,Ef]).padding(.45)),a.$$.dirty[0]&1048576&&n(5,c=s.bandwidth())},u=T.duration()*1e3,[g,x,W,v,re,c,m,p,b,D,C,H,J,K,V,ne,o,l,d,se,s,Z]}class Rg extends it{constructor(r){super(),rt(this,r,Eg,Mg,Ze,{id:16,beatsPerMeasure:17,measures:18,playable:0},null,[-1,-1])}}function Fg(a){let r;return{c(){r=Qn("circle"),this.h()},l(n){r=Jn(n,"circle",{cx:!0,cy:!0,r:!0}),ee(r).forEach(O),this.h()},h(){R(r,"cx",a[0]),R(r,"cy",a[1]),R(r,"r",10),Ce(r,"transform","translate(50%, 50%)")},m(n,u){ie(n,r,u)},p(n,[u]){u&1&&R(r,"cx",n[0]),u&2&&R(r,"cy",n[1])},i:Fe,o:Fe,d(n){n&&O(r)}}}const Og=.05;function Cg(a,r,n){let u,s,{note:c}=r,{cx:h}=r,{cy:v}=r;const{getT:m}=Hr("song"),p=m();je(a,p,o=>n(5,s=o));const b=new xi.Howl({src:["assets/sound/hihat.mp3"]});return a.$$set=o=>{"note"in o&&n(3,c=o.note),"cx"in o&&n(0,h=o.cx),"cy"in o&&n(1,v=o.cy)},a.$$.update=()=>{a.$$.dirty&40&&n(4,u=s>=c&&s<c+Og),a.$$.dirty&16&&u&&b.state()==="loaded"&&b.play()},[h,v,p,c,u,s]}class Pg extends it{constructor(r){super(),rt(this,r,Cg,Fg,Ze,{note:3,cx:0,cy:1})}}function Kl(a){return Object.prototype.toString.call(a)==="[object Date]"}function ko(a,r){if(a===r||a!==a)return()=>a;const n=typeof a;if(n!==typeof r||Array.isArray(a)!==Array.isArray(r))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){const u=r.map((s,c)=>ko(a[c],s));return s=>u.map(c=>c(s))}if(n==="object"){if(!a||!r)throw new Error("Object cannot be null");if(Kl(a)&&Kl(r)){a=a.getTime(),r=r.getTime();const c=r-a;return h=>new Date(a+h*c)}const u=Object.keys(r),s={};return u.forEach(c=>{s[c]=ko(a[c],r[c])}),c=>{const h={};return u.forEach(v=>{h[v]=s[v](c)}),h}}if(n==="number"){const u=r-a;return s=>a+s*u}throw new Error(`Cannot interpolate ${n} values`)}function Lg(a,r={}){const n=Fn(a);let u,s=a;function c(h,v){if(a==null)return n.set(a=h),Promise.resolve();s=h;let m=u,p=!1,{delay:b=0,duration:o=400,easing:l=k6,interpolate:d=ko}=ti(ti({},r),v);if(o===0)return m&&(m.abort(),m=null),n.set(a=s),Promise.resolve();const g=w6()+b;let w;return u=b6(x=>{if(x<g)return!0;p||(w=d(a,h),typeof o=="function"&&(o=o(a,h)),p=!0),m&&(m.abort(),m=null);const T=x-g;return T>o?(n.set(a=h),!1):(n.set(a=w(l(T/o))),!0)}),u.promise}return{set:c,update:(h,v)=>c(h(s,a),v),subscribe:n.subscribe}}function Yl(a,r,n){const u=a.slice();return u[11]=r[n],u}function Zl(a,r,n){const u=a.slice();return u[11]=r[n],u}function Ql(a){let r,n=Dr(`.${a[7]}f`)(a[11])+"",u;return{c(){r=X("span"),u=Ie(n),this.h()},l(s){r=z(s,"SPAN",{class:!0});var c=ee(r);u=Me(c,n),c.forEach(O),this.h()},h(){R(r,"class","tick svelte-17bb3pq")},m(s,c){ie(s,r,c),G(r,u)},p(s,c){c&129&&n!==(n=Dr(`.${s[7]}f`)(s[11])+"")&&Wt(u,n)},d(s){s&&O(r)}}}function Jl(a){let r,n=a[11]+"",u;return{c(){r=X("span"),u=Ie(n),this.h()},l(s){r=z(s,"SPAN",{class:!0});var c=ee(r);u=Me(c,n),c.forEach(O),this.h()},h(){R(r,"class","tick svelte-17bb3pq")},m(s,c){ie(s,r,c),G(r,u)},p(s,c){c&64&&n!==(n=s[11]+"")&&Wt(u,n)},d(s){s&&O(r)}}}function Dg(a){let r,n,u,s,c,h,v,m,p=a[0],b=[];for(let d=0;d<p.length;d+=1)b[d]=Ql(Zl(a,p,d));let o=a[6],l=[];for(let d=0;d<o.length;d+=1)l[d]=Jl(Yl(a,o,d));return{c(){r=X("div"),n=X("div");for(let d=0;d<b.length;d+=1)b[d].c();u=ye(),s=X("div");for(let d=0;d<l.length;d+=1)l[d].c();c=ye(),h=X("input"),this.h()},l(d){r=z(d,"DIV",{class:!0});var g=ee(r);n=z(g,"DIV",{class:!0});var w=ee(n);for(let T=0;T<b.length;T+=1)b[T].l(w);w.forEach(O),u=we(g),s=z(g,"DIV",{class:!0});var x=ee(s);for(let T=0;T<l.length;T+=1)l[T].l(x);x.forEach(O),c=we(g),h=z(g,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),g.forEach(O),this.h()},h(){R(n,"class","ticks svelte-17bb3pq"),R(s,"class","ticks-above svelte-17bb3pq"),R(h,"type","range"),R(h,"aria-label",a[5]),R(h,"min",a[2]),R(h,"max",a[3]),R(h,"step",a[4]),R(h,"class","svelte-17bb3pq"),R(r,"class","range svelte-17bb3pq")},m(d,g){ie(d,r,g),G(r,n);for(let w=0;w<b.length;w+=1)b[w].m(n,null);G(r,u),G(r,s);for(let w=0;w<l.length;w+=1)l[w].m(s,null);G(r,c),G(r,h),ul(h,a[1]),v||(m=[Ut(h,"change",a[9]),Ut(h,"input",a[9])],v=!0)},p(d,[g]){if(g&129){p=d[0];let w;for(w=0;w<p.length;w+=1){const x=Zl(d,p,w);b[w]?b[w].p(x,g):(b[w]=Ql(x),b[w].c(),b[w].m(n,null))}for(;w<b.length;w+=1)b[w].d(1);b.length=p.length}if(g&64){o=d[6];let w;for(w=0;w<o.length;w+=1){const x=Yl(d,o,w);l[w]?l[w].p(x,g):(l[w]=Jl(x),l[w].c(),l[w].m(s,null))}for(;w<l.length;w+=1)l[w].d(1);l.length=o.length}g&32&&R(h,"aria-label",d[5]),g&4&&R(h,"min",d[2]),g&8&&R(h,"max",d[3]),g&16&&R(h,"step",d[4]),g&2&&ul(h,d[1])},i:Fe,o:Fe,d(d){d&&O(r),It(b,d),It(l,d),v=!1,Gr(m)}}}function Bg(a,r,n){let u,{min:s=0}=r,{max:c=100}=r,{step:h=1}=r,{showTicks:v=!1}=r,{value:m=s}=r,{label:p=""}=r,{ticks:b}=r,{ticksAbove:o}=r;const l=g=>Math.floor(g)===g?0:g.toString().split(".")[1].length||0;function d(){m=T6(this.value),n(1,m)}return a.$$set=g=>{"min"in g&&n(2,s=g.min),"max"in g&&n(3,c=g.max),"step"in g&&n(4,h=g.step),"showTicks"in g&&n(8,v=g.showTicks),"value"in g&&n(1,m=g.value),"label"in g&&n(5,p=g.label),"ticks"in g&&n(0,b=g.ticks),"ticksAbove"in g&&n(6,o=g.ticksAbove)},a.$$.update=()=>{a.$$.dirty&16&&n(7,u=l(h)),a.$$.dirty&285&&n(0,b=b||(v?ni(s,c+h,h):[]))},[b,m,s,c,h,p,o,u,v,d]}class Ng extends it{constructor(r){super(),rt(this,r,Bg,Dg,Ze,{min:2,max:3,step:4,showTicks:8,value:1,label:5,ticks:0,ticksAbove:6})}}function $l(a,r,n){const u=a.slice();u[22]=r[n];const s=u[9](u[3](u[22]));u[23]=s;const c=u[10](u[3](u[22]));return u[24]=c,u}function jl(a,r,n){const u=a.slice();return u[27]=r[n],u}function ef(a){let r,n=ni(0,1,1/a[2]),u=[];for(let s=0;s<n.length;s+=1)u[s]=tf(jl(a,n,s));return{c(){for(let s=0;s<u.length;s+=1)u[s].c();r=Ye()},l(s){for(let c=0;c<u.length;c+=1)u[c].l(s);r=Ye()},m(s,c){for(let h=0;h<u.length;h+=1)u[h].m(s,c);ie(s,r,c)},p(s,c){if(c&268){n=ni(0,1,1/s[2]);let h;for(h=0;h<n.length;h+=1){const v=jl(s,n,h);u[h]?u[h].p(v,c):(u[h]=tf(v),u[h].c(),u[h].m(r.parentNode,r))}for(;h<u.length;h+=1)u[h].d(1);u.length=n.length}},d(s){It(u,s),s&&O(r)}}}function tf(a){let r,n,u;return{c(){r=Qn("line"),this.h()},l(s){r=Jn(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),ee(r).forEach(O),this.h()},h(){R(r,"x1",0),R(r,"y1",0),R(r,"x2",n=a[8]*Math.cos(a[3](a[27]))),R(r,"y2",u=a[8]*Math.sin(a[3](a[27]))),R(r,"class","svelte-1ksznrg"),Ce(r,"transform","translate(50%, 50%)")},m(s,c){ie(s,r,c)},p(s,c){c&12&&n!==(n=s[8]*Math.cos(s[3](s[27])))&&R(r,"x2",n),c&12&&u!==(u=s[8]*Math.sin(s[3](s[27])))&&R(r,"y2",u)},d(s){s&&O(r)}}}function nf(a){let r,n;return r=new Pg({props:{note:a[22],cx:a[23],cy:a[24]}}),{c(){et(r.$$.fragment)},l(u){ct(r.$$.fragment,u)},m(u,s){tt(r,u,s),n=!0},p(u,s){const c={};s&16&&(c.note=u[22]),s&24&&(c.cx=u[23]),s&24&&(c.cy=u[24]),r.$set(c)},i(u){n||(ce(r.$$.fragment,u),n=!0)},o(u){be(r.$$.fragment,u),n=!1},d(u){nt(r,u)}}}function rf(a){let r,n,u,s,c,h,v,m,p,b,o,l;function d(w){a[19](w)}let g={min:1,max:11,step:2,showTicks:!0,ticksAbove:ni(1,12,2).map(a[18])};return a[2]!==void 0&&(g.value=a[2]),b=new Ng({props:g}),hf.push(()=>_f(b,"value",d)),{c(){r=X("div"),n=X("div"),u=X("div"),s=Ie("swing percentage"),c=ye(),h=X("div"),v=Ie("divide the beat in"),m=ye(),p=X("div"),et(b.$$.fragment),this.h()},l(w){r=z(w,"DIV",{class:!0});var x=ee(r);n=z(x,"DIV",{class:!0});var T=ee(n);u=z(T,"DIV",{class:!0});var E=ee(u);s=Me(E,"swing percentage"),E.forEach(O),c=we(T),h=z(T,"DIV",{class:!0});var D=ee(h);v=Me(D,"divide the beat in"),D.forEach(O),T.forEach(O),m=we(x),p=z(x,"DIV",{class:!0});var C=ee(p);ct(b.$$.fragment,C),C.forEach(O),x.forEach(O),this.h()},h(){R(u,"class","svelte-1ksznrg"),R(h,"class","svelte-1ksznrg"),R(n,"class","labels svelte-1ksznrg"),R(p,"class","slider svelte-1ksznrg"),R(r,"class","interactive svelte-1ksznrg")},m(w,x){ie(w,r,x),G(r,n),G(n,u),G(u,s),G(n,c),G(n,h),G(h,v),G(r,m),G(r,p),tt(b,p,null),l=!0},p(w,x){const T={};!o&&x&4&&(o=!0,T.value=w[2],mf(()=>o=!1)),b.$set(T)},i(w){l||(ce(b.$$.fragment,w),l=!0)},o(w){be(b.$$.fragment,w),l=!1},d(w){w&&O(r),nt(b)}}}function Hg(a){let r,n,u,s,c,h,v,m,p,b,o,l,d,g,w,x,T,E=a[0]&&ef(a),D=a[4],C=[];for(let L=0;L<D.length;L+=1)C[L]=nf($l(a,D,L));const H=L=>be(C[L],1,1,()=>{C[L]=null});let J=a[1]&&rf(a);return{c(){r=Qn("svg"),n=Qn("circle"),u=Qn("path"),E&&E.c(),c=Qn("line");for(let L=0;L<C.length;L+=1)C[L].c();m=ye(),J&&J.c(),p=ye(),b=X("button"),o=Ie("play"),l=ye(),d=X("button"),g=Ie("pause"),this.h()},l(L){r=Jn(L,"svg",{width:!0,height:!0,class:!0});var K=ee(r);n=Jn(K,"circle",{id:!0,r:!0,cx:!0,cy:!0,class:!0}),ee(n).forEach(O),u=Jn(K,"path",{fill:!0,d:!0}),ee(u).forEach(O),E&&E.l(K),c=Jn(K,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),ee(c).forEach(O);for(let Y=0;Y<C.length;Y+=1)C[Y].l(K);K.forEach(O),m=we(L),J&&J.l(L),p=we(L),b=z(L,"BUTTON",{});var W=ee(b);o=Me(W,"play"),W.forEach(O),l=we(L),d=z(L,"BUTTON",{});var se=ee(d);g=Me(se,"pause"),se.forEach(O),this.h()},h(){R(n,"id","outer"),R(n,"r",a[8]),R(n,"cx","50%"),R(n,"cy","50%"),R(n,"class","svelte-1ksznrg"),R(u,"fill","lightgrey"),R(u,"d",s=a[5]()),Ce(u,"transform","translate(50%, 50%)"),R(c,"id","marker"),R(c,"x1",0),R(c,"y1",0),R(c,"x2",h=a[9](a[3](a[6]))),R(c,"y2",v=a[10](a[3](a[6]))),R(c,"class","svelte-1ksznrg"),Ce(c,"transform","translate(50%, 50%)"),R(r,"width","100%"),R(r,"height",Rf),R(r,"class","svelte-1ksznrg")},m(L,K){ie(L,r,K),G(r,n),G(r,u),E&&E.m(r,null),G(r,c);for(let W=0;W<C.length;W+=1)C[W].m(r,null);ie(L,m,K),J&&J.m(L,K),ie(L,p,K),ie(L,b,K),G(b,o),ie(L,l,K),ie(L,d,K),G(d,g),w=!0,x||(T=[Ut(b,"click",a[12]),Ut(d,"click",a[11])],x=!0)},p(L,[K]){if((!w||K&32&&s!==(s=L[5]()))&&R(u,"d",s),L[0]?E?E.p(L,K):(E=ef(L),E.c(),E.m(r,c)):E&&(E.d(1),E=null),(!w||K&72&&h!==(h=L[9](L[3](L[6]))))&&R(c,"x2",h),(!w||K&72&&v!==(v=L[10](L[3](L[6]))))&&R(c,"y2",v),K&1560){D=L[4];let W;for(W=0;W<D.length;W+=1){const se=$l(L,D,W);C[W]?(C[W].p(se,K),ce(C[W],1)):(C[W]=nf(se),C[W].c(),ce(C[W],1),C[W].m(r,null))}for(Vt(),W=D.length;W<C.length;W+=1)H(W);Xt()}L[1]?J?(J.p(L,K),K&2&&ce(J,1)):(J=rf(L),J.c(),ce(J,1),J.m(p.parentNode,p)):J&&(Vt(),be(J,1,1,()=>{J=null}),Xt())},i(L){if(!w){for(let K=0;K<D.length;K+=1)ce(C[K]);ce(J),w=!0}},o(L){C=C.filter(Boolean);for(let K=0;K<C.length;K+=1)be(C[K]);be(J),w=!1},d(L){L&&O(r),E&&E.d(),It(C,L),L&&O(m),J&&J.d(L),L&&O(p),L&&O(b),L&&O(l),L&&O(d),x=!1,Gr(T)}}}const Rf=450,af=0;function Gg(a,r,n){let u,s,c,h,v,m,p,{dots:b}=r,{beatsPerRotation:o=1}=r,{division:l}=r,{bpm:d=60}=r,{interactive:g}=r;Er("song",{beatsPerRotation:o,division:l,getT:()=>T,getAngleScale:()=>m,getCycleDuration:()=>v});let w=l,x;const T=Lg(0);je(a,T,W=>n(6,p=W));const E=Rf/2-100,D=W=>E*Math.cos(W),C=W=>E*Math.sin(W),H=()=>{clearInterval(x),T.set(c,{duration:0})},J=()=>{T.set(af,{duration:0}),T.set(c,{duration:v}),x=setInterval(()=>{T.set(af,{duration:0}),T.set(c,{duration:v})},v)};A6(()=>{clearInterval(x)});const L=W=>`${Mf.round(Math.ceil(W/2)/W*100,1)}%`;function K(W){w=W,n(2,w)}return a.$$set=W=>{"dots"in W&&n(13,b=W.dots),"beatsPerRotation"in W&&n(14,o=W.beatsPerRotation),"division"in W&&n(0,l=W.division),"bpm"in W&&n(15,d=W.bpm),"interactive"in W&&n(1,g=W.interactive)},a.$$.update=()=>{a.$$.dirty&4&&n(17,u=Math.ceil(w/2)/w),a.$$.dirty&139266&&n(4,s=g?[0,u]:b?b.map(W=>+W):[]),a.$$.dirty&16384&&n(16,c=o),a.$$.dirty&65536&&n(3,m=Ei().domain([0,c]).range([-Math.PI/2,3/2*Math.PI])),a.$$.dirty&24&&n(5,h=jp().innerRadius(0).outerRadius(E).startAngle(m(s[0])+Math.PI/2).endAngle(m(s[s.length-1])+Math.PI/2)),a.$$.dirty&49152&&(v=6e4*o/d)},[l,g,w,m,s,h,p,T,E,D,C,H,J,b,o,d,c,u,L,K]}class Wg extends it{constructor(r){super(),rt(this,r,Gg,Hg,Ze,{dots:13,beatsPerRotation:14,division:0,bpm:15,interactive:1})}}function of(a,r,n){const u=a.slice();return u[4]=r[n].type,u[5]=r[n].text,u[6]=r[n].component,u[7]=r[n].classname,u[8]=r[n].props,u}function uf(a){let r,n;return{c(){r=X("h3"),n=Ie(a[1])},l(u){r=z(u,"H3",{});var s=ee(r);n=Me(s,a[1]),s.forEach(O)},m(u,s){ie(u,r,s),G(r,n)},p(u,s){s&2&&Wt(n,u[1])},d(u){u&&O(r)}}}function qg(a){let r,n,u;const s=[a[8]];var c=a[3][a[6]];function h(v){let m={};for(let p=0;p<s.length;p+=1)m=ti(m,s[p]);return{props:m}}return c&&(r=fl(c,h())),{c(){r&&et(r.$$.fragment),n=Ye()},l(v){r&&ct(r.$$.fragment,v),n=Ye()},m(v,m){r&&tt(r,v,m),ie(v,n,m),u=!0},p(v,m){const p=m&4?Wr(s,[To(v[8])]):{};if(c!==(c=v[3][v[6]])){if(r){Vt();const b=r;be(b.$$.fragment,1,0,()=>{nt(b,1)}),Xt()}c?(r=fl(c,h()),et(r.$$.fragment),ce(r.$$.fragment,1),tt(r,n.parentNode,n)):r=null}else c&&r.$set(p)},i(v){u||(r&&ce(r.$$.fragment,v),u=!0)},o(v){r&&be(r.$$.fragment,v),u=!1},d(v){v&&O(n),r&&nt(r,v)}}}function Ug(a){let r,n=a[5]+"",u;return{c(){r=new cf(!1),u=Ye(),this.h()},l(s){r=df(s,!1),u=Ye(),this.h()},h(){r.a=u},m(s,c){r.m(n,s,c),ie(s,u,c)},p(s,c){c&4&&n!==(n=s[5]+"")&&r.p(n)},i:Fe,o:Fe,d(s){s&&O(u),s&&r.d()}}}function _o(a){let r,n,u,s,c,h;const v=[Ug,qg],m=[];function p(l,d){return l[5]?0:1}n=p(a),u=m[n]=v[n](a);let b=[{class:c=a[7]}],o={};for(let l=0;l<b.length;l+=1)o=ti(o,b[l]);return{c(){r=X(a[4]),u.c(),s=ye(),this.h()},l(l){r=z(l,(a[4]||"null").toUpperCase(),{class:!0});var d=ee(r);u.l(d),s=we(d),d.forEach(O),this.h()},h(){/-/.test(a[4])?sl(r,o):ll(r,o)},m(l,d){ie(l,r,d),m[n].m(r,null),G(r,s),h=!0},p(l,d){let g=n;n=p(l),n===g?m[n].p(l,d):(Vt(),be(m[g],1,1,()=>{m[g]=null}),Xt(),u=m[n],u?u.p(l,d):(u=m[n]=v[n](l),u.c()),ce(u,1),u.m(r,s)),o=Wr(b,[(!h||d&4&&c!==(c=l[7]))&&{class:c}]),/-/.test(l[4])?sl(r,o):ll(r,o)},i(l){h||(ce(u),h=!0)},o(l){be(u),h=!1},d(l){l&&O(r),m[n].d()}}}function sf(a){let r=a[4],n,u=a[4]&&_o(a);return{c(){u&&u.c(),n=Ye()},l(s){u&&u.l(s),n=Ye()},m(s,c){u&&u.m(s,c),ie(s,n,c)},p(s,c){s[4]?r?Ze(r,s[4])?(u.d(1),u=_o(s),u.c(),u.m(n.parentNode,n)):u.p(s,c):(u=_o(s),u.c(),u.m(n.parentNode,n)):r&&(u.d(1),u=null),r=s[4]},i:Fe,o(s){be(u)},d(s){s&&O(n),u&&u.d(s)}}}function Vg(a){let r,n,u,s=a[1]&&uf(a),c=a[2],h=[];for(let m=0;m<c.length;m+=1)h[m]=sf(of(a,c,m));const v=m=>be(h[m],1,1,()=>{h[m]=null});return{c(){r=X("section"),s&&s.c(),n=ye();for(let m=0;m<h.length;m+=1)h[m].c();this.h()},l(m){r=z(m,"SECTION",{id:!0});var p=ee(r);s&&s.l(p),n=we(p);for(let b=0;b<h.length;b+=1)h[b].l(p);p.forEach(O),this.h()},h(){R(r,"id",a[0])},m(m,p){ie(m,r,p),s&&s.m(r,null),G(r,n);for(let b=0;b<h.length;b+=1)h[b].m(r,null);u=!0},p(m,[p]){if(m[1]?s?s.p(m,p):(s=uf(m),s.c(),s.m(r,n)):s&&(s.d(1),s=null),p&12){c=m[2];let b;for(b=0;b<c.length;b+=1){const o=of(m,c,b);h[b]?(h[b].p(o,p),ce(h[b],1)):(h[b]=sf(o),h[b].c(),ce(h[b],1),h[b].m(r,null))}for(Vt(),b=c.length;b<h.length;b+=1)v(b);Xt()}(!u||p&1)&&R(r,"id",m[0])},i(m){if(!u){for(let p=0;p<c.length;p+=1)ce(h[p]);u=!0}},o(m){h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)be(h[p]);u=!1},d(m){m&&O(r),s&&s.d(),It(h,m)}}}function Xg(a,r,n){let{id:u}=r,{title:s}=r,{chunks:c}=r;const h={Play:If,Grid:Rg,Quote:L6,Circle:Wg};return a.$$set=v=>{"id"in v&&n(0,u=v.id),"title"in v&&n(1,s=v.title),"chunks"in v&&n(2,c=v.chunks)},[u,s,c,h]}class Ff extends it{constructor(r){super(),rt(this,r,Xg,Vg,Ze,{id:0,title:1,chunks:2})}}const zg="wonky",Kg="an interactive accompaniment to “Dilla Time” by Dan Charnas",Yg="By <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",Zg=[{id:"intro",chunks:[{type:"p",text:"You’re the drummer. The backbone of the band. Your job is to keep a steady rhythm."},{type:"p",text:"Here, try it."},{type:"div",component:"Grid",props:{id:"intro_beat",playable:"true",measures:"1",beatsPerMeasure:"16"}},{type:"p",text:"Nice job. Sometimes you were a little late or a little early. To correct this, we can snap every note to the nearest steady beat. This is called quantizing, and most music recording software lets you do this with the click of a button."},{type:"p",text:"Now listen to this clip of “Sincerity is Scary” by The 1975. Below we’re just visualizing the hi-hat, which is the part of the drum kit that sounds like this."},{type:"div",component:"Grid",props:{id:"sincerity",measures:"4",beatsPerMeasure:"4"}},{type:"p",text:"This rhythm is not even at all. Some hits come slightly early, others slightly late. It’s the rhythmic equivalent of coloring a little outside of the lines or playing slightly out of tune."},{type:"p",text:"But at the same time... it’s groovy. It’s chill, laid back, off-kilter, sort of like you’re falling but never quite catching yourself."},{type:"p",text:"These are professional musicians - they know what they’re doing, and there’s intention behind it. They’re following in the tradition of artists like J Dilla, who pioneered this style of playing off the grid, which went against what musicians are typically taught, to play perfectly evenly."},{type:"div",component:"Quote",props:{quote:"“It was the most life-changing moment I ever had… it sounded like the kick drum was played by a drunk 3 year old. And I was like, are you allowed to do that?”",speaker:"Questlove",videoUrl:""}},{type:"p",text:"And these days, it shows up everywhere in popular music if you listen closely."},{type:"p",text:"Dan Charnas wrote a book called “Dilla Time”, all about J Dilla’s music, life, and legacy. I want to focus on the timefeel that Dilla pioneered. How does it work? What does it look and sound like? The book was great, but I wanted visuals I could interact with."}]},{id:"straight",title:"🥁 part i: straight",chunks:[{type:"p",text:"The quantized beat you made is described as rhythmically “straight.” This means that the notes line up with our typical evenly spaced grid. Here are some other songs with straight grooves."},{type:"div",component:"Grid",props:{id:"lightSwitch",measures:"4",beatsPerMeasure:"4"}}]},{id:"swing",title:"🥁🥁 part ii: swing",chunks:[{type:"p",text:"Sometimes straight can get a little boring. If we move every other note (called the “backbeat”) on the hi-hat a bit later, we get what’s called swing. This is very common in jazz. Here are some songs with swung grooves."},{type:"div",component:"Grid",props:{id:"dmatSwung",measures:"2",beatsPerMeasure:"4"}}]},{id:"nerd-box",summary:"How do drummers know how late to put the backbeat?",chunks:[{type:"p",text:"Different drummers have different techniques, but some count it very exactly. To understand this, let’s look at 1 beat. This circle represents 1 beat."},{type:"div",component:"Circle",props:{dots:["0"]}},{type:"p",text:"If we divide the beat in 2, we get this classic sound. The backbeat and the downbeat take the same amount of space."},{type:"div",component:"Circle",props:{dots:["0","0.5"],division:"2"}},{type:"p",text:"It gets interesting if we try dividing the beat into an odd number of divisions. Then we’re forced to have one note be longer than the other. Dividing in 3, we can have the first note take 2/3 and the second take 1/3. This is called a triplet swing. It’s also referred to as a 66% swing percentage because that’s the amount of the beat taken up by the first note."},{type:"p",text:"Try it out, see what different numbers feel like."},{type:"div",component:"Circle",props:{interactive:"true",division:"3"}}]},{id:"dilla",title:"🥁🥁🥁 part iii: dilla",chunks:[{type:"p",text:"To understand what makes Dilla time special, it’s all about what the best artists do - subverting expectation."},{type:"div",component:"Quote",props:{quote:"To hear a rhythm at all, we must have at least two events spaced in time: like a snare hit, then a pause of any length, then another hit: positive-negative-positive. Once a pattern is established it sets up an expectation. We expect to hear an event in a positive (or “strong”) space, and do not expect to hear one in a negative (or “weak”) space.",speaker:"Dan Charnas (Dilla Time)"}},{type:"div",component:"Quote",props:{quote:"Our expectations are governed by the most granular pulse in a given song, what we call the rhythmic current. In hip-hop, we expect to hear a beat counted in fours. Usually the hi-hat acts as the metronome, and because it hits two times for every one of those four beats, it sets the rhythmic current at eight.",speaker:"Dan Charnas (Dilla Time)"}},{type:"div",component:"Quote",props:{quote:"Because the rhythmic current - the most granular pulse - governs our expectations, changes on a microscopic level can ironically be jarring, and it is in this area, subverting the rhythmic current that [J Dilla] did most of his work. In a typical J Dilla beat, the rushed snare messes with our expectations by falling into a weak area of the rhythmic current and not a strong one.",speaker:"Dan Charnas (Dilla Time)"}}]}],Fi={hed:zg,dek:Kg,byline:Yg,sections:Zg};function lf(a,r,n){const u=a.slice();return u[2]=r[n],u}function Qg(a){let r,n;const u=[a[2]];let s={};for(let c=0;c<u.length;c+=1)s=ti(s,u[c]);return r=new Ff({props:s}),{c(){et(r.$$.fragment)},l(c){ct(r.$$.fragment,c)},m(c,h){tt(r,c,h),n=!0},p(c,h){const v=h&0?Wr(u,[To(c[2])]):{};r.$set(v)},i(c){n||(ce(r.$$.fragment,c),n=!0)},o(c){be(r.$$.fragment,c),n=!1},d(c){nt(r,c)}}}function Jg(a){let r,n,u=a[2].summary+"",s,c,h,v,m;const p=[a[2]];let b={};for(let o=0;o<p.length;o+=1)b=ti(b,p[o]);return h=new Ff({props:b}),{c(){r=X("details"),n=X("summary"),s=Ie(u),c=ye(),et(h.$$.fragment),v=ye(),this.h()},l(o){r=z(o,"DETAILS",{class:!0});var l=ee(r);n=z(l,"SUMMARY",{class:!0});var d=ee(n);s=Me(d,u),d.forEach(O),c=we(l),ct(h.$$.fragment,l),v=we(l),l.forEach(O),this.h()},h(){R(n,"class","svelte-mh11j9"),R(r,"class","nerd-box svelte-mh11j9")},m(o,l){ie(o,r,l),G(r,n),G(n,s),G(r,c),tt(h,r,null),G(r,v),m=!0},p(o,l){const d=l&0?Wr(p,[To(o[2])]):{};h.$set(d)},i(o){m||(ce(h.$$.fragment,o),m=!0)},o(o){be(h.$$.fragment,o),m=!1},d(o){o&&O(r),nt(h)}}}function ff(a){let r,n,u,s;const c=[Jg,Qg],h=[];function v(m,p){return m[2].id==="nerd-box"?0:1}return r=v(a),n=h[r]=c[r](a),{c(){n.c(),u=Ye()},l(m){n.l(m),u=Ye()},m(m,p){h[r].m(m,p),ie(m,u,p),s=!0},p(m,p){n.p(m,p)},i(m){s||(ce(n),s=!0)},o(m){be(n),s=!1},d(m){h[r].d(m),m&&O(u)}}}function $g(a){let r,n,u,s,c,h,v,m,p,b,o=Fi.sections,l=[];for(let g=0;g<o.length;g+=1)l[g]=ff(lf(a,o,g));const d=g=>be(l[g],1,1,()=>{l[g]=null});return p=new O6({}),{c(){r=X("article"),n=X("h1"),u=Ie(a[0]),s=ye(),c=X("h2"),h=Ie(a[1]),v=ye();for(let g=0;g<l.length;g+=1)l[g].c();m=ye(),et(p.$$.fragment),this.h()},l(g){r=z(g,"ARTICLE",{class:!0});var w=ee(r);n=z(w,"H1",{});var x=ee(n);u=Me(x,a[0]),x.forEach(O),s=we(w),c=z(w,"H2",{});var T=ee(c);h=Me(T,a[1]),T.forEach(O),v=we(w);for(let E=0;E<l.length;E+=1)l[E].l(w);w.forEach(O),m=we(g),ct(p.$$.fragment,g),this.h()},h(){R(r,"class","svelte-mh11j9")},m(g,w){ie(g,r,w),G(r,n),G(n,u),G(r,s),G(r,c),G(c,h),G(r,v);for(let x=0;x<l.length;x+=1)l[x].m(r,null);ie(g,m,w),tt(p,g,w),b=!0},p(g,[w]){if(w&0){o=Fi.sections;let x;for(x=0;x<o.length;x+=1){const T=lf(g,o,x);l[x]?(l[x].p(T,w),ce(l[x],1)):(l[x]=ff(T),l[x].c(),ce(l[x],1),l[x].m(r,null))}for(Vt(),x=o.length;x<l.length;x+=1)d(x);Xt()}},i(g){if(!b){for(let w=0;w<o.length;w+=1)ce(l[w]);ce(p.$$.fragment,g),b=!0}},o(g){l=l.filter(Boolean);for(let w=0;w<l.length;w+=1)be(l[w]);be(p.$$.fragment,g),b=!1},d(g){g&&O(r),It(l,g),g&&O(m),nt(p,g)}}}function jg(a){const{hed:r,dek:n}=Fi;return[r,n]}class e3 extends it{constructor(r){super(),rt(this,r,jg,$g,Ze,{})}}function t3(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-04-17-18:46"),console.log("--- --- --- --- --- ---")}function n3(a){let r,n,u,s;return r=new E6({props:{title:a[1],description:a[2],url:a[3],preloadFont:a[0],keywords:a[4]}}),u=new e3({}),{c(){et(r.$$.fragment),n=ye(),et(u.$$.fragment)},l(c){ct(r.$$.fragment,c),n=we(c),ct(u.$$.fragment,c)},m(c,h){tt(r,c,h),ie(c,n,h),tt(u,c,h),s=!0},p:Fe,i(c){s||(ce(r.$$.fragment,c),ce(u.$$.fragment,c),s=!0)},o(c){be(r.$$.fragment,c),be(u.$$.fragment,c),s=!1},d(c){nt(r,c),c&&O(n),nt(u,c)}}}function i3(a,r,n){let{data:u}=r;t3();const s=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:c,description:h,url:v,keywords:m}=Fi;return Er("copy",Fi),Er("data",u.data),a.$$set=p=>{"data"in p&&n(5,u=p.data)},[s,c,h,v,m,u]}class s3 extends it{constructor(r){super(),rt(this,r,i3,n3,Ze,{data:5})}}export{s3 as default};
