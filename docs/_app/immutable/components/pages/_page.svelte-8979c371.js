import{S as ce,i as de,s as ne,k as H,e as U,J as vn,l as R,h as T,n as y,D as O,C as te,K as ke,b as B,L as At,M as bn,N as wn,O as xn,I as An,P as ve,Q as be,m as X,R as $e,p as ln,g as Me,t as $,d as Se,f as D,x as le,y as ue,z as fe,A as se,a as me,c as ge,T as Tt,U as Ge,V as un,q as je,r as qe,u as fn,W as Tn,X as kn,v as Mn,Y as Sn,Z as In,_ as kt}from"../../chunks/index-7460fafa.js";import{w as En,r as Pn}from"../../chunks/index-701aabf0.js";import{d as Nn}from"../../chunks/transform-5bf7892f.js";function Mt(t,r,n){const i=t.slice();return i[5]=r[n],i}function St(t){let r,n;return{c(){r=H("link"),this.h()},l(i){r=R(i,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){y(r,"rel","preload"),y(r,"href",n=t[5]),y(r,"as","font"),y(r,"type","font/woff2"),y(r,"crossorigin","")},m(i,o){B(i,r,o)},p(i,o){o&16&&n!==(n=i[5])&&y(r,"href",n)},d(i){i&&T(r)}}}function On(t){let r,n,i,o,u,f,c,s,d,m,e,a,l,_,h,g,p,v,x,k,M,S,N,L,I,F;document.title=r=t[0];let A=t[4],E=[];for(let b=0;b<A.length;b+=1)E[b]=St(Mt(t,A,b));return{c(){n=H("meta"),i=H("meta"),o=H("meta"),u=H("meta"),f=H("meta"),c=H("meta"),s=H("meta"),d=H("meta"),m=H("meta"),e=H("meta"),l=H("meta"),_=H("meta"),h=H("meta"),g=H("meta"),p=H("meta"),v=H("meta"),x=H("meta"),k=H("meta"),M=H("meta"),N=H("meta"),L=H("link");for(let b=0;b<E.length;b+=1)E[b].c();F=U(),this.h()},l(b){const w=vn("svelte-1htu80s",document.head);n=R(w,"META",{name:!0,content:!0}),i=R(w,"META",{name:!0,content:!0}),o=R(w,"META",{name:!0,content:!0}),u=R(w,"META",{property:!0,content:!0}),f=R(w,"META",{property:!0,content:!0}),c=R(w,"META",{property:!0,content:!0}),s=R(w,"META",{property:!0,content:!0}),d=R(w,"META",{property:!0,content:!0}),m=R(w,"META",{property:!0,content:!0}),e=R(w,"META",{property:!0,content:!0}),l=R(w,"META",{property:!0,content:!0}),_=R(w,"META",{property:!0,content:!0}),h=R(w,"META",{property:!0,content:!0}),g=R(w,"META",{name:!0,content:!0}),p=R(w,"META",{name:!0,content:!0}),v=R(w,"META",{name:!0,content:!0}),x=R(w,"META",{name:!0,content:!0}),k=R(w,"META",{name:!0,content:!0}),M=R(w,"META",{name:!0,content:!0}),N=R(w,"META",{name:!0,content:!0}),L=R(w,"LINK",{rel:!0,href:!0});for(let P=0;P<E.length;P+=1)E[P].l(w);F=U(),w.forEach(T),this.h()},h(){y(n,"name","description"),y(n,"content",t[1]),y(i,"name","author"),y(i,"content","The Pudding"),y(o,"name","news_keywords"),y(o,"content",t[3]),y(u,"property","og:title"),y(u,"content",t[0]),y(f,"property","og:site_name"),y(f,"content","The Pudding"),y(c,"property","og:url"),y(c,"content",t[2]),y(s,"property","og:description"),y(s,"content",t[1]),y(d,"property","og:type"),y(d,"content","article"),y(m,"property","og:locale"),y(m,"content","en_US"),y(e,"property","og:image"),y(e,"content",a=t[2]+"/assets/social-facebook.jpg"),y(l,"property","og:image:type"),y(l,"content","image/jpeg"),y(_,"property","og:image:width"),y(_,"content","1200"),y(h,"property","og:image:height"),y(h,"content","600"),y(g,"name","twitter:card"),y(g,"content","summary_large_image"),y(p,"name","twitter:site"),y(p,"content","https://pudding.cool"),y(v,"name","twitter:creator"),y(v,"content","@puddingviz"),y(x,"name","twitter:title"),y(x,"content",t[0]),y(k,"name","twitter:description"),y(k,"content",t[1]),y(M,"name","twitter:image:src"),y(M,"content",S=t[2]+"/assets/social-twitter.jpg"),y(N,"name","robots"),y(N,"content","max-image-preview:large"),y(L,"rel","canonical"),y(L,"href",I=t[2]+"/")},m(b,w){O(document.head,n),O(document.head,i),O(document.head,o),O(document.head,u),O(document.head,f),O(document.head,c),O(document.head,s),O(document.head,d),O(document.head,m),O(document.head,e),O(document.head,l),O(document.head,_),O(document.head,h),O(document.head,g),O(document.head,p),O(document.head,v),O(document.head,x),O(document.head,k),O(document.head,M),O(document.head,N),O(document.head,L);for(let P=0;P<E.length;P+=1)E[P].m(document.head,null);O(document.head,F)},p(b,[w]){if(w&1&&r!==(r=b[0])&&(document.title=r),w&2&&y(n,"content",b[1]),w&8&&y(o,"content",b[3]),w&1&&y(u,"content",b[0]),w&4&&y(c,"content",b[2]),w&2&&y(s,"content",b[1]),w&4&&a!==(a=b[2]+"/assets/social-facebook.jpg")&&y(e,"content",a),w&1&&y(x,"content",b[0]),w&2&&y(k,"content",b[1]),w&4&&S!==(S=b[2]+"/assets/social-twitter.jpg")&&y(M,"content",S),w&4&&I!==(I=b[2]+"/")&&y(L,"href",I),w&16){A=b[4];let P;for(P=0;P<A.length;P+=1){const V=Mt(b,A,P);E[P]?E[P].p(V,w):(E[P]=St(V),E[P].c(),E[P].m(F.parentNode,F))}for(;P<E.length;P+=1)E[P].d(1);E.length=A.length}},i:te,o:te,d(b){T(n),T(i),T(o),T(u),T(f),T(c),T(s),T(d),T(m),T(e),T(l),T(_),T(h),T(g),T(p),T(v),T(x),T(k),T(M),T(N),T(L),ke(E,b),T(F)}}}function Hn(t,r,n){let{title:i="Title TK"}=r,{description:o="Description TK"}=r,{url:u="https://pudding.cool"}=r,{keywords:f=""}=r,{preloadFont:c=[]}=r;return t.$$set=s=>{"title"in s&&n(0,i=s.title),"description"in s&&n(1,o=s.description),"url"in s&&n(2,u=s.url),"keywords"in s&&n(3,f=s.keywords),"preloadFont"in s&&n(4,c=s.preloadFont)},[i,o,u,f,c]}class Rn extends ce{constructor(r){super(),de(this,r,Hn,On,ne,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function It(t){return Object.prototype.toString.call(t)==="[object Date]"}function ft(t,r){if(t===r||t!==t)return()=>t;const n=typeof t;if(n!==typeof r||Array.isArray(t)!==Array.isArray(r))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=r.map((o,u)=>ft(t[u],o));return o=>i.map(u=>u(o))}if(n==="object"){if(!t||!r)throw new Error("Object cannot be null");if(It(t)&&It(r)){t=t.getTime(),r=r.getTime();const u=r-t;return f=>new Date(t+f*u)}const i=Object.keys(r),o={};return i.forEach(u=>{o[u]=ft(t[u],r[u])}),u=>{const f={};return i.forEach(c=>{f[c]=o[c](u)}),f}}if(n==="number"){const i=r-t;return o=>t+o*i}throw new Error(`Cannot interpolate ${n} values`)}function Ln(t,r={}){const n=En(t);let i,o=t;function u(f,c){if(t==null)return n.set(t=f),Promise.resolve();o=f;let s=i,d=!1,{delay:m=0,duration:e=400,easing:a=xn,interpolate:l=ft}=At(At({},r),c);if(e===0)return s&&(s.abort(),s=null),n.set(t=o),Promise.resolve();const _=bn()+m;let h;return i=wn(g=>{if(g<_)return!0;d||(h=l(t,f),typeof e=="function"&&(e=e(t,f)),d=!0),s&&(s.abort(),s=null);const p=g-_;return p>e?(n.set(t=f),!1):(n.set(t=h(a(p/e))),!0)}),i.promise}return{set:u,update:(f,c)=>u(f(o,t),c),subscribe:n.subscribe}}const Fe=Ln(0);var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var r=function(){this.init()};r.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var a=this||n;if(e=parseFloat(e),a.ctx||m(),typeof e<"u"&&e>=0&&e<=1){if(a._volume=e,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var _=a._howls[l]._getSoundIds(),h=0;h<_.length;h++){var g=a._howls[l]._soundById(_[h]);g&&g._node&&(g._node.volume=g._volume*e)}return a}return a._volume},mute:function(e){var a=this||n;a.ctx||m(),a._muted=e,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(e?0:a._volume,n.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var _=a._howls[l]._getSoundIds(),h=0;h<_.length;h++){var g=a._howls[l]._soundById(_[h]);g&&g._node&&(g._node.muted=e?!0:g._muted)}return a},stop:function(){for(var e=this||n,a=0;a<e._howls.length;a++)e._howls[a].stop();return e},unload:function(){for(var e=this||n,a=e._howls.length-1;a>=0;a--)e._howls[a].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,m()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var a=new Audio;a.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return e}if(!a||typeof a.canPlayType!="function")return e;var l=a.canPlayType("audio/mpeg;").replace(/^no$/,""),_=e._navigator?e._navigator.userAgent:"",h=_.match(/OPR\/([0-6].)/g),g=h&&parseInt(h[0].split("/")[1],10)<33,p=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,v=_.match(/Version\/(.*?) /),x=p&&v&&parseInt(v[1],10)<15;return e._codecs={mp3:!!(!g&&(l||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!l,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var a=function(l){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,e._releaseHtml5Audio(_)}catch{e.noAudio=!0;break}for(var h=0;h<e._howls.length;h++)if(!e._howls[h]._webAudio)for(var g=e._howls[h]._getSoundIds(),p=0;p<g.length;p++){var v=e._howls[h]._soundById(g[p]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}e._autoResume();var x=e.ctx.createBufferSource();x.buffer=e._scratchBuffer,x.connect(e.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),x.onended=function(){x.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var k=0;k<e._howls.length;k++)e._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var a=this||n;return e._unlocked&&a._html5AudioPool.push(e),a},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!n.usingWebAudio)){for(var a=0;a<e._howls.length;a++)if(e._howls[a]._webAudio){for(var l=0;l<e._howls[a]._sounds.length;l++)if(!e._howls[a]._sounds[l]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var _=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(_,_)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!n.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var a=0;a<e._howls.length;a++)e._howls[a]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var n=new r,i=function(e){var a=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(e)};i.prototype={init:function(e){var a=this;return n.ctx||m(),a._autoplay=e.autoplay||!1,a._format=typeof e.format!="string"?e.format:[e.format],a._html5=e.html5||!1,a._muted=e.mute||!1,a._loop=e.loop||!1,a._pool=e.pool||5,a._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,a._rate=e.rate||1,a._sprite=e.sprite||{},a._src=typeof e.src!="string"?e.src:[e.src],a._volume=e.volume!==void 0?e.volume:1,a._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=e.onend?[{fn:e.onend}]:[],a._onfade=e.onfade?[{fn:e.onfade}]:[],a._onload=e.onload?[{fn:e.onload}]:[],a._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],a._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],a._onpause=e.onpause?[{fn:e.onpause}]:[],a._onplay=e.onplay?[{fn:e.onplay}]:[],a._onstop=e.onstop?[{fn:e.onstop}]:[],a._onmute=e.onmute?[{fn:e.onmute}]:[],a._onvolume=e.onvolume?[{fn:e.onvolume}]:[],a._onrate=e.onrate?[{fn:e.onrate}]:[],a._onseek=e.onseek?[{fn:e.onseek}]:[],a._onunlock=e.onunlock?[{fn:e.onunlock}]:[],a._onresume=[],a._webAudio=n.usingWebAudio&&!a._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var e=this,a=null;if(n.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var l=0;l<e._src.length;l++){var _,h;if(e._format&&e._format[l])_=e._format[l];else{if(h=e._src[l],typeof h!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(h),_||(_=/\.([^.]+)$/.exec(h.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){a=e._src[l];break}}if(!a){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=a,e._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&f(e),e},play:function(e,a){var l=this,_=null;if(typeof e=="number")_=e,e=null;else{if(typeof e=="string"&&l._state==="loaded"&&!l._sprite[e])return null;if(typeof e>"u"&&(e="__default",!l._playLock)){for(var h=0,g=0;g<l._sounds.length;g++)l._sounds[g]._paused&&!l._sounds[g]._ended&&(h++,_=l._sounds[g]._id);h===1?e=null:_=null}}var p=_?l._soundById(_):l._inactiveSound();if(!p)return null;if(_&&!e&&(e=p._sprite||"__default"),l._state!=="loaded"){p._sprite=e,p._ended=!1;var v=p._id;return l._queue.push({event:"play",action:function(){l.play(v)}}),v}if(_&&!p._paused)return a||l._loadQueue("play"),p._id;l._webAudio&&n._autoResume();var x=Math.max(0,p._seek>0?p._seek:l._sprite[e][0]/1e3),k=Math.max(0,(l._sprite[e][0]+l._sprite[e][1])/1e3-x),M=k*1e3/Math.abs(p._rate),S=l._sprite[e][0]/1e3,N=(l._sprite[e][0]+l._sprite[e][1])/1e3;p._sprite=e,p._ended=!1;var L=function(){p._paused=!1,p._seek=x,p._start=S,p._stop=N,p._loop=!!(p._loop||l._sprite[e][2])};if(x>=N){l._ended(p);return}var I=p._node;if(l._webAudio){var F=function(){l._playLock=!1,L(),l._refreshBuffer(p);var w=p._muted||l._muted?0:p._volume;I.gain.setValueAtTime(w,n.ctx.currentTime),p._playStart=n.ctx.currentTime,typeof I.bufferSource.start>"u"?p._loop?I.bufferSource.noteGrainOn(0,x,86400):I.bufferSource.noteGrainOn(0,x,k):p._loop?I.bufferSource.start(0,x,86400):I.bufferSource.start(0,x,k),M!==1/0&&(l._endTimers[p._id]=setTimeout(l._ended.bind(l,p),M)),a||setTimeout(function(){l._emit("play",p._id),l._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?F():(l._playLock=!0,l.once("resume",F),l._clearTimer(p._id))}else{var A=function(){I.currentTime=x,I.muted=p._muted||l._muted||n._muted||I.muted,I.volume=p._volume*n.volume(),I.playbackRate=p._rate;try{var w=I.play();if(w&&typeof Promise<"u"&&(w instanceof Promise||typeof w.then=="function")?(l._playLock=!0,L(),w.then(function(){l._playLock=!1,I._unlocked=!0,a?l._loadQueue():l._emit("play",p._id)}).catch(function(){l._playLock=!1,l._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):a||(l._playLock=!1,L(),l._emit("play",p._id)),I.playbackRate=p._rate,I.paused){l._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||p._loop?l._endTimers[p._id]=setTimeout(l._ended.bind(l,p),M):(l._endTimers[p._id]=function(){l._ended(p),I.removeEventListener("ended",l._endTimers[p._id],!1)},I.addEventListener("ended",l._endTimers[p._id],!1))}catch(P){l._emit("playerror",p._id,P)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=l._src,I.load());var E=window&&window.ejecta||!I.readyState&&n._navigator.isCocoonJS;if(I.readyState>=3||E)A();else{l._playLock=!0,l._state="loading";var b=function(){l._state="loaded",A(),I.removeEventListener(n._canPlayEvent,b,!1)};I.addEventListener(n._canPlayEvent,b,!1),l._clearTimer(p._id)}}return p._id},pause:function(e){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(e)}}),a;for(var l=a._getSoundIds(e),_=0;_<l.length;_++){a._clearTimer(l[_]);var h=a._soundById(l[_]);if(h&&!h._paused&&(h._seek=a.seek(l[_]),h._rateSeek=0,h._paused=!0,a._stopFade(l[_]),h._node))if(a._webAudio){if(!h._node.bufferSource)continue;typeof h._node.bufferSource.stop>"u"?h._node.bufferSource.noteOff(0):h._node.bufferSource.stop(0),a._cleanBuffer(h._node)}else(!isNaN(h._node.duration)||h._node.duration===1/0)&&h._node.pause();arguments[1]||a._emit("pause",h?h._id:null)}return a},stop:function(e,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(e)}}),l;for(var _=l._getSoundIds(e),h=0;h<_.length;h++){l._clearTimer(_[h]);var g=l._soundById(_[h]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,l._stopFade(_[h]),g._node&&(l._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),l._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&l._clearSound(g._node))),a||l._emit("stop",g._id))}return l},mute:function(e,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"mute",action:function(){l.mute(e,a)}}),l;if(typeof a>"u")if(typeof e=="boolean")l._muted=e;else return l._muted;for(var _=l._getSoundIds(a),h=0;h<_.length;h++){var g=l._soundById(_[h]);g&&(g._muted=e,g._interval&&l._stopFade(g._id),l._webAudio&&g._node?g._node.gain.setValueAtTime(e?0:g._volume,n.ctx.currentTime):g._node&&(g._node.muted=n._muted?!0:e),l._emit("mute",g._id))}return l},volume:function(){var e=this,a=arguments,l,_;if(a.length===0)return e._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var h=e._getSoundIds(),g=h.indexOf(a[0]);g>=0?_=parseInt(a[0],10):l=parseFloat(a[0])}else a.length>=2&&(l=parseFloat(a[0]),_=parseInt(a[1],10));var p;if(typeof l<"u"&&l>=0&&l<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,a)}}),e;typeof _>"u"&&(e._volume=l),_=e._getSoundIds(_);for(var v=0;v<_.length;v++)p=e._soundById(_[v]),p&&(p._volume=l,a[2]||e._stopFade(_[v]),e._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(l,n.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=l*n.volume()),e._emit("volume",p._id))}else return p=_?e._soundById(_):e._sounds[0],p?p._volume:0;return e},fade:function(e,a,l,_){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"fade",action:function(){h.fade(e,a,l,_)}}),h;e=Math.min(Math.max(0,parseFloat(e)),1),a=Math.min(Math.max(0,parseFloat(a)),1),l=parseFloat(l),h.volume(e,_);for(var g=h._getSoundIds(_),p=0;p<g.length;p++){var v=h._soundById(g[p]);if(v){if(_||h._stopFade(g[p]),h._webAudio&&!v._muted){var x=n.ctx.currentTime,k=x+l/1e3;v._volume=e,v._node.gain.setValueAtTime(e,x),v._node.gain.linearRampToValueAtTime(a,k)}h._startFadeInterval(v,e,a,l,g[p],typeof _>"u")}}return h},_startFadeInterval:function(e,a,l,_,h,g){var p=this,v=a,x=l-a,k=Math.abs(x/.01),M=Math.max(4,k>0?_/k:_),S=Date.now();e._fadeTo=l,e._interval=setInterval(function(){var N=(Date.now()-S)/_;S=Date.now(),v+=x*N,v=Math.round(v*100)/100,x<0?v=Math.max(l,v):v=Math.min(l,v),p._webAudio?e._volume=v:p.volume(v,e._id,!0),g&&(p._volume=v),(l<a&&v<=l||l>a&&v>=l)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,p.volume(l,e._id),p._emit("fade",e._id))},M)},_stopFade:function(e){var a=this,l=a._soundById(e);return l&&l._interval&&(a._webAudio&&l._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(l._interval),l._interval=null,a.volume(l._fadeTo,e),l._fadeTo=null,a._emit("fade",e)),a},loop:function(){var e=this,a=arguments,l,_,h;if(a.length===0)return e._loop;if(a.length===1)if(typeof a[0]=="boolean")l=a[0],e._loop=l;else return h=e._soundById(parseInt(a[0],10)),h?h._loop:!1;else a.length===2&&(l=a[0],_=parseInt(a[1],10));for(var g=e._getSoundIds(_),p=0;p<g.length;p++)h=e._soundById(g[p]),h&&(h._loop=l,e._webAudio&&h._node&&h._node.bufferSource&&(h._node.bufferSource.loop=l,l&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop,e.playing(g[p])&&(e.pause(g[p],!0),e.play(g[p],!0)))));return e},rate:function(){var e=this,a=arguments,l,_;if(a.length===0)_=e._sounds[0]._id;else if(a.length===1){var h=e._getSoundIds(),g=h.indexOf(a[0]);g>=0?_=parseInt(a[0],10):l=parseFloat(a[0])}else a.length===2&&(l=parseFloat(a[0]),_=parseInt(a[1],10));var p;if(typeof l=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,a)}}),e;typeof _>"u"&&(e._rate=l),_=e._getSoundIds(_);for(var v=0;v<_.length;v++)if(p=e._soundById(_[v]),p){e.playing(_[v])&&(p._rateSeek=e.seek(_[v]),p._playStart=e._webAudio?n.ctx.currentTime:p._playStart),p._rate=l,e._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(l,n.ctx.currentTime):p._node&&(p._node.playbackRate=l);var x=e.seek(_[v]),k=(e._sprite[p._sprite][0]+e._sprite[p._sprite][1])/1e3-x,M=k*1e3/Math.abs(p._rate);(e._endTimers[_[v]]||!p._paused)&&(e._clearTimer(_[v]),e._endTimers[_[v]]=setTimeout(e._ended.bind(e,p),M)),e._emit("rate",p._id)}}else return p=e._soundById(_),p?p._rate:e._rate;return e},seek:function(){var e=this,a=arguments,l,_;if(a.length===0)e._sounds.length&&(_=e._sounds[0]._id);else if(a.length===1){var h=e._getSoundIds(),g=h.indexOf(a[0]);g>=0?_=parseInt(a[0],10):e._sounds.length&&(_=e._sounds[0]._id,l=parseFloat(a[0]))}else a.length===2&&(l=parseFloat(a[0]),_=parseInt(a[1],10));if(typeof _>"u")return 0;if(typeof l=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,a)}}),e;var p=e._soundById(_);if(p)if(typeof l=="number"&&l>=0){var v=e.playing(_);v&&e.pause(_,!0),p._seek=l,p._ended=!1,e._clearTimer(_),!e._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=l);var x=function(){v&&e.play(_,!0),e._emit("seek",_)};if(v&&!e._webAudio){var k=function(){e._playLock?setTimeout(k,0):x()};setTimeout(k,0)}else x()}else if(e._webAudio){var M=e.playing(_)?n.ctx.currentTime-p._playStart:0,S=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+(S+M*Math.abs(p._rate))}else return p._node.currentTime;return e},playing:function(e){var a=this;if(typeof e=="number"){var l=a._soundById(e);return l?!l._paused:!1}for(var _=0;_<a._sounds.length;_++)if(!a._sounds[_]._paused)return!0;return!1},duration:function(e){var a=this,l=a._duration,_=a._soundById(e);return _&&(l=a._sprite[_._sprite][1]/1e3),l},state:function(){return this._state},unload:function(){for(var e=this,a=e._sounds,l=0;l<a.length;l++)a[l]._paused||e.stop(a[l]._id),e._webAudio||(e._clearSound(a[l]._node),a[l]._node.removeEventListener("error",a[l]._errorFn,!1),a[l]._node.removeEventListener(n._canPlayEvent,a[l]._loadFn,!1),a[l]._node.removeEventListener("ended",a[l]._endFn,!1),n._releaseHtml5Audio(a[l]._node)),delete a[l]._node,e._clearTimer(a[l]._id);var _=n._howls.indexOf(e);_>=0&&n._howls.splice(_,1);var h=!0;for(l=0;l<n._howls.length;l++)if(n._howls[l]._src===e._src||e._src.indexOf(n._howls[l]._src)>=0){h=!1;break}return u&&h&&delete u[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,a,l,_){var h=this,g=h["_on"+e];return typeof a=="function"&&g.push(_?{id:l,fn:a,once:_}:{id:l,fn:a}),h},off:function(e,a,l){var _=this,h=_["_on"+e],g=0;if(typeof a=="number"&&(l=a,a=null),a||l)for(g=0;g<h.length;g++){var p=l===h[g].id;if(a===h[g].fn&&p||!a&&p){h.splice(g,1);break}}else if(e)_["_on"+e]=[];else{var v=Object.keys(_);for(g=0;g<v.length;g++)v[g].indexOf("_on")===0&&Array.isArray(_[v[g]])&&(_[v[g]]=[])}return _},once:function(e,a,l){var _=this;return _.on(e,a,l,1),_},_emit:function(e,a,l){for(var _=this,h=_["_on"+e],g=h.length-1;g>=0;g--)(!h[g].id||h[g].id===a||e==="load")&&(setTimeout(function(p){p.call(this,a,l)}.bind(_,h[g].fn),0),h[g].once&&_.off(e,h[g].fn,h[g].id));return _._loadQueue(e),_},_loadQueue:function(e){var a=this;if(a._queue.length>0){var l=a._queue[0];l.event===e&&(a._queue.shift(),a._loadQueue()),e||l.action()}return a},_ended:function(e){var a=this,l=e._sprite;if(!a._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(a._ended.bind(a,e),100),a;var _=!!(e._loop||a._sprite[l][2]);if(a._emit("end",e._id),!a._webAudio&&_&&a.stop(e._id,!0).play(e._id),a._webAudio&&_){a._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var h=(e._stop-e._start)*1e3/Math.abs(e._rate);a._endTimers[e._id]=setTimeout(a._ended.bind(a,e),h)}return a._webAudio&&!_&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,a._clearTimer(e._id),a._cleanBuffer(e._node),n._autoSuspend()),!a._webAudio&&!_&&a.stop(e._id,!0),a},_clearTimer:function(e){var a=this;if(a._endTimers[e]){if(typeof a._endTimers[e]!="function")clearTimeout(a._endTimers[e]);else{var l=a._soundById(e);l&&l._node&&l._node.removeEventListener("ended",a._endTimers[e],!1)}delete a._endTimers[e]}return a},_soundById:function(e){for(var a=this,l=0;l<a._sounds.length;l++)if(e===a._sounds[l]._id)return a._sounds[l];return null},_inactiveSound:function(){var e=this;e._drain();for(var a=0;a<e._sounds.length;a++)if(e._sounds[a]._ended)return e._sounds[a].reset();return new o(e)},_drain:function(){var e=this,a=e._pool,l=0,_=0;if(!(e._sounds.length<a)){for(_=0;_<e._sounds.length;_++)e._sounds[_]._ended&&l++;for(_=e._sounds.length-1;_>=0;_--){if(l<=a)return;e._sounds[_]._ended&&(e._webAudio&&e._sounds[_]._node&&e._sounds[_]._node.disconnect(0),e._sounds.splice(_,1),l--)}}},_getSoundIds:function(e){var a=this;if(typeof e>"u"){for(var l=[],_=0;_<a._sounds.length;_++)l.push(a._sounds[_]._id);return l}else return[e]},_refreshBuffer:function(e){var a=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=u[a._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),a},_cleanBuffer:function(e){var a=this,l=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),l))try{e.bufferSource.buffer=n._scratchBuffer}catch{}return e.bufferSource=null,a},_clearSound:function(e){var a=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);a||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,a=e._parent;return e._muted=a._muted,e._loop=a._loop,e._volume=a._volume,e._rate=a._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,a._sounds.push(e),e.create(),e},create:function(){var e=this,a=e._parent,l=n._muted||e._muted||e._parent._muted?0:e._volume;return a._webAudio?(e._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(l,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=a._src,e._node.preload=a._preload===!0?"auto":a._preload,e._node.volume=l*n.volume(),e._node.load()),e},reset:function(){var e=this,a=e._parent;return e._muted=a._muted,e._loop=a._loop,e._volume=a._volume,e._rate=a._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,a=e._parent;a._duration=Math.ceil(e._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,a=e._parent;a._duration===1/0&&(a._duration=Math.ceil(e._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},f=function(e){var a=e._src;if(u[a]){e._duration=u[a].duration,d(e);return}if(/^data:[^;]+;base64,/.test(a)){for(var l=atob(a.split(",")[1]),_=new Uint8Array(l.length),h=0;h<l.length;++h)_[h]=l.charCodeAt(h);s(_.buffer,e)}else{var g=new XMLHttpRequest;g.open(e._xhr.method,a,!0),g.withCredentials=e._xhr.withCredentials,g.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(p){g.setRequestHeader(p,e._xhr.headers[p])}),g.onload=function(){var p=(g.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}s(g.response,e)},g.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[a],e.load())},c(g)}},c=function(e){try{e.send()}catch{e.onerror()}},s=function(e,a){var l=function(){a._emit("loaderror",null,"Decoding audio data failed.")},_=function(h){h&&a._sounds.length>0?(u[a._src]=h,d(a,h)):l()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(e).then(_).catch(l):n.ctx.decodeAudioData(e,_,l)},d=function(e,a){a&&!e._duration&&(e._duration=a.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},m=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),a=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),l=a?parseInt(a[1],10):null;if(e&&l&&l<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=i,typeof z<"u"?(z.HowlerGlobal=r,z.Howler=n,z.Howl=i,z.Sound=o):typeof window<"u"&&(window.HowlerGlobal=r,window.Howler=n,window.Howl=i,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var o=i._howls.length-1;o>=0;o--)i._howls[o].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,o){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(i=typeof i!="number"?u._pos[1]:i,o=typeof o!="number"?u._pos[2]:o,typeof n=="number")u._pos=[n,i,o],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(n,i,o,u,f,c){var s=this;if(!s.ctx||!s.ctx.listener)return s;var d=s._orientation;if(i=typeof i!="number"?d[1]:i,o=typeof o!="number"?d[2]:o,u=typeof u!="number"?d[3]:u,f=typeof f!="number"?d[4]:f,c=typeof c!="number"?d[5]:c,typeof n=="number")s._orientation=[n,i,o,u,f,c],typeof s.ctx.listener.forwardX<"u"?(s.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(n,i,o,u,f,c);else return d;return s},Howl.prototype.init=function(n){return function(i){var o=this;return o._orientation=i.orientation||[1,0,0],o._stereo=i.stereo||null,o._pos=i.pos||null,o._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},o._onstereo=i.onstereo?[{fn:i.onstereo}]:[],o._onpos=i.onpos?[{fn:i.onpos}]:[],o._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,i)}}),o;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var f=o._getSoundIds(i),c=0;c<f.length;c++){var s=o._soundById(f[c]);if(s)if(typeof n=="number")s._stereo=n,s._pos=[n,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",(!s._panner||!s._panner.pan)&&r(s,u),u==="spatial"?typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(n,0,0):s._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",s._id);else return s._stereo}return o},Howl.prototype.pos=function(n,i,o,u){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"pos",action:function(){f.pos(n,i,o,u)}}),f;if(i=typeof i!="number"?0:i,o=typeof o!="number"?-.5:o,typeof u>"u")if(typeof n=="number")f._pos=[n,i,o];else return f._pos;for(var c=f._getSoundIds(u),s=0;s<c.length;s++){var d=f._soundById(c[s]);if(d)if(typeof n=="number")d._pos=[n,i,o],d._node&&((!d._panner||d._panner.pan)&&r(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,i,o)),f._emit("pos",d._id);else return d._pos}return f},Howl.prototype.orientation=function(n,i,o,u){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"orientation",action:function(){f.orientation(n,i,o,u)}}),f;if(i=typeof i!="number"?f._orientation[1]:i,o=typeof o!="number"?f._orientation[2]:o,typeof u>"u")if(typeof n=="number")f._orientation=[n,i,o];else return f._orientation;for(var c=f._getSoundIds(u),s=0;s<c.length;s++){var d=f._soundById(c[s]);if(d)if(typeof n=="number")d._orientation=[n,i,o],d._node&&(d._panner||(d._pos||(d._pos=f._pos||[0,0,-.5]),r(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,i,o)),f._emit("orientation",d._id);else return d._orientation}return f},Howl.prototype.pannerAttr=function(){var n=this,i=arguments,o,u,f;if(!n._webAudio)return n;if(i.length===0)return n._pannerAttr;if(i.length===1)if(typeof i[0]=="object")o=i[0],typeof u>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return f=n._soundById(parseInt(i[0],10)),f?f._pannerAttr:n._pannerAttr;else i.length===2&&(o=i[0],u=parseInt(i[1],10));for(var c=n._getSoundIds(u),s=0;s<c.length;s++)if(f=n._soundById(c[s]),f){var d=f._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var m=f._panner;m?(m.coneInnerAngle=d.coneInnerAngle,m.coneOuterAngle=d.coneOuterAngle,m.coneOuterGain=d.coneOuterGain,m.distanceModel=d.distanceModel,m.maxDistance=d.maxDistance,m.refDistance=d.refDistance,m.rolloffFactor=d.rolloffFactor,m.panningModel=d.panningModel):(f._pos||(f._pos=n._pos||[0,0,-.5]),r(f,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var i=this,o=i._parent;i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,n.call(this),i._stereo?o.stereo(i._stereo):i._pos&&o.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,o=i._parent;return i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,i._stereo?o.stereo(i._stereo):i._pos?o.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,o._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var r=function(n,i){i=i||"spatial",i==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Be);function De(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function sn(t){let r,n,i;t.length!==2?(r=De,n=(c,s)=>De(t(c),s),i=(c,s)=>t(c)-s):(r=t===De||t===Nn?t:Fn,n=t,i=t);function o(c,s,d=0,m=c.length){if(d<m){if(r(s,s)!==0)return m;do{const e=d+m>>>1;n(c[e],s)<0?d=e+1:m=e}while(d<m)}return d}function u(c,s,d=0,m=c.length){if(d<m){if(r(s,s)!==0)return m;do{const e=d+m>>>1;n(c[e],s)<=0?d=e+1:m=e}while(d<m)}return d}function f(c,s,d=0,m=c.length){const e=o(c,s,d,m-1);return e>d&&i(c[e-1],s)>-i(c[e],s)?e-1:e}return{left:o,center:f,right:u}}function Fn(){return 0}function Bn(t){return t===null?NaN:+t}const Dn=sn(De),$n=Dn.right;sn(Bn).center;const Gn=$n,jn=Math.sqrt(50),qn=Math.sqrt(10),Cn=Math.sqrt(2);function Ce(t,r,n){const i=(r-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),u=i/Math.pow(10,o),f=u>=jn?10:u>=qn?5:u>=Cn?2:1;let c,s,d;return o<0?(d=Math.pow(10,-o)/f,c=Math.round(t*d),s=Math.round(r*d),c/d<t&&++c,s/d>r&&--s,d=-d):(d=Math.pow(10,o)*f,c=Math.round(t/d),s=Math.round(r/d),c*d<t&&++c,s*d>r&&--s),s<c&&.5<=n&&n<2?Ce(t,r,n*2):[c,s,d]}function Vn(t,r,n){if(r=+r,t=+t,n=+n,!(n>0))return[];if(t===r)return[t];const i=r<t,[o,u,f]=i?Ce(r,t,n):Ce(t,r,n);if(!(u>=o))return[];const c=u-o+1,s=new Array(c);if(i)if(f<0)for(let d=0;d<c;++d)s[d]=(u-d)/-f;else for(let d=0;d<c;++d)s[d]=(u-d)*f;else if(f<0)for(let d=0;d<c;++d)s[d]=(o+d)/-f;else for(let d=0;d<c;++d)s[d]=(o+d)*f;return s}function st(t,r,n){return r=+r,t=+t,n=+n,Ce(t,r,n)[2]}function Xn(t,r,n){r=+r,t=+t,n=+n;const i=r<t,o=i?st(r,t,n):st(t,r,n);return(i?-1:1)*(o<0?1/-o:o)}function Wn(t,r,n){t=+t,r=+r,n=(o=arguments.length)<2?(r=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((r-t)/n))|0,u=new Array(o);++i<o;)u[i]=t+i*n;return u}function gt(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function cn(t,r){var n=Object.create(t.prototype);for(var i in r)n[i]=r[i];return n}function Ie(){}var we=.7,Ve=1/we,pe="\\s*([+-]?\\d+)\\s*",xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",K="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zn=/^#([0-9a-f]{3,8})$/,Qn=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),Yn=new RegExp(`^rgb\\(${K},${K},${K}\\)$`),Kn=new RegExp(`^rgba\\(${pe},${pe},${pe},${xe}\\)$`),Un=new RegExp(`^rgba\\(${K},${K},${K},${xe}\\)$`),Jn=new RegExp(`^hsl\\(${xe},${K},${K}\\)$`),zn=new RegExp(`^hsla\\(${xe},${K},${K},${xe}\\)$`),Et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gt(Ie,Ae,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pt,formatHex:Pt,formatHex8:er,formatHsl:tr,formatRgb:Nt,toString:Nt});function Pt(){return this.rgb().formatHex()}function er(){return this.rgb().formatHex8()}function tr(){return dn(this).formatHsl()}function Nt(){return this.rgb().formatRgb()}function Ae(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=Zn.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?Ot(r):n===3?new C(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Oe(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Oe(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Qn.exec(t))?new C(r[1],r[2],r[3],1):(r=Yn.exec(t))?new C(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Kn.exec(t))?Oe(r[1],r[2],r[3],r[4]):(r=Un.exec(t))?Oe(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Jn.exec(t))?Lt(r[1],r[2]/100,r[3]/100,1):(r=zn.exec(t))?Lt(r[1],r[2]/100,r[3]/100,r[4]):Et.hasOwnProperty(t)?Ot(Et[t]):t==="transparent"?new C(NaN,NaN,NaN,0):null}function Ot(t){return new C(t>>16&255,t>>8&255,t&255,1)}function Oe(t,r,n,i){return i<=0&&(t=r=n=NaN),new C(t,r,n,i)}function nr(t){return t instanceof Ie||(t=Ae(t)),t?(t=t.rgb(),new C(t.r,t.g,t.b,t.opacity)):new C}function ct(t,r,n,i){return arguments.length===1?nr(t):new C(t,r,n,i??1)}function C(t,r,n,i){this.r=+t,this.g=+r,this.b=+n,this.opacity=+i}gt(C,ct,cn(Ie,{brighter(t){return t=t==null?Ve:Math.pow(Ve,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?we:Math.pow(we,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new C(oe(this.r),oe(this.g),oe(this.b),Xe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatHex8:rr,formatRgb:Rt,toString:Rt}));function Ht(){return`#${ae(this.r)}${ae(this.g)}${ae(this.b)}`}function rr(){return`#${ae(this.r)}${ae(this.g)}${ae(this.b)}${ae((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rt(){const t=Xe(this.opacity);return`${t===1?"rgb(":"rgba("}${oe(this.r)}, ${oe(this.g)}, ${oe(this.b)}${t===1?")":`, ${t})`}`}function Xe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ae(t){return t=oe(t),(t<16?"0":"")+t.toString(16)}function Lt(t,r,n,i){return i<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new Q(t,r,n,i)}function dn(t){if(t instanceof Q)return new Q(t.h,t.s,t.l,t.opacity);if(t instanceof Ie||(t=Ae(t)),!t)return new Q;if(t instanceof Q)return t;t=t.rgb();var r=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(r,n,i),u=Math.max(r,n,i),f=NaN,c=u-o,s=(u+o)/2;return c?(r===u?f=(n-i)/c+(n<i)*6:n===u?f=(i-r)/c+2:f=(r-n)/c+4,c/=s<.5?u+o:2-u-o,f*=60):c=s>0&&s<1?0:f,new Q(f,c,s,t.opacity)}function ir(t,r,n,i){return arguments.length===1?dn(t):new Q(t,r,n,i??1)}function Q(t,r,n,i){this.h=+t,this.s=+r,this.l=+n,this.opacity=+i}gt(Q,ir,cn(Ie,{brighter(t){return t=t==null?Ve:Math.pow(Ve,t),new Q(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?we:Math.pow(we,t),new Q(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,o=2*n-i;return new C(it(t>=240?t-240:t+120,o,i),it(t,o,i),it(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Q(Ft(this.h),He(this.s),He(this.l),Xe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xe(this.opacity);return`${t===1?"hsl(":"hsla("}${Ft(this.h)}, ${He(this.s)*100}%, ${He(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ft(t){return t=(t||0)%360,t<0?t+360:t}function He(t){return Math.max(0,Math.min(1,t||0))}function it(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const yt=t=>()=>t;function ar(t,r){return function(n){return t+n*r}}function or(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(i){return Math.pow(t+i*r,n)}}function lr(t){return(t=+t)==1?_n:function(r,n){return n-r?or(r,n,t):yt(isNaN(r)?n:r)}}function _n(t,r){var n=r-t;return n?ar(t,n):yt(isNaN(t)?r:t)}const Bt=function t(r){var n=lr(r);function i(o,u){var f=n((o=ct(o)).r,(u=ct(u)).r),c=n(o.g,u.g),s=n(o.b,u.b),d=_n(o.opacity,u.opacity);return function(m){return o.r=f(m),o.g=c(m),o.b=s(m),o.opacity=d(m),o+""}}return i.gamma=t,i}(1);function ur(t,r){r||(r=[]);var n=t?Math.min(r.length,t.length):0,i=r.slice(),o;return function(u){for(o=0;o<n;++o)i[o]=t[o]*(1-u)+r[o]*u;return i}}function fr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sr(t,r){var n=r?r.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),u=new Array(n),f;for(f=0;f<i;++f)o[f]=vt(t[f],r[f]);for(;f<n;++f)u[f]=r[f];return function(c){for(f=0;f<i;++f)u[f]=o[f](c);return u}}function cr(t,r){var n=new Date;return t=+t,r=+r,function(i){return n.setTime(t*(1-i)+r*i),n}}function We(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}function dr(t,r){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(o in r)o in t?n[o]=vt(t[o],r[o]):i[o]=r[o];return function(u){for(o in n)i[o]=n[o](u);return i}}var dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,at=new RegExp(dt.source,"g");function _r(t){return function(){return t}}function hr(t){return function(r){return t(r)+""}}function pr(t,r){var n=dt.lastIndex=at.lastIndex=0,i,o,u,f=-1,c=[],s=[];for(t=t+"",r=r+"";(i=dt.exec(t))&&(o=at.exec(r));)(u=o.index)>n&&(u=r.slice(n,u),c[f]?c[f]+=u:c[++f]=u),(i=i[0])===(o=o[0])?c[f]?c[f]+=o:c[++f]=o:(c[++f]=null,s.push({i:f,x:We(i,o)})),n=at.lastIndex;return n<r.length&&(u=r.slice(n),c[f]?c[f]+=u:c[++f]=u),c.length<2?s[0]?hr(s[0].x):_r(r):(r=s.length,function(d){for(var m=0,e;m<r;++m)c[(e=s[m]).i]=e.x(d);return c.join("")})}function vt(t,r){var n=typeof r,i;return r==null||n==="boolean"?yt(r):(n==="number"?We:n==="string"?(i=Ae(r))?(r=i,Bt):pr:r instanceof Ae?Bt:r instanceof Date?cr:fr(r)?ur:Array.isArray(r)?sr:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?dr:We)(t,r)}function mr(t,r){return t=+t,r=+r,function(n){return Math.round(t*(1-n)+r*n)}}const _t=Math.PI,ht=2*_t,ie=1e-6,gr=ht-ie;function hn(t){this._+=t[0];for(let r=1,n=t.length;r<n;++r)this._+=arguments[r]+t[r]}function yr(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return hn;const n=10**r;return function(i){this._+=i[0];for(let o=1,u=i.length;o<u;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class vr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?hn:yr(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,i,o){this._append`Q${+r},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(r,n,i,o,u,f){this._append`C${+r},${+n},${+i},${+o},${this._x1=+u},${this._y1=+f}`}arcTo(r,n,i,o,u){if(r=+r,n=+n,i=+i,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let f=this._x1,c=this._y1,s=i-r,d=o-n,m=f-r,e=c-n,a=m*m+e*e;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(a>ie)if(!(Math.abs(e*s-d*m)>ie)||!u)this._append`L${this._x1=r},${this._y1=n}`;else{let l=i-f,_=o-c,h=s*s+d*d,g=l*l+_*_,p=Math.sqrt(h),v=Math.sqrt(a),x=u*Math.tan((_t-Math.acos((h+a-g)/(2*p*v)))/2),k=x/v,M=x/p;Math.abs(k-1)>ie&&this._append`L${r+k*m},${n+k*e}`,this._append`A${u},${u},0,0,${+(e*l>m*_)},${this._x1=r+M*s},${this._y1=n+M*d}`}}arc(r,n,i,o,u,f){if(r=+r,n=+n,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),s=i*Math.sin(o),d=r+c,m=n+s,e=1^f,a=f?o-u:u-o;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>ie||Math.abs(this._y1-m)>ie)&&this._append`L${d},${m}`,i&&(a<0&&(a=a%ht+ht),a>gr?this._append`A${i},${i},0,1,${e},${r-c},${n-s}A${i},${i},0,1,${e},${this._x1=d},${this._y1=m}`:a>ie&&this._append`A${i},${i},0,${+(a>=_t)},${e},${this._x1=r+i*Math.cos(u)},${this._y1=n+i*Math.sin(u)}`)}rect(r,n,i,o){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function br(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ze(t,r){if((n=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function ye(t){return t=Ze(Math.abs(t)),t?t[1]:NaN}function wr(t,r){return function(n,i){for(var o=n.length,u=[],f=0,c=t[0],s=0;o>0&&c>0&&(s+c+1>i&&(c=Math.max(1,i-s)),u.push(n.substring(o-=c,o+c)),!((s+=c+1)>i));)c=t[f=(f+1)%t.length];return u.reverse().join(r)}}function xr(t){return function(r){return r.replace(/[0-9]/g,function(n){return t[+n]})}}var Ar=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qe(t){if(!(r=Ar.exec(t)))throw new Error("invalid format: "+t);var r;return new bt({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Qe.prototype=bt.prototype;function bt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tr(t){e:for(var r=t.length,n=1,i=-1,o;n<r;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var pn;function kr(t,r){var n=Ze(t,r);if(!n)return t+"";var i=n[0],o=n[1],u=o-(pn=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,f=i.length;return u===f?i:u>f?i+new Array(u-f+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+Ze(t,Math.max(0,r+u-1))[0]}function Dt(t,r){var n=Ze(t,r);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const $t={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:br,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>Dt(t*100,r),r:Dt,s:kr,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Gt(t){return t}var jt=Array.prototype.map,qt=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mr(t){var r=t.grouping===void 0||t.thousands===void 0?Gt:wr(jt.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?Gt:xr(jt.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function d(e){e=Qe(e);var a=e.fill,l=e.align,_=e.sign,h=e.symbol,g=e.zero,p=e.width,v=e.comma,x=e.precision,k=e.trim,M=e.type;M==="n"?(v=!0,M="g"):$t[M]||(x===void 0&&(x=12),k=!0,M="g"),(g||a==="0"&&l==="=")&&(g=!0,a="0",l="=");var S=h==="$"?n:h==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",N=h==="$"?i:/[%p]/.test(M)?f:"",L=$t[M],I=/[defgprs%]/.test(M);x=x===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function F(A){var E=S,b=N,w,P,V;if(M==="c")b=L(A)+b,A="";else{A=+A;var W=A<0||1/A<0;if(A=isNaN(A)?s:L(Math.abs(A),x),k&&(A=Tr(A)),W&&+A==0&&_!=="+"&&(W=!1),E=(W?_==="("?_:c:_==="-"||_==="("?"":_)+E,b=(M==="s"?qt[8+pn/3]:"")+b+(W&&_==="("?")":""),I){for(w=-1,P=A.length;++w<P;)if(V=A.charCodeAt(w),48>V||V>57){b=(V===46?o+A.slice(w+1):A.slice(w))+b,A=A.slice(0,w);break}}}v&&!g&&(A=r(A,1/0));var Z=E.length+A.length+b.length,j=Z<p?new Array(p-Z+1).join(a):"";switch(v&&g&&(A=r(j+A,j.length?p-b.length:1/0),j=""),l){case"<":A=E+A+b+j;break;case"=":A=E+j+A+b;break;case"^":A=j.slice(0,Z=j.length>>1)+E+A+b+j.slice(Z);break;default:A=j+E+A+b;break}return u(A)}return F.toString=function(){return e+""},F}function m(e,a){var l=d((e=Qe(e),e.type="f",e)),_=Math.max(-8,Math.min(8,Math.floor(ye(a)/3)))*3,h=Math.pow(10,-_),g=qt[8+_/3];return function(p){return l(h*p)+g}}return{format:d,formatPrefix:m}}var Re,Ye,mn;Sr({thousands:",",grouping:[3],currency:["$",""]});function Sr(t){return Re=Mr(t),Ye=Re.format,mn=Re.formatPrefix,Re}function Ir(t){return Math.max(0,-ye(Math.abs(t)))}function Er(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ye(r)/3)))*3-ye(Math.abs(t)))}function Pr(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,ye(r)-ye(t))+1}function Nr(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function Or(t){return function(){return t}}function Hr(t){return+t}var Ct=[0,1];function _e(t){return t}function pt(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:Or(isNaN(r)?NaN:.5)}function Rr(t,r){var n;return t>r&&(n=t,t=r,r=n),function(i){return Math.max(t,Math.min(r,i))}}function Lr(t,r,n){var i=t[0],o=t[1],u=r[0],f=r[1];return o<i?(i=pt(o,i),u=n(f,u)):(i=pt(i,o),u=n(u,f)),function(c){return u(i(c))}}function Fr(t,r,n){var i=Math.min(t.length,r.length)-1,o=new Array(i),u=new Array(i),f=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++f<i;)o[f]=pt(t[f],t[f+1]),u[f]=n(r[f],r[f+1]);return function(c){var s=Gn(t,c,1,i)-1;return u[s](o[s](c))}}function Br(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dr(){var t=Ct,r=Ct,n=vt,i,o,u,f=_e,c,s,d;function m(){var a=Math.min(t.length,r.length);return f!==_e&&(f=Rr(t[0],t[a-1])),c=a>2?Fr:Lr,s=d=null,e}function e(a){return a==null||isNaN(a=+a)?u:(s||(s=c(t.map(i),r,n)))(i(f(a)))}return e.invert=function(a){return f(o((d||(d=c(r,t.map(i),We)))(a)))},e.domain=function(a){return arguments.length?(t=Array.from(a,Hr),m()):t.slice()},e.range=function(a){return arguments.length?(r=Array.from(a),m()):r.slice()},e.rangeRound=function(a){return r=Array.from(a),n=mr,m()},e.clamp=function(a){return arguments.length?(f=a?!0:_e,m()):f!==_e},e.interpolate=function(a){return arguments.length?(n=a,m()):n},e.unknown=function(a){return arguments.length?(u=a,e):u},function(a,l){return i=a,o=l,m()}}function $r(){return Dr()(_e,_e)}function Gr(t,r,n,i){var o=Xn(t,r,n),u;switch(i=Qe(i??",f"),i.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(r));return i.precision==null&&!isNaN(u=Er(o,f))&&(i.precision=u),mn(i,f)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(u=Pr(o,Math.max(Math.abs(t),Math.abs(r))))&&(i.precision=u-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(u=Ir(o))&&(i.precision=u-(i.type==="%")*2);break}}return Ye(i)}function jr(t){var r=t.domain;return t.ticks=function(n){var i=r();return Vn(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=r();return Gr(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=r(),o=0,u=i.length-1,f=i[o],c=i[u],s,d,m=10;for(c<f&&(d=f,f=c,c=d,d=o,o=u,u=d);m-- >0;){if(d=st(f,c,n),d===s)return i[o]=f,i[u]=c,r(i);if(d>0)f=Math.floor(f/d)*d,c=Math.ceil(c/d)*d;else if(d<0)f=Math.ceil(f*d)/d,c=Math.floor(c*d)/d;else break;s=d}return t},t}function gn(){var t=$r();return t.copy=function(){return Br(t,gn())},Nr.apply(t,arguments),jr(t)}function ee(t){return function(){return t}}const Vt=Math.abs,G=Math.atan2,re=Math.cos,qr=Math.max,ot=Math.min,Y=Math.sin,he=Math.sqrt,q=1e-12,Te=Math.PI,Ke=Te/2,Cr=2*Te;function Vr(t){return t>1?0:t<-1?Te:Math.acos(t)}function Xt(t){return t>=1?Ke:t<=-1?-Ke:Math.asin(t)}function Xr(t){let r=3;return t.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);r=i}return t},()=>new vr(r)}function Wr(t){return t.innerRadius}function Zr(t){return t.outerRadius}function Qr(t){return t.startAngle}function Yr(t){return t.endAngle}function Kr(t){return t&&t.padAngle}function Ur(t,r,n,i,o,u,f,c){var s=n-t,d=i-r,m=f-o,e=c-u,a=e*s-m*d;if(!(a*a<q))return a=(m*(r-u)-e*(t-o))/a,[t+a*s,r+a*d]}function Le(t,r,n,i,o,u,f){var c=t-n,s=r-i,d=(f?u:-u)/he(c*c+s*s),m=d*s,e=-d*c,a=t+m,l=r+e,_=n+m,h=i+e,g=(a+_)/2,p=(l+h)/2,v=_-a,x=h-l,k=v*v+x*x,M=o-u,S=a*h-_*l,N=(x<0?-1:1)*he(qr(0,M*M*k-S*S)),L=(S*x-v*N)/k,I=(-S*v-x*N)/k,F=(S*x+v*N)/k,A=(-S*v+x*N)/k,E=L-g,b=I-p,w=F-g,P=A-p;return E*E+b*b>w*w+P*P&&(L=F,I=A),{cx:L,cy:I,x01:-m,y01:-e,x11:L*(o/M-1),y11:I*(o/M-1)}}function Jr(){var t=Wr,r=Zr,n=ee(0),i=null,o=Qr,u=Yr,f=Kr,c=null,s=Xr(d);function d(){var m,e,a=+t.apply(this,arguments),l=+r.apply(this,arguments),_=o.apply(this,arguments)-Ke,h=u.apply(this,arguments)-Ke,g=Vt(h-_),p=h>_;if(c||(c=m=s()),l<a&&(e=l,l=a,a=e),!(l>q))c.moveTo(0,0);else if(g>Cr-q)c.moveTo(l*re(_),l*Y(_)),c.arc(0,0,l,_,h,!p),a>q&&(c.moveTo(a*re(h),a*Y(h)),c.arc(0,0,a,h,_,p));else{var v=_,x=h,k=_,M=h,S=g,N=g,L=f.apply(this,arguments)/2,I=L>q&&(i?+i.apply(this,arguments):he(a*a+l*l)),F=ot(Vt(l-a)/2,+n.apply(this,arguments)),A=F,E=F,b,w;if(I>q){var P=Xt(I/a*Y(L)),V=Xt(I/l*Y(L));(S-=P*2)>q?(P*=p?1:-1,k+=P,M-=P):(S=0,k=M=(_+h)/2),(N-=V*2)>q?(V*=p?1:-1,v+=V,x-=V):(N=0,v=x=(_+h)/2)}var W=l*re(v),Z=l*Y(v),j=a*re(M),Ee=a*Y(M);if(F>q){var Pe=l*re(x),Ne=l*Y(x),Je=a*re(k),ze=a*Y(k),J;if(g<Te)if(J=Ur(W,Z,Je,ze,Pe,Ne,j,Ee)){var et=W-J[0],tt=Z-J[1],nt=Pe-J[0],rt=Ne-J[1],wt=1/Y(Vr((et*nt+tt*rt)/(he(et*et+tt*tt)*he(nt*nt+rt*rt)))/2),xt=he(J[0]*J[0]+J[1]*J[1]);A=ot(F,(a-xt)/(wt-1)),E=ot(F,(l-xt)/(wt+1))}else A=E=0}N>q?E>q?(b=Le(Je,ze,W,Z,l,E,p),w=Le(Pe,Ne,j,Ee,l,E,p),c.moveTo(b.cx+b.x01,b.cy+b.y01),E<F?c.arc(b.cx,b.cy,E,G(b.y01,b.x01),G(w.y01,w.x01),!p):(c.arc(b.cx,b.cy,E,G(b.y01,b.x01),G(b.y11,b.x11),!p),c.arc(0,0,l,G(b.cy+b.y11,b.cx+b.x11),G(w.cy+w.y11,w.cx+w.x11),!p),c.arc(w.cx,w.cy,E,G(w.y11,w.x11),G(w.y01,w.x01),!p))):(c.moveTo(W,Z),c.arc(0,0,l,v,x,!p)):c.moveTo(W,Z),!(a>q)||!(S>q)?c.lineTo(j,Ee):A>q?(b=Le(j,Ee,Pe,Ne,a,-A,p),w=Le(W,Z,Je,ze,a,-A,p),c.lineTo(b.cx+b.x01,b.cy+b.y01),A<F?c.arc(b.cx,b.cy,A,G(b.y01,b.x01),G(w.y01,w.x01),!p):(c.arc(b.cx,b.cy,A,G(b.y01,b.x01),G(b.y11,b.x11),!p),c.arc(0,0,a,G(b.cy+b.y11,b.cx+b.x11),G(w.cy+w.y11,w.cx+w.x11),p),c.arc(w.cx,w.cy,A,G(w.y11,w.x11),G(w.y01,w.x01),!p))):c.arc(0,0,a,M,k,p)}if(c.closePath(),m)return c=null,m+""||null}return d.centroid=function(){var m=(+t.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-Te/2;return[re(e)*m,Y(e)*m]},d.innerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:ee(+m),d):t},d.outerRadius=function(m){return arguments.length?(r=typeof m=="function"?m:ee(+m),d):r},d.cornerRadius=function(m){return arguments.length?(n=typeof m=="function"?m:ee(+m),d):n},d.padRadius=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:ee(+m),d):i},d.startAngle=function(m){return arguments.length?(o=typeof m=="function"?m:ee(+m),d):o},d.endAngle=function(m){return arguments.length?(u=typeof m=="function"?m:ee(+m),d):u},d.padAngle=function(m){return arguments.length?(f=typeof m=="function"?m:ee(+m),d):f},d.context=function(m){return arguments.length?(c=m??null,d):c},d}function zr(t){let r;return{c(){r=ve("path"),this.h()},l(n){r=be(n,"path",{d:!0,fill:!0,class:!0}),X(r).forEach(T),this.h()},h(){y(r,"d",t[5]()),y(r,"fill",t[0]),y(r,"class","svelte-1jyeu8j"),$e(r,"playing",t[4]),ln(r,"transform","translate(50%, 50%)")},m(n,i){B(n,r,i)},p(n,i){i&1&&y(r,"fill",n[0]),i&16&&$e(r,"playing",n[4])},d(n){n&&T(r)}}}function ei(t){let r,n,i;return{c(){r=ve("rect"),this.h()},l(o){r=be(o,"rect",{x:!0,width:!0,height:!0,fill:!0,class:!0}),X(r).forEach(T),this.h()},h(){y(r,"x",n=t[2](t[1])),y(r,"width",i=t[2](Ue)),y(r,"height",ni),y(r,"fill",t[0]),y(r,"class","svelte-1jyeu8j"),$e(r,"playing",t[4])},m(o,u){B(o,r,u)},p(o,u){u&6&&n!==(n=o[2](o[1]))&&y(r,"x",n),u&4&&i!==(i=o[2](Ue))&&y(r,"width",i),u&1&&y(r,"fill",o[0]),u&16&&$e(r,"playing",o[4])},d(o){o&&T(r)}}}function ti(t){let r;function n(u,f){if(u[3]==="linear")return ei;if(u[3]==="circular")return zr}let i=n(t),o=i&&i(t);return{c(){o&&o.c(),r=U()},l(u){o&&o.l(u),r=U()},m(u,f){o&&o.m(u,f),B(u,r,f)},p(u,[f]){i===(i=n(u))&&o?o.p(u,f):(o&&o.d(1),o=i&&i(u),o&&(o.c(),o.m(r.parentNode,r)))},i:te,o:te,d(u){o&&o.d(u),u&&T(r)}}}const Ue=.1,ni=20;function ri(t,r,n){let i,o;An(t,Fe,h=>n(9,o=h));let{color:u}=r,{note:f}=r,{id:c}=r,{xScale:s}=r,{rScale:d}=r,{type:m}=r,{innerRadius:e}=r;const a={hihat:new Be.Howl({src:["assets/sound/hihat.mp3"]}),kick:new Be.Howl({src:["assets/sound/kick.mp3"]}),snare:new Be.Howl({src:["assets/sound/snare.mp3"]})};let l=Jr().innerRadius(e).outerRadius(e+15).startAngle(d(f)).endAngle(d(f+Ue));const _=()=>{a[c].play()};return t.$$set=h=>{"color"in h&&n(0,u=h.color),"note"in h&&n(1,f=h.note),"id"in h&&n(6,c=h.id),"xScale"in h&&n(2,s=h.xScale),"rScale"in h&&n(7,d=h.rScale),"type"in h&&n(3,m=h.type),"innerRadius"in h&&n(8,e=h.innerRadius)},t.$$.update=()=>{t.$$.dirty&514&&n(4,i=o>=f&&o<f+Ue),t.$$.dirty&16&&i&&_()},[u,f,s,m,i,l,c,d,e,o]}class yn extends ce{constructor(r){super(),de(this,r,ri,ti,ne,{color:0,note:1,id:6,xScale:2,rScale:7,type:3,innerRadius:8})}}function Wt(t,r,n){const i=t.slice();return i[8]=r[n],i}function Zt(t,r,n){const i=t.slice();return i[8]=r[n],i}function ii(t){let r,n,i=t[2],o=[];for(let f=0;f<i.length;f+=1)o[f]=Qt(Wt(t,i,f));const u=f=>$(o[f],1,1,()=>{o[f]=null});return{c(){for(let f=0;f<o.length;f+=1)o[f].c();r=U()},l(f){for(let c=0;c<o.length;c+=1)o[c].l(f);r=U()},m(f,c){for(let s=0;s<o.length;s+=1)o[s].m(f,c);B(f,r,c),n=!0},p(f,c){if(c&231){i=f[2];let s;for(s=0;s<i.length;s+=1){const d=Wt(f,i,s);o[s]?(o[s].p(d,c),D(o[s],1)):(o[s]=Qt(d),o[s].c(),D(o[s],1),o[s].m(r.parentNode,r))}for(Me(),s=i.length;s<o.length;s+=1)u(s);Se()}},i(f){if(!n){for(let c=0;c<i.length;c+=1)D(o[c]);n=!0}},o(f){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)$(o[c]);n=!1},d(f){ke(o,f),f&&T(r)}}}function ai(t){let r,n,i,o=t[2],u=[];for(let c=0;c<o.length;c+=1)u[c]=Yt(Zt(t,o,c));const f=c=>$(u[c],1,1,()=>{u[c]=null});return{c(){r=ve("g");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){r=be(c,"g",{id:!0,transform:!0});var s=X(r);for(let d=0;d<u.length;d+=1)u[d].l(s);s.forEach(T),this.h()},h(){y(r,"id",t[0]),y(r,"transform",n=`translate(0, ${t[4](t[1])})`)},m(c,s){B(c,r,s);for(let d=0;d<u.length;d+=1)u[d].m(r,null);i=!0},p(c,s){if(s&205){o=c[2];let d;for(d=0;d<o.length;d+=1){const m=Zt(c,o,d);u[d]?(u[d].p(m,s),D(u[d],1)):(u[d]=Yt(m),u[d].c(),D(u[d],1),u[d].m(r,null))}for(Me(),d=o.length;d<u.length;d+=1)f(d);Se()}(!i||s&1)&&y(r,"id",c[0]),(!i||s&18&&n!==(n=`translate(0, ${c[4](c[1])})`))&&y(r,"transform",n)},i(c){if(!i){for(let s=0;s<o.length;s+=1)D(u[s]);i=!0}},o(c){u=u.filter(Boolean);for(let s=0;s<u.length;s+=1)$(u[s]);i=!1},d(c){c&&T(r),ke(u,c)}}}function Qt(t){let r,n;return r=new yn({props:{note:t[8],color:t[7][t[0]],id:t[0],rScale:t[5],type:t[6],innerRadius:150+t[1]*20}}),{c(){le(r.$$.fragment)},l(i){ue(r.$$.fragment,i)},m(i,o){fe(r,i,o),n=!0},p(i,o){const u={};o&4&&(u.note=i[8]),o&1&&(u.color=i[7][i[0]]),o&1&&(u.id=i[0]),o&32&&(u.rScale=i[5]),o&64&&(u.type=i[6]),o&2&&(u.innerRadius=150+i[1]*20),r.$set(u)},i(i){n||(D(r.$$.fragment,i),n=!0)},o(i){$(r.$$.fragment,i),n=!1},d(i){se(r,i)}}}function Yt(t){let r,n;return r=new yn({props:{note:t[8],color:t[7][t[0]],id:t[0],xScale:t[3],type:t[6]}}),{c(){le(r.$$.fragment)},l(i){ue(r.$$.fragment,i)},m(i,o){fe(r,i,o),n=!0},p(i,o){const u={};o&4&&(u.note=i[8]),o&1&&(u.color=i[7][i[0]]),o&1&&(u.id=i[0]),o&8&&(u.xScale=i[3]),o&64&&(u.type=i[6]),r.$set(u)},i(i){n||(D(r.$$.fragment,i),n=!0)},o(i){$(r.$$.fragment,i),n=!1},d(i){se(r,i)}}}function oi(t){let r,n,i,o;const u=[ai,ii],f=[];function c(s,d){return s[6]==="linear"?0:s[6]==="circular"?1:-1}return~(r=c(t))&&(n=f[r]=u[r](t)),{c(){n&&n.c(),i=U()},l(s){n&&n.l(s),i=U()},m(s,d){~r&&f[r].m(s,d),B(s,i,d),o=!0},p(s,[d]){let m=r;r=c(s),r===m?~r&&f[r].p(s,d):(n&&(Me(),$(f[m],1,1,()=>{f[m]=null}),Se()),~r?(n=f[r],n?n.p(s,d):(n=f[r]=u[r](s),n.c()),D(n,1),n.m(i.parentNode,i)):n=null)},i(s){o||(D(n),o=!0)},o(s){$(n),o=!1},d(s){~r&&f[r].d(s),s&&T(i)}}}function li(t,r,n){let{id:i}=r,{i:o}=r,{data:u}=r,{xScale:f}=r,{yScale:c}=r,{rScale:s}=r,{type:d}=r;const m={hihat:"red",kick:"black",snare:"purple"};return t.$$set=e=>{"id"in e&&n(0,i=e.id),"i"in e&&n(1,o=e.i),"data"in e&&n(2,u=e.data),"xScale"in e&&n(3,f=e.xScale),"yScale"in e&&n(4,c=e.yScale),"rScale"in e&&n(5,s=e.rScale),"type"in e&&n(6,d=e.type)},[i,o,u,f,c,s,d,m]}class ui extends ce{constructor(r){super(),de(this,r,li,oi,ne,{id:0,i:1,data:2,xScale:3,yScale:4,rScale:5,type:6})}}var fi="Expected a function",Kt=0/0,si="[object Symbol]",ci=/^\s+|\s+$/g,di=/^[-+]0x[0-9a-f]+$/i,_i=/^0b[01]+$/i,hi=/^0o[0-7]+$/i,pi=parseInt,mi=typeof z=="object"&&z&&z.Object===Object&&z,gi=typeof self=="object"&&self&&self.Object===Object&&self,yi=mi||gi||Function("return this")(),vi=Object.prototype,bi=vi.toString,wi=Math.max,xi=Math.min,lt=function(){return yi.Date.now()};function Ai(t,r,n){var i,o,u,f,c,s,d=0,m=!1,e=!1,a=!0;if(typeof t!="function")throw new TypeError(fi);r=Ut(r)||0,mt(n)&&(m=!!n.leading,e="maxWait"in n,u=e?wi(Ut(n.maxWait)||0,r):u,a="trailing"in n?!!n.trailing:a);function l(S){var N=i,L=o;return i=o=void 0,d=S,f=t.apply(L,N),f}function _(S){return d=S,c=setTimeout(p,r),m?l(S):f}function h(S){var N=S-s,L=S-d,I=r-N;return e?xi(I,u-L):I}function g(S){var N=S-s,L=S-d;return s===void 0||N>=r||N<0||e&&L>=u}function p(){var S=lt();if(g(S))return v(S);c=setTimeout(p,h(S))}function v(S){return c=void 0,a&&i?l(S):(i=o=void 0,f)}function x(){c!==void 0&&clearTimeout(c),d=0,i=s=o=c=void 0}function k(){return c===void 0?f:v(lt())}function M(){var S=lt(),N=g(S);if(i=arguments,o=this,s=S,N){if(c===void 0)return _(s);if(e)return c=setTimeout(p,r),l(s)}return c===void 0&&(c=setTimeout(p,r)),f}return M.cancel=x,M.flush=k,M}function mt(t){var r=typeof t;return!!t&&(r=="object"||r=="function")}function Ti(t){return!!t&&typeof t=="object"}function ki(t){return typeof t=="symbol"||Ti(t)&&bi.call(t)==si}function Ut(t){if(typeof t=="number")return t;if(ki(t))return Kt;if(mt(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=mt(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=t.replace(ci,"");var n=_i.test(t);return n||hi.test(t)?pi(t.slice(2),n?2:8):di.test(t)?Kt:+t}var Mi=Ai;Pn({width:0,height:0},t=>{const r=()=>t({width:window.innerWidth,height:window.innerHeight});return r(),window.addEventListener("resize",Mi(r,250)),()=>{window.removeEventListener("resize",r)}});function Jt(t,r,n){const i=t.slice();return i[10]=r[n],i}function zt(t){let r,n=Ye(`.${t[6]}f`)(t[10])+"",i;return{c(){r=H("span"),i=je(n),this.h()},l(o){r=R(o,"SPAN",{class:!0});var u=X(r);i=qe(u,n),u.forEach(T),this.h()},h(){y(r,"class","tick svelte-q7ecsm")},m(o,u){B(o,r,u),O(r,i)},p(o,u){u&96&&n!==(n=Ye(`.${o[6]}f`)(o[10])+"")&&fn(i,n)},d(o){o&&T(r)}}}function Si(t){let r,n,i,o,u,f,c=t[5],s=[];for(let d=0;d<c.length;d+=1)s[d]=zt(Jt(t,c,d));return{c(){r=H("div"),n=H("div");for(let d=0;d<s.length;d+=1)s[d].c();i=me(),o=H("input"),this.h()},l(d){r=R(d,"DIV",{class:!0});var m=X(r);n=R(m,"DIV",{class:!0});var e=X(n);for(let a=0;a<s.length;a+=1)s[a].l(e);e.forEach(T),i=ge(m),o=R(m,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),m.forEach(T),this.h()},h(){y(n,"class","ticks svelte-q7ecsm"),y(o,"type","range"),y(o,"aria-label",t[4]),y(o,"min",t[1]),y(o,"max",t[2]),y(o,"step",t[3]),y(o,"class","svelte-q7ecsm"),y(r,"class","range svelte-q7ecsm")},m(d,m){B(d,r,m),O(r,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);O(r,i),O(r,o),Tt(o,t[0]),u||(f=[Ge(o,"change",t[8]),Ge(o,"input",t[8])],u=!0)},p(d,[m]){if(m&96){c=d[5];let e;for(e=0;e<c.length;e+=1){const a=Jt(d,c,e);s[e]?s[e].p(a,m):(s[e]=zt(a),s[e].c(),s[e].m(n,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=c.length}m&16&&y(o,"aria-label",d[4]),m&2&&y(o,"min",d[1]),m&4&&y(o,"max",d[2]),m&8&&y(o,"step",d[3]),m&1&&Tt(o,d[0])},i:te,o:te,d(d){d&&T(r),ke(s,d),u=!1,un(f)}}}function Ii(t,r,n){let i,o,{min:u=0}=r,{max:f=100}=r,{step:c=1}=r,{showTicks:s=!1}=r,{value:d=u}=r,{label:m=""}=r;const e=l=>Math.floor(l)===l?0:l.toString().split(".")[1].length||0;function a(){d=Tn(this.value),n(0,d)}return t.$$set=l=>{"min"in l&&n(1,u=l.min),"max"in l&&n(2,f=l.max),"step"in l&&n(3,c=l.step),"showTicks"in l&&n(7,s=l.showTicks),"value"in l&&n(0,d=l.value),"label"in l&&n(4,m=l.label)},t.$$.update=()=>{t.$$.dirty&8&&n(6,i=e(c)),t.$$.dirty&142&&n(5,o=s?Wn(u,f+c,c):[])},[d,u,f,c,m,o,i,s,a]}class Ei extends ce{constructor(r){super(),de(this,r,Ii,Si,ne,{min:1,max:2,step:3,showTicks:7,value:0,label:4})}}function en(t,r,n){const i=t.slice();return i[5]=r[n],i[7]=n,i}function tn(t){let r,n;return r=new ui({props:{id:t[5],i:t[7],data:t[0][t[5]],rScale:t[1],type:"circular"}}),{c(){le(r.$$.fragment)},l(i){ue(r.$$.fragment,i)},m(i,o){fe(r,i,o),n=!0},p(i,o){const u={};o&1&&(u.id=i[5]),o&1&&(u.data=i[0][i[5]]),o&2&&(u.rScale=i[1]),r.$set(u)},i(i){n||(D(r.$$.fragment,i),n=!0)},o(i){$(r.$$.fragment,i),n=!1},d(i){se(r,i)}}}function nn(t){let r,n,i=Object.keys(t[0]),o=[];for(let f=0;f<i.length;f+=1)o[f]=tn(en(t,i,f));const u=f=>$(o[f],1,1,()=>{o[f]=null});return{c(){for(let f=0;f<o.length;f+=1)o[f].c();r=U()},l(f){for(let c=0;c<o.length;c+=1)o[c].l(f);r=U()},m(f,c){for(let s=0;s<o.length;s+=1)o[s].m(f,c);B(f,r,c),n=!0},p(f,c){if(c&3){i=Object.keys(f[0]);let s;for(s=0;s<i.length;s+=1){const d=en(f,i,s);o[s]?(o[s].p(d,c),D(o[s],1)):(o[s]=tn(d),o[s].c(),D(o[s],1),o[s].m(r.parentNode,r))}for(Me(),s=i.length;s<o.length;s+=1)u(s);Se()}},i(f){if(!n){for(let c=0;c<i.length;c+=1)D(o[c]);n=!0}},o(f){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)$(o[c]);n=!1},d(f){ke(o,f),f&&T(r)}}}function Pi(t){let r,n,i=t[0],o,u,f,c,s,d,m,e,a,l=nn(t);return{c(){r=ve("svg"),n=ve("circle"),l.c(),o=me(),u=H("button"),f=je("play"),c=me(),s=H("button"),d=je("pause"),this.h()},l(_){r=be(_,"svg",{width:!0,height:!0,class:!0});var h=X(r);n=be(h,"circle",{r:!0,cx:!0,cy:!0,class:!0}),X(n).forEach(T),l.l(h),h.forEach(T),o=ge(_),u=R(_,"BUTTON",{});var g=X(u);f=qe(g,"play"),g.forEach(T),c=ge(_),s=R(_,"BUTTON",{});var p=X(s);d=qe(p,"pause"),p.forEach(T),this.h()},h(){y(n,"r",rn/2-100),y(n,"cx","50%"),y(n,"cy","50%"),y(n,"class","svelte-rllmnf"),y(r,"width","100%"),y(r,"height",rn),y(r,"class","svelte-rllmnf")},m(_,h){B(_,r,h),O(r,n),l.m(r,null),B(_,o,h),B(_,u,h),O(u,f),B(_,c,h),B(_,s,h),O(s,d),m=!0,e||(a=[Ge(u,"click",t[3]),Ge(s,"click",t[2])],e=!0)},p(_,[h]){h&1&&ne(i,i=_[0])?(Me(),$(l,1,1,te),Se(),l=nn(_),l.c(),D(l,1),l.m(r,null)):l.p(_,h)},i(_){m||(D(l),m=!0)},o(_){$(l),m=!1},d(_){_&&T(r),l.d(_),_&&T(o),_&&T(u),_&&T(c),_&&T(s),e=!1,un(a)}}}const rn=500,ut=3e3,Ni=0,an=4;function Oi(t,r,n){let i,{data:o}=r,u;const f=()=>{clearInterval(u)},c=()=>{Fe.set(an,{duration:ut}),u=setInterval(()=>{Fe.set(Ni,{duration:0}),Fe.set(an,{duration:ut})},ut)};return kn(()=>{clearInterval(u)}),t.$$set=s=>{"data"in s&&n(0,o=s.data)},n(1,i=gn().domain([0,4]).range([0,2*Math.PI])),[o,i,f,c]}class Hi extends ce{constructor(r){super(),de(this,r,Oi,Pi,ne,{data:0})}}function Ri(t){let r,n,i,o=t[1][t[0]]+"",u,f,c,s,d,m;r=new Hi({props:{data:t[2][t[0]]}});function e(l){t[3](l)}let a={min:0,max:t[1].length-1,step:1,showTicks:!0};return t[0]!==void 0&&(a.value=t[0]),s=new Ei({props:a}),Mn.push(()=>Sn(s,"value",e)),{c(){le(r.$$.fragment),n=me(),i=H("h2"),u=je(o),f=me(),c=H("div"),le(s.$$.fragment),this.h()},l(l){ue(r.$$.fragment,l),n=ge(l),i=R(l,"H2",{});var _=X(i);u=qe(_,o),_.forEach(T),f=ge(l),c=R(l,"DIV",{style:!0});var h=X(c);ue(s.$$.fragment,h),h.forEach(T),this.h()},h(){ln(c,"width","50%")},m(l,_){fe(r,l,_),B(l,n,_),B(l,i,_),O(i,u),B(l,f,_),B(l,c,_),fe(s,c,null),m=!0},p(l,[_]){const h={};_&1&&(h.data=l[2][l[0]]),r.$set(h),(!m||_&1)&&o!==(o=l[1][l[0]]+"")&&fn(u,o);const g={};!d&&_&1&&(d=!0,g.value=l[0],In(()=>d=!1)),s.$set(g)},i(l){m||(D(r.$$.fragment,l),D(s.$$.fragment,l),m=!0)},o(l){$(r.$$.fragment,l),$(s.$$.fragment,l),m=!1},d(l){se(r,l),l&&T(n),l&&T(i),l&&T(f),l&&T(c),se(s)}}}function Li(t,r,n){let i=0,o=["triplet","quintuplet","septuplet","straight"];const u=a=>[0,a,1,1+a,2,2+a,3,3+a],f={hihat:u(.5),snare:[1,3],kick:[0,2]},c={hihat:u(2/3),snare:[1,3],kick:[0,2]},s={hihat:u(3/5),snare:[1,3],kick:[0,2]},d={hihat:u(4/7),snare:[1,3],kick:[0,2]},m=[c,s,d,f];function e(a){i=a,n(0,i)}return[i,o,m,e]}class Fi extends ce{constructor(r){super(),de(this,r,Li,Ri,ne,{})}}const Bi="Title TK",Di="Description tk.",on={title:Bi,description:Di};function $i(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-02-28-15:37"),console.log("--- --- --- --- --- ---")}function Gi(t){let r,n,i,o;return r=new Rn({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),i=new Fi({}),{c(){le(r.$$.fragment),n=me(),le(i.$$.fragment)},l(u){ue(r.$$.fragment,u),n=ge(u),ue(i.$$.fragment,u)},m(u,f){fe(r,u,f),B(u,n,f),fe(i,u,f),o=!0},p:te,i(u){o||(D(r.$$.fragment,u),D(i.$$.fragment,u),o=!0)},o(u){$(r.$$.fragment,u),$(i.$$.fragment,u),o=!1},d(u){se(r,u),u&&T(n),se(i,u)}}}function ji(t,r,n){let{data:i}=r;$i();const o=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:u,description:f,url:c,keywords:s}=on;return kt("copy",on),kt("data",i.data),t.$$set=d=>{"data"in d&&n(5,i=d.data)},[o,u,f,c,s,i]}class Xi extends ce{constructor(r){super(),de(this,r,ji,Gi,ne,{data:5})}}export{Xi as default};
