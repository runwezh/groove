import{S as nt,i as rt,s as Qe,k as V,e as Me,J as Qp,l as K,h as I,n as k,D as U,C as Le,K as pt,b as le,a as de,q as Ye,m as Q,c as me,r as Ge,L as ce,M as Be,I as ae,N as Oe,O as vi,P as yi,Q as ao,R as jp,T as $p,U as Zc,V as on,W as un,X as Fn,Y as pl,Z as ev,_ as tv,x as Pe,y as qe,$ as Nt,z as Ue,a0 as vl,f as re,g as ct,t as se,d as ht,A as Fe,a1 as pn,a2 as ci,v as Ct,o as qr,u as Mt,p as Ne,a3 as jn,a4 as Fr,w as yl,a5 as ml,a6 as Xc,a7 as bl,E as nv,F as rv,G as iv,H as lv,a8 as Jc,a9 as Qc,aa as nf,ab as sv,ac as rf,ad as lf,ae as ov,B as uv}from"../../chunks/index-1f2bc5b0.js";import{r as yo,w as tt}from"../../chunks/index-224c4e3e.js";import{d as av}from"../../chunks/transform-5bf7892f.js";import{w as fv}from"../../chunks/wordmark-fc3f3709.js";import{_ as cv}from"../../chunks/preload-helper-41c905a7.js";function sf(n,t,r){const l=n.slice();return l[5]=t[r],l}function of(n){let t,r;return{c(){t=V("link"),this.h()},l(l){t=K(l,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){k(t,"rel","preload"),k(t,"href",r=n[5]),k(t,"as","font"),k(t,"type","font/woff2"),k(t,"crossorigin","")},m(l,s){le(l,t,s)},p(l,s){s&16&&r!==(r=l[5])&&k(t,"href",r)},d(l){l&&I(t)}}}function hv(n){let t,r,l,s,a,u,h,c,g,m,v,p,T,b,w,A,S,D,O,E,H,Y,J,G,P,W;document.title=t=n[0];let R=n[4],B=[];for(let F=0;F<R.length;F+=1)B[F]=of(sf(n,R,F));return{c(){r=V("meta"),l=V("meta"),s=V("meta"),a=V("meta"),u=V("meta"),h=V("meta"),c=V("meta"),g=V("meta"),m=V("meta"),v=V("meta"),T=V("meta"),b=V("meta"),w=V("meta"),A=V("meta"),S=V("meta"),D=V("meta"),O=V("meta"),E=V("meta"),H=V("meta"),J=V("meta"),G=V("link");for(let F=0;F<B.length;F+=1)B[F].c();W=Me(),this.h()},l(F){const x=Qp("svelte-1htu80s",document.head);r=K(x,"META",{name:!0,content:!0}),l=K(x,"META",{name:!0,content:!0}),s=K(x,"META",{name:!0,content:!0}),a=K(x,"META",{property:!0,content:!0}),u=K(x,"META",{property:!0,content:!0}),h=K(x,"META",{property:!0,content:!0}),c=K(x,"META",{property:!0,content:!0}),g=K(x,"META",{property:!0,content:!0}),m=K(x,"META",{property:!0,content:!0}),v=K(x,"META",{property:!0,content:!0}),T=K(x,"META",{property:!0,content:!0}),b=K(x,"META",{property:!0,content:!0}),w=K(x,"META",{property:!0,content:!0}),A=K(x,"META",{name:!0,content:!0}),S=K(x,"META",{name:!0,content:!0}),D=K(x,"META",{name:!0,content:!0}),O=K(x,"META",{name:!0,content:!0}),E=K(x,"META",{name:!0,content:!0}),H=K(x,"META",{name:!0,content:!0}),J=K(x,"META",{name:!0,content:!0}),G=K(x,"LINK",{rel:!0,href:!0});for(let z=0;z<B.length;z+=1)B[z].l(x);W=Me(),x.forEach(I),this.h()},h(){k(r,"name","description"),k(r,"content",n[1]),k(l,"name","author"),k(l,"content","The Pudding"),k(s,"name","news_keywords"),k(s,"content",n[3]),k(a,"property","og:title"),k(a,"content",n[0]),k(u,"property","og:site_name"),k(u,"content","The Pudding"),k(h,"property","og:url"),k(h,"content",n[2]),k(c,"property","og:description"),k(c,"content",n[1]),k(g,"property","og:type"),k(g,"content","article"),k(m,"property","og:locale"),k(m,"content","en_US"),k(v,"property","og:image"),k(v,"content",p=n[2]+"/assets/social-facebook.jpg"),k(T,"property","og:image:type"),k(T,"content","image/jpeg"),k(b,"property","og:image:width"),k(b,"content","1200"),k(w,"property","og:image:height"),k(w,"content","600"),k(A,"name","twitter:card"),k(A,"content","summary_large_image"),k(S,"name","twitter:site"),k(S,"content","https://pudding.cool"),k(D,"name","twitter:creator"),k(D,"content","@puddingviz"),k(O,"name","twitter:title"),k(O,"content",n[0]),k(E,"name","twitter:description"),k(E,"content",n[1]),k(H,"name","twitter:image:src"),k(H,"content",Y=n[2]+"/assets/social-twitter.jpg"),k(J,"name","robots"),k(J,"content","max-image-preview:large"),k(G,"rel","canonical"),k(G,"href",P=n[2]+"/")},m(F,x){U(document.head,r),U(document.head,l),U(document.head,s),U(document.head,a),U(document.head,u),U(document.head,h),U(document.head,c),U(document.head,g),U(document.head,m),U(document.head,v),U(document.head,T),U(document.head,b),U(document.head,w),U(document.head,A),U(document.head,S),U(document.head,D),U(document.head,O),U(document.head,E),U(document.head,H),U(document.head,J),U(document.head,G);for(let z=0;z<B.length;z+=1)B[z].m(document.head,null);U(document.head,W)},p(F,[x]){if(x&1&&t!==(t=F[0])&&(document.title=t),x&2&&k(r,"content",F[1]),x&8&&k(s,"content",F[3]),x&1&&k(a,"content",F[0]),x&4&&k(h,"content",F[2]),x&2&&k(c,"content",F[1]),x&4&&p!==(p=F[2]+"/assets/social-facebook.jpg")&&k(v,"content",p),x&1&&k(O,"content",F[0]),x&2&&k(E,"content",F[1]),x&4&&Y!==(Y=F[2]+"/assets/social-twitter.jpg")&&k(H,"content",Y),x&4&&P!==(P=F[2]+"/")&&k(G,"href",P),x&16){R=F[4];let z;for(z=0;z<R.length;z+=1){const X=sf(F,R,z);B[z]?B[z].p(X,x):(B[z]=of(X),B[z].c(),B[z].m(W.parentNode,W))}for(;z<B.length;z+=1)B[z].d(1);B.length=R.length}},i:Le,o:Le,d(F){I(r),I(l),I(s),I(a),I(u),I(h),I(c),I(g),I(m),I(v),I(T),I(b),I(w),I(A),I(S),I(D),I(O),I(E),I(H),I(J),I(G),pt(B,F),I(W)}}}function gv(n,t,r){let{title:l="Title TK"}=t,{description:s="Description TK"}=t,{url:a="https://pudding.cool"}=t,{keywords:u=""}=t,{preloadFont:h=[]}=t;return n.$$set=c=>{"title"in c&&r(0,l=c.title),"description"in c&&r(1,s=c.description),"url"in c&&r(2,a=c.url),"keywords"in c&&r(3,u=c.keywords),"preloadFont"in c&&r(4,h=c.preloadFont)},[l,s,a,u,h]}class dv extends nt{constructor(t){super(),rt(this,t,gv,hv,Qe,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}const mv='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-volume-2 "><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path><path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path></svg>',_v='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-volume-x"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>';function _l(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function jc(n){let t,r,l;n.length!==2?(t=_l,r=(h,c)=>_l(n(h),c),l=(h,c)=>n(h)-c):(t=n===_l||n===av?n:pv,r=n,l=n);function s(h,c,g=0,m=h.length){if(g<m){if(t(c,c)!==0)return m;do{const v=g+m>>>1;r(h[v],c)<0?g=v+1:m=v}while(g<m)}return g}function a(h,c,g=0,m=h.length){if(g<m){if(t(c,c)!==0)return m;do{const v=g+m>>>1;r(h[v],c)<=0?g=v+1:m=v}while(g<m)}return g}function u(h,c,g=0,m=h.length){const v=s(h,c,g,m-1);return v>g&&l(h[v-1],c)>-l(h[v],c)?v-1:v}return{left:s,center:u,right:a}}function pv(){return 0}function vv(n){return n===null?NaN:+n}const yv=jc(_l),bv=yv.right;jc(vv).center;const wv=bv,kv=Math.sqrt(50),Tv=Math.sqrt(10),Av=Math.sqrt(2);function wl(n,t,r){const l=(t-n)/Math.max(0,r),s=Math.floor(Math.log10(l)),a=l/Math.pow(10,s),u=a>=kv?10:a>=Tv?5:a>=Av?2:1;let h,c,g;return s<0?(g=Math.pow(10,-s)/u,h=Math.round(n*g),c=Math.round(t*g),h/g<n&&++h,c/g>t&&--c,g=-g):(g=Math.pow(10,s)*u,h=Math.round(n/g),c=Math.round(t/g),h*g<n&&++h,c*g>t&&--c),c<h&&.5<=r&&r<2?wl(n,t,r*2):[h,c,g]}function Mv(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const l=t<n,[s,a,u]=l?wl(t,n,r):wl(n,t,r);if(!(a>=s))return[];const h=a-s+1,c=new Array(h);if(l)if(u<0)for(let g=0;g<h;++g)c[g]=(a-g)/-u;else for(let g=0;g<h;++g)c[g]=(a-g)*u;else if(u<0)for(let g=0;g<h;++g)c[g]=(s+g)/-u;else for(let g=0;g<h;++g)c[g]=(s+g)*u;return c}function fo(n,t,r){return t=+t,n=+n,r=+r,wl(n,t,r)[2]}function Ev(n,t,r){t=+t,n=+n,r=+r;const l=t<n,s=l?fo(t,n,r):fo(n,t,r);return(l?-1:1)*(s<0?1/-s:s)}function _n(n,t,r){n=+n,t=+t,r=(s=arguments.length)<2?(t=n,n=0,1):s<3?1:+r;for(var l=-1,s=Math.max(0,Math.ceil((t-n)/r))|0,a=new Array(s);++l<s;)a[l]=n+l*r;return a}function bo(n,t,r){n.prototype=t.prototype=r,r.constructor=n}function $c(n,t){var r=Object.create(n.prototype);for(var l in t)r[l]=t[l];return r}function bi(){}var hi=.7,kl=1/hi,Ur="\\s*([+-]?\\d+)\\s*",gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iv=/^#([0-9a-f]{3,8})$/,Sv=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),Cv=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),Dv=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${gi}\\)$`),Rv=new RegExp(`^rgba\\(${An},${An},${An},${gi}\\)$`),Ov=new RegExp(`^hsl\\(${gi},${An},${An}\\)$`),Nv=new RegExp(`^hsla\\(${gi},${An},${An},${gi}\\)$`),uf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bo(bi,di,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:af,formatHex:af,formatHex8:xv,formatHsl:Lv,formatRgb:ff,toString:ff});function af(){return this.rgb().formatHex()}function xv(){return this.rgb().formatHex8()}function Lv(){return eh(this).formatHsl()}function ff(){return this.rgb().formatRgb()}function di(n){var t,r;return n=(n+"").trim().toLowerCase(),(t=Iv.exec(n))?(r=t[1].length,t=parseInt(t[1],16),r===6?cf(t):r===3?new zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?al(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?al(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sv.exec(n))?new zt(t[1],t[2],t[3],1):(t=Cv.exec(n))?new zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dv.exec(n))?al(t[1],t[2],t[3],t[4]):(t=Rv.exec(n))?al(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ov.exec(n))?df(t[1],t[2]/100,t[3]/100,1):(t=Nv.exec(n))?df(t[1],t[2]/100,t[3]/100,t[4]):uf.hasOwnProperty(n)?cf(uf[n]):n==="transparent"?new zt(NaN,NaN,NaN,0):null}function cf(n){return new zt(n>>16&255,n>>8&255,n&255,1)}function al(n,t,r,l){return l<=0&&(n=t=r=NaN),new zt(n,t,r,l)}function Pv(n){return n instanceof bi||(n=di(n)),n?(n=n.rgb(),new zt(n.r,n.g,n.b,n.opacity)):new zt}function co(n,t,r,l){return arguments.length===1?Pv(n):new zt(n,t,r,l??1)}function zt(n,t,r,l){this.r=+n,this.g=+t,this.b=+r,this.opacity=+l}bo(zt,co,$c(bi,{brighter(n){return n=n==null?kl:Math.pow(kl,n),new zt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?hi:Math.pow(hi,n),new zt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new zt(gr(this.r),gr(this.g),gr(this.b),Tl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hf,formatHex:hf,formatHex8:Uv,formatRgb:gf,toString:gf}));function hf(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function Uv(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function gf(){const n=Tl(this.opacity);return`${n===1?"rgb(":"rgba("}${gr(this.r)}, ${gr(this.g)}, ${gr(this.b)}${n===1?")":`, ${n})`}`}function Tl(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function gr(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function hr(n){return n=gr(n),(n<16?"0":"")+n.toString(16)}function df(n,t,r,l){return l<=0?n=t=r=NaN:r<=0||r>=1?n=t=NaN:t<=0&&(n=NaN),new mn(n,t,r,l)}function eh(n){if(n instanceof mn)return new mn(n.h,n.s,n.l,n.opacity);if(n instanceof bi||(n=di(n)),!n)return new mn;if(n instanceof mn)return n;n=n.rgb();var t=n.r/255,r=n.g/255,l=n.b/255,s=Math.min(t,r,l),a=Math.max(t,r,l),u=NaN,h=a-s,c=(a+s)/2;return h?(t===a?u=(r-l)/h+(r<l)*6:r===a?u=(l-t)/h+2:u=(t-r)/h+4,h/=c<.5?a+s:2-a-s,u*=60):h=c>0&&c<1?0:u,new mn(u,h,c,n.opacity)}function Fv(n,t,r,l){return arguments.length===1?eh(n):new mn(n,t,r,l??1)}function mn(n,t,r,l){this.h=+n,this.s=+t,this.l=+r,this.opacity=+l}bo(mn,Fv,$c(bi,{brighter(n){return n=n==null?kl:Math.pow(kl,n),new mn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?hi:Math.pow(hi,n),new mn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,l=r+(r<.5?r:1-r)*t,s=2*r-l;return new zt($s(n>=240?n-240:n+120,s,l),$s(n,s,l),$s(n<120?n+240:n-120,s,l),this.opacity)},clamp(){return new mn(mf(this.h),fl(this.s),fl(this.l),Tl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Tl(this.opacity);return`${n===1?"hsl(":"hsla("}${mf(this.h)}, ${fl(this.s)*100}%, ${fl(this.l)*100}%${n===1?")":`, ${n})`}`}}));function mf(n){return n=(n||0)%360,n<0?n+360:n}function fl(n){return Math.max(0,Math.min(1,n||0))}function $s(n,t,r){return(n<60?t+(r-t)*n/60:n<180?r:n<240?t+(r-t)*(240-n)/60:t)*255}const wo=n=>()=>n;function Wv(n,t){return function(r){return n+r*t}}function Bv(n,t,r){return n=Math.pow(n,r),t=Math.pow(t,r)-n,r=1/r,function(l){return Math.pow(n+l*t,r)}}function Hv(n){return(n=+n)==1?th:function(t,r){return r-t?Bv(t,r,n):wo(isNaN(t)?r:t)}}function th(n,t){var r=t-n;return r?Wv(n,r):wo(isNaN(n)?t:n)}const _f=function n(t){var r=Hv(t);function l(s,a){var u=r((s=co(s)).r,(a=co(a)).r),h=r(s.g,a.g),c=r(s.b,a.b),g=th(s.opacity,a.opacity);return function(m){return s.r=u(m),s.g=h(m),s.b=c(m),s.opacity=g(m),s+""}}return l.gamma=n,l}(1);function qv(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,l=t.slice(),s;return function(a){for(s=0;s<r;++s)l[s]=n[s]*(1-a)+t[s]*a;return l}}function zv(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Yv(n,t){var r=t?t.length:0,l=n?Math.min(r,n.length):0,s=new Array(l),a=new Array(r),u;for(u=0;u<l;++u)s[u]=ko(n[u],t[u]);for(;u<r;++u)a[u]=t[u];return function(h){for(u=0;u<l;++u)a[u]=s[u](h);return a}}function Gv(n,t){var r=new Date;return n=+n,t=+t,function(l){return r.setTime(n*(1-l)+t*l),r}}function Al(n,t){return n=+n,t=+t,function(r){return n*(1-r)+t*r}}function Vv(n,t){var r={},l={},s;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in n?r[s]=ko(n[s],t[s]):l[s]=t[s];return function(a){for(s in r)l[s]=r[s](a);return l}}var ho=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eo=new RegExp(ho.source,"g");function Kv(n){return function(){return n}}function Zv(n){return function(t){return n(t)+""}}function Xv(n,t){var r=ho.lastIndex=eo.lastIndex=0,l,s,a,u=-1,h=[],c=[];for(n=n+"",t=t+"";(l=ho.exec(n))&&(s=eo.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),h[u]?h[u]+=a:h[++u]=a),(l=l[0])===(s=s[0])?h[u]?h[u]+=s:h[++u]=s:(h[++u]=null,c.push({i:u,x:Al(l,s)})),r=eo.lastIndex;return r<t.length&&(a=t.slice(r),h[u]?h[u]+=a:h[++u]=a),h.length<2?c[0]?Zv(c[0].x):Kv(t):(t=c.length,function(g){for(var m=0,v;m<t;++m)h[(v=c[m]).i]=v.x(g);return h.join("")})}function ko(n,t){var r=typeof t,l;return t==null||r==="boolean"?wo(t):(r==="number"?Al:r==="string"?(l=di(t))?(t=l,_f):Xv:t instanceof di?_f:t instanceof Date?Gv:zv(t)?qv:Array.isArray(t)?Yv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vv:Al)(n,t)}function Jv(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}const go=Math.PI,mo=2*go,cr=1e-6,Qv=mo-cr;function nh(n){this._+=n[0];for(let t=1,r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function jv(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return nh;const r=10**t;return function(l){this._+=l[0];for(let s=1,a=l.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+l[s]}}class $v{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nh:jv(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,l,s){this._append`Q${+t},${+r},${this._x1=+l},${this._y1=+s}`}bezierCurveTo(t,r,l,s,a,u){this._append`C${+t},${+r},${+l},${+s},${this._x1=+a},${this._y1=+u}`}arcTo(t,r,l,s,a){if(t=+t,r=+r,l=+l,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,h=this._y1,c=l-t,g=s-r,m=u-t,v=h-r,p=m*m+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>cr)if(!(Math.abs(v*c-g*m)>cr)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let T=l-u,b=s-h,w=c*c+g*g,A=T*T+b*b,S=Math.sqrt(w),D=Math.sqrt(p),O=a*Math.tan((go-Math.acos((w+p-A)/(2*S*D)))/2),E=O/D,H=O/S;Math.abs(E-1)>cr&&this._append`L${t+E*m},${r+E*v}`,this._append`A${a},${a},0,0,${+(v*T>m*b)},${this._x1=t+H*c},${this._y1=r+H*g}`}}arc(t,r,l,s,a,u){if(t=+t,r=+r,l=+l,u=!!u,l<0)throw new Error(`negative radius: ${l}`);let h=l*Math.cos(s),c=l*Math.sin(s),g=t+h,m=r+c,v=1^u,p=u?s-a:a-s;this._x1===null?this._append`M${g},${m}`:(Math.abs(this._x1-g)>cr||Math.abs(this._y1-m)>cr)&&this._append`L${g},${m}`,l&&(p<0&&(p=p%mo+mo),p>Qv?this._append`A${l},${l},0,1,${v},${t-h},${r-c}A${l},${l},0,1,${v},${this._x1=g},${this._y1=m}`:p>cr&&this._append`A${l},${l},0,${+(p>=go)},${v},${this._x1=t+l*Math.cos(a)},${this._y1=r+l*Math.sin(a)}`)}rect(t,r,l,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${l=+l}v${+s}h${-l}Z`}toString(){return this._}}function ey(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Ml(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,l=n.slice(0,r);return[l.length>1?l[0]+l.slice(2):l,+n.slice(r+1)]}function Wr(n){return n=Ml(Math.abs(n)),n?n[1]:NaN}function ty(n,t){return function(r,l){for(var s=r.length,a=[],u=0,h=n[0],c=0;s>0&&h>0&&(c+h+1>l&&(h=Math.max(1,l-c)),a.push(r.substring(s-=h,s+h)),!((c+=h+1)>l));)h=n[u=(u+1)%n.length];return a.reverse().join(t)}}function ny(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var ry=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function El(n){if(!(t=ry.exec(n)))throw new Error("invalid format: "+n);var t;return new To({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}El.prototype=To.prototype;function To(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}To.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iy(n){e:for(var t=n.length,r=1,l=-1,s;r<t;++r)switch(n[r]){case".":l=s=r;break;case"0":l===0&&(l=r),s=r;break;default:if(!+n[r])break e;l>0&&(l=0);break}return l>0?n.slice(0,l)+n.slice(s+1):n}var rh;function ly(n,t){var r=Ml(n,t);if(!r)return n+"";var l=r[0],s=r[1],a=s-(rh=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,u=l.length;return a===u?l:a>u?l+new Array(a-u+1).join("0"):a>0?l.slice(0,a)+"."+l.slice(a):"0."+new Array(1-a).join("0")+Ml(n,Math.max(0,t+a-1))[0]}function pf(n,t){var r=Ml(n,t);if(!r)return n+"";var l=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+l:l.length>s+1?l.slice(0,s+1)+"."+l.slice(s+1):l+new Array(s-l.length+2).join("0")}const vf={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:ey,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>pf(n*100,t),r:pf,s:ly,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function yf(n){return n}var bf=Array.prototype.map,wf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sy(n){var t=n.grouping===void 0||n.thousands===void 0?yf:ty(bf.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",l=n.currency===void 0?"":n.currency[1]+"",s=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?yf:ny(bf.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",h=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function g(v){v=El(v);var p=v.fill,T=v.align,b=v.sign,w=v.symbol,A=v.zero,S=v.width,D=v.comma,O=v.precision,E=v.trim,H=v.type;H==="n"?(D=!0,H="g"):vf[H]||(O===void 0&&(O=12),E=!0,H="g"),(A||p==="0"&&T==="=")&&(A=!0,p="0",T="=");var Y=w==="$"?r:w==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",J=w==="$"?l:/[%p]/.test(H)?u:"",G=vf[H],P=/[defgprs%]/.test(H);O=O===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function W(R){var B=Y,F=J,x,z,X;if(H==="c")F=G(R)+F,R="";else{R=+R;var ee=R<0||1/R<0;if(R=isNaN(R)?c:G(Math.abs(R),O),E&&(R=iy(R)),ee&&+R==0&&b!=="+"&&(ee=!1),B=(ee?b==="("?b:h:b==="-"||b==="("?"":b)+B,F=(H==="s"?wf[8+rh/3]:"")+F+(ee&&b==="("?")":""),P){for(x=-1,z=R.length;++x<z;)if(X=R.charCodeAt(x),48>X||X>57){F=(X===46?s+R.slice(x+1):R.slice(x))+F,R=R.slice(0,x);break}}}D&&!A&&(R=t(R,1/0));var ie=B.length+R.length+F.length,be=ie<S?new Array(S-ie+1).join(p):"";switch(D&&A&&(R=t(be+R,be.length?S-F.length:1/0),be=""),T){case"<":R=B+R+F+be;break;case"=":R=B+be+R+F;break;case"^":R=be.slice(0,ie=be.length>>1)+B+R+F+be.slice(ie);break;default:R=be+B+R+F;break}return a(R)}return W.toString=function(){return v+""},W}function m(v,p){var T=g((v=El(v),v.type="f",v)),b=Math.max(-8,Math.min(8,Math.floor(Wr(p)/3)))*3,w=Math.pow(10,-b),A=wf[8+b/3];return function(S){return T(w*S)+A}}return{format:g,formatPrefix:m}}var cl,Il,ih;oy({thousands:",",grouping:[3],currency:["$",""]});function oy(n){return cl=sy(n),Il=cl.format,ih=cl.formatPrefix,cl}function uy(n){return Math.max(0,-Wr(Math.abs(n)))}function ay(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wr(t)/3)))*3-Wr(Math.abs(n)))}function fy(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Wr(t)-Wr(n))+1}function cy(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function hy(n){return function(){return n}}function gy(n){return+n}var kf=[0,1];function Lr(n){return n}function _o(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:hy(isNaN(t)?NaN:.5)}function dy(n,t){var r;return n>t&&(r=n,n=t,t=r),function(l){return Math.max(n,Math.min(t,l))}}function my(n,t,r){var l=n[0],s=n[1],a=t[0],u=t[1];return s<l?(l=_o(s,l),a=r(u,a)):(l=_o(l,s),a=r(a,u)),function(h){return a(l(h))}}function _y(n,t,r){var l=Math.min(n.length,t.length)-1,s=new Array(l),a=new Array(l),u=-1;for(n[l]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<l;)s[u]=_o(n[u],n[u+1]),a[u]=r(t[u],t[u+1]);return function(h){var c=wv(n,h,1,l)-1;return a[c](s[c](h))}}function py(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function vy(){var n=kf,t=kf,r=ko,l,s,a,u=Lr,h,c,g;function m(){var p=Math.min(n.length,t.length);return u!==Lr&&(u=dy(n[0],n[p-1])),h=p>2?_y:my,c=g=null,v}function v(p){return p==null||isNaN(p=+p)?a:(c||(c=h(n.map(l),t,r)))(l(u(p)))}return v.invert=function(p){return u(s((g||(g=h(t,n.map(l),Al)))(p)))},v.domain=function(p){return arguments.length?(n=Array.from(p,gy),m()):n.slice()},v.range=function(p){return arguments.length?(t=Array.from(p),m()):t.slice()},v.rangeRound=function(p){return t=Array.from(p),r=Jv,m()},v.clamp=function(p){return arguments.length?(u=p?!0:Lr,m()):u!==Lr},v.interpolate=function(p){return arguments.length?(r=p,m()):r},v.unknown=function(p){return arguments.length?(a=p,v):a},function(p,T){return l=p,s=T,m()}}function yy(){return vy()(Lr,Lr)}function by(n,t,r,l){var s=Ev(n,t,r),a;switch(l=El(l??",f"),l.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return l.precision==null&&!isNaN(a=ay(s,u))&&(l.precision=a),ih(l,u)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(a=fy(s,Math.max(Math.abs(n),Math.abs(t))))&&(l.precision=a-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(a=uy(s))&&(l.precision=a-(l.type==="%")*2);break}}return Il(l)}function wy(n){var t=n.domain;return n.ticks=function(r){var l=t();return Mv(l[0],l[l.length-1],r??10)},n.tickFormat=function(r,l){var s=t();return by(s[0],s[s.length-1],r??10,l)},n.nice=function(r){r==null&&(r=10);var l=t(),s=0,a=l.length-1,u=l[s],h=l[a],c,g,m=10;for(h<u&&(g=u,u=h,h=g,g=s,s=a,a=g);m-- >0;){if(g=fo(u,h,r),g===c)return l[s]=u,l[a]=h,t(l);if(g>0)u=Math.floor(u/g)*g,h=Math.ceil(h/g)*g;else if(g<0)u=Math.ceil(u*g)/g,h=Math.floor(h*g)/g;else break;c=g}return n},n}function Jn(){var n=yy();return n.copy=function(){return py(n,Jn())},cy.apply(n,arguments),wy(n)}const to=new Date,no=new Date;function En(n,t,r,l){function s(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(n(a=new Date(+a)),a),s.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),s.round=a=>{const u=s(a),h=s.ceil(a);return a-u<h-a?u:h},s.offset=(a,u)=>(t(a=new Date(+a),u==null?1:Math.floor(u)),a),s.range=(a,u,h)=>{const c=[];if(a=s.ceil(a),h=h==null?1:Math.floor(h),!(a<u)||!(h>0))return c;let g;do c.push(g=new Date(+a)),t(a,h),n(a);while(g<a&&a<u);return c},s.filter=a=>En(u=>{if(u>=u)for(;n(u),!a(u);)u.setTime(u-1)},(u,h)=>{if(u>=u)if(h<0)for(;++h<=0;)for(;t(u,-1),!a(u););else for(;--h>=0;)for(;t(u,1),!a(u););}),r&&(s.count=(a,u)=>(to.setTime(+a),no.setTime(+u),n(to),n(no),Math.floor(r(to,no))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(l?u=>l(u)%a===0:u=>s.count(0,u)%a===0):s)),s}const ky=1e3,Ao=ky*60,Ty=Ao*60,mi=Ty*24,lh=mi*7,Mo=En(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Ao)/mi,n=>n.getDate()-1);Mo.range;const Eo=En(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/mi,n=>n.getUTCDate()-1);Eo.range;const Ay=En(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/mi,n=>Math.floor(n/mi));Ay.range;function _r(n){return En(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ao)/lh)}const sh=_r(0),Sl=_r(1),My=_r(2),Ey=_r(3),Br=_r(4),Iy=_r(5),Sy=_r(6);sh.range;Sl.range;My.range;Ey.range;Br.range;Iy.range;Sy.range;function pr(n){return En(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/lh)}const oh=pr(0),Cl=pr(1),Cy=pr(2),Dy=pr(3),Hr=pr(4),Ry=pr(5),Oy=pr(6);oh.range;Cl.range;Cy.range;Dy.range;Hr.range;Ry.range;Oy.range;const dr=En(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());dr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:En(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*n)});dr.range;const mr=En(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());mr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:En(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*n)});mr.range;function ro(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function io(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function si(n,t,r){return{y:n,m:t,d:r,H:0,M:0,S:0,L:0}}function Ny(n){var t=n.dateTime,r=n.date,l=n.time,s=n.periods,a=n.days,u=n.shortDays,h=n.months,c=n.shortMonths,g=oi(s),m=ui(s),v=oi(a),p=ui(a),T=oi(u),b=ui(u),w=oi(h),A=ui(h),S=oi(c),D=ui(c),O={a:ee,A:ie,b:be,B:pe,c:null,d:Sf,e:Sf,f:n2,g:h2,G:d2,H:$y,I:e2,j:t2,L:uh,m:r2,M:i2,p:Ee,q:Xe,Q:Rf,s:Of,S:l2,u:s2,U:o2,V:u2,w:a2,W:f2,x:null,X:null,y:c2,Y:g2,Z:m2,"%":Df},E={a:Tt,A:ot,b:ue,B:je,c:null,d:Cf,e:Cf,f:y2,g:C2,G:R2,H:_2,I:p2,j:v2,L:fh,m:b2,M:w2,p:yt,q:vt,Q:Rf,s:Of,S:k2,u:T2,U:A2,V:M2,w:E2,W:I2,x:null,X:null,y:S2,Y:D2,Z:O2,"%":Df},H={a:W,A:R,b:B,B:F,c:x,d:Ef,e:Ef,f:Xy,g:Mf,G:Af,H:If,I:If,j:Gy,L:Zy,m:Yy,M:Vy,p:P,q:zy,Q:Qy,s:jy,S:Ky,u:Fy,U:Wy,V:By,w:Uy,W:Hy,x:z,X,y:Mf,Y:Af,Z:qy,"%":Jy};O.x=Y(r,O),O.X=Y(l,O),O.c=Y(t,O),E.x=Y(r,E),E.X=Y(l,E),E.c=Y(t,E);function Y(oe,ve){return function(Te){var ne=[],lt=-1,Ie=0,$e=oe.length,gt,ut,Yt;for(Te instanceof Date||(Te=new Date(+Te));++lt<$e;)oe.charCodeAt(lt)===37&&(ne.push(oe.slice(Ie,lt)),(ut=Tf[gt=oe.charAt(++lt)])!=null?gt=oe.charAt(++lt):ut=gt==="e"?" ":"0",(Yt=ve[gt])&&(gt=Yt(Te,ut)),ne.push(gt),Ie=lt+1);return ne.push(oe.slice(Ie,lt)),ne.join("")}}function J(oe,ve){return function(Te){var ne=si(1900,void 0,1),lt=G(ne,oe,Te+="",0),Ie,$e;if(lt!=Te.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ve&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ie=io(si(ne.y,0,1)),$e=Ie.getUTCDay(),Ie=$e>4||$e===0?Cl.ceil(Ie):Cl(Ie),Ie=Eo.offset(Ie,(ne.V-1)*7),ne.y=Ie.getUTCFullYear(),ne.m=Ie.getUTCMonth(),ne.d=Ie.getUTCDate()+(ne.w+6)%7):(Ie=ro(si(ne.y,0,1)),$e=Ie.getDay(),Ie=$e>4||$e===0?Sl.ceil(Ie):Sl(Ie),Ie=Mo.offset(Ie,(ne.V-1)*7),ne.y=Ie.getFullYear(),ne.m=Ie.getMonth(),ne.d=Ie.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),$e="Z"in ne?io(si(ne.y,0,1)).getUTCDay():ro(si(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-($e+5)%7:ne.w+ne.U*7-($e+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,io(ne)):ro(ne)}}function G(oe,ve,Te,ne){for(var lt=0,Ie=ve.length,$e=Te.length,gt,ut;lt<Ie;){if(ne>=$e)return-1;if(gt=ve.charCodeAt(lt++),gt===37){if(gt=ve.charAt(lt++),ut=H[gt in Tf?ve.charAt(lt++):gt],!ut||(ne=ut(oe,Te,ne))<0)return-1}else if(gt!=Te.charCodeAt(ne++))return-1}return ne}function P(oe,ve,Te){var ne=g.exec(ve.slice(Te));return ne?(oe.p=m.get(ne[0].toLowerCase()),Te+ne[0].length):-1}function W(oe,ve,Te){var ne=T.exec(ve.slice(Te));return ne?(oe.w=b.get(ne[0].toLowerCase()),Te+ne[0].length):-1}function R(oe,ve,Te){var ne=v.exec(ve.slice(Te));return ne?(oe.w=p.get(ne[0].toLowerCase()),Te+ne[0].length):-1}function B(oe,ve,Te){var ne=S.exec(ve.slice(Te));return ne?(oe.m=D.get(ne[0].toLowerCase()),Te+ne[0].length):-1}function F(oe,ve,Te){var ne=w.exec(ve.slice(Te));return ne?(oe.m=A.get(ne[0].toLowerCase()),Te+ne[0].length):-1}function x(oe,ve,Te){return G(oe,t,ve,Te)}function z(oe,ve,Te){return G(oe,r,ve,Te)}function X(oe,ve,Te){return G(oe,l,ve,Te)}function ee(oe){return u[oe.getDay()]}function ie(oe){return a[oe.getDay()]}function be(oe){return c[oe.getMonth()]}function pe(oe){return h[oe.getMonth()]}function Ee(oe){return s[+(oe.getHours()>=12)]}function Xe(oe){return 1+~~(oe.getMonth()/3)}function Tt(oe){return u[oe.getUTCDay()]}function ot(oe){return a[oe.getUTCDay()]}function ue(oe){return c[oe.getUTCMonth()]}function je(oe){return h[oe.getUTCMonth()]}function yt(oe){return s[+(oe.getUTCHours()>=12)]}function vt(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ve=Y(oe+="",O);return ve.toString=function(){return oe},ve},parse:function(oe){var ve=J(oe+="",!1);return ve.toString=function(){return oe},ve},utcFormat:function(oe){var ve=Y(oe+="",E);return ve.toString=function(){return oe},ve},utcParse:function(oe){var ve=J(oe+="",!0);return ve.toString=function(){return oe},ve}}}var Tf={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,xy=/^%/,Ly=/[\\^$*+?|[\]().{}]/g;function Ve(n,t,r){var l=n<0?"-":"",s=(l?-n:n)+"",a=s.length;return l+(a<r?new Array(r-a+1).join(t)+s:s)}function Py(n){return n.replace(Ly,"\\$&")}function oi(n){return new RegExp("^(?:"+n.map(Py).join("|")+")","i")}function ui(n){return new Map(n.map((t,r)=>[t.toLowerCase(),r]))}function Uy(n,t,r){var l=Et.exec(t.slice(r,r+1));return l?(n.w=+l[0],r+l[0].length):-1}function Fy(n,t,r){var l=Et.exec(t.slice(r,r+1));return l?(n.u=+l[0],r+l[0].length):-1}function Wy(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.U=+l[0],r+l[0].length):-1}function By(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.V=+l[0],r+l[0].length):-1}function Hy(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.W=+l[0],r+l[0].length):-1}function Af(n,t,r){var l=Et.exec(t.slice(r,r+4));return l?(n.y=+l[0],r+l[0].length):-1}function Mf(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.y=+l[0]+(+l[0]>68?1900:2e3),r+l[0].length):-1}function qy(n,t,r){var l=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return l?(n.Z=l[1]?0:-(l[2]+(l[3]||"00")),r+l[0].length):-1}function zy(n,t,r){var l=Et.exec(t.slice(r,r+1));return l?(n.q=l[0]*3-3,r+l[0].length):-1}function Yy(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.m=l[0]-1,r+l[0].length):-1}function Ef(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.d=+l[0],r+l[0].length):-1}function Gy(n,t,r){var l=Et.exec(t.slice(r,r+3));return l?(n.m=0,n.d=+l[0],r+l[0].length):-1}function If(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.H=+l[0],r+l[0].length):-1}function Vy(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.M=+l[0],r+l[0].length):-1}function Ky(n,t,r){var l=Et.exec(t.slice(r,r+2));return l?(n.S=+l[0],r+l[0].length):-1}function Zy(n,t,r){var l=Et.exec(t.slice(r,r+3));return l?(n.L=+l[0],r+l[0].length):-1}function Xy(n,t,r){var l=Et.exec(t.slice(r,r+6));return l?(n.L=Math.floor(l[0]/1e3),r+l[0].length):-1}function Jy(n,t,r){var l=xy.exec(t.slice(r,r+1));return l?r+l[0].length:-1}function Qy(n,t,r){var l=Et.exec(t.slice(r));return l?(n.Q=+l[0],r+l[0].length):-1}function jy(n,t,r){var l=Et.exec(t.slice(r));return l?(n.s=+l[0],r+l[0].length):-1}function Sf(n,t){return Ve(n.getDate(),t,2)}function $y(n,t){return Ve(n.getHours(),t,2)}function e2(n,t){return Ve(n.getHours()%12||12,t,2)}function t2(n,t){return Ve(1+Mo.count(dr(n),n),t,3)}function uh(n,t){return Ve(n.getMilliseconds(),t,3)}function n2(n,t){return uh(n,t)+"000"}function r2(n,t){return Ve(n.getMonth()+1,t,2)}function i2(n,t){return Ve(n.getMinutes(),t,2)}function l2(n,t){return Ve(n.getSeconds(),t,2)}function s2(n){var t=n.getDay();return t===0?7:t}function o2(n,t){return Ve(sh.count(dr(n)-1,n),t,2)}function ah(n){var t=n.getDay();return t>=4||t===0?Br(n):Br.ceil(n)}function u2(n,t){return n=ah(n),Ve(Br.count(dr(n),n)+(dr(n).getDay()===4),t,2)}function a2(n){return n.getDay()}function f2(n,t){return Ve(Sl.count(dr(n)-1,n),t,2)}function c2(n,t){return Ve(n.getFullYear()%100,t,2)}function h2(n,t){return n=ah(n),Ve(n.getFullYear()%100,t,2)}function g2(n,t){return Ve(n.getFullYear()%1e4,t,4)}function d2(n,t){var r=n.getDay();return n=r>=4||r===0?Br(n):Br.ceil(n),Ve(n.getFullYear()%1e4,t,4)}function m2(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function Cf(n,t){return Ve(n.getUTCDate(),t,2)}function _2(n,t){return Ve(n.getUTCHours(),t,2)}function p2(n,t){return Ve(n.getUTCHours()%12||12,t,2)}function v2(n,t){return Ve(1+Eo.count(mr(n),n),t,3)}function fh(n,t){return Ve(n.getUTCMilliseconds(),t,3)}function y2(n,t){return fh(n,t)+"000"}function b2(n,t){return Ve(n.getUTCMonth()+1,t,2)}function w2(n,t){return Ve(n.getUTCMinutes(),t,2)}function k2(n,t){return Ve(n.getUTCSeconds(),t,2)}function T2(n){var t=n.getUTCDay();return t===0?7:t}function A2(n,t){return Ve(oh.count(mr(n)-1,n),t,2)}function ch(n){var t=n.getUTCDay();return t>=4||t===0?Hr(n):Hr.ceil(n)}function M2(n,t){return n=ch(n),Ve(Hr.count(mr(n),n)+(mr(n).getUTCDay()===4),t,2)}function E2(n){return n.getUTCDay()}function I2(n,t){return Ve(Cl.count(mr(n)-1,n),t,2)}function S2(n,t){return Ve(n.getUTCFullYear()%100,t,2)}function C2(n,t){return n=ch(n),Ve(n.getUTCFullYear()%100,t,2)}function D2(n,t){return Ve(n.getUTCFullYear()%1e4,t,4)}function R2(n,t){var r=n.getUTCDay();return n=r>=4||r===0?Hr(n):Hr.ceil(n),Ve(n.getUTCFullYear()%1e4,t,4)}function O2(){return"+0000"}function Df(){return"%"}function Rf(n){return+n}function Of(n){return Math.floor(+n/1e3)}var Or,hh;N2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function N2(n){return Or=Ny(n),hh=Or.format,Or.parse,Or.utcFormat,Or.utcParse,Or}function Xn(n){return function(){return n}}const Nf=Math.abs,Ot=Math.atan2,fr=Math.cos,x2=Math.max,lo=Math.min,Tn=Math.sin,Pr=Math.sqrt,qt=1e-12,_i=Math.PI,Dl=_i/2,L2=2*_i;function P2(n){return n>1?0:n<-1?_i:Math.acos(n)}function xf(n){return n>=1?Dl:n<=-1?-Dl:Math.asin(n)}function U2(n){let t=3;return n.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const l=Math.floor(r);if(!(l>=0))throw new RangeError(`invalid digits: ${r}`);t=l}return n},()=>new $v(t)}function F2(n){return n.innerRadius}function W2(n){return n.outerRadius}function B2(n){return n.startAngle}function H2(n){return n.endAngle}function q2(n){return n&&n.padAngle}function z2(n,t,r,l,s,a,u,h){var c=r-n,g=l-t,m=u-s,v=h-a,p=v*c-m*g;if(!(p*p<qt))return p=(m*(t-a)-v*(n-s))/p,[n+p*c,t+p*g]}function hl(n,t,r,l,s,a,u){var h=n-r,c=t-l,g=(u?a:-a)/Pr(h*h+c*c),m=g*c,v=-g*h,p=n+m,T=t+v,b=r+m,w=l+v,A=(p+b)/2,S=(T+w)/2,D=b-p,O=w-T,E=D*D+O*O,H=s-a,Y=p*w-b*T,J=(O<0?-1:1)*Pr(x2(0,H*H*E-Y*Y)),G=(Y*O-D*J)/E,P=(-Y*D-O*J)/E,W=(Y*O+D*J)/E,R=(-Y*D+O*J)/E,B=G-A,F=P-S,x=W-A,z=R-S;return B*B+F*F>x*x+z*z&&(G=W,P=R),{cx:G,cy:P,x01:-m,y01:-v,x11:G*(s/H-1),y11:P*(s/H-1)}}function Y2(){var n=F2,t=W2,r=Xn(0),l=null,s=B2,a=H2,u=q2,h=null,c=U2(g);function g(){var m,v,p=+n.apply(this,arguments),T=+t.apply(this,arguments),b=s.apply(this,arguments)-Dl,w=a.apply(this,arguments)-Dl,A=Nf(w-b),S=w>b;if(h||(h=m=c()),T<p&&(v=T,T=p,p=v),!(T>qt))h.moveTo(0,0);else if(A>L2-qt)h.moveTo(T*fr(b),T*Tn(b)),h.arc(0,0,T,b,w,!S),p>qt&&(h.moveTo(p*fr(w),p*Tn(w)),h.arc(0,0,p,w,b,S));else{var D=b,O=w,E=b,H=w,Y=A,J=A,G=u.apply(this,arguments)/2,P=G>qt&&(l?+l.apply(this,arguments):Pr(p*p+T*T)),W=lo(Nf(T-p)/2,+r.apply(this,arguments)),R=W,B=W,F,x;if(P>qt){var z=xf(P/p*Tn(G)),X=xf(P/T*Tn(G));(Y-=z*2)>qt?(z*=S?1:-1,E+=z,H-=z):(Y=0,E=H=(b+w)/2),(J-=X*2)>qt?(X*=S?1:-1,D+=X,O-=X):(J=0,D=O=(b+w)/2)}var ee=T*fr(D),ie=T*Tn(D),be=p*fr(H),pe=p*Tn(H);if(W>qt){var Ee=T*fr(O),Xe=T*Tn(O),Tt=p*fr(E),ot=p*Tn(E),ue;if(A<_i)if(ue=z2(ee,ie,Tt,ot,Ee,Xe,be,pe)){var je=ee-ue[0],yt=ie-ue[1],vt=Ee-ue[0],oe=Xe-ue[1],ve=1/Tn(P2((je*vt+yt*oe)/(Pr(je*je+yt*yt)*Pr(vt*vt+oe*oe)))/2),Te=Pr(ue[0]*ue[0]+ue[1]*ue[1]);R=lo(W,(p-Te)/(ve-1)),B=lo(W,(T-Te)/(ve+1))}else R=B=0}J>qt?B>qt?(F=hl(Tt,ot,ee,ie,T,B,S),x=hl(Ee,Xe,be,pe,T,B,S),h.moveTo(F.cx+F.x01,F.cy+F.y01),B<W?h.arc(F.cx,F.cy,B,Ot(F.y01,F.x01),Ot(x.y01,x.x01),!S):(h.arc(F.cx,F.cy,B,Ot(F.y01,F.x01),Ot(F.y11,F.x11),!S),h.arc(0,0,T,Ot(F.cy+F.y11,F.cx+F.x11),Ot(x.cy+x.y11,x.cx+x.x11),!S),h.arc(x.cx,x.cy,B,Ot(x.y11,x.x11),Ot(x.y01,x.x01),!S))):(h.moveTo(ee,ie),h.arc(0,0,T,D,O,!S)):h.moveTo(ee,ie),!(p>qt)||!(Y>qt)?h.lineTo(be,pe):R>qt?(F=hl(be,pe,Ee,Xe,p,-R,S),x=hl(ee,ie,Tt,ot,p,-R,S),h.lineTo(F.cx+F.x01,F.cy+F.y01),R<W?h.arc(F.cx,F.cy,R,Ot(F.y01,F.x01),Ot(x.y01,x.x01),!S):(h.arc(F.cx,F.cy,R,Ot(F.y01,F.x01),Ot(F.y11,F.x11),!S),h.arc(0,0,p,Ot(F.cy+F.y11,F.cx+F.x11),Ot(x.cy+x.y11,x.cx+x.x11),S),h.arc(x.cx,x.cy,R,Ot(x.y11,x.x11),Ot(x.y01,x.x01),!S))):h.arc(0,0,p,H,E,S)}if(h.closePath(),m)return h=null,m+""||null}return g.centroid=function(){var m=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,v=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-_i/2;return[fr(v)*m,Tn(v)*m]},g.innerRadius=function(m){return arguments.length?(n=typeof m=="function"?m:Xn(+m),g):n},g.outerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:Xn(+m),g):t},g.cornerRadius=function(m){return arguments.length?(r=typeof m=="function"?m:Xn(+m),g):r},g.padRadius=function(m){return arguments.length?(l=m==null?null:typeof m=="function"?m:Xn(+m),g):l},g.startAngle=function(m){return arguments.length?(s=typeof m=="function"?m:Xn(+m),g):s},g.endAngle=function(m){return arguments.length?(a=typeof m=="function"?m:Xn(+m),g):a},g.padAngle=function(m){return arguments.length?(u=typeof m=="function"?m:Xn(+m),g):u},g.context=function(m){return arguments.length?(h=m??null,g):h},g}const Rl=tt(!1),pi=tt(!0),Ol=tt(void 0),fi=tt("up"),Mn=tt(void 0),Lf=n=>n.reduce((t,r,l)=>l%2===1?t.concat(r):t,[]),G2={instrument:"kick",style:"missing",data:[]},Nr={instrument:"kick",style:"straight",data:[0,2]},V2={instrument:"kick",style:"money",data:[1.5,2,3,3.5]},K2={instrument:"snare",style:"missing",data:[]},ai={instrument:"snare",style:"straight",data:[1,3]},xr={instrument:"snare",style:"shift",data:[.9,2.9]},Z2={instrument:"hihat",style:"missing",data:[]},gl={instrument:"hihat",style:"straight",data:[0,.5,1,1.5,2,2.5,3,3.5]},X2={instrument:"hihat",style:"triplet",data:[0,.666,1,1.666,2,2.666,3,3.666]},Pf={instrument:"hihat",style:"erykah",data:[.1,.6,1.1,1.6,2.1,2.6,3.1,3.6]},Uf={instrument:"hihat",style:"quintuplet",data:[0,.6,1,1.6,2,2.6,3,3.6]},Ff={instrument:"hihat",style:"money",data:[0,.52,1,1.52,2,2.52,3,3.52]},J2={instrument:"bass",style:"missing",data:[]},dl={instrument:"bass",style:"straight",data:[0,.5,1,1.5,2,2.5,3,3.5]},Q2={instrument:"bass",style:"triplet",data:[0,.666,1,1.666,2,2.666,3,3.666]},j2={instrument:"bass",style:"dilla",data:[0,.6,1,1.6,2,2.6,3,3.6]},Wf={instrument:"synth",style:"erykah",data:[.1,.6,1.1,1.6,2.1,2.6,3.1,3.6]},$2=yo({normal:{parts:[{instrument:"kick",data:_n(8,32,2),style:"normal"}],defaultStyles:{kick:"normal"},beatsPerMeasure:32,measures:1,autoplay:!0,gridlines:!1},drunk:{parts:[{instrument:"kick",data:_n(8,32,2).map(n=>n+Math.floor(Math.random()*2)),style:"drunk"}],defaultStyles:{kick:"drunk"},beatsPerMeasure:32,measures:1,autoplay:!0,gridlines:!1},straight:{parts:[gl,dl,Nr,ai,Z2,J2,G2,K2],defaultStyles:{hihat:"missing",bass:"missing",kick:"missing",snare:"missing"},actions:[{instrument:"bass",description:"add the bass",style:"straight"},{instrument:"hihat",description:"add the hi-hat",style:"straight"},{instrument:"kick",description:"add the kick",style:"straight"},{instrument:"snare",description:"add the snare",style:"straight"}],beatsPerMeasure:4,measures:4},swing:{parts:[gl,X2,dl,Q2,Nr,ai],defaultStyles:{hihat:"straight",bass:"straight",kick:"straight",snare:"straight"},actions:[{instrument:"bass",description:"swing the bass",style:"triplet"},{instrument:"hihat",description:"swing the hi-hat",style:"triplet"}],beatsPerMeasure:4,measures:4},shift:{parts:[gl,dl,Nr,ai,xr],defaultStyles:{hihat:"straight",bass:"straight",kick:"straight",snare:"straight"},actions:[{instrument:"snare",description:"shift the snare",style:"shift"}],beatsPerMeasure:4,measures:4},dilla:{parts:[gl,dl,Nr,ai,xr,j2],defaultStyles:{hihat:"straight",bass:"straight",kick:"straight",snare:"straight"},actions:[{instrument:"bass",description:"swing the bass",style:"dilla"},{instrument:"snare",description:"shift the snare",style:"shift"}],beatsPerMeasure:4,measures:4},erykah:{parts:[Pf,Wf,Nr,ai],defaultStyles:{hihat:"erykah",synth:"erykah",kick:"straight",snare:"straight"},actions:[],beatsPerMeasure:4,measures:8,highlighted:{synth:Wf.data,hihat:Pf.data}},money:{parts:[Ff,V2,xr],defaultStyles:{hihat:"money",kick:"money",snare:"shift"},actions:[],beatsPerMeasure:4,measures:4,highlighted:{hihat:Lf(Ff.data),snare:xr.data}},heart:{parts:[Uf,Nr,xr],defaultStyles:{hihat:"quintuplet",kick:"straight",snare:"shift"},actions:[],beatsPerMeasure:4,measures:4,highlighted:{hihat:Lf(Uf.data),snare:xr.data}}});function eb(n){let t,r;return{c(){t=new vi(!1),r=Me(),this.h()},l(l){t=yi(l,!1),r=Me(),this.h()},h(){t.a=r},m(l,s){t.m(_v,l,s),le(l,r,s)},p:Le,d(l){l&&I(r),l&&t.d()}}}function tb(n){let t,r;return{c(){t=new vi(!1),r=Me(),this.h()},l(l){t=yi(l,!1),r=Me(),this.h()},h(){t.a=r},m(l,s){t.m(mv,l,s),le(l,r,s)},p:Le,d(l){l&&I(r),l&&t.d()}}}function nb(n){let t,r,l,s,a,u="(sound is recommended!)",h,c,g;function m(T,b){return T[1]?tb:eb}let v=m(n),p=v(n);return{c(){t=V("div"),r=V("button"),p.c(),s=de(),a=V("div"),h=Ye(u),this.h()},l(T){t=K(T,"DIV",{class:!0});var b=Q(t);r=K(b,"BUTTON",{"aria-label":!0,class:!0});var w=Q(r);p.l(w),w.forEach(I),s=me(b),a=K(b,"DIV",{class:!0});var A=Q(a);h=Ge(A,u),A.forEach(I),b.forEach(I),this.h()},h(){k(r,"aria-label",l=n[1]?"mute":"unmute"),k(r,"class","svelte-1jk69da"),ce(r,"faded",!n[1]),k(a,"class","label svelte-1jk69da"),ce(a,"visible",!n[1]),ce(a,"left",n[0]==="left"),ce(a,"bottom",n[0]==="bottom"),k(t,"class","wrapper svelte-1jk69da")},m(T,b){le(T,t,b),U(t,r),p.m(r,null),U(t,s),U(t,a),U(a,h),c||(g=Be(r,"click",n[2]),c=!0)},p(T,[b]){v===(v=m(T))&&p?p.p(T,b):(p.d(1),p=v(T),p&&(p.c(),p.m(r,null))),b&2&&l!==(l=T[1]?"mute":"unmute")&&k(r,"aria-label",l),b&2&&ce(r,"faded",!T[1]),b&2&&ce(a,"visible",!T[1]),b&1&&ce(a,"left",T[0]==="left"),b&1&&ce(a,"bottom",T[0]==="bottom")},i:Le,o:Le,d(T){T&&I(t),p.d(),c=!1,g()}}}function rb(n,t,r){let l;ae(n,pi,u=>r(1,l=u));let{label:s}=t;const a=()=>Oe(pi,l=!l,l);return n.$$set=u=>{"label"in u&&r(0,s=u.label)},[s,l,a]}class Bf extends nt{constructor(t){super(),rt(this,t,rb,nb,Qe,{label:0})}}function ib(n){return-n*(n-2)}function Hf(n){return Object.prototype.toString.call(n)==="[object Date]"}function po(n,t){if(n===t||n!==n)return()=>n;const r=typeof n;if(r!==typeof t||Array.isArray(n)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const l=t.map((s,a)=>po(n[a],s));return s=>l.map(a=>a(s))}if(r==="object"){if(!n||!t)throw new Error("Object cannot be null");if(Hf(n)&&Hf(t)){n=n.getTime(),t=t.getTime();const a=t-n;return u=>new Date(n+u*a)}const l=Object.keys(t),s={};return l.forEach(a=>{s[a]=po(n[a],t[a])}),a=>{const u={};return l.forEach(h=>{u[h]=s[h](a)}),u}}if(r==="number"){const l=t-n;return s=>n+s*l}throw new Error(`Cannot interpolate ${r} values`)}function lb(n,t={}){const r=tt(n);let l,s=n;function a(u,h){if(n==null)return r.set(n=u),Promise.resolve();s=u;let c=l,g=!1,{delay:m=0,duration:v=400,easing:p=Zc,interpolate:T=po}=ao(ao({},t),h);if(v===0)return c&&(c.abort(),c=null),r.set(n=s),Promise.resolve();const b=jp()+m;let w;return l=$p(A=>{if(A<b)return!0;g||(w=T(n,u),typeof v=="function"&&(v=v(n,u)),g=!0),c&&(c.abort(),c=null);const S=A-b;return S>v?(r.set(n=u),!1):(r.set(n=w(p(S/v))),!0)}),l.promise}return{set:a,update:(u,h)=>a(u(s,n),h),subscribe:r.subscribe}}function Nl(n,{delay:t=0,duration:r=400,easing:l=Zc}={}){const s=+getComputedStyle(n).opacity;return{delay:t,duration:r,easing:l,css:a=>`opacity: ${a*s}`}}var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xl={},sb={get exports(){return xl},set exports(n){xl=n}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,t){(function(){var r,l="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",g=500,m="__lodash_placeholder__",v=1,p=2,T=4,b=1,w=2,A=1,S=2,D=4,O=8,E=16,H=32,Y=64,J=128,G=256,P=512,W=30,R="...",B=800,F=16,x=1,z=2,X=3,ee=1/0,ie=9007199254740991,be=17976931348623157e292,pe=0/0,Ee=4294967295,Xe=Ee-1,Tt=Ee>>>1,ot=[["ary",J],["bind",A],["bindKey",S],["curry",O],["curryRight",E],["flip",P],["partial",H],["partialRight",Y],["rearg",G]],ue="[object Arguments]",je="[object Array]",yt="[object AsyncFunction]",vt="[object Boolean]",oe="[object Date]",ve="[object DOMException]",Te="[object Error]",ne="[object Function]",lt="[object GeneratorFunction]",Ie="[object Map]",$e="[object Number]",gt="[object Null]",ut="[object Object]",Yt="[object Promise]",In="[object Proxy]",vn="[object RegExp]",bt="[object Set]",fn="[object String]",Ae="[object Symbol]",Qt="[object Undefined]",$n="[object WeakMap]",Pl="[object WeakSet]",er="[object ArrayBuffer]",Wn="[object DataView]",zr="[object Float32Array]",Yr="[object Float64Array]",he="[object Int8Array]",xt="[object Int16Array]",yn="[object Int32Array]",Ul="[object Uint8Array]",Fl="[object Uint8ClampedArray]",Wl="[object Uint16Array]",Bl="[object Uint32Array]",vh=/\b__p \+= '';/g,yh=/\b(__p \+=) '' \+/g,bh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Io=/&(?:amp|lt|gt|quot|#39);/g,So=/[&<>"']/g,wh=RegExp(Io.source),kh=RegExp(So.source),Th=/<%-([\s\S]+?)%>/g,Ah=/<%([\s\S]+?)%>/g,Co=/<%=([\s\S]+?)%>/g,Mh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eh=/^\w*$/,Ih=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hl=/[\\^$.*+?()[\]{}|]/g,Sh=RegExp(Hl.source),ql=/^\s+/,Ch=/\s/,Dh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rh=/\{\n\/\* \[wrapped with (.+)\] \*/,Oh=/,? & /,Nh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xh=/[()=,{}\[\]\/\s]/,Lh=/\\(\\)?/g,Ph=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Do=/\w*$/,Uh=/^[-+]0x[0-9a-f]+$/i,Fh=/^0b[01]+$/i,Wh=/^\[object .+?Constructor\]$/,Bh=/^0o[0-7]+$/i,Hh=/^(?:0|[1-9]\d*)$/,qh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wi=/($^)/,zh=/['\n\r\u2028\u2029\\]/g,ki="\\ud800-\\udfff",Yh="\\u0300-\\u036f",Gh="\\ufe20-\\ufe2f",Vh="\\u20d0-\\u20ff",Ro=Yh+Gh+Vh,Oo="\\u2700-\\u27bf",No="a-z\\xdf-\\xf6\\xf8-\\xff",Kh="\\xac\\xb1\\xd7\\xf7",Zh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xh="\\u2000-\\u206f",Jh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xo="A-Z\\xc0-\\xd6\\xd8-\\xde",Lo="\\ufe0e\\ufe0f",Po=Kh+Zh+Xh+Jh,zl="['’]",Qh="["+ki+"]",Uo="["+Po+"]",Ti="["+Ro+"]",Fo="\\d+",jh="["+Oo+"]",Wo="["+No+"]",Bo="[^"+ki+Po+Fo+Oo+No+xo+"]",Yl="\\ud83c[\\udffb-\\udfff]",$h="(?:"+Ti+"|"+Yl+")",Ho="[^"+ki+"]",Gl="(?:\\ud83c[\\udde6-\\uddff]){2}",Vl="[\\ud800-\\udbff][\\udc00-\\udfff]",vr="["+xo+"]",qo="\\u200d",zo="(?:"+Wo+"|"+Bo+")",eg="(?:"+vr+"|"+Bo+")",Yo="(?:"+zl+"(?:d|ll|m|re|s|t|ve))?",Go="(?:"+zl+"(?:D|LL|M|RE|S|T|VE))?",Vo=$h+"?",Ko="["+Lo+"]?",tg="(?:"+qo+"(?:"+[Ho,Gl,Vl].join("|")+")"+Ko+Vo+")*",ng="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zo=Ko+Vo+tg,ig="(?:"+[jh,Gl,Vl].join("|")+")"+Zo,lg="(?:"+[Ho+Ti+"?",Ti,Gl,Vl,Qh].join("|")+")",sg=RegExp(zl,"g"),og=RegExp(Ti,"g"),Kl=RegExp(Yl+"(?="+Yl+")|"+lg+Zo,"g"),ug=RegExp([vr+"?"+Wo+"+"+Yo+"(?="+[Uo,vr,"$"].join("|")+")",eg+"+"+Go+"(?="+[Uo,vr+zo,"$"].join("|")+")",vr+"?"+zo+"+"+Yo,vr+"+"+Go,rg,ng,Fo,ig].join("|"),"g"),ag=RegExp("["+qo+ki+Ro+Lo+"]"),fg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hg=-1,st={};st[zr]=st[Yr]=st[he]=st[xt]=st[yn]=st[Ul]=st[Fl]=st[Wl]=st[Bl]=!0,st[ue]=st[je]=st[er]=st[vt]=st[Wn]=st[oe]=st[Te]=st[ne]=st[Ie]=st[$e]=st[ut]=st[vn]=st[bt]=st[fn]=st[$n]=!1;var it={};it[ue]=it[je]=it[er]=it[Wn]=it[vt]=it[oe]=it[zr]=it[Yr]=it[he]=it[xt]=it[yn]=it[Ie]=it[$e]=it[ut]=it[vn]=it[bt]=it[fn]=it[Ae]=it[Ul]=it[Fl]=it[Wl]=it[Bl]=!0,it[Te]=it[ne]=it[$n]=!1;var gg={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},dg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_g={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pg=parseFloat,vg=parseInt,Xo=typeof Un=="object"&&Un&&Un.Object===Object&&Un,yg=typeof self=="object"&&self&&self.Object===Object&&self,It=Xo||yg||Function("return this")(),Zl=t&&!t.nodeType&&t,tr=Zl&&!0&&n&&!n.nodeType&&n,Jo=tr&&tr.exports===Zl,Xl=Jo&&Xo.process,jt=function(){try{var N=tr&&tr.require&&tr.require("util").types;return N||Xl&&Xl.binding&&Xl.binding("util")}catch{}}(),Qo=jt&&jt.isArrayBuffer,jo=jt&&jt.isDate,$o=jt&&jt.isMap,eu=jt&&jt.isRegExp,tu=jt&&jt.isSet,nu=jt&&jt.isTypedArray;function Gt(N,Z,q){switch(q.length){case 0:return N.call(Z);case 1:return N.call(Z,q[0]);case 2:return N.call(Z,q[0],q[1]);case 3:return N.call(Z,q[0],q[1],q[2])}return N.apply(Z,q)}function bg(N,Z,q,ge){for(var Se=-1,Ke=N==null?0:N.length;++Se<Ke;){var wt=N[Se];Z(ge,wt,q(wt),N)}return ge}function $t(N,Z){for(var q=-1,ge=N==null?0:N.length;++q<ge&&Z(N[q],q,N)!==!1;);return N}function wg(N,Z){for(var q=N==null?0:N.length;q--&&Z(N[q],q,N)!==!1;);return N}function ru(N,Z){for(var q=-1,ge=N==null?0:N.length;++q<ge;)if(!Z(N[q],q,N))return!1;return!0}function Bn(N,Z){for(var q=-1,ge=N==null?0:N.length,Se=0,Ke=[];++q<ge;){var wt=N[q];Z(wt,q,N)&&(Ke[Se++]=wt)}return Ke}function Ai(N,Z){var q=N==null?0:N.length;return!!q&&yr(N,Z,0)>-1}function Jl(N,Z,q){for(var ge=-1,Se=N==null?0:N.length;++ge<Se;)if(q(Z,N[ge]))return!0;return!1}function at(N,Z){for(var q=-1,ge=N==null?0:N.length,Se=Array(ge);++q<ge;)Se[q]=Z(N[q],q,N);return Se}function Hn(N,Z){for(var q=-1,ge=Z.length,Se=N.length;++q<ge;)N[Se+q]=Z[q];return N}function Ql(N,Z,q,ge){var Se=-1,Ke=N==null?0:N.length;for(ge&&Ke&&(q=N[++Se]);++Se<Ke;)q=Z(q,N[Se],Se,N);return q}function kg(N,Z,q,ge){var Se=N==null?0:N.length;for(ge&&Se&&(q=N[--Se]);Se--;)q=Z(q,N[Se],Se,N);return q}function jl(N,Z){for(var q=-1,ge=N==null?0:N.length;++q<ge;)if(Z(N[q],q,N))return!0;return!1}var Tg=$l("length");function Ag(N){return N.split("")}function Mg(N){return N.match(Nh)||[]}function iu(N,Z,q){var ge;return q(N,function(Se,Ke,wt){if(Z(Se,Ke,wt))return ge=Ke,!1}),ge}function Mi(N,Z,q,ge){for(var Se=N.length,Ke=q+(ge?1:-1);ge?Ke--:++Ke<Se;)if(Z(N[Ke],Ke,N))return Ke;return-1}function yr(N,Z,q){return Z===Z?Ug(N,Z,q):Mi(N,lu,q)}function Eg(N,Z,q,ge){for(var Se=q-1,Ke=N.length;++Se<Ke;)if(ge(N[Se],Z))return Se;return-1}function lu(N){return N!==N}function su(N,Z){var q=N==null?0:N.length;return q?ts(N,Z)/q:pe}function $l(N){return function(Z){return Z==null?r:Z[N]}}function es(N){return function(Z){return N==null?r:N[Z]}}function ou(N,Z,q,ge,Se){return Se(N,function(Ke,wt,et){q=ge?(ge=!1,Ke):Z(q,Ke,wt,et)}),q}function Ig(N,Z){var q=N.length;for(N.sort(Z);q--;)N[q]=N[q].value;return N}function ts(N,Z){for(var q,ge=-1,Se=N.length;++ge<Se;){var Ke=Z(N[ge]);Ke!==r&&(q=q===r?Ke:q+Ke)}return q}function ns(N,Z){for(var q=-1,ge=Array(N);++q<N;)ge[q]=Z(q);return ge}function Sg(N,Z){return at(Z,function(q){return[q,N[q]]})}function uu(N){return N&&N.slice(0,hu(N)+1).replace(ql,"")}function Vt(N){return function(Z){return N(Z)}}function rs(N,Z){return at(Z,function(q){return N[q]})}function Gr(N,Z){return N.has(Z)}function au(N,Z){for(var q=-1,ge=N.length;++q<ge&&yr(Z,N[q],0)>-1;);return q}function fu(N,Z){for(var q=N.length;q--&&yr(Z,N[q],0)>-1;);return q}function Cg(N,Z){for(var q=N.length,ge=0;q--;)N[q]===Z&&++ge;return ge}var Dg=es(gg),Rg=es(dg);function Og(N){return"\\"+_g[N]}function Ng(N,Z){return N==null?r:N[Z]}function br(N){return ag.test(N)}function xg(N){return fg.test(N)}function Lg(N){for(var Z,q=[];!(Z=N.next()).done;)q.push(Z.value);return q}function is(N){var Z=-1,q=Array(N.size);return N.forEach(function(ge,Se){q[++Z]=[Se,ge]}),q}function cu(N,Z){return function(q){return N(Z(q))}}function qn(N,Z){for(var q=-1,ge=N.length,Se=0,Ke=[];++q<ge;){var wt=N[q];(wt===Z||wt===m)&&(N[q]=m,Ke[Se++]=q)}return Ke}function Ei(N){var Z=-1,q=Array(N.size);return N.forEach(function(ge){q[++Z]=ge}),q}function Pg(N){var Z=-1,q=Array(N.size);return N.forEach(function(ge){q[++Z]=[ge,ge]}),q}function Ug(N,Z,q){for(var ge=q-1,Se=N.length;++ge<Se;)if(N[ge]===Z)return ge;return-1}function Fg(N,Z,q){for(var ge=q+1;ge--;)if(N[ge]===Z)return ge;return ge}function wr(N){return br(N)?Bg(N):Tg(N)}function cn(N){return br(N)?Hg(N):Ag(N)}function hu(N){for(var Z=N.length;Z--&&Ch.test(N.charAt(Z)););return Z}var Wg=es(mg);function Bg(N){for(var Z=Kl.lastIndex=0;Kl.test(N);)++Z;return Z}function Hg(N){return N.match(Kl)||[]}function qg(N){return N.match(ug)||[]}var zg=function N(Z){Z=Z==null?It:kr.defaults(It.Object(),Z,kr.pick(It,cg));var q=Z.Array,ge=Z.Date,Se=Z.Error,Ke=Z.Function,wt=Z.Math,et=Z.Object,ls=Z.RegExp,Yg=Z.String,en=Z.TypeError,Ii=q.prototype,Gg=Ke.prototype,Tr=et.prototype,Si=Z["__core-js_shared__"],Ci=Gg.toString,Je=Tr.hasOwnProperty,Vg=0,gu=function(){var e=/[^.]+$/.exec(Si&&Si.keys&&Si.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Di=Tr.toString,Kg=Ci.call(et),Zg=It._,Xg=ls("^"+Ci.call(Je).replace(Hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ri=Jo?Z.Buffer:r,zn=Z.Symbol,Oi=Z.Uint8Array,du=Ri?Ri.allocUnsafe:r,Ni=cu(et.getPrototypeOf,et),mu=et.create,_u=Tr.propertyIsEnumerable,xi=Ii.splice,pu=zn?zn.isConcatSpreadable:r,Vr=zn?zn.iterator:r,nr=zn?zn.toStringTag:r,Li=function(){try{var e=or(et,"defineProperty");return e({},"",{}),e}catch{}}(),Jg=Z.clearTimeout!==It.clearTimeout&&Z.clearTimeout,Qg=ge&&ge.now!==It.Date.now&&ge.now,jg=Z.setTimeout!==It.setTimeout&&Z.setTimeout,Pi=wt.ceil,Ui=wt.floor,ss=et.getOwnPropertySymbols,$g=Ri?Ri.isBuffer:r,vu=Z.isFinite,ed=Ii.join,td=cu(et.keys,et),kt=wt.max,Dt=wt.min,nd=ge.now,rd=Z.parseInt,yu=wt.random,id=Ii.reverse,os=or(Z,"DataView"),Kr=or(Z,"Map"),us=or(Z,"Promise"),Ar=or(Z,"Set"),Zr=or(Z,"WeakMap"),Xr=or(et,"create"),Fi=Zr&&new Zr,Mr={},ld=ur(os),sd=ur(Kr),od=ur(us),ud=ur(Ar),ad=ur(Zr),Wi=zn?zn.prototype:r,Jr=Wi?Wi.valueOf:r,bu=Wi?Wi.toString:r;function _(e){if(dt(e)&&!Ce(e)&&!(e instanceof He)){if(e instanceof tn)return e;if(Je.call(e,"__wrapped__"))return wa(e)}return new tn(e)}var Er=function(){function e(){}return function(i){if(!ft(i))return{};if(mu)return mu(i);e.prototype=i;var o=new e;return e.prototype=r,o}}();function Bi(){}function tn(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=r}_.templateSettings={escape:Th,evaluate:Ah,interpolate:Co,variable:"",imports:{_}},_.prototype=Bi.prototype,_.prototype.constructor=_,tn.prototype=Er(Bi.prototype),tn.prototype.constructor=tn;function He(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function fd(){var e=new He(this.__wrapped__);return e.__actions__=Ft(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ft(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ft(this.__views__),e}function cd(){if(this.__filtered__){var e=new He(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function hd(){var e=this.__wrapped__.value(),i=this.__dir__,o=Ce(e),f=i<0,d=o?e.length:0,y=A0(0,d,this.__views__),M=y.start,C=y.end,L=C-M,j=f?C:M-1,$=this.__iteratees__,te=$.length,fe=0,_e=Dt(L,this.__takeCount__);if(!o||!f&&d==L&&_e==L)return Yu(e,this.__actions__);var we=[];e:for(;L--&&fe<_e;){j+=i;for(var Re=-1,ke=e[j];++Re<te;){var We=$[Re],ze=We.iteratee,Xt=We.type,Ut=ze(ke);if(Xt==z)ke=Ut;else if(!Ut){if(Xt==x)continue e;break e}}we[fe++]=ke}return we}He.prototype=Er(Bi.prototype),He.prototype.constructor=He;function rr(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var f=e[i];this.set(f[0],f[1])}}function gd(){this.__data__=Xr?Xr(null):{},this.size=0}function dd(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}function md(e){var i=this.__data__;if(Xr){var o=i[e];return o===c?r:o}return Je.call(i,e)?i[e]:r}function _d(e){var i=this.__data__;return Xr?i[e]!==r:Je.call(i,e)}function pd(e,i){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Xr&&i===r?c:i,this}rr.prototype.clear=gd,rr.prototype.delete=dd,rr.prototype.get=md,rr.prototype.has=_d,rr.prototype.set=pd;function Sn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var f=e[i];this.set(f[0],f[1])}}function vd(){this.__data__=[],this.size=0}function yd(e){var i=this.__data__,o=Hi(i,e);if(o<0)return!1;var f=i.length-1;return o==f?i.pop():xi.call(i,o,1),--this.size,!0}function bd(e){var i=this.__data__,o=Hi(i,e);return o<0?r:i[o][1]}function wd(e){return Hi(this.__data__,e)>-1}function kd(e,i){var o=this.__data__,f=Hi(o,e);return f<0?(++this.size,o.push([e,i])):o[f][1]=i,this}Sn.prototype.clear=vd,Sn.prototype.delete=yd,Sn.prototype.get=bd,Sn.prototype.has=wd,Sn.prototype.set=kd;function Cn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var f=e[i];this.set(f[0],f[1])}}function Td(){this.size=0,this.__data__={hash:new rr,map:new(Kr||Sn),string:new rr}}function Ad(e){var i=$i(this,e).delete(e);return this.size-=i?1:0,i}function Md(e){return $i(this,e).get(e)}function Ed(e){return $i(this,e).has(e)}function Id(e,i){var o=$i(this,e),f=o.size;return o.set(e,i),this.size+=o.size==f?0:1,this}Cn.prototype.clear=Td,Cn.prototype.delete=Ad,Cn.prototype.get=Md,Cn.prototype.has=Ed,Cn.prototype.set=Id;function ir(e){var i=-1,o=e==null?0:e.length;for(this.__data__=new Cn;++i<o;)this.add(e[i])}function Sd(e){return this.__data__.set(e,c),this}function Cd(e){return this.__data__.has(e)}ir.prototype.add=ir.prototype.push=Sd,ir.prototype.has=Cd;function hn(e){var i=this.__data__=new Sn(e);this.size=i.size}function Dd(){this.__data__=new Sn,this.size=0}function Rd(e){var i=this.__data__,o=i.delete(e);return this.size=i.size,o}function Od(e){return this.__data__.get(e)}function Nd(e){return this.__data__.has(e)}function xd(e,i){var o=this.__data__;if(o instanceof Sn){var f=o.__data__;if(!Kr||f.length<s-1)return f.push([e,i]),this.size=++o.size,this;o=this.__data__=new Cn(f)}return o.set(e,i),this.size=o.size,this}hn.prototype.clear=Dd,hn.prototype.delete=Rd,hn.prototype.get=Od,hn.prototype.has=Nd,hn.prototype.set=xd;function wu(e,i){var o=Ce(e),f=!o&&ar(e),d=!o&&!f&&Zn(e),y=!o&&!f&&!d&&Dr(e),M=o||f||d||y,C=M?ns(e.length,Yg):[],L=C.length;for(var j in e)(i||Je.call(e,j))&&!(M&&(j=="length"||d&&(j=="offset"||j=="parent")||y&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||Nn(j,L)))&&C.push(j);return C}function ku(e){var i=e.length;return i?e[ys(0,i-1)]:r}function Ld(e,i){return el(Ft(e),lr(i,0,e.length))}function Pd(e){return el(Ft(e))}function as(e,i,o){(o!==r&&!gn(e[i],o)||o===r&&!(i in e))&&Dn(e,i,o)}function Qr(e,i,o){var f=e[i];(!(Je.call(e,i)&&gn(f,o))||o===r&&!(i in e))&&Dn(e,i,o)}function Hi(e,i){for(var o=e.length;o--;)if(gn(e[o][0],i))return o;return-1}function Ud(e,i,o,f){return Yn(e,function(d,y,M){i(f,d,o(d),M)}),f}function Tu(e,i){return e&&wn(i,At(i),e)}function Fd(e,i){return e&&wn(i,Bt(i),e)}function Dn(e,i,o){i=="__proto__"&&Li?Li(e,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[i]=o}function fs(e,i){for(var o=-1,f=i.length,d=q(f),y=e==null;++o<f;)d[o]=y?r:Ys(e,i[o]);return d}function lr(e,i,o){return e===e&&(o!==r&&(e=e<=o?e:o),i!==r&&(e=e>=i?e:i)),e}function nn(e,i,o,f,d,y){var M,C=i&v,L=i&p,j=i&T;if(o&&(M=d?o(e,f,d,y):o(e)),M!==r)return M;if(!ft(e))return e;var $=Ce(e);if($){if(M=E0(e),!C)return Ft(e,M)}else{var te=Rt(e),fe=te==ne||te==lt;if(Zn(e))return Ku(e,C);if(te==ut||te==ue||fe&&!d){if(M=L||fe?{}:ha(e),!C)return L?m0(e,Fd(M,e)):d0(e,Tu(M,e))}else{if(!it[te])return d?e:{};M=I0(e,te,C)}}y||(y=new hn);var _e=y.get(e);if(_e)return _e;y.set(e,M),Ha(e)?e.forEach(function(ke){M.add(nn(ke,i,o,ke,e,y))}):Wa(e)&&e.forEach(function(ke,We){M.set(We,nn(ke,i,o,We,e,y))});var we=j?L?Ds:Cs:L?Bt:At,Re=$?r:we(e);return $t(Re||e,function(ke,We){Re&&(We=ke,ke=e[We]),Qr(M,We,nn(ke,i,o,We,e,y))}),M}function Wd(e){var i=At(e);return function(o){return Au(o,e,i)}}function Au(e,i,o){var f=o.length;if(e==null)return!f;for(e=et(e);f--;){var d=o[f],y=i[d],M=e[d];if(M===r&&!(d in e)||!y(M))return!1}return!0}function Mu(e,i,o){if(typeof e!="function")throw new en(u);return ii(function(){e.apply(r,o)},i)}function jr(e,i,o,f){var d=-1,y=Ai,M=!0,C=e.length,L=[],j=i.length;if(!C)return L;o&&(i=at(i,Vt(o))),f?(y=Jl,M=!1):i.length>=s&&(y=Gr,M=!1,i=new ir(i));e:for(;++d<C;){var $=e[d],te=o==null?$:o($);if($=f||$!==0?$:0,M&&te===te){for(var fe=j;fe--;)if(i[fe]===te)continue e;L.push($)}else y(i,te,f)||L.push($)}return L}var Yn=ju(bn),Eu=ju(hs,!0);function Bd(e,i){var o=!0;return Yn(e,function(f,d,y){return o=!!i(f,d,y),o}),o}function qi(e,i,o){for(var f=-1,d=e.length;++f<d;){var y=e[f],M=i(y);if(M!=null&&(C===r?M===M&&!Zt(M):o(M,C)))var C=M,L=y}return L}function Hd(e,i,o,f){var d=e.length;for(o=De(o),o<0&&(o=-o>d?0:d+o),f=f===r||f>d?d:De(f),f<0&&(f+=d),f=o>f?0:za(f);o<f;)e[o++]=i;return e}function Iu(e,i){var o=[];return Yn(e,function(f,d,y){i(f,d,y)&&o.push(f)}),o}function St(e,i,o,f,d){var y=-1,M=e.length;for(o||(o=C0),d||(d=[]);++y<M;){var C=e[y];i>0&&o(C)?i>1?St(C,i-1,o,f,d):Hn(d,C):f||(d[d.length]=C)}return d}var cs=$u(),Su=$u(!0);function bn(e,i){return e&&cs(e,i,At)}function hs(e,i){return e&&Su(e,i,At)}function zi(e,i){return Bn(i,function(o){return xn(e[o])})}function sr(e,i){i=Vn(i,e);for(var o=0,f=i.length;e!=null&&o<f;)e=e[kn(i[o++])];return o&&o==f?e:r}function Cu(e,i,o){var f=i(e);return Ce(e)?f:Hn(f,o(e))}function Lt(e){return e==null?e===r?Qt:gt:nr&&nr in et(e)?T0(e):P0(e)}function gs(e,i){return e>i}function qd(e,i){return e!=null&&Je.call(e,i)}function zd(e,i){return e!=null&&i in et(e)}function Yd(e,i,o){return e>=Dt(i,o)&&e<kt(i,o)}function ds(e,i,o){for(var f=o?Jl:Ai,d=e[0].length,y=e.length,M=y,C=q(y),L=1/0,j=[];M--;){var $=e[M];M&&i&&($=at($,Vt(i))),L=Dt($.length,L),C[M]=!o&&(i||d>=120&&$.length>=120)?new ir(M&&$):r}$=e[0];var te=-1,fe=C[0];e:for(;++te<d&&j.length<L;){var _e=$[te],we=i?i(_e):_e;if(_e=o||_e!==0?_e:0,!(fe?Gr(fe,we):f(j,we,o))){for(M=y;--M;){var Re=C[M];if(!(Re?Gr(Re,we):f(e[M],we,o)))continue e}fe&&fe.push(we),j.push(_e)}}return j}function Gd(e,i,o,f){return bn(e,function(d,y,M){i(f,o(d),y,M)}),f}function $r(e,i,o){i=Vn(i,e),e=_a(e,i);var f=e==null?e:e[kn(ln(i))];return f==null?r:Gt(f,e,o)}function Du(e){return dt(e)&&Lt(e)==ue}function Vd(e){return dt(e)&&Lt(e)==er}function Kd(e){return dt(e)&&Lt(e)==oe}function ei(e,i,o,f,d){return e===i?!0:e==null||i==null||!dt(e)&&!dt(i)?e!==e&&i!==i:Zd(e,i,o,f,ei,d)}function Zd(e,i,o,f,d,y){var M=Ce(e),C=Ce(i),L=M?je:Rt(e),j=C?je:Rt(i);L=L==ue?ut:L,j=j==ue?ut:j;var $=L==ut,te=j==ut,fe=L==j;if(fe&&Zn(e)){if(!Zn(i))return!1;M=!0,$=!1}if(fe&&!$)return y||(y=new hn),M||Dr(e)?aa(e,i,o,f,d,y):w0(e,i,L,o,f,d,y);if(!(o&b)){var _e=$&&Je.call(e,"__wrapped__"),we=te&&Je.call(i,"__wrapped__");if(_e||we){var Re=_e?e.value():e,ke=we?i.value():i;return y||(y=new hn),d(Re,ke,o,f,y)}}return fe?(y||(y=new hn),k0(e,i,o,f,d,y)):!1}function Xd(e){return dt(e)&&Rt(e)==Ie}function ms(e,i,o,f){var d=o.length,y=d,M=!f;if(e==null)return!y;for(e=et(e);d--;){var C=o[d];if(M&&C[2]?C[1]!==e[C[0]]:!(C[0]in e))return!1}for(;++d<y;){C=o[d];var L=C[0],j=e[L],$=C[1];if(M&&C[2]){if(j===r&&!(L in e))return!1}else{var te=new hn;if(f)var fe=f(j,$,L,e,i,te);if(!(fe===r?ei($,j,b|w,f,te):fe))return!1}}return!0}function Ru(e){if(!ft(e)||R0(e))return!1;var i=xn(e)?Xg:Wh;return i.test(ur(e))}function Jd(e){return dt(e)&&Lt(e)==vn}function Qd(e){return dt(e)&&Rt(e)==bt}function jd(e){return dt(e)&&sl(e.length)&&!!st[Lt(e)]}function Ou(e){return typeof e=="function"?e:e==null?Ht:typeof e=="object"?Ce(e)?Lu(e[0],e[1]):xu(e):ef(e)}function _s(e){if(!ri(e))return td(e);var i=[];for(var o in et(e))Je.call(e,o)&&o!="constructor"&&i.push(o);return i}function $d(e){if(!ft(e))return L0(e);var i=ri(e),o=[];for(var f in e)f=="constructor"&&(i||!Je.call(e,f))||o.push(f);return o}function ps(e,i){return e<i}function Nu(e,i){var o=-1,f=Wt(e)?q(e.length):[];return Yn(e,function(d,y,M){f[++o]=i(d,y,M)}),f}function xu(e){var i=Os(e);return i.length==1&&i[0][2]?da(i[0][0],i[0][1]):function(o){return o===e||ms(o,e,i)}}function Lu(e,i){return xs(e)&&ga(i)?da(kn(e),i):function(o){var f=Ys(o,e);return f===r&&f===i?Gs(o,e):ei(i,f,b|w)}}function Yi(e,i,o,f,d){e!==i&&cs(i,function(y,M){if(d||(d=new hn),ft(y))e0(e,i,M,o,Yi,f,d);else{var C=f?f(Ps(e,M),y,M+"",e,i,d):r;C===r&&(C=y),as(e,M,C)}},Bt)}function e0(e,i,o,f,d,y,M){var C=Ps(e,o),L=Ps(i,o),j=M.get(L);if(j){as(e,o,j);return}var $=y?y(C,L,o+"",e,i,M):r,te=$===r;if(te){var fe=Ce(L),_e=!fe&&Zn(L),we=!fe&&!_e&&Dr(L);$=L,fe||_e||we?Ce(C)?$=C:mt(C)?$=Ft(C):_e?(te=!1,$=Ku(L,!0)):we?(te=!1,$=Zu(L,!0)):$=[]:li(L)||ar(L)?($=C,ar(C)?$=Ya(C):(!ft(C)||xn(C))&&($=ha(L))):te=!1}te&&(M.set(L,$),d($,L,f,y,M),M.delete(L)),as(e,o,$)}function Pu(e,i){var o=e.length;if(o)return i+=i<0?o:0,Nn(i,o)?e[i]:r}function Uu(e,i,o){i.length?i=at(i,function(y){return Ce(y)?function(M){return sr(M,y.length===1?y[0]:y)}:y}):i=[Ht];var f=-1;i=at(i,Vt(ye()));var d=Nu(e,function(y,M,C){var L=at(i,function(j){return j(y)});return{criteria:L,index:++f,value:y}});return Ig(d,function(y,M){return g0(y,M,o)})}function t0(e,i){return Fu(e,i,function(o,f){return Gs(e,f)})}function Fu(e,i,o){for(var f=-1,d=i.length,y={};++f<d;){var M=i[f],C=sr(e,M);o(C,M)&&ti(y,Vn(M,e),C)}return y}function n0(e){return function(i){return sr(i,e)}}function vs(e,i,o,f){var d=f?Eg:yr,y=-1,M=i.length,C=e;for(e===i&&(i=Ft(i)),o&&(C=at(e,Vt(o)));++y<M;)for(var L=0,j=i[y],$=o?o(j):j;(L=d(C,$,L,f))>-1;)C!==e&&xi.call(C,L,1),xi.call(e,L,1);return e}function Wu(e,i){for(var o=e?i.length:0,f=o-1;o--;){var d=i[o];if(o==f||d!==y){var y=d;Nn(d)?xi.call(e,d,1):ks(e,d)}}return e}function ys(e,i){return e+Ui(yu()*(i-e+1))}function r0(e,i,o,f){for(var d=-1,y=kt(Pi((i-e)/(o||1)),0),M=q(y);y--;)M[f?y:++d]=e,e+=o;return M}function bs(e,i){var o="";if(!e||i<1||i>ie)return o;do i%2&&(o+=e),i=Ui(i/2),i&&(e+=e);while(i);return o}function xe(e,i){return Us(ma(e,i,Ht),e+"")}function i0(e){return ku(Rr(e))}function l0(e,i){var o=Rr(e);return el(o,lr(i,0,o.length))}function ti(e,i,o,f){if(!ft(e))return e;i=Vn(i,e);for(var d=-1,y=i.length,M=y-1,C=e;C!=null&&++d<y;){var L=kn(i[d]),j=o;if(L==="__proto__"||L==="constructor"||L==="prototype")return e;if(d!=M){var $=C[L];j=f?f($,L,C):r,j===r&&(j=ft($)?$:Nn(i[d+1])?[]:{})}Qr(C,L,j),C=C[L]}return e}var Bu=Fi?function(e,i){return Fi.set(e,i),e}:Ht,s0=Li?function(e,i){return Li(e,"toString",{configurable:!0,enumerable:!1,value:Ks(i),writable:!0})}:Ht;function o0(e){return el(Rr(e))}function rn(e,i,o){var f=-1,d=e.length;i<0&&(i=-i>d?0:d+i),o=o>d?d:o,o<0&&(o+=d),d=i>o?0:o-i>>>0,i>>>=0;for(var y=q(d);++f<d;)y[f]=e[f+i];return y}function u0(e,i){var o;return Yn(e,function(f,d,y){return o=i(f,d,y),!o}),!!o}function Gi(e,i,o){var f=0,d=e==null?f:e.length;if(typeof i=="number"&&i===i&&d<=Tt){for(;f<d;){var y=f+d>>>1,M=e[y];M!==null&&!Zt(M)&&(o?M<=i:M<i)?f=y+1:d=y}return d}return ws(e,i,Ht,o)}function ws(e,i,o,f){var d=0,y=e==null?0:e.length;if(y===0)return 0;i=o(i);for(var M=i!==i,C=i===null,L=Zt(i),j=i===r;d<y;){var $=Ui((d+y)/2),te=o(e[$]),fe=te!==r,_e=te===null,we=te===te,Re=Zt(te);if(M)var ke=f||we;else j?ke=we&&(f||fe):C?ke=we&&fe&&(f||!_e):L?ke=we&&fe&&!_e&&(f||!Re):_e||Re?ke=!1:ke=f?te<=i:te<i;ke?d=$+1:y=$}return Dt(y,Xe)}function Hu(e,i){for(var o=-1,f=e.length,d=0,y=[];++o<f;){var M=e[o],C=i?i(M):M;if(!o||!gn(C,L)){var L=C;y[d++]=M===0?0:M}}return y}function qu(e){return typeof e=="number"?e:Zt(e)?pe:+e}function Kt(e){if(typeof e=="string")return e;if(Ce(e))return at(e,Kt)+"";if(Zt(e))return bu?bu.call(e):"";var i=e+"";return i=="0"&&1/e==-ee?"-0":i}function Gn(e,i,o){var f=-1,d=Ai,y=e.length,M=!0,C=[],L=C;if(o)M=!1,d=Jl;else if(y>=s){var j=i?null:y0(e);if(j)return Ei(j);M=!1,d=Gr,L=new ir}else L=i?[]:C;e:for(;++f<y;){var $=e[f],te=i?i($):$;if($=o||$!==0?$:0,M&&te===te){for(var fe=L.length;fe--;)if(L[fe]===te)continue e;i&&L.push(te),C.push($)}else d(L,te,o)||(L!==C&&L.push(te),C.push($))}return C}function ks(e,i){return i=Vn(i,e),e=_a(e,i),e==null||delete e[kn(ln(i))]}function zu(e,i,o,f){return ti(e,i,o(sr(e,i)),f)}function Vi(e,i,o,f){for(var d=e.length,y=f?d:-1;(f?y--:++y<d)&&i(e[y],y,e););return o?rn(e,f?0:y,f?y+1:d):rn(e,f?y+1:0,f?d:y)}function Yu(e,i){var o=e;return o instanceof He&&(o=o.value()),Ql(i,function(f,d){return d.func.apply(d.thisArg,Hn([f],d.args))},o)}function Ts(e,i,o){var f=e.length;if(f<2)return f?Gn(e[0]):[];for(var d=-1,y=q(f);++d<f;)for(var M=e[d],C=-1;++C<f;)C!=d&&(y[d]=jr(y[d]||M,e[C],i,o));return Gn(St(y,1),i,o)}function Gu(e,i,o){for(var f=-1,d=e.length,y=i.length,M={};++f<d;){var C=f<y?i[f]:r;o(M,e[f],C)}return M}function As(e){return mt(e)?e:[]}function Ms(e){return typeof e=="function"?e:Ht}function Vn(e,i){return Ce(e)?e:xs(e,i)?[e]:ba(Ze(e))}var a0=xe;function Kn(e,i,o){var f=e.length;return o=o===r?f:o,!i&&o>=f?e:rn(e,i,o)}var Vu=Jg||function(e){return It.clearTimeout(e)};function Ku(e,i){if(i)return e.slice();var o=e.length,f=du?du(o):new e.constructor(o);return e.copy(f),f}function Es(e){var i=new e.constructor(e.byteLength);return new Oi(i).set(new Oi(e)),i}function f0(e,i){var o=i?Es(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function c0(e){var i=new e.constructor(e.source,Do.exec(e));return i.lastIndex=e.lastIndex,i}function h0(e){return Jr?et(Jr.call(e)):{}}function Zu(e,i){var o=i?Es(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Xu(e,i){if(e!==i){var o=e!==r,f=e===null,d=e===e,y=Zt(e),M=i!==r,C=i===null,L=i===i,j=Zt(i);if(!C&&!j&&!y&&e>i||y&&M&&L&&!C&&!j||f&&M&&L||!o&&L||!d)return 1;if(!f&&!y&&!j&&e<i||j&&o&&d&&!f&&!y||C&&o&&d||!M&&d||!L)return-1}return 0}function g0(e,i,o){for(var f=-1,d=e.criteria,y=i.criteria,M=d.length,C=o.length;++f<M;){var L=Xu(d[f],y[f]);if(L){if(f>=C)return L;var j=o[f];return L*(j=="desc"?-1:1)}}return e.index-i.index}function Ju(e,i,o,f){for(var d=-1,y=e.length,M=o.length,C=-1,L=i.length,j=kt(y-M,0),$=q(L+j),te=!f;++C<L;)$[C]=i[C];for(;++d<M;)(te||d<y)&&($[o[d]]=e[d]);for(;j--;)$[C++]=e[d++];return $}function Qu(e,i,o,f){for(var d=-1,y=e.length,M=-1,C=o.length,L=-1,j=i.length,$=kt(y-C,0),te=q($+j),fe=!f;++d<$;)te[d]=e[d];for(var _e=d;++L<j;)te[_e+L]=i[L];for(;++M<C;)(fe||d<y)&&(te[_e+o[M]]=e[d++]);return te}function Ft(e,i){var o=-1,f=e.length;for(i||(i=q(f));++o<f;)i[o]=e[o];return i}function wn(e,i,o,f){var d=!o;o||(o={});for(var y=-1,M=i.length;++y<M;){var C=i[y],L=f?f(o[C],e[C],C,o,e):r;L===r&&(L=e[C]),d?Dn(o,C,L):Qr(o,C,L)}return o}function d0(e,i){return wn(e,Ns(e),i)}function m0(e,i){return wn(e,fa(e),i)}function Ki(e,i){return function(o,f){var d=Ce(o)?bg:Ud,y=i?i():{};return d(o,e,ye(f,2),y)}}function Ir(e){return xe(function(i,o){var f=-1,d=o.length,y=d>1?o[d-1]:r,M=d>2?o[2]:r;for(y=e.length>3&&typeof y=="function"?(d--,y):r,M&&Pt(o[0],o[1],M)&&(y=d<3?r:y,d=1),i=et(i);++f<d;){var C=o[f];C&&e(i,C,f,y)}return i})}function ju(e,i){return function(o,f){if(o==null)return o;if(!Wt(o))return e(o,f);for(var d=o.length,y=i?d:-1,M=et(o);(i?y--:++y<d)&&f(M[y],y,M)!==!1;);return o}}function $u(e){return function(i,o,f){for(var d=-1,y=et(i),M=f(i),C=M.length;C--;){var L=M[e?C:++d];if(o(y[L],L,y)===!1)break}return i}}function _0(e,i,o){var f=i&A,d=ni(e);function y(){var M=this&&this!==It&&this instanceof y?d:e;return M.apply(f?o:this,arguments)}return y}function ea(e){return function(i){i=Ze(i);var o=br(i)?cn(i):r,f=o?o[0]:i.charAt(0),d=o?Kn(o,1).join(""):i.slice(1);return f[e]()+d}}function Sr(e){return function(i){return Ql(ja(Qa(i).replace(sg,"")),e,"")}}function ni(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=Er(e.prototype),f=e.apply(o,i);return ft(f)?f:o}}function p0(e,i,o){var f=ni(e);function d(){for(var y=arguments.length,M=q(y),C=y,L=Cr(d);C--;)M[C]=arguments[C];var j=y<3&&M[0]!==L&&M[y-1]!==L?[]:qn(M,L);if(y-=j.length,y<o)return la(e,i,Zi,d.placeholder,r,M,j,r,r,o-y);var $=this&&this!==It&&this instanceof d?f:e;return Gt($,this,M)}return d}function ta(e){return function(i,o,f){var d=et(i);if(!Wt(i)){var y=ye(o,3);i=At(i),o=function(C){return y(d[C],C,d)}}var M=e(i,o,f);return M>-1?d[y?i[M]:M]:r}}function na(e){return On(function(i){var o=i.length,f=o,d=tn.prototype.thru;for(e&&i.reverse();f--;){var y=i[f];if(typeof y!="function")throw new en(u);if(d&&!M&&ji(y)=="wrapper")var M=new tn([],!0)}for(f=M?f:o;++f<o;){y=i[f];var C=ji(y),L=C=="wrapper"?Rs(y):r;L&&Ls(L[0])&&L[1]==(J|O|H|G)&&!L[4].length&&L[9]==1?M=M[ji(L[0])].apply(M,L[3]):M=y.length==1&&Ls(y)?M[C]():M.thru(y)}return function(){var j=arguments,$=j[0];if(M&&j.length==1&&Ce($))return M.plant($).value();for(var te=0,fe=o?i[te].apply(this,j):$;++te<o;)fe=i[te].call(this,fe);return fe}})}function Zi(e,i,o,f,d,y,M,C,L,j){var $=i&J,te=i&A,fe=i&S,_e=i&(O|E),we=i&P,Re=fe?r:ni(e);function ke(){for(var We=arguments.length,ze=q(We),Xt=We;Xt--;)ze[Xt]=arguments[Xt];if(_e)var Ut=Cr(ke),Jt=Cg(ze,Ut);if(f&&(ze=Ju(ze,f,d,_e)),y&&(ze=Qu(ze,y,M,_e)),We-=Jt,_e&&We<j){var _t=qn(ze,Ut);return la(e,i,Zi,ke.placeholder,o,ze,_t,C,L,j-We)}var dn=te?o:this,Pn=fe?dn[e]:e;return We=ze.length,C?ze=U0(ze,C):we&&We>1&&ze.reverse(),$&&L<We&&(ze.length=L),this&&this!==It&&this instanceof ke&&(Pn=Re||ni(Pn)),Pn.apply(dn,ze)}return ke}function ra(e,i){return function(o,f){return Gd(o,e,i(f),{})}}function Xi(e,i){return function(o,f){var d;if(o===r&&f===r)return i;if(o!==r&&(d=o),f!==r){if(d===r)return f;typeof o=="string"||typeof f=="string"?(o=Kt(o),f=Kt(f)):(o=qu(o),f=qu(f)),d=e(o,f)}return d}}function Is(e){return On(function(i){return i=at(i,Vt(ye())),xe(function(o){var f=this;return e(i,function(d){return Gt(d,f,o)})})})}function Ji(e,i){i=i===r?" ":Kt(i);var o=i.length;if(o<2)return o?bs(i,e):i;var f=bs(i,Pi(e/wr(i)));return br(i)?Kn(cn(f),0,e).join(""):f.slice(0,e)}function v0(e,i,o,f){var d=i&A,y=ni(e);function M(){for(var C=-1,L=arguments.length,j=-1,$=f.length,te=q($+L),fe=this&&this!==It&&this instanceof M?y:e;++j<$;)te[j]=f[j];for(;L--;)te[j++]=arguments[++C];return Gt(fe,d?o:this,te)}return M}function ia(e){return function(i,o,f){return f&&typeof f!="number"&&Pt(i,o,f)&&(o=f=r),i=Ln(i),o===r?(o=i,i=0):o=Ln(o),f=f===r?i<o?1:-1:Ln(f),r0(i,o,f,e)}}function Qi(e){return function(i,o){return typeof i=="string"&&typeof o=="string"||(i=sn(i),o=sn(o)),e(i,o)}}function la(e,i,o,f,d,y,M,C,L,j){var $=i&O,te=$?M:r,fe=$?r:M,_e=$?y:r,we=$?r:y;i|=$?H:Y,i&=~($?Y:H),i&D||(i&=~(A|S));var Re=[e,i,d,_e,te,we,fe,C,L,j],ke=o.apply(r,Re);return Ls(e)&&pa(ke,Re),ke.placeholder=f,va(ke,e,i)}function Ss(e){var i=wt[e];return function(o,f){if(o=sn(o),f=f==null?0:Dt(De(f),292),f&&vu(o)){var d=(Ze(o)+"e").split("e"),y=i(d[0]+"e"+(+d[1]+f));return d=(Ze(y)+"e").split("e"),+(d[0]+"e"+(+d[1]-f))}return i(o)}}var y0=Ar&&1/Ei(new Ar([,-0]))[1]==ee?function(e){return new Ar(e)}:Js;function sa(e){return function(i){var o=Rt(i);return o==Ie?is(i):o==bt?Pg(i):Sg(i,e(i))}}function Rn(e,i,o,f,d,y,M,C){var L=i&S;if(!L&&typeof e!="function")throw new en(u);var j=f?f.length:0;if(j||(i&=~(H|Y),f=d=r),M=M===r?M:kt(De(M),0),C=C===r?C:De(C),j-=d?d.length:0,i&Y){var $=f,te=d;f=d=r}var fe=L?r:Rs(e),_e=[e,i,o,f,d,$,te,y,M,C];if(fe&&x0(_e,fe),e=_e[0],i=_e[1],o=_e[2],f=_e[3],d=_e[4],C=_e[9]=_e[9]===r?L?0:e.length:kt(_e[9]-j,0),!C&&i&(O|E)&&(i&=~(O|E)),!i||i==A)var we=_0(e,i,o);else i==O||i==E?we=p0(e,i,C):(i==H||i==(A|H))&&!d.length?we=v0(e,i,o,f):we=Zi.apply(r,_e);var Re=fe?Bu:pa;return va(Re(we,_e),e,i)}function oa(e,i,o,f){return e===r||gn(e,Tr[o])&&!Je.call(f,o)?i:e}function ua(e,i,o,f,d,y){return ft(e)&&ft(i)&&(y.set(i,e),Yi(e,i,r,ua,y),y.delete(i)),e}function b0(e){return li(e)?r:e}function aa(e,i,o,f,d,y){var M=o&b,C=e.length,L=i.length;if(C!=L&&!(M&&L>C))return!1;var j=y.get(e),$=y.get(i);if(j&&$)return j==i&&$==e;var te=-1,fe=!0,_e=o&w?new ir:r;for(y.set(e,i),y.set(i,e);++te<C;){var we=e[te],Re=i[te];if(f)var ke=M?f(Re,we,te,i,e,y):f(we,Re,te,e,i,y);if(ke!==r){if(ke)continue;fe=!1;break}if(_e){if(!jl(i,function(We,ze){if(!Gr(_e,ze)&&(we===We||d(we,We,o,f,y)))return _e.push(ze)})){fe=!1;break}}else if(!(we===Re||d(we,Re,o,f,y))){fe=!1;break}}return y.delete(e),y.delete(i),fe}function w0(e,i,o,f,d,y,M){switch(o){case Wn:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case er:return!(e.byteLength!=i.byteLength||!y(new Oi(e),new Oi(i)));case vt:case oe:case $e:return gn(+e,+i);case Te:return e.name==i.name&&e.message==i.message;case vn:case fn:return e==i+"";case Ie:var C=is;case bt:var L=f&b;if(C||(C=Ei),e.size!=i.size&&!L)return!1;var j=M.get(e);if(j)return j==i;f|=w,M.set(e,i);var $=aa(C(e),C(i),f,d,y,M);return M.delete(e),$;case Ae:if(Jr)return Jr.call(e)==Jr.call(i)}return!1}function k0(e,i,o,f,d,y){var M=o&b,C=Cs(e),L=C.length,j=Cs(i),$=j.length;if(L!=$&&!M)return!1;for(var te=L;te--;){var fe=C[te];if(!(M?fe in i:Je.call(i,fe)))return!1}var _e=y.get(e),we=y.get(i);if(_e&&we)return _e==i&&we==e;var Re=!0;y.set(e,i),y.set(i,e);for(var ke=M;++te<L;){fe=C[te];var We=e[fe],ze=i[fe];if(f)var Xt=M?f(ze,We,fe,i,e,y):f(We,ze,fe,e,i,y);if(!(Xt===r?We===ze||d(We,ze,o,f,y):Xt)){Re=!1;break}ke||(ke=fe=="constructor")}if(Re&&!ke){var Ut=e.constructor,Jt=i.constructor;Ut!=Jt&&"constructor"in e&&"constructor"in i&&!(typeof Ut=="function"&&Ut instanceof Ut&&typeof Jt=="function"&&Jt instanceof Jt)&&(Re=!1)}return y.delete(e),y.delete(i),Re}function On(e){return Us(ma(e,r,Aa),e+"")}function Cs(e){return Cu(e,At,Ns)}function Ds(e){return Cu(e,Bt,fa)}var Rs=Fi?function(e){return Fi.get(e)}:Js;function ji(e){for(var i=e.name+"",o=Mr[i],f=Je.call(Mr,i)?o.length:0;f--;){var d=o[f],y=d.func;if(y==null||y==e)return d.name}return i}function Cr(e){var i=Je.call(_,"placeholder")?_:e;return i.placeholder}function ye(){var e=_.iteratee||Zs;return e=e===Zs?Ou:e,arguments.length?e(arguments[0],arguments[1]):e}function $i(e,i){var o=e.__data__;return D0(i)?o[typeof i=="string"?"string":"hash"]:o.map}function Os(e){for(var i=At(e),o=i.length;o--;){var f=i[o],d=e[f];i[o]=[f,d,ga(d)]}return i}function or(e,i){var o=Ng(e,i);return Ru(o)?o:r}function T0(e){var i=Je.call(e,nr),o=e[nr];try{e[nr]=r;var f=!0}catch{}var d=Di.call(e);return f&&(i?e[nr]=o:delete e[nr]),d}var Ns=ss?function(e){return e==null?[]:(e=et(e),Bn(ss(e),function(i){return _u.call(e,i)}))}:Qs,fa=ss?function(e){for(var i=[];e;)Hn(i,Ns(e)),e=Ni(e);return i}:Qs,Rt=Lt;(os&&Rt(new os(new ArrayBuffer(1)))!=Wn||Kr&&Rt(new Kr)!=Ie||us&&Rt(us.resolve())!=Yt||Ar&&Rt(new Ar)!=bt||Zr&&Rt(new Zr)!=$n)&&(Rt=function(e){var i=Lt(e),o=i==ut?e.constructor:r,f=o?ur(o):"";if(f)switch(f){case ld:return Wn;case sd:return Ie;case od:return Yt;case ud:return bt;case ad:return $n}return i});function A0(e,i,o){for(var f=-1,d=o.length;++f<d;){var y=o[f],M=y.size;switch(y.type){case"drop":e+=M;break;case"dropRight":i-=M;break;case"take":i=Dt(i,e+M);break;case"takeRight":e=kt(e,i-M);break}}return{start:e,end:i}}function M0(e){var i=e.match(Rh);return i?i[1].split(Oh):[]}function ca(e,i,o){i=Vn(i,e);for(var f=-1,d=i.length,y=!1;++f<d;){var M=kn(i[f]);if(!(y=e!=null&&o(e,M)))break;e=e[M]}return y||++f!=d?y:(d=e==null?0:e.length,!!d&&sl(d)&&Nn(M,d)&&(Ce(e)||ar(e)))}function E0(e){var i=e.length,o=new e.constructor(i);return i&&typeof e[0]=="string"&&Je.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function ha(e){return typeof e.constructor=="function"&&!ri(e)?Er(Ni(e)):{}}function I0(e,i,o){var f=e.constructor;switch(i){case er:return Es(e);case vt:case oe:return new f(+e);case Wn:return f0(e,o);case zr:case Yr:case he:case xt:case yn:case Ul:case Fl:case Wl:case Bl:return Zu(e,o);case Ie:return new f;case $e:case fn:return new f(e);case vn:return c0(e);case bt:return new f;case Ae:return h0(e)}}function S0(e,i){var o=i.length;if(!o)return e;var f=o-1;return i[f]=(o>1?"& ":"")+i[f],i=i.join(o>2?", ":" "),e.replace(Dh,`{
/* [wrapped with `+i+`] */
`)}function C0(e){return Ce(e)||ar(e)||!!(pu&&e&&e[pu])}function Nn(e,i){var o=typeof e;return i=i??ie,!!i&&(o=="number"||o!="symbol"&&Hh.test(e))&&e>-1&&e%1==0&&e<i}function Pt(e,i,o){if(!ft(o))return!1;var f=typeof i;return(f=="number"?Wt(o)&&Nn(i,o.length):f=="string"&&i in o)?gn(o[i],e):!1}function xs(e,i){if(Ce(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||Zt(e)?!0:Eh.test(e)||!Mh.test(e)||i!=null&&e in et(i)}function D0(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}function Ls(e){var i=ji(e),o=_[i];if(typeof o!="function"||!(i in He.prototype))return!1;if(e===o)return!0;var f=Rs(o);return!!f&&e===f[0]}function R0(e){return!!gu&&gu in e}var O0=Si?xn:js;function ri(e){var i=e&&e.constructor,o=typeof i=="function"&&i.prototype||Tr;return e===o}function ga(e){return e===e&&!ft(e)}function da(e,i){return function(o){return o==null?!1:o[e]===i&&(i!==r||e in et(o))}}function N0(e){var i=il(e,function(f){return o.size===g&&o.clear(),f}),o=i.cache;return i}function x0(e,i){var o=e[1],f=i[1],d=o|f,y=d<(A|S|J),M=f==J&&o==O||f==J&&o==G&&e[7].length<=i[8]||f==(J|G)&&i[7].length<=i[8]&&o==O;if(!(y||M))return e;f&A&&(e[2]=i[2],d|=o&A?0:D);var C=i[3];if(C){var L=e[3];e[3]=L?Ju(L,C,i[4]):C,e[4]=L?qn(e[3],m):i[4]}return C=i[5],C&&(L=e[5],e[5]=L?Qu(L,C,i[6]):C,e[6]=L?qn(e[5],m):i[6]),C=i[7],C&&(e[7]=C),f&J&&(e[8]=e[8]==null?i[8]:Dt(e[8],i[8])),e[9]==null&&(e[9]=i[9]),e[0]=i[0],e[1]=d,e}function L0(e){var i=[];if(e!=null)for(var o in et(e))i.push(o);return i}function P0(e){return Di.call(e)}function ma(e,i,o){return i=kt(i===r?e.length-1:i,0),function(){for(var f=arguments,d=-1,y=kt(f.length-i,0),M=q(y);++d<y;)M[d]=f[i+d];d=-1;for(var C=q(i+1);++d<i;)C[d]=f[d];return C[i]=o(M),Gt(e,this,C)}}function _a(e,i){return i.length<2?e:sr(e,rn(i,0,-1))}function U0(e,i){for(var o=e.length,f=Dt(i.length,o),d=Ft(e);f--;){var y=i[f];e[f]=Nn(y,o)?d[y]:r}return e}function Ps(e,i){if(!(i==="constructor"&&typeof e[i]=="function")&&i!="__proto__")return e[i]}var pa=ya(Bu),ii=jg||function(e,i){return It.setTimeout(e,i)},Us=ya(s0);function va(e,i,o){var f=i+"";return Us(e,S0(f,F0(M0(f),o)))}function ya(e){var i=0,o=0;return function(){var f=nd(),d=F-(f-o);if(o=f,d>0){if(++i>=B)return arguments[0]}else i=0;return e.apply(r,arguments)}}function el(e,i){var o=-1,f=e.length,d=f-1;for(i=i===r?f:i;++o<i;){var y=ys(o,d),M=e[y];e[y]=e[o],e[o]=M}return e.length=i,e}var ba=N0(function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(Ih,function(o,f,d,y){i.push(d?y.replace(Lh,"$1"):f||o)}),i});function kn(e){if(typeof e=="string"||Zt(e))return e;var i=e+"";return i=="0"&&1/e==-ee?"-0":i}function ur(e){if(e!=null){try{return Ci.call(e)}catch{}try{return e+""}catch{}}return""}function F0(e,i){return $t(ot,function(o){var f="_."+o[0];i&o[1]&&!Ai(e,f)&&e.push(f)}),e.sort()}function wa(e){if(e instanceof He)return e.clone();var i=new tn(e.__wrapped__,e.__chain__);return i.__actions__=Ft(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}function W0(e,i,o){(o?Pt(e,i,o):i===r)?i=1:i=kt(De(i),0);var f=e==null?0:e.length;if(!f||i<1)return[];for(var d=0,y=0,M=q(Pi(f/i));d<f;)M[y++]=rn(e,d,d+=i);return M}function B0(e){for(var i=-1,o=e==null?0:e.length,f=0,d=[];++i<o;){var y=e[i];y&&(d[f++]=y)}return d}function H0(){var e=arguments.length;if(!e)return[];for(var i=q(e-1),o=arguments[0],f=e;f--;)i[f-1]=arguments[f];return Hn(Ce(o)?Ft(o):[o],St(i,1))}var q0=xe(function(e,i){return mt(e)?jr(e,St(i,1,mt,!0)):[]}),z0=xe(function(e,i){var o=ln(i);return mt(o)&&(o=r),mt(e)?jr(e,St(i,1,mt,!0),ye(o,2)):[]}),Y0=xe(function(e,i){var o=ln(i);return mt(o)&&(o=r),mt(e)?jr(e,St(i,1,mt,!0),r,o):[]});function G0(e,i,o){var f=e==null?0:e.length;return f?(i=o||i===r?1:De(i),rn(e,i<0?0:i,f)):[]}function V0(e,i,o){var f=e==null?0:e.length;return f?(i=o||i===r?1:De(i),i=f-i,rn(e,0,i<0?0:i)):[]}function K0(e,i){return e&&e.length?Vi(e,ye(i,3),!0,!0):[]}function Z0(e,i){return e&&e.length?Vi(e,ye(i,3),!0):[]}function X0(e,i,o,f){var d=e==null?0:e.length;return d?(o&&typeof o!="number"&&Pt(e,i,o)&&(o=0,f=d),Hd(e,i,o,f)):[]}function ka(e,i,o){var f=e==null?0:e.length;if(!f)return-1;var d=o==null?0:De(o);return d<0&&(d=kt(f+d,0)),Mi(e,ye(i,3),d)}function Ta(e,i,o){var f=e==null?0:e.length;if(!f)return-1;var d=f-1;return o!==r&&(d=De(o),d=o<0?kt(f+d,0):Dt(d,f-1)),Mi(e,ye(i,3),d,!0)}function Aa(e){var i=e==null?0:e.length;return i?St(e,1):[]}function J0(e){var i=e==null?0:e.length;return i?St(e,ee):[]}function Q0(e,i){var o=e==null?0:e.length;return o?(i=i===r?1:De(i),St(e,i)):[]}function j0(e){for(var i=-1,o=e==null?0:e.length,f={};++i<o;){var d=e[i];f[d[0]]=d[1]}return f}function Ma(e){return e&&e.length?e[0]:r}function $0(e,i,o){var f=e==null?0:e.length;if(!f)return-1;var d=o==null?0:De(o);return d<0&&(d=kt(f+d,0)),yr(e,i,d)}function e1(e){var i=e==null?0:e.length;return i?rn(e,0,-1):[]}var t1=xe(function(e){var i=at(e,As);return i.length&&i[0]===e[0]?ds(i):[]}),n1=xe(function(e){var i=ln(e),o=at(e,As);return i===ln(o)?i=r:o.pop(),o.length&&o[0]===e[0]?ds(o,ye(i,2)):[]}),r1=xe(function(e){var i=ln(e),o=at(e,As);return i=typeof i=="function"?i:r,i&&o.pop(),o.length&&o[0]===e[0]?ds(o,r,i):[]});function i1(e,i){return e==null?"":ed.call(e,i)}function ln(e){var i=e==null?0:e.length;return i?e[i-1]:r}function l1(e,i,o){var f=e==null?0:e.length;if(!f)return-1;var d=f;return o!==r&&(d=De(o),d=d<0?kt(f+d,0):Dt(d,f-1)),i===i?Fg(e,i,d):Mi(e,lu,d,!0)}function s1(e,i){return e&&e.length?Pu(e,De(i)):r}var o1=xe(Ea);function Ea(e,i){return e&&e.length&&i&&i.length?vs(e,i):e}function u1(e,i,o){return e&&e.length&&i&&i.length?vs(e,i,ye(o,2)):e}function a1(e,i,o){return e&&e.length&&i&&i.length?vs(e,i,r,o):e}var f1=On(function(e,i){var o=e==null?0:e.length,f=fs(e,i);return Wu(e,at(i,function(d){return Nn(d,o)?+d:d}).sort(Xu)),f});function c1(e,i){var o=[];if(!(e&&e.length))return o;var f=-1,d=[],y=e.length;for(i=ye(i,3);++f<y;){var M=e[f];i(M,f,e)&&(o.push(M),d.push(f))}return Wu(e,d),o}function Fs(e){return e==null?e:id.call(e)}function h1(e,i,o){var f=e==null?0:e.length;return f?(o&&typeof o!="number"&&Pt(e,i,o)?(i=0,o=f):(i=i==null?0:De(i),o=o===r?f:De(o)),rn(e,i,o)):[]}function g1(e,i){return Gi(e,i)}function d1(e,i,o){return ws(e,i,ye(o,2))}function m1(e,i){var o=e==null?0:e.length;if(o){var f=Gi(e,i);if(f<o&&gn(e[f],i))return f}return-1}function _1(e,i){return Gi(e,i,!0)}function p1(e,i,o){return ws(e,i,ye(o,2),!0)}function v1(e,i){var o=e==null?0:e.length;if(o){var f=Gi(e,i,!0)-1;if(gn(e[f],i))return f}return-1}function y1(e){return e&&e.length?Hu(e):[]}function b1(e,i){return e&&e.length?Hu(e,ye(i,2)):[]}function w1(e){var i=e==null?0:e.length;return i?rn(e,1,i):[]}function k1(e,i,o){return e&&e.length?(i=o||i===r?1:De(i),rn(e,0,i<0?0:i)):[]}function T1(e,i,o){var f=e==null?0:e.length;return f?(i=o||i===r?1:De(i),i=f-i,rn(e,i<0?0:i,f)):[]}function A1(e,i){return e&&e.length?Vi(e,ye(i,3),!1,!0):[]}function M1(e,i){return e&&e.length?Vi(e,ye(i,3)):[]}var E1=xe(function(e){return Gn(St(e,1,mt,!0))}),I1=xe(function(e){var i=ln(e);return mt(i)&&(i=r),Gn(St(e,1,mt,!0),ye(i,2))}),S1=xe(function(e){var i=ln(e);return i=typeof i=="function"?i:r,Gn(St(e,1,mt,!0),r,i)});function C1(e){return e&&e.length?Gn(e):[]}function D1(e,i){return e&&e.length?Gn(e,ye(i,2)):[]}function R1(e,i){return i=typeof i=="function"?i:r,e&&e.length?Gn(e,r,i):[]}function Ws(e){if(!(e&&e.length))return[];var i=0;return e=Bn(e,function(o){if(mt(o))return i=kt(o.length,i),!0}),ns(i,function(o){return at(e,$l(o))})}function Ia(e,i){if(!(e&&e.length))return[];var o=Ws(e);return i==null?o:at(o,function(f){return Gt(i,r,f)})}var O1=xe(function(e,i){return mt(e)?jr(e,i):[]}),N1=xe(function(e){return Ts(Bn(e,mt))}),x1=xe(function(e){var i=ln(e);return mt(i)&&(i=r),Ts(Bn(e,mt),ye(i,2))}),L1=xe(function(e){var i=ln(e);return i=typeof i=="function"?i:r,Ts(Bn(e,mt),r,i)}),P1=xe(Ws);function U1(e,i){return Gu(e||[],i||[],Qr)}function F1(e,i){return Gu(e||[],i||[],ti)}var W1=xe(function(e){var i=e.length,o=i>1?e[i-1]:r;return o=typeof o=="function"?(e.pop(),o):r,Ia(e,o)});function Sa(e){var i=_(e);return i.__chain__=!0,i}function B1(e,i){return i(e),e}function tl(e,i){return i(e)}var H1=On(function(e){var i=e.length,o=i?e[0]:0,f=this.__wrapped__,d=function(y){return fs(y,e)};return i>1||this.__actions__.length||!(f instanceof He)||!Nn(o)?this.thru(d):(f=f.slice(o,+o+(i?1:0)),f.__actions__.push({func:tl,args:[d],thisArg:r}),new tn(f,this.__chain__).thru(function(y){return i&&!y.length&&y.push(r),y}))});function q1(){return Sa(this)}function z1(){return new tn(this.value(),this.__chain__)}function Y1(){this.__values__===r&&(this.__values__=qa(this.value()));var e=this.__index__>=this.__values__.length,i=e?r:this.__values__[this.__index__++];return{done:e,value:i}}function G1(){return this}function V1(e){for(var i,o=this;o instanceof Bi;){var f=wa(o);f.__index__=0,f.__values__=r,i?d.__wrapped__=f:i=f;var d=f;o=o.__wrapped__}return d.__wrapped__=e,i}function K1(){var e=this.__wrapped__;if(e instanceof He){var i=e;return this.__actions__.length&&(i=new He(this)),i=i.reverse(),i.__actions__.push({func:tl,args:[Fs],thisArg:r}),new tn(i,this.__chain__)}return this.thru(Fs)}function Z1(){return Yu(this.__wrapped__,this.__actions__)}var X1=Ki(function(e,i,o){Je.call(e,o)?++e[o]:Dn(e,o,1)});function J1(e,i,o){var f=Ce(e)?ru:Bd;return o&&Pt(e,i,o)&&(i=r),f(e,ye(i,3))}function Q1(e,i){var o=Ce(e)?Bn:Iu;return o(e,ye(i,3))}var j1=ta(ka),$1=ta(Ta);function em(e,i){return St(nl(e,i),1)}function tm(e,i){return St(nl(e,i),ee)}function nm(e,i,o){return o=o===r?1:De(o),St(nl(e,i),o)}function Ca(e,i){var o=Ce(e)?$t:Yn;return o(e,ye(i,3))}function Da(e,i){var o=Ce(e)?wg:Eu;return o(e,ye(i,3))}var rm=Ki(function(e,i,o){Je.call(e,o)?e[o].push(i):Dn(e,o,[i])});function im(e,i,o,f){e=Wt(e)?e:Rr(e),o=o&&!f?De(o):0;var d=e.length;return o<0&&(o=kt(d+o,0)),ol(e)?o<=d&&e.indexOf(i,o)>-1:!!d&&yr(e,i,o)>-1}var lm=xe(function(e,i,o){var f=-1,d=typeof i=="function",y=Wt(e)?q(e.length):[];return Yn(e,function(M){y[++f]=d?Gt(i,M,o):$r(M,i,o)}),y}),sm=Ki(function(e,i,o){Dn(e,o,i)});function nl(e,i){var o=Ce(e)?at:Nu;return o(e,ye(i,3))}function om(e,i,o,f){return e==null?[]:(Ce(i)||(i=i==null?[]:[i]),o=f?r:o,Ce(o)||(o=o==null?[]:[o]),Uu(e,i,o))}var um=Ki(function(e,i,o){e[o?0:1].push(i)},function(){return[[],[]]});function am(e,i,o){var f=Ce(e)?Ql:ou,d=arguments.length<3;return f(e,ye(i,4),o,d,Yn)}function fm(e,i,o){var f=Ce(e)?kg:ou,d=arguments.length<3;return f(e,ye(i,4),o,d,Eu)}function cm(e,i){var o=Ce(e)?Bn:Iu;return o(e,ll(ye(i,3)))}function hm(e){var i=Ce(e)?ku:i0;return i(e)}function gm(e,i,o){(o?Pt(e,i,o):i===r)?i=1:i=De(i);var f=Ce(e)?Ld:l0;return f(e,i)}function dm(e){var i=Ce(e)?Pd:o0;return i(e)}function mm(e){if(e==null)return 0;if(Wt(e))return ol(e)?wr(e):e.length;var i=Rt(e);return i==Ie||i==bt?e.size:_s(e).length}function _m(e,i,o){var f=Ce(e)?jl:u0;return o&&Pt(e,i,o)&&(i=r),f(e,ye(i,3))}var pm=xe(function(e,i){if(e==null)return[];var o=i.length;return o>1&&Pt(e,i[0],i[1])?i=[]:o>2&&Pt(i[0],i[1],i[2])&&(i=[i[0]]),Uu(e,St(i,1),[])}),rl=Qg||function(){return It.Date.now()};function vm(e,i){if(typeof i!="function")throw new en(u);return e=De(e),function(){if(--e<1)return i.apply(this,arguments)}}function Ra(e,i,o){return i=o?r:i,i=e&&i==null?e.length:i,Rn(e,J,r,r,r,r,i)}function Oa(e,i){var o;if(typeof i!="function")throw new en(u);return e=De(e),function(){return--e>0&&(o=i.apply(this,arguments)),e<=1&&(i=r),o}}var Bs=xe(function(e,i,o){var f=A;if(o.length){var d=qn(o,Cr(Bs));f|=H}return Rn(e,f,i,o,d)}),Na=xe(function(e,i,o){var f=A|S;if(o.length){var d=qn(o,Cr(Na));f|=H}return Rn(i,f,e,o,d)});function xa(e,i,o){i=o?r:i;var f=Rn(e,O,r,r,r,r,r,i);return f.placeholder=xa.placeholder,f}function La(e,i,o){i=o?r:i;var f=Rn(e,E,r,r,r,r,r,i);return f.placeholder=La.placeholder,f}function Pa(e,i,o){var f,d,y,M,C,L,j=0,$=!1,te=!1,fe=!0;if(typeof e!="function")throw new en(u);i=sn(i)||0,ft(o)&&($=!!o.leading,te="maxWait"in o,y=te?kt(sn(o.maxWait)||0,i):y,fe="trailing"in o?!!o.trailing:fe);function _e(_t){var dn=f,Pn=d;return f=d=r,j=_t,M=e.apply(Pn,dn),M}function we(_t){return j=_t,C=ii(We,i),$?_e(_t):M}function Re(_t){var dn=_t-L,Pn=_t-j,tf=i-dn;return te?Dt(tf,y-Pn):tf}function ke(_t){var dn=_t-L,Pn=_t-j;return L===r||dn>=i||dn<0||te&&Pn>=y}function We(){var _t=rl();if(ke(_t))return ze(_t);C=ii(We,Re(_t))}function ze(_t){return C=r,fe&&f?_e(_t):(f=d=r,M)}function Xt(){C!==r&&Vu(C),j=0,f=L=d=C=r}function Ut(){return C===r?M:ze(rl())}function Jt(){var _t=rl(),dn=ke(_t);if(f=arguments,d=this,L=_t,dn){if(C===r)return we(L);if(te)return Vu(C),C=ii(We,i),_e(L)}return C===r&&(C=ii(We,i)),M}return Jt.cancel=Xt,Jt.flush=Ut,Jt}var ym=xe(function(e,i){return Mu(e,1,i)}),bm=xe(function(e,i,o){return Mu(e,sn(i)||0,o)});function wm(e){return Rn(e,P)}function il(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new en(u);var o=function(){var f=arguments,d=i?i.apply(this,f):f[0],y=o.cache;if(y.has(d))return y.get(d);var M=e.apply(this,f);return o.cache=y.set(d,M)||y,M};return o.cache=new(il.Cache||Cn),o}il.Cache=Cn;function ll(e){if(typeof e!="function")throw new en(u);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}function km(e){return Oa(2,e)}var Tm=a0(function(e,i){i=i.length==1&&Ce(i[0])?at(i[0],Vt(ye())):at(St(i,1),Vt(ye()));var o=i.length;return xe(function(f){for(var d=-1,y=Dt(f.length,o);++d<y;)f[d]=i[d].call(this,f[d]);return Gt(e,this,f)})}),Hs=xe(function(e,i){var o=qn(i,Cr(Hs));return Rn(e,H,r,i,o)}),Ua=xe(function(e,i){var o=qn(i,Cr(Ua));return Rn(e,Y,r,i,o)}),Am=On(function(e,i){return Rn(e,G,r,r,r,i)});function Mm(e,i){if(typeof e!="function")throw new en(u);return i=i===r?i:De(i),xe(e,i)}function Em(e,i){if(typeof e!="function")throw new en(u);return i=i==null?0:kt(De(i),0),xe(function(o){var f=o[i],d=Kn(o,0,i);return f&&Hn(d,f),Gt(e,this,d)})}function Im(e,i,o){var f=!0,d=!0;if(typeof e!="function")throw new en(u);return ft(o)&&(f="leading"in o?!!o.leading:f,d="trailing"in o?!!o.trailing:d),Pa(e,i,{leading:f,maxWait:i,trailing:d})}function Sm(e){return Ra(e,1)}function Cm(e,i){return Hs(Ms(i),e)}function Dm(){if(!arguments.length)return[];var e=arguments[0];return Ce(e)?e:[e]}function Rm(e){return nn(e,T)}function Om(e,i){return i=typeof i=="function"?i:r,nn(e,T,i)}function Nm(e){return nn(e,v|T)}function xm(e,i){return i=typeof i=="function"?i:r,nn(e,v|T,i)}function Lm(e,i){return i==null||Au(e,i,At(i))}function gn(e,i){return e===i||e!==e&&i!==i}var Pm=Qi(gs),Um=Qi(function(e,i){return e>=i}),ar=Du(function(){return arguments}())?Du:function(e){return dt(e)&&Je.call(e,"callee")&&!_u.call(e,"callee")},Ce=q.isArray,Fm=Qo?Vt(Qo):Vd;function Wt(e){return e!=null&&sl(e.length)&&!xn(e)}function mt(e){return dt(e)&&Wt(e)}function Wm(e){return e===!0||e===!1||dt(e)&&Lt(e)==vt}var Zn=$g||js,Bm=jo?Vt(jo):Kd;function Hm(e){return dt(e)&&e.nodeType===1&&!li(e)}function qm(e){if(e==null)return!0;if(Wt(e)&&(Ce(e)||typeof e=="string"||typeof e.splice=="function"||Zn(e)||Dr(e)||ar(e)))return!e.length;var i=Rt(e);if(i==Ie||i==bt)return!e.size;if(ri(e))return!_s(e).length;for(var o in e)if(Je.call(e,o))return!1;return!0}function zm(e,i){return ei(e,i)}function Ym(e,i,o){o=typeof o=="function"?o:r;var f=o?o(e,i):r;return f===r?ei(e,i,r,o):!!f}function qs(e){if(!dt(e))return!1;var i=Lt(e);return i==Te||i==ve||typeof e.message=="string"&&typeof e.name=="string"&&!li(e)}function Gm(e){return typeof e=="number"&&vu(e)}function xn(e){if(!ft(e))return!1;var i=Lt(e);return i==ne||i==lt||i==yt||i==In}function Fa(e){return typeof e=="number"&&e==De(e)}function sl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ie}function ft(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function dt(e){return e!=null&&typeof e=="object"}var Wa=$o?Vt($o):Xd;function Vm(e,i){return e===i||ms(e,i,Os(i))}function Km(e,i,o){return o=typeof o=="function"?o:r,ms(e,i,Os(i),o)}function Zm(e){return Ba(e)&&e!=+e}function Xm(e){if(O0(e))throw new Se(a);return Ru(e)}function Jm(e){return e===null}function Qm(e){return e==null}function Ba(e){return typeof e=="number"||dt(e)&&Lt(e)==$e}function li(e){if(!dt(e)||Lt(e)!=ut)return!1;var i=Ni(e);if(i===null)return!0;var o=Je.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&Ci.call(o)==Kg}var zs=eu?Vt(eu):Jd;function jm(e){return Fa(e)&&e>=-ie&&e<=ie}var Ha=tu?Vt(tu):Qd;function ol(e){return typeof e=="string"||!Ce(e)&&dt(e)&&Lt(e)==fn}function Zt(e){return typeof e=="symbol"||dt(e)&&Lt(e)==Ae}var Dr=nu?Vt(nu):jd;function $m(e){return e===r}function e_(e){return dt(e)&&Rt(e)==$n}function t_(e){return dt(e)&&Lt(e)==Pl}var n_=Qi(ps),r_=Qi(function(e,i){return e<=i});function qa(e){if(!e)return[];if(Wt(e))return ol(e)?cn(e):Ft(e);if(Vr&&e[Vr])return Lg(e[Vr]());var i=Rt(e),o=i==Ie?is:i==bt?Ei:Rr;return o(e)}function Ln(e){if(!e)return e===0?e:0;if(e=sn(e),e===ee||e===-ee){var i=e<0?-1:1;return i*be}return e===e?e:0}function De(e){var i=Ln(e),o=i%1;return i===i?o?i-o:i:0}function za(e){return e?lr(De(e),0,Ee):0}function sn(e){if(typeof e=="number")return e;if(Zt(e))return pe;if(ft(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=ft(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=uu(e);var o=Fh.test(e);return o||Bh.test(e)?vg(e.slice(2),o?2:8):Uh.test(e)?pe:+e}function Ya(e){return wn(e,Bt(e))}function i_(e){return e?lr(De(e),-ie,ie):e===0?e:0}function Ze(e){return e==null?"":Kt(e)}var l_=Ir(function(e,i){if(ri(i)||Wt(i)){wn(i,At(i),e);return}for(var o in i)Je.call(i,o)&&Qr(e,o,i[o])}),Ga=Ir(function(e,i){wn(i,Bt(i),e)}),ul=Ir(function(e,i,o,f){wn(i,Bt(i),e,f)}),s_=Ir(function(e,i,o,f){wn(i,At(i),e,f)}),o_=On(fs);function u_(e,i){var o=Er(e);return i==null?o:Tu(o,i)}var a_=xe(function(e,i){e=et(e);var o=-1,f=i.length,d=f>2?i[2]:r;for(d&&Pt(i[0],i[1],d)&&(f=1);++o<f;)for(var y=i[o],M=Bt(y),C=-1,L=M.length;++C<L;){var j=M[C],$=e[j];($===r||gn($,Tr[j])&&!Je.call(e,j))&&(e[j]=y[j])}return e}),f_=xe(function(e){return e.push(r,ua),Gt(Va,r,e)});function c_(e,i){return iu(e,ye(i,3),bn)}function h_(e,i){return iu(e,ye(i,3),hs)}function g_(e,i){return e==null?e:cs(e,ye(i,3),Bt)}function d_(e,i){return e==null?e:Su(e,ye(i,3),Bt)}function m_(e,i){return e&&bn(e,ye(i,3))}function __(e,i){return e&&hs(e,ye(i,3))}function p_(e){return e==null?[]:zi(e,At(e))}function v_(e){return e==null?[]:zi(e,Bt(e))}function Ys(e,i,o){var f=e==null?r:sr(e,i);return f===r?o:f}function y_(e,i){return e!=null&&ca(e,i,qd)}function Gs(e,i){return e!=null&&ca(e,i,zd)}var b_=ra(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=Di.call(i)),e[i]=o},Ks(Ht)),w_=ra(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=Di.call(i)),Je.call(e,i)?e[i].push(o):e[i]=[o]},ye),k_=xe($r);function At(e){return Wt(e)?wu(e):_s(e)}function Bt(e){return Wt(e)?wu(e,!0):$d(e)}function T_(e,i){var o={};return i=ye(i,3),bn(e,function(f,d,y){Dn(o,i(f,d,y),f)}),o}function A_(e,i){var o={};return i=ye(i,3),bn(e,function(f,d,y){Dn(o,d,i(f,d,y))}),o}var M_=Ir(function(e,i,o){Yi(e,i,o)}),Va=Ir(function(e,i,o,f){Yi(e,i,o,f)}),E_=On(function(e,i){var o={};if(e==null)return o;var f=!1;i=at(i,function(y){return y=Vn(y,e),f||(f=y.length>1),y}),wn(e,Ds(e),o),f&&(o=nn(o,v|p|T,b0));for(var d=i.length;d--;)ks(o,i[d]);return o});function I_(e,i){return Ka(e,ll(ye(i)))}var S_=On(function(e,i){return e==null?{}:t0(e,i)});function Ka(e,i){if(e==null)return{};var o=at(Ds(e),function(f){return[f]});return i=ye(i),Fu(e,o,function(f,d){return i(f,d[0])})}function C_(e,i,o){i=Vn(i,e);var f=-1,d=i.length;for(d||(d=1,e=r);++f<d;){var y=e==null?r:e[kn(i[f])];y===r&&(f=d,y=o),e=xn(y)?y.call(e):y}return e}function D_(e,i,o){return e==null?e:ti(e,i,o)}function R_(e,i,o,f){return f=typeof f=="function"?f:r,e==null?e:ti(e,i,o,f)}var Za=sa(At),Xa=sa(Bt);function O_(e,i,o){var f=Ce(e),d=f||Zn(e)||Dr(e);if(i=ye(i,4),o==null){var y=e&&e.constructor;d?o=f?new y:[]:ft(e)?o=xn(y)?Er(Ni(e)):{}:o={}}return(d?$t:bn)(e,function(M,C,L){return i(o,M,C,L)}),o}function N_(e,i){return e==null?!0:ks(e,i)}function x_(e,i,o){return e==null?e:zu(e,i,Ms(o))}function L_(e,i,o,f){return f=typeof f=="function"?f:r,e==null?e:zu(e,i,Ms(o),f)}function Rr(e){return e==null?[]:rs(e,At(e))}function P_(e){return e==null?[]:rs(e,Bt(e))}function U_(e,i,o){return o===r&&(o=i,i=r),o!==r&&(o=sn(o),o=o===o?o:0),i!==r&&(i=sn(i),i=i===i?i:0),lr(sn(e),i,o)}function F_(e,i,o){return i=Ln(i),o===r?(o=i,i=0):o=Ln(o),e=sn(e),Yd(e,i,o)}function W_(e,i,o){if(o&&typeof o!="boolean"&&Pt(e,i,o)&&(i=o=r),o===r&&(typeof i=="boolean"?(o=i,i=r):typeof e=="boolean"&&(o=e,e=r)),e===r&&i===r?(e=0,i=1):(e=Ln(e),i===r?(i=e,e=0):i=Ln(i)),e>i){var f=e;e=i,i=f}if(o||e%1||i%1){var d=yu();return Dt(e+d*(i-e+pg("1e-"+((d+"").length-1))),i)}return ys(e,i)}var B_=Sr(function(e,i,o){return i=i.toLowerCase(),e+(o?Ja(i):i)});function Ja(e){return Vs(Ze(e).toLowerCase())}function Qa(e){return e=Ze(e),e&&e.replace(qh,Dg).replace(og,"")}function H_(e,i,o){e=Ze(e),i=Kt(i);var f=e.length;o=o===r?f:lr(De(o),0,f);var d=o;return o-=i.length,o>=0&&e.slice(o,d)==i}function q_(e){return e=Ze(e),e&&kh.test(e)?e.replace(So,Rg):e}function z_(e){return e=Ze(e),e&&Sh.test(e)?e.replace(Hl,"\\$&"):e}var Y_=Sr(function(e,i,o){return e+(o?"-":"")+i.toLowerCase()}),G_=Sr(function(e,i,o){return e+(o?" ":"")+i.toLowerCase()}),V_=ea("toLowerCase");function K_(e,i,o){e=Ze(e),i=De(i);var f=i?wr(e):0;if(!i||f>=i)return e;var d=(i-f)/2;return Ji(Ui(d),o)+e+Ji(Pi(d),o)}function Z_(e,i,o){e=Ze(e),i=De(i);var f=i?wr(e):0;return i&&f<i?e+Ji(i-f,o):e}function X_(e,i,o){e=Ze(e),i=De(i);var f=i?wr(e):0;return i&&f<i?Ji(i-f,o)+e:e}function J_(e,i,o){return o||i==null?i=0:i&&(i=+i),rd(Ze(e).replace(ql,""),i||0)}function Q_(e,i,o){return(o?Pt(e,i,o):i===r)?i=1:i=De(i),bs(Ze(e),i)}function j_(){var e=arguments,i=Ze(e[0]);return e.length<3?i:i.replace(e[1],e[2])}var $_=Sr(function(e,i,o){return e+(o?"_":"")+i.toLowerCase()});function ep(e,i,o){return o&&typeof o!="number"&&Pt(e,i,o)&&(i=o=r),o=o===r?Ee:o>>>0,o?(e=Ze(e),e&&(typeof i=="string"||i!=null&&!zs(i))&&(i=Kt(i),!i&&br(e))?Kn(cn(e),0,o):e.split(i,o)):[]}var tp=Sr(function(e,i,o){return e+(o?" ":"")+Vs(i)});function np(e,i,o){return e=Ze(e),o=o==null?0:lr(De(o),0,e.length),i=Kt(i),e.slice(o,o+i.length)==i}function rp(e,i,o){var f=_.templateSettings;o&&Pt(e,i,o)&&(i=r),e=Ze(e),i=ul({},i,f,oa);var d=ul({},i.imports,f.imports,oa),y=At(d),M=rs(d,y),C,L,j=0,$=i.interpolate||wi,te="__p += '",fe=ls((i.escape||wi).source+"|"+$.source+"|"+($===Co?Ph:wi).source+"|"+(i.evaluate||wi).source+"|$","g"),_e="//# sourceURL="+(Je.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hg+"]")+`
`;e.replace(fe,function(ke,We,ze,Xt,Ut,Jt){return ze||(ze=Xt),te+=e.slice(j,Jt).replace(zh,Og),We&&(C=!0,te+=`' +
__e(`+We+`) +
'`),Ut&&(L=!0,te+=`';
`+Ut+`;
__p += '`),ze&&(te+=`' +
((__t = (`+ze+`)) == null ? '' : __t) +
'`),j=Jt+ke.length,ke}),te+=`';
`;var we=Je.call(i,"variable")&&i.variable;if(!we)te=`with (obj) {
`+te+`
}
`;else if(xh.test(we))throw new Se(h);te=(L?te.replace(vh,""):te).replace(yh,"$1").replace(bh,"$1;"),te="function("+(we||"obj")+`) {
`+(we?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+te+`return __p
}`;var Re=$a(function(){return Ke(y,_e+"return "+te).apply(r,M)});if(Re.source=te,qs(Re))throw Re;return Re}function ip(e){return Ze(e).toLowerCase()}function lp(e){return Ze(e).toUpperCase()}function sp(e,i,o){if(e=Ze(e),e&&(o||i===r))return uu(e);if(!e||!(i=Kt(i)))return e;var f=cn(e),d=cn(i),y=au(f,d),M=fu(f,d)+1;return Kn(f,y,M).join("")}function op(e,i,o){if(e=Ze(e),e&&(o||i===r))return e.slice(0,hu(e)+1);if(!e||!(i=Kt(i)))return e;var f=cn(e),d=fu(f,cn(i))+1;return Kn(f,0,d).join("")}function up(e,i,o){if(e=Ze(e),e&&(o||i===r))return e.replace(ql,"");if(!e||!(i=Kt(i)))return e;var f=cn(e),d=au(f,cn(i));return Kn(f,d).join("")}function ap(e,i){var o=W,f=R;if(ft(i)){var d="separator"in i?i.separator:d;o="length"in i?De(i.length):o,f="omission"in i?Kt(i.omission):f}e=Ze(e);var y=e.length;if(br(e)){var M=cn(e);y=M.length}if(o>=y)return e;var C=o-wr(f);if(C<1)return f;var L=M?Kn(M,0,C).join(""):e.slice(0,C);if(d===r)return L+f;if(M&&(C+=L.length-C),zs(d)){if(e.slice(C).search(d)){var j,$=L;for(d.global||(d=ls(d.source,Ze(Do.exec(d))+"g")),d.lastIndex=0;j=d.exec($);)var te=j.index;L=L.slice(0,te===r?C:te)}}else if(e.indexOf(Kt(d),C)!=C){var fe=L.lastIndexOf(d);fe>-1&&(L=L.slice(0,fe))}return L+f}function fp(e){return e=Ze(e),e&&wh.test(e)?e.replace(Io,Wg):e}var cp=Sr(function(e,i,o){return e+(o?" ":"")+i.toUpperCase()}),Vs=ea("toUpperCase");function ja(e,i,o){return e=Ze(e),i=o?r:i,i===r?xg(e)?qg(e):Mg(e):e.match(i)||[]}var $a=xe(function(e,i){try{return Gt(e,r,i)}catch(o){return qs(o)?o:new Se(o)}}),hp=On(function(e,i){return $t(i,function(o){o=kn(o),Dn(e,o,Bs(e[o],e))}),e});function gp(e){var i=e==null?0:e.length,o=ye();return e=i?at(e,function(f){if(typeof f[1]!="function")throw new en(u);return[o(f[0]),f[1]]}):[],xe(function(f){for(var d=-1;++d<i;){var y=e[d];if(Gt(y[0],this,f))return Gt(y[1],this,f)}})}function dp(e){return Wd(nn(e,v))}function Ks(e){return function(){return e}}function mp(e,i){return e==null||e!==e?i:e}var _p=na(),pp=na(!0);function Ht(e){return e}function Zs(e){return Ou(typeof e=="function"?e:nn(e,v))}function vp(e){return xu(nn(e,v))}function yp(e,i){return Lu(e,nn(i,v))}var bp=xe(function(e,i){return function(o){return $r(o,e,i)}}),wp=xe(function(e,i){return function(o){return $r(e,o,i)}});function Xs(e,i,o){var f=At(i),d=zi(i,f);o==null&&!(ft(i)&&(d.length||!f.length))&&(o=i,i=e,e=this,d=zi(i,At(i)));var y=!(ft(o)&&"chain"in o)||!!o.chain,M=xn(e);return $t(d,function(C){var L=i[C];e[C]=L,M&&(e.prototype[C]=function(){var j=this.__chain__;if(y||j){var $=e(this.__wrapped__),te=$.__actions__=Ft(this.__actions__);return te.push({func:L,args:arguments,thisArg:e}),$.__chain__=j,$}return L.apply(e,Hn([this.value()],arguments))})}),e}function kp(){return It._===this&&(It._=Zg),this}function Js(){}function Tp(e){return e=De(e),xe(function(i){return Pu(i,e)})}var Ap=Is(at),Mp=Is(ru),Ep=Is(jl);function ef(e){return xs(e)?$l(kn(e)):n0(e)}function Ip(e){return function(i){return e==null?r:sr(e,i)}}var Sp=ia(),Cp=ia(!0);function Qs(){return[]}function js(){return!1}function Dp(){return{}}function Rp(){return""}function Op(){return!0}function Np(e,i){if(e=De(e),e<1||e>ie)return[];var o=Ee,f=Dt(e,Ee);i=ye(i),e-=Ee;for(var d=ns(f,i);++o<e;)i(o);return d}function xp(e){return Ce(e)?at(e,kn):Zt(e)?[e]:Ft(ba(Ze(e)))}function Lp(e){var i=++Vg;return Ze(e)+i}var Pp=Xi(function(e,i){return e+i},0),Up=Ss("ceil"),Fp=Xi(function(e,i){return e/i},1),Wp=Ss("floor");function Bp(e){return e&&e.length?qi(e,Ht,gs):r}function Hp(e,i){return e&&e.length?qi(e,ye(i,2),gs):r}function qp(e){return su(e,Ht)}function zp(e,i){return su(e,ye(i,2))}function Yp(e){return e&&e.length?qi(e,Ht,ps):r}function Gp(e,i){return e&&e.length?qi(e,ye(i,2),ps):r}var Vp=Xi(function(e,i){return e*i},1),Kp=Ss("round"),Zp=Xi(function(e,i){return e-i},0);function Xp(e){return e&&e.length?ts(e,Ht):0}function Jp(e,i){return e&&e.length?ts(e,ye(i,2)):0}return _.after=vm,_.ary=Ra,_.assign=l_,_.assignIn=Ga,_.assignInWith=ul,_.assignWith=s_,_.at=o_,_.before=Oa,_.bind=Bs,_.bindAll=hp,_.bindKey=Na,_.castArray=Dm,_.chain=Sa,_.chunk=W0,_.compact=B0,_.concat=H0,_.cond=gp,_.conforms=dp,_.constant=Ks,_.countBy=X1,_.create=u_,_.curry=xa,_.curryRight=La,_.debounce=Pa,_.defaults=a_,_.defaultsDeep=f_,_.defer=ym,_.delay=bm,_.difference=q0,_.differenceBy=z0,_.differenceWith=Y0,_.drop=G0,_.dropRight=V0,_.dropRightWhile=K0,_.dropWhile=Z0,_.fill=X0,_.filter=Q1,_.flatMap=em,_.flatMapDeep=tm,_.flatMapDepth=nm,_.flatten=Aa,_.flattenDeep=J0,_.flattenDepth=Q0,_.flip=wm,_.flow=_p,_.flowRight=pp,_.fromPairs=j0,_.functions=p_,_.functionsIn=v_,_.groupBy=rm,_.initial=e1,_.intersection=t1,_.intersectionBy=n1,_.intersectionWith=r1,_.invert=b_,_.invertBy=w_,_.invokeMap=lm,_.iteratee=Zs,_.keyBy=sm,_.keys=At,_.keysIn=Bt,_.map=nl,_.mapKeys=T_,_.mapValues=A_,_.matches=vp,_.matchesProperty=yp,_.memoize=il,_.merge=M_,_.mergeWith=Va,_.method=bp,_.methodOf=wp,_.mixin=Xs,_.negate=ll,_.nthArg=Tp,_.omit=E_,_.omitBy=I_,_.once=km,_.orderBy=om,_.over=Ap,_.overArgs=Tm,_.overEvery=Mp,_.overSome=Ep,_.partial=Hs,_.partialRight=Ua,_.partition=um,_.pick=S_,_.pickBy=Ka,_.property=ef,_.propertyOf=Ip,_.pull=o1,_.pullAll=Ea,_.pullAllBy=u1,_.pullAllWith=a1,_.pullAt=f1,_.range=Sp,_.rangeRight=Cp,_.rearg=Am,_.reject=cm,_.remove=c1,_.rest=Mm,_.reverse=Fs,_.sampleSize=gm,_.set=D_,_.setWith=R_,_.shuffle=dm,_.slice=h1,_.sortBy=pm,_.sortedUniq=y1,_.sortedUniqBy=b1,_.split=ep,_.spread=Em,_.tail=w1,_.take=k1,_.takeRight=T1,_.takeRightWhile=A1,_.takeWhile=M1,_.tap=B1,_.throttle=Im,_.thru=tl,_.toArray=qa,_.toPairs=Za,_.toPairsIn=Xa,_.toPath=xp,_.toPlainObject=Ya,_.transform=O_,_.unary=Sm,_.union=E1,_.unionBy=I1,_.unionWith=S1,_.uniq=C1,_.uniqBy=D1,_.uniqWith=R1,_.unset=N_,_.unzip=Ws,_.unzipWith=Ia,_.update=x_,_.updateWith=L_,_.values=Rr,_.valuesIn=P_,_.without=O1,_.words=ja,_.wrap=Cm,_.xor=N1,_.xorBy=x1,_.xorWith=L1,_.zip=P1,_.zipObject=U1,_.zipObjectDeep=F1,_.zipWith=W1,_.entries=Za,_.entriesIn=Xa,_.extend=Ga,_.extendWith=ul,Xs(_,_),_.add=Pp,_.attempt=$a,_.camelCase=B_,_.capitalize=Ja,_.ceil=Up,_.clamp=U_,_.clone=Rm,_.cloneDeep=Nm,_.cloneDeepWith=xm,_.cloneWith=Om,_.conformsTo=Lm,_.deburr=Qa,_.defaultTo=mp,_.divide=Fp,_.endsWith=H_,_.eq=gn,_.escape=q_,_.escapeRegExp=z_,_.every=J1,_.find=j1,_.findIndex=ka,_.findKey=c_,_.findLast=$1,_.findLastIndex=Ta,_.findLastKey=h_,_.floor=Wp,_.forEach=Ca,_.forEachRight=Da,_.forIn=g_,_.forInRight=d_,_.forOwn=m_,_.forOwnRight=__,_.get=Ys,_.gt=Pm,_.gte=Um,_.has=y_,_.hasIn=Gs,_.head=Ma,_.identity=Ht,_.includes=im,_.indexOf=$0,_.inRange=F_,_.invoke=k_,_.isArguments=ar,_.isArray=Ce,_.isArrayBuffer=Fm,_.isArrayLike=Wt,_.isArrayLikeObject=mt,_.isBoolean=Wm,_.isBuffer=Zn,_.isDate=Bm,_.isElement=Hm,_.isEmpty=qm,_.isEqual=zm,_.isEqualWith=Ym,_.isError=qs,_.isFinite=Gm,_.isFunction=xn,_.isInteger=Fa,_.isLength=sl,_.isMap=Wa,_.isMatch=Vm,_.isMatchWith=Km,_.isNaN=Zm,_.isNative=Xm,_.isNil=Qm,_.isNull=Jm,_.isNumber=Ba,_.isObject=ft,_.isObjectLike=dt,_.isPlainObject=li,_.isRegExp=zs,_.isSafeInteger=jm,_.isSet=Ha,_.isString=ol,_.isSymbol=Zt,_.isTypedArray=Dr,_.isUndefined=$m,_.isWeakMap=e_,_.isWeakSet=t_,_.join=i1,_.kebabCase=Y_,_.last=ln,_.lastIndexOf=l1,_.lowerCase=G_,_.lowerFirst=V_,_.lt=n_,_.lte=r_,_.max=Bp,_.maxBy=Hp,_.mean=qp,_.meanBy=zp,_.min=Yp,_.minBy=Gp,_.stubArray=Qs,_.stubFalse=js,_.stubObject=Dp,_.stubString=Rp,_.stubTrue=Op,_.multiply=Vp,_.nth=s1,_.noConflict=kp,_.noop=Js,_.now=rl,_.pad=K_,_.padEnd=Z_,_.padStart=X_,_.parseInt=J_,_.random=W_,_.reduce=am,_.reduceRight=fm,_.repeat=Q_,_.replace=j_,_.result=C_,_.round=Kp,_.runInContext=N,_.sample=hm,_.size=mm,_.snakeCase=$_,_.some=_m,_.sortedIndex=g1,_.sortedIndexBy=d1,_.sortedIndexOf=m1,_.sortedLastIndex=_1,_.sortedLastIndexBy=p1,_.sortedLastIndexOf=v1,_.startCase=tp,_.startsWith=np,_.subtract=Zp,_.sum=Xp,_.sumBy=Jp,_.template=rp,_.times=Np,_.toFinite=Ln,_.toInteger=De,_.toLength=za,_.toLower=ip,_.toNumber=sn,_.toSafeInteger=i_,_.toString=Ze,_.toUpper=lp,_.trim=sp,_.trimEnd=op,_.trimStart=up,_.truncate=ap,_.unescape=fp,_.uniqueId=Lp,_.upperCase=cp,_.upperFirst=Vs,_.each=Ca,_.eachRight=Da,_.first=Ma,Xs(_,function(){var e={};return bn(_,function(i,o){Je.call(_.prototype,o)||(e[o]=i)}),e}(),{chain:!1}),_.VERSION=l,$t(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){_[e].placeholder=_}),$t(["drop","take"],function(e,i){He.prototype[e]=function(o){o=o===r?1:kt(De(o),0);var f=this.__filtered__&&!i?new He(this):this.clone();return f.__filtered__?f.__takeCount__=Dt(o,f.__takeCount__):f.__views__.push({size:Dt(o,Ee),type:e+(f.__dir__<0?"Right":"")}),f},He.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),$t(["filter","map","takeWhile"],function(e,i){var o=i+1,f=o==x||o==X;He.prototype[e]=function(d){var y=this.clone();return y.__iteratees__.push({iteratee:ye(d,3),type:o}),y.__filtered__=y.__filtered__||f,y}}),$t(["head","last"],function(e,i){var o="take"+(i?"Right":"");He.prototype[e]=function(){return this[o](1).value()[0]}}),$t(["initial","tail"],function(e,i){var o="drop"+(i?"":"Right");He.prototype[e]=function(){return this.__filtered__?new He(this):this[o](1)}}),He.prototype.compact=function(){return this.filter(Ht)},He.prototype.find=function(e){return this.filter(e).head()},He.prototype.findLast=function(e){return this.reverse().find(e)},He.prototype.invokeMap=xe(function(e,i){return typeof e=="function"?new He(this):this.map(function(o){return $r(o,e,i)})}),He.prototype.reject=function(e){return this.filter(ll(ye(e)))},He.prototype.slice=function(e,i){e=De(e);var o=this;return o.__filtered__&&(e>0||i<0)?new He(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),i!==r&&(i=De(i),o=i<0?o.dropRight(-i):o.take(i-e)),o)},He.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},He.prototype.toArray=function(){return this.take(Ee)},bn(He.prototype,function(e,i){var o=/^(?:filter|find|map|reject)|While$/.test(i),f=/^(?:head|last)$/.test(i),d=_[f?"take"+(i=="last"?"Right":""):i],y=f||/^find/.test(i);d&&(_.prototype[i]=function(){var M=this.__wrapped__,C=f?[1]:arguments,L=M instanceof He,j=C[0],$=L||Ce(M),te=function(We){var ze=d.apply(_,Hn([We],C));return f&&fe?ze[0]:ze};$&&o&&typeof j=="function"&&j.length!=1&&(L=$=!1);var fe=this.__chain__,_e=!!this.__actions__.length,we=y&&!fe,Re=L&&!_e;if(!y&&$){M=Re?M:new He(this);var ke=e.apply(M,C);return ke.__actions__.push({func:tl,args:[te],thisArg:r}),new tn(ke,fe)}return we&&Re?e.apply(this,C):(ke=this.thru(te),we?f?ke.value()[0]:ke.value():ke)})}),$t(["pop","push","shift","sort","splice","unshift"],function(e){var i=Ii[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);_.prototype[e]=function(){var d=arguments;if(f&&!this.__chain__){var y=this.value();return i.apply(Ce(y)?y:[],d)}return this[o](function(M){return i.apply(Ce(M)?M:[],d)})}}),bn(He.prototype,function(e,i){var o=_[i];if(o){var f=o.name+"";Je.call(Mr,f)||(Mr[f]=[]),Mr[f].push({name:i,func:o})}}),Mr[Zi(r,S).name]=[{name:"wrapper",func:r}],He.prototype.clone=fd,He.prototype.reverse=cd,He.prototype.value=hd,_.prototype.at=H1,_.prototype.chain=q1,_.prototype.commit=z1,_.prototype.next=Y1,_.prototype.plant=V1,_.prototype.reverse=K1,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=Z1,_.prototype.first=_.prototype.head,Vr&&(_.prototype[Vr]=G1),_},kr=zg();tr?((tr.exports=kr)._=kr,Zl._=kr):It._=kr}).call(Un)})(sb,xl);const Qn=xl;function ob(n){let t,r,l;return{c(){t=on("path"),this.h()},l(s){t=un(s,"path",{d:!0,class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"d",n[1]),k(t,"class","svelte-1z0km7q"),ce(t,"moving",n[0])},m(s,a){le(s,t,a),l=!0},p(s,[a]){(!l||a&2)&&k(t,"d",s[1]),(!l||a&1)&&ce(t,"moving",s[0])},i(s){l||(Fn(()=>{r||(r=pl(t,Nl,{},!0)),r.run(1)}),l=!0)},o(s){r||(r=pl(t,Nl,{},!1)),r.run(0),l=!1},d(s){s&&I(t),s&&r&&r.end()}}}function ub(n,t,r){let l,s,a,u,{width:h}=t,{moving:c}=t;const g=lb(150,{easing:ib});ae(n,g,A=>r(6,u=A));const m=(A,S)=>{const D=S[0]-A[0],O=S[1]-A[1];return{length:Math.sqrt(Math.pow(D,2)+Math.pow(O,2)),angle:Math.atan2(O,D)}},v=(A,S,D,O)=>{const E=S||A,H=D||A,Y=.2,J=m(E,H),G=J.angle+(O?Math.PI:0),P=J.length*Y,W=A[0]+Math.cos(G)*P,R=A[1]+Math.sin(G)*P;return[W,R]},p=(A,S,D)=>{const[O,E]=v(D[S-1],D[S-2],A),[H,Y]=v(A,D[S-1],D[S+1],!0);return`C ${O},${E} ${H},${Y} ${A[0]},${A[1]}`},T=A=>A.reduce((D,O,E,H)=>E===0?`M ${O[0]},${O[1]}`:`${D} ${p(O,E,H)}`,""),b=()=>{g.set(Qn.random(0,120),{duration:Qn.random(400,800)}).then(b)},w=()=>{c?g.set(0,{duration:1500}).then(b):g.set(0,{duration:500})};return n.$$set=A=>{"width"in A&&r(3,h=A.width),"moving"in A&&r(0,c=A.moving)},n.$$.update=()=>{n.$$.dirty&8&&r(5,l=h),n.$$.dirty&96&&r(4,s=_n(5).map(A=>{const S=l/4*A,O={0:0,1:-u,2:0,3:u,4:0}[A];return[S,O]})),n.$$.dirty&24&&r(1,a=h?T(s):""),n.$$.dirty&1&&w()},[c,a,g,h,s,l,u]}class ab extends nt{constructor(t){super(),rt(this,t,ub,ob,Qe,{width:3,moving:0})}}var fb="Expected a function",qf=0/0,cb="[object Symbol]",hb=/^\s+|\s+$/g,gb=/^[-+]0x[0-9a-f]+$/i,db=/^0b[01]+$/i,mb=/^0o[0-7]+$/i,_b=parseInt,pb=typeof Un=="object"&&Un&&Un.Object===Object&&Un,vb=typeof self=="object"&&self&&self.Object===Object&&self,yb=pb||vb||Function("return this")(),bb=Object.prototype,wb=bb.toString,kb=Math.max,Tb=Math.min,so=function(){return yb.Date.now()};function Ab(n,t,r){var l,s,a,u,h,c,g=0,m=!1,v=!1,p=!0;if(typeof n!="function")throw new TypeError(fb);t=zf(t)||0,vo(r)&&(m=!!r.leading,v="maxWait"in r,a=v?kb(zf(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p);function T(Y){var J=l,G=s;return l=s=void 0,g=Y,u=n.apply(G,J),u}function b(Y){return g=Y,h=setTimeout(S,t),m?T(Y):u}function w(Y){var J=Y-c,G=Y-g,P=t-J;return v?Tb(P,a-G):P}function A(Y){var J=Y-c,G=Y-g;return c===void 0||J>=t||J<0||v&&G>=a}function S(){var Y=so();if(A(Y))return D(Y);h=setTimeout(S,w(Y))}function D(Y){return h=void 0,p&&l?T(Y):(l=s=void 0,u)}function O(){h!==void 0&&clearTimeout(h),g=0,l=c=s=h=void 0}function E(){return h===void 0?u:D(so())}function H(){var Y=so(),J=A(Y);if(l=arguments,s=this,c=Y,J){if(h===void 0)return b(c);if(v)return h=setTimeout(S,t),T(c)}return h===void 0&&(h=setTimeout(S,t)),u}return H.cancel=O,H.flush=E,H}function vo(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function Mb(n){return!!n&&typeof n=="object"}function Eb(n){return typeof n=="symbol"||Mb(n)&&wb.call(n)==cb}function zf(n){if(typeof n=="number")return n;if(Eb(n))return qf;if(vo(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=vo(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=n.replace(hb,"");var r=db.test(n);return r||mb.test(n)?_b(n.slice(2),r?2:8):gb.test(n)?qf:+n}var Ib=Ab;const gh=yo({width:0,height:0},n=>{const t=()=>n({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",Ib(t,250)),()=>{window.removeEventListener("resize",t)}});function Yf(n,t,r){const l=n.slice();l[5]=t[r],l[9]=r;const s=l[1](l[5]);l[6]=s;const a=l[2]>=l[5]-.05;return l[7]=a,l}function Gf(n,t){let r,l,s;return{key:n,first:null,c(){r=on("circle"),this.h()},l(a){r=un(a,"circle",{id:!0,r:!0,fill:!0,cx:!0,cy:!0,class:!0}),Q(r).forEach(I),this.h()},h(){k(r,"id",l=t[9]),k(r,"r",t[3]),k(r,"fill","lightgrey"),k(r,"cx",s=t[6]),k(r,"cy",0),k(r,"class","svelte-1iq1fno"),ce(r,"played",t[7]),this.first=r},m(a,u){le(a,r,u)},p(a,u){t=a,u&1&&l!==(l=t[9])&&k(r,"id",l),u&8&&k(r,"r",t[3]),u&3&&s!==(s=t[6])&&k(r,"cx",s),u&5&&ce(r,"played",t[7])},d(a){a&&I(r)}}}function Sb(n){let t,r,l,s=[],a=new Map,u,h=n[0];const c=g=>g[9];for(let g=0;g<h.length;g+=1){let m=Yf(n,h,g),v=c(m);a.set(v,s[g]=Gf(v,m))}return{c(){t=on("line"),l=de();for(let g=0;g<s.length;g+=1)s[g].c();u=Me(),this.h()},l(g){t=un(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),Q(t).forEach(I),l=me(g);for(let m=0;m<s.length;m+=1)s[m].l(g);u=Me(),this.h()},h(){k(t,"x1",0),k(t,"y1",0),k(t,"x2",r=n[1](n[2])),k(t,"y2",0),k(t,"class","svelte-1iq1fno"),ce(t,"visible",n[0].length)},m(g,m){le(g,t,m),le(g,l,m);for(let v=0;v<s.length;v+=1)s[v].m(g,m);le(g,u,m)},p(g,[m]){m&6&&r!==(r=g[1](g[2]))&&k(t,"x2",r),m&1&&ce(t,"visible",g[0].length),m&15&&(h=g[0],s=ev(s,m,c,1,g,h,a,u.parentNode,tv,Gf,u,Yf))},i:Le,o:Le,d(g){g&&I(t),g&&I(l);for(let m=0;m<s.length;m+=1)s[m].d(g);g&&I(u)}}}function Cb(n,t,r){let l,s;ae(n,gh,c=>r(4,s=c));let{data:a}=t,{xScale:u}=t,{currentBeat:h}=t;return n.$$set=c=>{"data"in c&&r(0,a=c.data),"xScale"in c&&r(1,u=c.xScale),"currentBeat"in c&&r(2,h=c.currentBeat)},n.$$.update=()=>{n.$$.dirty&16&&r(3,l=s.width<600?5:10)},[a,u,h,l,s]}class Db extends nt{constructor(t){super(),rt(this,t,Cb,Sb,Qe,{data:0,xScale:1,currentBeat:2})}}function Vf(n){let t,r;return t=new ab({props:{width:n[0],moving:n[8]}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p(l,s){const a={};s&1&&(a.width=l[0]),s&256&&(a.moving=l[8]),t.$set(a)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function Rb(n){let t,r,l,s,a,u,h,c,g,m,v=!1,p,T=!0,b,w,A,S,D=!1,O,E=!0,H,Y,J,G=n[0]&&Vf(n);a=new Db({props:{data:n[7],xScale:n[6],currentBeat:n[10]}});function P(){cancelAnimationFrame(p),c.paused||(p=ci(P),v=!0),n[23].call(c)}function W(){cancelAnimationFrame(O),w.paused||(O=ci(W),D=!0),n[26].call(w)}return{c(){t=V("div"),r=on("svg"),l=on("g"),G&&G.c(),s=Me(),Pe(a.$$.fragment),h=de(),c=V("audio"),b=de(),w=V("audio"),this.h()},l(R){t=K(R,"DIV",{class:!0});var B=Q(t);r=un(B,"svg",{class:!0});var F=Q(r);l=un(F,"g",{transform:!0});var x=Q(l);G&&G.l(x),s=Me(),qe(a.$$.fragment,x),x.forEach(I),F.forEach(I),B.forEach(I),h=me(R),c=K(R,"AUDIO",{src:!0,preload:!0}),Q(c).forEach(I),b=me(R),w=K(R,"AUDIO",{src:!0,preload:!0}),Q(w).forEach(I),this.h()},h(){k(l,"transform",`translate(0, ${Ob})`),k(r,"class","svelte-cy3q3z"),k(t,"class","wrapper svelte-cy3q3z"),Fn(()=>n[21].call(t)),ce(t,"visible",n[9]),Nt(c.src,g="assets/sound/intro/normal.mp3")||k(c,"src",g),c.loop=!0,c.muted=m=!n[13],k(c,"preload","auto"),Nt(w.src,A="assets/sound/intro/drunk.mp3")||k(w,"src",A),w.loop=!0,w.muted=S=!n[13],k(w,"preload","auto")},m(R,B){le(R,t,B),U(t,r),U(r,l),G&&G.m(l,null),U(l,s),Ue(a,l,null),u=vl(t,n[21].bind(t)),le(R,h,B),le(R,c,B),n[22](c),le(R,b,B),le(R,w,B),n[25](w),isNaN(n[5])||(w.playbackRate=n[5]),H=!0,Y||(J=[Be(c,"timeupdate",P),Be(c,"play",n[24]),Be(c,"pause",n[24]),Be(w,"timeupdate",W),Be(w,"play",n[27]),Be(w,"pause",n[27]),Be(w,"ratechange",n[28])],Y=!0)},p(R,[B]){R[0]?G?(G.p(R,B),B&1&&re(G,1)):(G=Vf(R),G.c(),re(G,1),G.m(l,s)):G&&(ct(),se(G,1,1,()=>{G=null}),ht());const F={};B&128&&(F.data=R[7]),B&64&&(F.xScale=R[6]),B&1024&&(F.currentBeat=R[10]),a.$set(F),(!H||B&512)&&ce(t,"visible",R[9]),(!H||B&8192&&m!==(m=!R[13]))&&(c.muted=m),!v&&B&8&&!isNaN(R[3])&&(c.currentTime=R[3]),v=!1,B&4096&&T!==(T=R[12])&&c[T?"pause":"play"](),(!H||B&8192&&S!==(S=!R[13]))&&(w.muted=S),!D&&B&16&&!isNaN(R[4])&&(w.currentTime=R[4]),D=!1,B&2048&&E!==(E=R[11])&&w[E?"pause":"play"](),B&32&&!isNaN(R[5])&&(w.playbackRate=R[5])},i(R){H||(re(G),re(a.$$.fragment,R),H=!0)},o(R){se(G),se(a.$$.fragment,R),H=!1},d(R){R&&I(t),G&&G.d(),Fe(a),u(),R&&I(h),R&&I(c),n[22](null),R&&I(b),R&&I(w),n[25](null),Y=!1,pn(J)}}}let oo=32;const Ob=150;function Nb(n,t,r){let l,s,a,u,h,c,g,m,v,p,T,b,w,A,S;ae(n,Ol,ie=>r(19,w=ie)),ae(n,fi,ie=>r(20,A=ie)),ae(n,pi,ie=>r(13,S=ie));let D=0,O,E,H=0,Y=0,J=1;const G=_n(8,32,2),P=[.2,1.44,1.51,1.8,2.1,2.4,3.4,4.4,5.3,5.5,6.3,6.6,6.8,7.1,7.2,7.7,8.6,9.3,9.5,9.67].map(ie=>ie*(oo/9.937958));function W(){D=this.clientWidth,r(0,D)}function R(ie){Ct[ie?"unshift":"push"](()=>{O=ie,r(1,O)})}function B(){H=this.currentTime,r(3,H),r(18,l),r(19,w)}function F(){a=this.paused,r(12,a),r(18,l),r(19,w)}function x(ie){Ct[ie?"unshift":"push"](()=>{E=ie,r(2,E)})}function z(){Y=this.currentTime,r(4,Y),r(17,s),r(19,w)}function X(){u=this.paused,r(11,u),r(17,s),r(19,w)}function ee(){J=this.playbackRate,r(5,J)}return n.$$.update=()=>{n.$$.dirty&524288&&r(18,l=w===2),n.$$.dirty&262144&&l&&r(3,H=0),n.$$.dirty&524288&&r(17,s=w===1||w===3),n.$$.dirty&131072&&s&&r(4,Y=0),n.$$.dirty&262144&&r(12,a=!l),n.$$.dirty&131072&&r(11,u=!s),n.$$.dirty&393240&&r(16,h=l?H:s?Y:0),n.$$.dirty&393222&&r(14,c=l?O.duration-2:s?E.duration-2:0),n.$$.dirty&16384&&r(15,b=Jn().domain([0,c]).range([0,oo])),n.$$.dirty&98304&&r(10,g=b(h)),n.$$.dirty&1572864&&r(9,m=w!==void 0||A==="up"),n.$$.dirty&1572864&&r(8,v=w!==2&&w!==3&&(w!==void 0||A==="up")),n.$$.dirty&524288&&r(7,p=w===2?G:w===3?P:[]),n.$$.dirty&1&&r(6,T=Jn().domain([0,oo]).range([0,D]))},[D,O,E,H,Y,J,T,p,v,m,g,u,a,S,c,b,h,s,l,w,A,W,R,B,F,x,z,X,ee]}class xb extends nt{constructor(t){super(),rt(this,t,Nb,Rb,Qe,{})}}function Kf(n,t,r){const l=n.slice();return l[5]=t[r],l}function Zf(n,t,r){const l=n.slice();return l[8]=t[r].hed,l[2]=t[r].url,l[9]=t[r].image,l}function Xf(n){let t,r,l,s,a,u,h=n[8]+"",c,g,m;return{c(){t=V("div"),r=V("a"),l=V("img"),a=de(),u=V("span"),c=Ye(h),m=de(),this.h()},l(v){t=K(v,"DIV",{class:!0});var p=Q(t);r=K(p,"A",{href:!0,class:!0});var T=Q(r);l=K(T,"IMG",{src:!0,alt:!0}),a=me(T),u=K(T,"SPAN",{class:!0});var b=Q(u);c=Ge(b,h),b.forEach(I),T.forEach(I),m=me(p),p.forEach(I),this.h()},h(){Nt(l.src,s="https://pudding.cool/common/assets/thumbnails/640/"+n[9]+".jpg")||k(l,"src",s),k(l,"alt","thumbnail"),k(u,"class","svelte-1en6glb"),k(r,"href",g="https://pudding.cool/"+n[2]),k(r,"class","svelte-1en6glb"),k(t,"class","story svelte-1en6glb")},m(v,p){le(v,t,p),U(t,r),U(r,l),U(r,a),U(r,u),U(u,c),U(t,m)},p(v,p){p&1&&!Nt(l.src,s="https://pudding.cool/common/assets/thumbnails/640/"+v[9]+".jpg")&&k(l,"src",s),p&1&&h!==(h=v[8]+"")&&Mt(c,h),p&1&&g!==(g="https://pudding.cool/"+v[2])&&k(r,"href",g)},d(v){v&&I(t)}}}function Jf(n){let t,r,l,s=n[5].name.toUpperCase()+"",a,u;return{c(){t=V("li"),r=V("a"),l=V("span"),a=Ye(s),u=de(),this.h()},l(h){t=K(h,"LI",{class:!0});var c=Q(t);r=K(c,"A",{href:!0,class:!0});var g=Q(r);l=K(g,"SPAN",{class:!0});var m=Q(l);a=Ge(m,s),m.forEach(I),g.forEach(I),u=me(c),c.forEach(I),this.h()},h(){k(l,"class","svelte-1en6glb"),k(r,"href",n[5].url),k(r,"class","svelte-1en6glb"),k(t,"class","svelte-1en6glb")},m(h,c){le(h,t,c),U(t,r),U(r,l),U(l,a),U(t,u)},p:Le,d(h){h&&I(t)}}}function Lb(n){let t,r,l,s,a,u,h,c,g,m,v,p,T,b=n[0],w=[];for(let D=0;D<b.length;D+=1)w[D]=Xf(Zf(n,b,D));let A=n[1],S=[];for(let D=0;D<A.length;D+=1)S[D]=Jf(Kf(n,A,D));return{c(){t=V("footer"),r=V("section");for(let D=0;D<w.length;D+=1)w[D].c();l=de(),s=V("section"),a=V("div"),u=de(),h=V("p"),c=V("a"),g=Ye("The Pudding"),m=Ye(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),v=de(),p=V("section"),T=V("ul");for(let D=0;D<S.length;D+=1)S[D].c();this.h()},l(D){t=K(D,"FOOTER",{class:!0});var O=Q(t);r=K(O,"SECTION",{class:!0});var E=Q(r);for(let R=0;R<w.length;R+=1)w[R].l(E);E.forEach(I),l=me(O),s=K(O,"SECTION",{class:!0});var H=Q(s);a=K(H,"DIV",{class:!0});var Y=Q(a);Y.forEach(I),u=me(H),h=K(H,"P",{});var J=Q(h);c=K(J,"A",{href:!0,class:!0});var G=Q(c);g=Ge(G,"The Pudding"),G.forEach(I),m=Ge(J,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),J.forEach(I),H.forEach(I),v=me(O),p=K(O,"SECTION",{class:!0});var P=Q(p);T=K(P,"UL",{class:!0});var W=Q(T);for(let R=0;R<S.length;R+=1)S[R].l(W);W.forEach(I),P.forEach(I),O.forEach(I),this.h()},h(){k(r,"class","stories svelte-1en6glb"),k(a,"class","wordmark svelte-1en6glb"),k(c,"href","https://pudding.cool"),k(c,"class","svelte-1en6glb"),k(s,"class","about svelte-1en6glb"),k(T,"class","svelte-1en6glb"),k(p,"class","links svelte-1en6glb"),k(t,"class","svelte-1en6glb")},m(D,O){le(D,t,O),U(t,r);for(let E=0;E<w.length;E+=1)w[E].m(r,null);U(t,l),U(t,s),U(s,a),a.innerHTML=fv,U(s,u),U(s,h),U(h,c),U(c,g),U(h,m),U(t,v),U(t,p),U(p,T);for(let E=0;E<S.length;E+=1)S[E].m(T,null)},p(D,[O]){if(O&1){b=D[0];let E;for(E=0;E<b.length;E+=1){const H=Zf(D,b,E);w[E]?w[E].p(H,O):(w[E]=Xf(H),w[E].c(),w[E].m(r,null))}for(;E<w.length;E+=1)w[E].d(1);w.length=b.length}if(O&2){A=D[1];let E;for(E=0;E<A.length;E+=1){const H=Kf(D,A,E);S[E]?S[E].p(H,O):(S[E]=Jf(H),S[E].c(),S[E].m(T,null))}for(;E<S.length;E+=1)S[E].d(1);S.length=A.length}},i:Le,o:Le,d(D){D&&I(t),pt(w,D),pt(S,D)}}}function Pb(n,t,r){let l,s=[];const u=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,h=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return qr(async()=>{l=window.location.href;const g=await(await fetch(u)).json();r(0,s=g.filter(m=>!l.includes(m.url)).slice(0,4))}),[s,h,u]}class Ub extends nt{constructor(t){super(),rt(this,t,Pb,Lb,Qe,{})}}function Fb(n){let t,r,l;return{c(){t=V("div"),this.h()},l(s){t=K(s,"DIV",{class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"class","marker svelte-1f7khv0"),Ne(t,"left",n[1])},m(s,a){le(s,t,a),n[13](t),r||(l=[Be(window,"mouseup",n[8]),Be(window,"mousemove",n[9]),Be(t,"mousedown",n[7])],r=!0)},p(s,[a]){a&2&&Ne(t,"left",s[1])},i:Le,o:Le,d(s){s&&I(t),n[13](null),r=!1,pn(l)}}}function Wb(n,t,r){let l,s,a,u,h,c;const{getXScale:g,getSeek:m,getCurrentBeat:v,getTimeToBeat:p,getXOffset:T}=jn("song"),b=g();ae(n,b,P=>r(12,u=P));const w=v();ae(n,w,P=>r(11,a=P));const A=m();ae(n,A,P=>r(15,h=P));const S=p();ae(n,S,P=>r(16,c=P));const D=T();ae(n,D,P=>r(10,s=P));let O,E=!1;const H=P=>{E=!0},Y=()=>{E=!1},J=P=>{if(E){const W=O.offsetLeft+P.movementX-s,R=u.invert(W),B=c.invert(R)/1e3;Oe(A,h=B,h)}};function G(P){Ct[P?"unshift":"push"](()=>{O=P,r(0,O)})}return n.$$.update=()=>{n.$$.dirty&7168&&r(1,l=`${u(a)+s}px`)},[O,l,b,w,A,S,D,H,Y,J,s,a,u,G]}class Bb extends nt{constructor(t){super(),rt(this,t,Wb,Fb,Qe,{})}}function Hb(n){let t,r;return{c(){t=V("div"),this.h()},l(l){t=K(l,"DIV",{class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"class",r=Fr(n[0])+" svelte-1hql3w8"),ce(t,"played",n[3]),ce(t,"highlighted",n[2]),Ne(t,"top","50%"),Ne(t,"left",`${n[1]}px`),Ne(t,"height",`${Qf}px`),Ne(t,"width",`${Qf}px`)},m(l,s){le(l,t,s)},p(l,[s]){s&1&&r!==(r=Fr(l[0])+" svelte-1hql3w8")&&k(t,"class",r),s&9&&ce(t,"played",l[3]),s&5&&ce(t,"highlighted",l[2]),s&2&&Ne(t,"left",`${l[1]}px`)},i:Le,o:Le,d(l){l&&I(t)}}}const Qf=20;function qb(n,t,r){let l,s,a,u,h,c,{noteData:g}=t,{instrumentId:m}=t,{x:v}=t;const{getCurrentBeat:p,getIsPlaying:T,getHighlightedNotes:b,getInstrumentToggles:w}=jn("song"),A=p();ae(n,A,E=>r(12,c=E));const S=T();ae(n,S,E=>r(11,h=E));const D=b();ae(n,D,E=>r(9,a=E));const O=w();return ae(n,O,E=>r(10,u=E)),n.$$set=E=>{"noteData"in E&&r(8,g=E.noteData),"instrumentId"in E&&r(0,m=E.instrumentId),"x"in E&&r(1,v=E.x)},n.$$.update=()=>{var E;n.$$.dirty&7425&&r(3,l=c>=g-.05&&h&&u[m]==="on"),n.$$.dirty&769&&r(2,s=(E=a[m])==null?void 0:E.includes(g))},[m,v,s,l,A,S,D,O,g,a,u,h,c]}class zb extends nt{constructor(t){super(),rt(this,t,qb,Hb,Qe,{noteData:8,instrumentId:0,x:1})}}function jf(n){let t,r,l;var s=n[3];function a(u){return{props:{size:u[0],color:u[1],strokeWidth:u[2]}}}return s&&(r=yl(s,a(n))),{c(){t=V("span"),r&&Pe(r.$$.fragment),this.h()},l(u){t=K(u,"SPAN",{class:!0,style:!0});var h=Q(t);r&&qe(r.$$.fragment,h),h.forEach(I),this.h()},h(){k(t,"class","icon svelte-1r7hpvv"),Ne(t,"transform","rotate("+n[4]+"deg)")},m(u,h){le(u,t,h),r&&Ue(r,t,null),l=!0},p(u,h){const c={};if(h&1&&(c.size=u[0]),h&2&&(c.color=u[1]),h&4&&(c.strokeWidth=u[2]),s!==(s=u[3])){if(r){ct();const g=r;se(g.$$.fragment,1,0,()=>{Fe(g,1)}),ht()}s?(r=yl(s,a(u)),Pe(r.$$.fragment),re(r.$$.fragment,1),Ue(r,t,null)):r=null}else s&&r.$set(c);(!l||h&16)&&Ne(t,"transform","rotate("+u[4]+"deg)")},i(u){l||(r&&re(r.$$.fragment,u),l=!0)},o(u){r&&se(r.$$.fragment,u),l=!1},d(u){u&&I(t),r&&Fe(r)}}}function Yb(n){let t,r,l=n[3]&&jf(n);return{c(){l&&l.c(),t=Me()},l(s){l&&l.l(s),t=Me()},m(s,a){l&&l.m(s,a),le(s,t,a),r=!0},p(s,[a]){s[3]?l?(l.p(s,a),a&8&&re(l,1)):(l=jf(s),l.c(),re(l,1),l.m(t.parentNode,t)):l&&(ct(),se(l,1,1,()=>{l=null}),ht())},i(s){r||(re(l),r=!0)},o(s){se(l),r=!1},d(s){l&&l.d(s),s&&I(t)}}}function Gb(n,t,r){let l;const s=["n","ne","e","se","s","sw","w","nw"];let{name:a}=t,{direction:u="n"}=t,{size:h="1em"}=t,{color:c=void 0}=t,{strokeWidth:g=void 0}=t,m;const v=p=>{const T=p.replace(/[^a-zA-Z0-9]+(.)/g,(A,S)=>S.toUpperCase()),b=p.charAt(0).toUpperCase(),w=T.slice(1);return`${b}${w}`};return qr(async()=>{const p=v(a);r(3,m=(await cv(()=>import("../../chunks/lucide-svelte-9e2eaba2.js"),["../../chunks/lucide-svelte-9e2eaba2.js","../../chunks/index-1f2bc5b0.js"],import.meta.url))[p])}),n.$$set=p=>{"name"in p&&r(6,a=p.name),"direction"in p&&r(7,u=p.direction),"size"in p&&r(0,h=p.size),"color"in p&&r(1,c=p.color),"strokeWidth"in p&&r(2,g=p.strokeWidth)},n.$$.update=()=>{n.$$.dirty&128&&r(4,l=s.indexOf(u)*45)},[h,c,g,m,l,s,a,u]}class an extends nt{constructor(t){super(),rt(this,t,Gb,Yb,Qe,{directions:5,name:6,direction:7,size:0,color:1,strokeWidth:2})}get directions(){return this.$$.ctx[5]}}function $f(n,t,r){const l=n.slice();l[56]=t[r];const s=l[15](l[56]);return l[57]=s,l}function ec(n,t,r){const l=n.slice();l[60]=t[r];const s=l[15](l[60]%l[17]);return l[61]=s,l}function tc(n){let t,r,l;return{c(){t=V("div"),this.h()},l(s){t=K(s,"DIV",{class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"class","interaction-layer svelte-1qb5h4d"),ce(t,"current",n[11]),ce(t,"highlight",n[9]&&!n[11]),Ne(t,"height",`${n[7]}px`),Ne(t,"width",`${n[5]}px`),Ne(t,"left",`${n[14]}px`)},m(s,a){le(s,t,a),r||(l=[Be(t,"click",n[31]),Be(t,"keydown",n[31])],r=!0)},p(s,a){a[0]&2048&&ce(t,"current",s[11]),a[0]&2560&&ce(t,"highlight",s[9]&&!s[11]),a[0]&128&&Ne(t,"height",`${s[7]}px`),a[0]&32&&Ne(t,"width",`${s[5]}px`),a[0]&16384&&Ne(t,"left",`${s[14]}px`)},d(s){s&&I(t),r=!1,pn(l)}}}function Vb(n){let t,r;return t=new an({props:{name:"volume-2"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function Kb(n){let t,r;return t=new an({props:{name:"volume-x"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function nc(n){let t,r;return t=new zb({props:{noteData:n[60],instrumentId:n[0],x:n[61]}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p(l,s){const a={};s[0]&2&&(a.noteData=l[60]),s[0]&1&&(a.instrumentId=l[0]),s[0]&32770&&(a.x=l[61]),t.$set(a)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function rc(n){let t;return{c(){t=V("div"),this.h()},l(r){t=K(r,"DIV",{class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"class","dot"),Ne(t,"left",`${n[57]}px`)},m(r,l){le(r,t,l)},p(r,l){l[0]&32768&&Ne(t,"left",`${r[57]}px`)},d(r){r&&I(t)}}}function ic(n){let t,r,l,s,a;return{c(){t=V("button"),r=Ye(n[10]),this.h()},l(u){t=K(u,"BUTTON",{class:!0});var h=Q(t);r=Ge(h,n[10]),h.forEach(I),this.h()},h(){k(t,"class","action-btn svelte-1qb5h4d"),t.disabled=l=n[12]||n[16]==="straight"&&n[4],ce(t,"mobile",n[12]),ce(t,"pulse",n[2]===n[6]),ce(t,"visible",n[9])},m(u,h){le(u,t,h),U(t,r),n[38](t),s||(a=Be(t,"click",n[30]),s=!0)},p(u,h){h[0]&1024&&Mt(r,u[10]),h[0]&4112&&l!==(l=u[12]||u[16]==="straight"&&u[4])&&(t.disabled=l),h[0]&4096&&ce(t,"mobile",u[12]),h[0]&68&&ce(t,"pulse",u[2]===u[6]),h[0]&512&&ce(t,"visible",u[9])},d(u){u&&I(t),n[38](null),s=!1,a()}}}function Zb(n){let t,r,l,s=n[28](n[0])+"",a,u,h,c,g,m,v,p,T,b,w,A,S,D,O,E=n[12]&&n[2]&&tc(n);const H=[Kb,Vb],Y=[];function J(x,z){return x[13]?0:1}c=J(n),g=Y[c]=H[c](n);let G=n[1],P=[];for(let x=0;x<G.length;x+=1)P[x]=nc(ec(n,G,x));const W=x=>se(P[x],1,1,()=>{P[x]=null});let R=_n(0,n[17],.5),B=[];for(let x=0;x<R.length;x+=1)B[x]=rc($f(n,R,x));let F=n[2]&&ic(n);return{c(){t=V("div"),E&&E.c(),r=de(),l=V("div"),a=Ye(s),u=de(),h=V("button"),g.c(),v=de(),p=V("div");for(let x=0;x<P.length;x+=1)P[x].c();T=de();for(let x=0;x<B.length;x+=1)B[x].c();w=de(),F&&F.c(),this.h()},l(x){t=K(x,"DIV",{class:!0});var z=Q(t);E&&E.l(z),r=me(z),l=K(z,"DIV",{class:!0});var X=Q(l);a=Ge(X,s),u=me(X),h=K(X,"BUTTON",{class:!0,"aria-label":!0});var ee=Q(h);g.l(ee),ee.forEach(I),X.forEach(I),v=me(z),p=K(z,"DIV",{class:!0});var ie=Q(p);for(let be=0;be<P.length;be+=1)P[be].l(ie);T=me(ie);for(let be=0;be<B.length;be+=1)B[be].l(ie);ie.forEach(I),w=me(z),F&&F.l(z),z.forEach(I),this.h()},h(){k(h,"class","mute svelte-1qb5h4d"),k(h,"aria-label",m=n[13]?"unmute":"mute"),ce(h,"visible",n[18]!=="real"),k(l,"class","label svelte-1qb5h4d"),k(p,"class","notes svelte-1qb5h4d"),Fn(()=>n[36].call(p)),k(t,"class","instrument svelte-1qb5h4d"),Fn(()=>n[39].call(t)),ce(t,"muted",n[13])},m(x,z){le(x,t,z),E&&E.m(t,null),U(t,r),U(t,l),U(l,a),U(l,u),U(l,h),Y[c].m(h,null),U(t,v),U(t,p);for(let X=0;X<P.length;X+=1)P[X].m(p,null);U(p,T);for(let X=0;X<B.length;X+=1)B[X].m(p,null);b=vl(p,n[36].bind(p)),n[37](p),U(t,w),F&&F.m(t,null),A=vl(t,n[39].bind(t)),S=!0,D||(O=Be(h,"click",n[35]),D=!0)},p(x,z){x[12]&&x[2]?E?E.p(x,z):(E=tc(x),E.c(),E.m(t,r)):E&&(E.d(1),E=null),(!S||z[0]&1)&&s!==(s=x[28](x[0])+"")&&Mt(a,s);let X=c;if(c=J(x),c!==X&&(ct(),se(Y[X],1,1,()=>{Y[X]=null}),ht(),g=Y[c],g||(g=Y[c]=H[c](x),g.c()),re(g,1),g.m(h,null)),(!S||z[0]&8192&&m!==(m=x[13]?"unmute":"mute"))&&k(h,"aria-label",m),z[0]&163843){G=x[1];let ee;for(ee=0;ee<G.length;ee+=1){const ie=ec(x,G,ee);P[ee]?(P[ee].p(ie,z),re(P[ee],1)):(P[ee]=nc(ie),P[ee].c(),re(P[ee],1),P[ee].m(p,T))}for(ct(),ee=G.length;ee<P.length;ee+=1)W(ee);ht()}if(z[0]&163840){R=_n(0,x[17],.5);let ee;for(ee=0;ee<R.length;ee+=1){const ie=$f(x,R,ee);B[ee]?B[ee].p(ie,z):(B[ee]=rc(ie),B[ee].c(),B[ee].m(p,null))}for(;ee<B.length;ee+=1)B[ee].d(1);B.length=R.length}x[2]?F?F.p(x,z):(F=ic(x),F.c(),F.m(t,null)):F&&(F.d(1),F=null),(!S||z[0]&8192)&&ce(t,"muted",x[13])},i(x){if(!S){re(g);for(let z=0;z<G.length;z+=1)re(P[z]);S=!0}},o(x){se(g),P=P.filter(Boolean);for(let z=0;z<P.length;z+=1)se(P[z]);S=!1},d(x){x&&I(t),E&&E.d(),Y[c].d(),pt(P,x),pt(B,x),b(),n[37](null),F&&F.d(),A(),D=!1,O()}}}function Xb(n,t,r){let l,s,a,u,h,c,g,m,v,p,T,b,w,A,S;ae(n,gh,Ae=>r(33,p=Ae));let{id:D}=t,{data:O}=t,{action:E}=t;const{songId:H,getAllParts:Y,beatsPerMeasure:J,getXScale:G,getInstrumentToggles:P,getInstrumentStyles:W,getHighlightedNotes:R,getWidth:B,getXOffset:F,getCurrentAction:x,getCurrentActionIndex:z,style:X,actions:ee}=jn("song"),ie=Y();ae(n,ie,Ae=>r(42,w=Ae));const be=G();ae(n,be,Ae=>r(15,S=Ae));const pe=P();ae(n,pe,Ae=>r(34,T=Ae));const Ee=W();ae(n,Ee,Ae=>r(43,A=Ae));const Xe=R();ae(n,Xe,Ae=>r(41,b=Ae));const Tt=B();ae(n,Tt,Ae=>r(5,m=Ae));const ot=F();ae(n,ot,Ae=>r(14,g=Ae));const ue=x();ae(n,ue,Ae=>r(6,v=Ae));const je=z();ae(n,je,Ae=>r(32,c=Ae));let yt=0,vt,oe,ve=!1,Te=!1,ne=O,lt=A[D];const Ie=Ae=>Qn.upperFirst(Ae==="hihat"?"hi-hat":Ae),$e=Ae=>{Oe(pe,T[Ae]=T[Ae]==="off"?"on":"off",T)},gt=()=>{if(ve)Oe(Ee,A[D]=lt,A),Oe(Xe,b[D]=[],b);else{Oe(Ee,A[D]=E.style,A);const Ae=w.find(Qt=>Qt.instrument===D&&Qt.style===E.style).data;if(H==="straight"&&Oe(Xe,b={},b),Oe(Xe,b[D]=Ae.filter(Qt=>!ne.includes(Qt)),b),!Te){const Qt=ee[c+1];Qt?Oe(ue,v=Qt,v):Oe(ue,v=void 0,v),Oe(je,c+=1,c),Te=!0}}r(4,ve=!ve)},ut=()=>{(h||H==="straight"&&a&&!ve)&&gt()},Yt=()=>$e(D);function In(){m=this.clientWidth,Tt.set(m)}function vn(Ae){Ct[Ae?"unshift":"push"](()=>{oe=Ae,r(3,oe)})}function bt(Ae){Ct[Ae?"unshift":"push"](()=>{vt=Ae,r(8,vt)})}function fn(){yt=this.clientHeight,r(7,yt)}return n.$$set=Ae=>{"id"in Ae&&r(0,D=Ae.id),"data"in Ae&&r(1,O=Ae.data),"action"in Ae&&r(2,E=Ae.action)},n.$$.update=()=>{n.$$.dirty[1]&2&&c===0&&(r(4,ve=!1),Te=!1),n.$$.dirty[0]&1|n.$$.dirty[1]&8&&r(13,l=T[D]==="off"),n.$$.dirty[1]&4&&r(12,s=p.width<600),n.$$.dirty[0]&65&&r(11,a=v&&v.instrument===D),n.$$.dirty[0]&40&&m&&oe&&Oe(ot,g=oe.offsetLeft,g),n.$$.dirty[0]&20&&r(10,u=E&&ve?`${H==="straight"?"":"un-"}${E.description}`:E&&!ve?`${E.description}`:""),n.$$.dirty[0]&4|n.$$.dirty[1]&2&&r(9,h=ee&&c>=ee.findIndex(Ae=>Ae===E))},[D,O,E,oe,ve,m,v,yt,vt,h,u,a,s,l,g,S,H,J,X,ie,be,pe,Ee,Xe,Tt,ot,ue,je,Ie,$e,gt,ut,c,p,T,Yt,In,vn,bt,fn]}class Jb extends nt{constructor(t){super(),rt(this,t,Xb,Zb,Qe,{id:0,data:1,action:2},null,[-1,-1,-1])}}function Qb(n){let t,r;return{c(){t=V("audio"),this.h()},l(l){t=K(l,"AUDIO",{preload:!0,src:!0}),Q(t).forEach(I),this.h()},h(){k(t,"preload",n[0]),Nt(t.src,r=n[2])||k(t,"src",r),t.muted=n[5]},m(l,s){le(l,t,s),n[21](t)},p(l,s){s&1&&k(t,"preload",l[0]),s&4&&!Nt(t.src,r=l[2])&&k(t,"src",r),s&32&&(t.muted=l[5])},d(l){l&&I(t),n[21](null)}}}function jb(n){let t,r,l=!1,s,a,u;function h(){cancelAnimationFrame(s),t.paused||(s=ci(h),l=!0),n[19].call(t)}return{c(){t=V("audio"),this.h()},l(c){t=K(c,"AUDIO",{preload:!0,class:!0,src:!0}),Q(t).forEach(I),this.h()},h(){k(t,"preload",n[0]),k(t,"class",n[1]),Nt(t.src,r=n[2])||k(t,"src",r),t.muted=n[5],n[4]===void 0&&Fn(()=>n[18].call(t))},m(c,g){le(c,t,g),n[20](t),a||(u=[Be(t,"durationchange",n[18]),Be(t,"timeupdate",h)],a=!0)},p(c,g){g&1&&k(t,"preload",c[0]),g&2&&k(t,"class",c[1]),g&4&&!Nt(t.src,r=c[2])&&k(t,"src",r),g&32&&(t.muted=c[5]),!l&&g&64&&!isNaN(c[6])&&(t.currentTime=c[6]),l=!1},d(c){c&&I(t),n[20](null),a=!1,pn(u)}}}function $b(n){let t;function r(a,u){return a[1]==="leader"?jb:Qb}let l=r(n),s=l(n);return{c(){s.c(),t=Me()},l(a){s.l(a),t=Me()},m(a,u){s.m(a,u),le(a,t,u)},p(a,[u]){l===(l=r(a))&&s?s.p(a,u):(s.d(1),s=l(a),s&&(s.c(),s.m(t.parentNode,t)))},i:Le,o:Le,d(a){s.d(a),a&&I(t)}}}function ew(n,t,r){let l,s,a,u,h,c,g;ae(n,pi,X=>r(17,c=X));const{getAudioEls:m,getSeek:v,getDuration:p,getInstrumentToggles:T,getInstrumentStyles:b}=jn("song"),w=m();ae(n,w,X=>r(7,a=X));const A=v();ae(n,A,X=>r(6,s=X));const S=p();ae(n,S,X=>r(22,g=X));const D=T();ae(n,D,X=>r(16,h=X));const O=b();ae(n,O,X=>r(15,u=X));let{preload:E}=t,{classname:H}=t,{src:Y}=t,{i:J}=t,{instrument:G}=t,{style:P}=t,W=0;const R=()=>{a&&a.length&&a.forEach(X=>{X.currentTime=s})};function B(){W=this.duration,r(4,W)}function F(){s=this.currentTime,A.set(s)}function x(X){Ct[X?"unshift":"push"](()=>{a[J]=X,w.set(a)})}function z(X){Ct[X?"unshift":"push"](()=>{a[J]=X,w.set(a)})}return n.$$set=X=>{"preload"in X&&r(0,E=X.preload),"classname"in X&&r(1,H=X.classname),"src"in X&&r(2,Y=X.src),"i"in X&&r(3,J=X.i),"instrument"in X&&r(13,G=X.instrument),"style"in X&&r(14,P=X.style)},n.$$.update=()=>{n.$$.dirty&16&&Oe(S,g=W,g),n.$$.dirty&253952&&r(5,l=!c||h[G]==="off"||u[G]!==P),n.$$.dirty&32&&(l||R())},[E,H,Y,J,W,l,s,a,w,A,S,D,O,G,P,u,h,c,B,F,x,z]}class dh extends nt{constructor(t){super(),rt(this,t,ew,$b,Qe,{preload:0,classname:1,src:2,i:3,instrument:13,style:14})}}function lc(n,t,r){const l=n.slice();l[30]=t[r].instrument,l[15]=t[r].style,l[33]=r;const s=`assets/sound/${l[15]}/${l[30]}.mp3`;return l[31]=s,l}function tw(n){let t,r;return t=new an({props:{name:"play"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function nw(n){let t,r;return t=new an({props:{name:"pause"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function rw(n){let t,r,l=n[7],s=[];for(let u=0;u<l.length;u+=1)s[u]=oc(lc(n,l,u));const a=u=>se(s[u],1,1,()=>{s[u]=null});return{c(){for(let u=0;u<s.length;u+=1)s[u].c();t=Me()},l(u){for(let h=0;h<s.length;h+=1)s[h].l(u);t=Me()},m(u,h){for(let c=0;c<s.length;c+=1)s[c].m(u,h);le(u,t,h),r=!0},p(u,h){if(h[0]&160){l=u[7];let c;for(c=0;c<l.length;c+=1){const g=lc(u,l,c);s[c]?(s[c].p(g,h),re(s[c],1)):(s[c]=oc(g),s[c].c(),re(s[c],1),s[c].m(t.parentNode,t))}for(ct(),c=l.length;c<s.length;c+=1)a(c);ht()}},i(u){if(!r){for(let h=0;h<l.length;h+=1)re(s[h]);r=!0}},o(u){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)se(s[h]);r=!1},d(u){pt(s,u),u&&I(t)}}}function iw(n){let t,r;return t=new dh({props:{src:`assets/sound/real-songs/${n[8]}.mp3`,preload:"none",classname:"leader",i:0}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p:Le,i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function sc(n){let t,r;return t=new dh({props:{src:n[31],instrument:n[30],style:n[15],preload:n[5]?"auto":"none",classname:n[33]===0?"leader":"",i:n[33]}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p(l,s){const a={};s[0]&128&&(a.src=l[31]),s[0]&128&&(a.instrument=l[30]),s[0]&128&&(a.style=l[15]),s[0]&32&&(a.preload=l[5]?"auto":"none"),t.$set(a)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function oc(n){let t,r,l=n[15]!=="missing"&&sc(n);return{c(){l&&l.c(),t=Me()},l(s){l&&l.l(s),t=Me()},m(s,a){l&&l.m(s,a),le(s,t,a),r=!0},p(s,a){s[15]!=="missing"?l?(l.p(s,a),a[0]&128&&re(l,1)):(l=sc(s),l.c(),re(l,1),l.m(t.parentNode,t)):l&&(ct(),se(l,1,1,()=>{l=null}),ht())},i(s){r||(re(l),r=!0)},o(s){se(l),r=!1},d(s){l&&l.d(s),s&&I(t)}}}function lw(n){let t,r,l,s,a,u,h,c,g,m,v,p,T,b,w,A,S,D;r=new an({props:{name:"play"}});const O=[nw,tw],E=[];function H(P,W){return P[6]?0:1}u=H(n),h=E[u]=O[u](n),v=new an({props:{name:"rotate-ccw"}});const Y=[iw,rw],J=[];function G(P,W){return P[15]==="real"?0:1}return T=G(n),b=J[T]=Y[T](n),{c(){t=V("button"),Pe(r.$$.fragment),l=de(),s=V("div"),a=V("button"),h.c(),g=de(),m=V("button"),Pe(v.$$.fragment),p=de(),b.c(),w=Me(),this.h()},l(P){t=K(P,"BUTTON",{class:!0,"aria-label":!0});var W=Q(t);qe(r.$$.fragment,W),W.forEach(I),l=me(P),s=K(P,"DIV",{class:!0});var R=Q(s);a=K(R,"BUTTON",{class:!0,"aria-label":!0});var B=Q(a);h.l(B),B.forEach(I),g=me(R),m=K(R,"BUTTON",{class:!0,"aria-label":!0});var F=Q(m);qe(v.$$.fragment,F),F.forEach(I),R.forEach(I),p=me(P),b.l(P),w=Me(),this.h()},h(){k(t,"class","fixed svelte-k5nl60"),k(t,"aria-label","play"),ce(t,"pulse",n[4]),ce(t,"visible",!n[3]&&n[15]!=="real"),k(a,"class","static svelte-k5nl60"),k(a,"aria-label",c=n[6]?"pause":"play"),ce(a,"visible",n[3]||n[15]==="real"),k(m,"class","static svelte-k5nl60"),k(m,"aria-label","restart"),ce(m,"visible",n[3]&&n[15]!=="real"),k(s,"class","buttons svelte-k5nl60")},m(P,W){le(P,t,W),Ue(r,t,null),le(P,l,W),le(P,s,W),U(s,a),E[u].m(a,null),U(s,g),U(s,m),Ue(v,m,null),le(P,p,W),J[T].m(P,W),le(P,w,W),A=!0,S||(D=[Be(t,"click",function(){ml(n[0])&&n[0].apply(this,arguments)}),Be(a,"click",function(){ml(n[6]?n[1]:n[0])&&(n[6]?n[1]:n[0]).apply(this,arguments)}),Be(m,"click",function(){ml(n[2])&&n[2].apply(this,arguments)})],S=!0)},p(P,W){n=P,(!A||W[0]&16)&&ce(t,"pulse",n[4]),(!A||W[0]&32776)&&ce(t,"visible",!n[3]&&n[15]!=="real");let R=u;u=H(n),u!==R&&(ct(),se(E[R],1,1,()=>{E[R]=null}),ht(),h=E[u],h||(h=E[u]=O[u](n),h.c()),re(h,1),h.m(a,null)),(!A||W[0]&64&&c!==(c=n[6]?"pause":"play"))&&k(a,"aria-label",c),(!A||W[0]&32776)&&ce(a,"visible",n[3]||n[15]==="real"),(!A||W[0]&32776)&&ce(m,"visible",n[3]&&n[15]!=="real"),b.p(n,W)},i(P){A||(re(r.$$.fragment,P),re(h),re(v.$$.fragment,P),re(b),A=!0)},o(P){se(r.$$.fragment,P),se(h),se(v.$$.fragment,P),se(b),A=!1},d(P){P&&I(t),Fe(r),P&&I(l),P&&I(s),E[u].d(),Fe(v),P&&I(p),J[T].d(P),P&&I(w),S=!1,pn(D)}}}function sw(n,t,r){let l,s,a,u,h,c,g,m,v,p;ae(n,Mn,ee=>r(18,h=ee));const{songId:T,autoplay:b,getAllParts:w,getDuration:A,getTrimmedDuration:S,getSeek:D,getPlayClicked:O,getIsPlaying:E,style:H}=jn("song"),Y=w();ae(n,Y,ee=>r(7,p=ee));const J=A();ae(n,J,ee=>r(21,m=ee));const G=S();ae(n,G,ee=>r(19,c=ee));const P=D();ae(n,P,ee=>r(20,g=ee));const W=O();ae(n,W,ee=>r(3,v=ee));const R=E();ae(n,R,ee=>r(6,u=ee));let{play:B}=t,{pause:F}=t,{reset:x}=t,{restartActions:z}=t;const X=()=>{h&&h!==T&&u&&(F(),x())};return n.$$set=ee=>{"play"in ee&&r(0,B=ee.play),"pause"in ee&&r(1,F=ee.pause),"reset"in ee&&r(16,x=ee.reset),"restartActions"in ee&&r(2,z=ee.restartActions)},n.$$.update=()=>{n.$$.dirty[0]&2228224&&Oe(G,c=m*1e3-l,c),n.$$.dirty[0]&8&&r(4,a=!v&&H!=="real"),n.$$.dirty[0]&3735553&&m&&g*1e3>c&&(x(),B()),n.$$.dirty[0]&65537&&b&&(x(),B()),n.$$.dirty[0]&262144&&X()},r(17,l=T==="heart"?300:T==="money"?500:1300),r(5,s=T==="normal"||T==="drunk"),[B,F,z,v,a,s,u,p,T,Y,J,G,P,W,R,H,x,l,h,c,g,m]}class ow extends nt{constructor(t){super(),rt(this,t,sw,lw,Qe,{play:0,pause:1,reset:16,restartActions:2},null,[-1,-1])}}function uc(n,t,r){const l=n.slice();l[12]=t[r].text,l[13]=t[r].arrows,l[14]=t[r].left,l[15]=t[r].top;const s=`${l[1]+l[2]*l[14]/100}px`;l[16]=s;const a=`${l[3]*l[15]/100}px`;l[17]=a;const u=l[2]-l[16];return l[18]=u,l}function ac(n){let t,r;return t=new an({props:{name:"corner-left-up"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function fc(n){let t,r;return t=new an({props:{name:"corner-left-down"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function cc(n){let t,r,l=n[13].includes("up"),s,a=n[13].includes("down"),u,h,c=n[12]+"",g,m,v,p=l&&ac(),T=a&&fc();return{c(){t=V("div"),r=V("div"),p&&p.c(),s=de(),T&&T.c(),u=de(),h=V("div"),g=Ye(c),m=de(),this.h()},l(b){t=K(b,"DIV",{class:!0});var w=Q(t);r=K(w,"DIV",{class:!0});var A=Q(r);p&&p.l(A),s=me(A),T&&T.l(A),A.forEach(I),u=me(w),h=K(w,"DIV",{class:!0});var S=Q(h);g=Ge(S,c),S.forEach(I),m=me(w),w.forEach(I),this.h()},h(){k(r,"class","icons svelte-jqm5ss"),k(h,"class","text svelte-jqm5ss"),Ne(h,"transform",n[13].length===2?"translate(0, -2px)":n[13].includes("up")?"translate(0, 2px)":"translate(0, -8px)"),k(t,"class","annotation svelte-jqm5ss"),Ne(t,"left",n[16]),Ne(t,"top",n[17]),Ne(t,"width",`${n[18]}px`)},m(b,w){le(b,t,w),U(t,r),p&&p.m(r,null),U(r,s),T&&T.m(r,null),U(t,u),U(t,h),U(h,g),U(t,m),v=!0},p(b,w){w&1&&(l=b[13].includes("up")),l?p?w&1&&re(p,1):(p=ac(),p.c(),re(p,1),p.m(r,s)):p&&(ct(),se(p,1,1,()=>{p=null}),ht()),w&1&&(a=b[13].includes("down")),a?T?w&1&&re(T,1):(T=fc(),T.c(),re(T,1),T.m(r,null)):T&&(ct(),se(T,1,1,()=>{T=null}),ht()),(!v||w&1)&&c!==(c=b[12]+"")&&Mt(g,c),w&1&&Ne(h,"transform",b[13].length===2?"translate(0, -2px)":b[13].includes("up")?"translate(0, 2px)":"translate(0, -8px)"),w&7&&Ne(t,"left",b[16]),w&9&&Ne(t,"top",b[17]),w&7&&Ne(t,"width",`${b[18]}px`)},i(b){v||(re(p),re(T),v=!0)},o(b){se(p),se(T),v=!1},d(b){b&&I(t),p&&p.d(),T&&T.d()}}}function uw(n){let t,r,l=n[0],s=[];for(let u=0;u<l.length;u+=1)s[u]=cc(uc(n,l,u));const a=u=>se(s[u],1,1,()=>{s[u]=null});return{c(){for(let u=0;u<s.length;u+=1)s[u].c();t=Me()},l(u){for(let h=0;h<s.length;h+=1)s[h].l(u);t=Me()},m(u,h){for(let c=0;c<s.length;c+=1)s[c].m(u,h);le(u,t,h),r=!0},p(u,[h]){if(h&15){l=u[0];let c;for(c=0;c<l.length;c+=1){const g=uc(u,l,c);s[c]?(s[c].p(g,h),re(s[c],1)):(s[c]=cc(g),s[c].c(),re(s[c],1),s[c].m(t.parentNode,t))}for(ct(),c=l.length;c<s.length;c+=1)a(c);ht()}},i(u){if(!r){for(let h=0;h<l.length;h+=1)re(s[h]);r=!0}},o(u){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)se(s[h]);r=!1},d(u){pt(s,u),u&&I(t)}}}function aw(n,t,r){let l,s,a,u;const{songId:h,getXOffset:c,getWidth:g,getHeight:m}=jn("song"),v=c();ae(n,v,w=>r(1,s=w));const p=g();ae(n,p,w=>r(2,a=w));const T=m();return ae(n,T,w=>r(3,u=w)),r(0,l={erykah:[{text:"hi-hat and synth are both swung but also shifted",arrows:["up","down"],left:14,top:19}],money:[{text:"hi-hat is slightly swung",arrows:["up"],left:12,top:25},{text:"snare is slightly early",arrows:["down"],left:21,top:68}],heart:[{text:"hi-hat is at a quintuplet swing",arrows:["up"],left:14,top:25},{text:"snare is slightly early",arrows:["down"],left:21,top:68}]}[h]||[]),[l,s,a,u,v,p,T]}class fw extends nt{constructor(t){super(),rt(this,t,aw,uw,Qe,{})}}function hc(n,t,r){const l=n.slice();return l[10]=t[r],l[11]=t,l[12]=r,l}function gc(n){let t,r=n[0],l=[];for(let s=0;s<r.length;s+=1)l[s]=dc(hc(n,r,s));return{c(){t=V("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){t=K(s,"DIV",{class:!0});var a=Q(t);for(let u=0;u<l.length;u+=1)l[u].l(a);a.forEach(I),this.h()},h(){k(t,"class","wrapper svelte-1c25buz"),ce(t,"visible",n[3]),Ne(t,"height",`${n[2]+18}px`)},m(s,a){le(s,t,a);for(let u=0;u<l.length;u+=1)l[u].m(t,null)},p(s,a){if(a&19){r=s[0];let u;for(u=0;u<r.length;u+=1){const h=hc(s,r,u);l[u]?l[u].p(h,a):(l[u]=dc(h),l[u].c(),l[u].m(t,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}a&8&&ce(t,"visible",s[3]),a&4&&Ne(t,"height",`${s[2]+18}px`)},d(s){s&&I(t),pt(l,s)}}}function dc(n){let t,r,l,s,a=n[10]+"",u,h=n[12];const c=()=>n[7](l,h),g=()=>n[7](null,h);return{c(){t=V("div"),r=de(),l=V("div"),s=new vi(!1),u=de(),this.h()},l(m){t=K(m,"DIV",{class:!0}),Q(t).forEach(I),r=me(m),l=K(m,"DIV",{class:!0});var v=Q(l);s=yi(v,!1),u=me(v),v.forEach(I),this.h()},h(){k(t,"class","bar svelte-1c25buz"),ce(t,"active",n[12]===n[4]),s.a=u,k(l,"class","text svelte-1c25buz"),ce(l,"visible",n[12]===n[4])},m(m,v){le(m,t,v),le(m,r,v),le(m,l,v),s.m(a,l),U(l,u),c()},p(m,v){n=m,v&16&&ce(t,"active",n[12]===n[4]),v&1&&a!==(a=n[10]+"")&&s.p(a),h!==n[12]&&(g(),h=n[12],c()),v&16&&ce(l,"visible",n[12]===n[4])},d(m){m&&I(t),m&&I(r),m&&I(l),g()}}}function cw(n){let t,r=n[0].length&&gc(n);return{c(){r&&r.c(),t=Me()},l(l){r&&r.l(l),t=Me()},m(l,s){r&&r.m(l,s),le(l,t,s)},p(l,[s]){l[0].length?r?r.p(l,s):(r=gc(l),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:Le,o:Le,d(l){r&&r.d(l),l&&I(t)}}}function hw(n,t,r){let l,s,{notes:a}=t;const{getCurrentActionIndex:u,getPlayClicked:h}=jn("song"),c=u();ae(n,c,T=>r(4,s=T));const g=h();ae(n,g,T=>r(3,l=T));let m=[],v=0;qr(()=>{a.length&&r(2,v=Math.max(...m.map(T=>T.getBoundingClientRect().height)))});function p(T,b){Ct[T?"unshift":"push"](()=>{m[b]=T,r(1,m)})}return n.$$set=T=>{"notes"in T&&r(0,a=T.notes)},[a,m,v,l,s,c,g,p]}class gw extends nt{constructor(t){super(),rt(this,t,hw,cw,Qe,{notes:0})}}function mh(n,t={}){let r;const l=a=>{const u=a[0].isIntersecting,h=u?"enter":"exit";if(n.dispatchEvent(new CustomEvent(h)),t.progress&&u){const g={ratio:a[0].intersectionRatio};n.dispatchEvent(new CustomEvent("progress",{detail:g}))}},s=({root:a,top:u,bottom:h})=>{const c=u?u*-1:0,g=h?h*-1:0,m=`${c}px 0px ${g}px 0px`,v={root:a,rootMargin:m};r&&r.disconnect(),r=new IntersectionObserver(l,v),r.observe(n)};return s(t),{update(a){s(a)},destroy(){r&&r.disconnect()}}}function mc(n,t,r){var u;const l=n.slice();l[64]=t[r];const s=(u=l[5].find(function(...c){return n[44](l[64],...c)}))==null?void 0:u.data;l[65]=s;const a=l[13]?l[13].find(function(...c){return n[45](l[64],...c)}):null;return l[66]=a,l}function _c(n,t,r){const l=n.slice();l[69]=t[r];const s=l[69]%1===0;l[70]=s;const a=l[10](l[69]);return l[71]=a,l}function pc(n){let t,r,l,s,a,u;return{c(){t=V("h3"),r=V("span"),l=Ye(n[2]),s=Ye(" by "),a=V("span"),u=Ye(n[3]),this.h()},l(h){t=K(h,"H3",{class:!0});var c=Q(t);r=K(c,"SPAN",{class:!0});var g=Q(r);l=Ge(g,n[2]),g.forEach(I),s=Ge(c," by "),a=K(c,"SPAN",{class:!0});var m=Q(a);u=Ge(m,n[3]),m.forEach(I),c.forEach(I),this.h()},h(){k(r,"class","svelte-pg1v0c"),k(a,"class","svelte-pg1v0c"),k(t,"class","svelte-pg1v0c")},m(h,c){le(h,t,c),U(t,r),U(r,l),U(t,s),U(t,a),U(a,u)},p(h,c){c[0]&4&&Mt(l,h[2]),c[0]&8&&Mt(u,h[3])},d(h){h&&I(t)}}}function dw(n){let t,r;return t=new Bb({}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function mw(n){let t,r=_n(0,n[14]),l=[];for(let s=0;s<r.length;s+=1)l[s]=vc(_c(n,r,s));return{c(){t=V("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){t=K(s,"DIV",{class:!0});var a=Q(t);for(let u=0;u<l.length;u+=1)l[u].l(a);a.forEach(I),this.h()},h(){k(t,"class","grid svelte-pg1v0c"),Ne(t,"width",`${n[6]}px`),Ne(t,"left",`${n[12]}px`)},m(s,a){le(s,t,a);for(let u=0;u<l.length;u+=1)l[u].m(t,null)},p(s,a){if(a[0]&19456){r=_n(0,s[14]);let u;for(u=0;u<r.length;u+=1){const h=_c(s,r,u);l[u]?l[u].p(h,a):(l[u]=vc(h),l[u].c(),l[u].m(t,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}a[0]&64&&Ne(t,"width",`${s[6]}px`),a[0]&4096&&Ne(t,"left",`${s[12]}px`)},d(s){s&&I(t),pt(l,s)}}}function vc(n){let t;return{c(){t=V("div"),this.h()},l(r){t=K(r,"DIV",{class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"class","line svelte-pg1v0c"),ce(t,"thick",n[70]),Ne(t,"left",`${n[71]}px`),Ne(t,"height",`${n[11]}px`)},m(r,l){le(r,t,l)},p(r,l){l[0]&1024&&Ne(t,"left",`${r[71]}px`),l[0]&2048&&Ne(t,"height",`${r[11]}px`)},d(r){r&&I(t)}}}function yc(n){let t,r;return t=new Jb({props:{id:n[64],data:n[65],action:n[66]}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p(l,s){const a={};s[0]&512&&(a.id=l[64]),s[0]&560&&(a.data=l[65]),s[0]&512&&(a.action=l[66]),t.$set(a)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function bc(n){let t,r;return t=new fw({}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function _w(n){let t,r,l,s,a,u,h,c,g,m,v,p,T,b,w,A,S,D,O=n[2]&&n[3]&&pc(n),E=n[16]&&dw(),H=n[15]&&mw(n),Y=n[9],J=[];for(let W=0;W<Y.length;W+=1)J[W]=yc(mc(n,Y,W));const G=W=>se(J[W],1,1,()=>{J[W]=null});let P=n[1]==="real"&&bc();return p=new ow({props:{play:n[34],pause:n[35],reset:n[33],restartActions:n[36]}}),w=new gw({props:{notes:n[0]}}),{c(){t=V("div"),O&&O.c(),r=de(),l=V("figure"),s=V("figcaption"),a=Ye(n[7]),u=de(),E&&E.c(),h=de(),H&&H.c(),c=de();for(let W=0;W<J.length;W+=1)J[W].c();g=de(),P&&P.c(),v=de(),Pe(p.$$.fragment),T=de(),b=V("div"),Pe(w.$$.fragment),this.h()},l(W){t=K(W,"DIV",{class:!0});var R=Q(t);O&&O.l(R),r=me(R),l=K(R,"FIGURE",{class:!0});var B=Q(l);s=K(B,"FIGCAPTION",{class:!0,"aria-live":!0});var F=Q(s);a=Ge(F,n[7]),F.forEach(I),u=me(B),E&&E.l(B),h=me(B),H&&H.l(B),c=me(B);for(let z=0;z<J.length;z+=1)J[z].l(B);g=me(B),P&&P.l(B),B.forEach(I),v=me(R),qe(p.$$.fragment,R),T=me(R),b=K(R,"DIV",{class:!0});var x=Q(b);qe(w.$$.fragment,x),x.forEach(I),R.forEach(I),this.h()},h(){k(s,"class","sr-only"),k(s,"aria-live","polite"),k(l,"class","svelte-pg1v0c"),Fn(()=>n[46].call(l)),ce(l,"faded",n[8]),k(b,"class","below svelte-pg1v0c"),ce(b,"faded",n[8]),k(t,"class","demo svelte-pg1v0c"),ce(t,"real",n[1]==="real")},m(W,R){le(W,t,R),O&&O.m(t,null),U(t,r),U(t,l),U(l,s),U(s,a),U(l,u),E&&E.m(l,null),U(l,h),H&&H.m(l,null),U(l,c);for(let B=0;B<J.length;B+=1)J[B].m(l,null);U(l,g),P&&P.m(l,null),m=vl(l,n[46].bind(l)),U(t,v),Ue(p,t,null),U(t,T),U(t,b),Ue(w,b,null),A=!0,S||(D=[Xc(mh.call(null,l)),Be(l,"exit",n[37])],S=!0)},p(W,R){if(W[2]&&W[3]?O?O.p(W,R):(O=pc(W),O.c(),O.m(t,r)):O&&(O.d(1),O=null),(!A||R[0]&128)&&Mt(a,W[7]),W[15]&&H.p(W,R),R[0]&8752){Y=W[9];let F;for(F=0;F<Y.length;F+=1){const x=mc(W,Y,F);J[F]?(J[F].p(x,R),re(J[F],1)):(J[F]=yc(x),J[F].c(),re(J[F],1),J[F].m(l,g))}for(ct(),F=Y.length;F<J.length;F+=1)G(F);ht()}W[1]==="real"?P?R[0]&2&&re(P,1):(P=bc(),P.c(),re(P,1),P.m(l,null)):P&&(ct(),se(P,1,1,()=>{P=null}),ht()),(!A||R[0]&256)&&ce(l,"faded",W[8]);const B={};R[0]&1&&(B.notes=W[0]),w.$set(B),(!A||R[0]&256)&&ce(b,"faded",W[8]),(!A||R[0]&2)&&ce(t,"real",W[1]==="real")},i(W){if(!A){re(E);for(let R=0;R<Y.length;R+=1)re(J[R]);re(P),re(p.$$.fragment,W),re(w.$$.fragment,W),A=!0}},o(W){se(E),J=J.filter(Boolean);for(let R=0;R<J.length;R+=1)se(J[R]);se(P),se(p.$$.fragment,W),se(w.$$.fragment,W),A=!1},d(W){W&&I(t),O&&O.d(),E&&E.d(),H&&H.d(),pt(J,W),P&&P.d(),m(),Fe(p),Fe(w),S=!1,pn(D)}}}function pw(n,t,r){let l,s,a,u,h,c,g,m,v,p,T,b,w,A,S,D,O,E,H,Y,J;ae(n,Mn,he=>r(51,D=he)),ae(n,$2,he=>r(54,H=he));let{songId:G}=t,{notes:P=[]}=t,{style:W="default"}=t,{song:R}=t,{artist:B}=t;const{parts:F,defaultStyles:x,actions:z,beatsPerMeasure:X=4,measures:ee=1,highlighted:ie={},gridlines:be=!0,marker:pe=!0,autoplay:Ee=!1}=H[G];bl("song",{songId:G,beatsPerMeasure:X,gridlines:be,autoplay:Ee,getDuration:()=>Tt,getTrimmedDuration:()=>ot,getCurrentBeat:()=>yt,getTimeToBeat:()=>vt,getXScale:()=>oe,getInstrumentToggles:()=>ve,getInstrumentStyles:()=>Te,getHighlightedNotes:()=>ne,getIsPlaying:()=>lt,getAllParts:()=>je,getAudioEls:()=>Xe,getSeek:()=>ue,getWidth:()=>Ie,getHeight:()=>$e,getXOffset:()=>gt,getPlayClicked:()=>ut,getCurrentAction:()=>Yt,getCurrentActionIndex:()=>In,actions:z,style:W,song:R,artist:B});const Xe=tt([]);ae(n,Xe,he=>r(52,O=he));const Tt=tt(0),ot=tt(0);ae(n,ot,he=>r(43,b=he));const ue=tt(0);ae(n,ue,he=>r(41,v=he));const je=tt(F);ae(n,je,he=>r(5,c=he));const yt=tt(0);ae(n,yt,he=>r(47,T=he));const vt=tt(void 0);ae(n,vt,he=>r(42,p=he));const oe=tt(void 0);ae(n,oe,he=>r(10,m=he));const ve=tt({bass:"on",kick:"on",snare:"on",hihat:"on",synth:"on"}),Te=tt({...x});ae(n,Te,he=>r(4,u=he));const ne=tt(ie);ae(n,ne,he=>r(48,w=he));const lt=tt(!1);ae(n,lt,he=>r(53,E=he));const Ie=tt(0);ae(n,Ie,he=>r(6,g=he));const $e=tt(0);ae(n,$e,he=>r(11,Y=he));const gt=tt(0);ae(n,gt,he=>r(12,J=he));const ut=tt(!1);ae(n,ut,he=>r(40,h=he));const Yt=tt(void 0);ae(n,Yt,he=>r(50,S=he));const In=tt(void 0);ae(n,In,he=>r(49,A=he));const vn=["bass","synth","hihat","kick","snare"];let bt={song:"",info:""};const fn=()=>{Oe(ue,v=0,v)},Ae=async()=>{O.forEach(he=>{he.currentTime=v,he.play()}),h||(Oe(ut,h=!0,h),Oe(Yt,S=z[0],S),Oe(In,A=0,A)),Oe(lt,E=!0,E),Oe(Mn,D=G,D)},Qt=()=>{Oe(lt,E=!1,E),O.forEach(he=>he.pause()),Oe(Mn,D=void 0,D)},$n=()=>{Oe(Yt,S=z[0],S),Oe(In,A=0,A),Oe(ne,w=[],w),Oe(Te,u={...x},u),fn()},Pl=()=>{Qt(),fn()},er=(he,xt)=>xt==="straight"||xt==="missing"?xt:he==="snare"?"shifted":"swung",Wn=(he,xt)=>xt.instrument===he&&xt.style===u[he],zr=(he,xt)=>xt.instrument===he;function Yr(){Y=this.clientHeight,$e.set(Y)}return n.$$set=he=>{"songId"in he&&r(38,G=he.songId),"notes"in he&&r(0,P=he.notes),"style"in he&&r(1,W=he.style),"song"in he&&r(2,R=he.song),"artist"in he&&r(3,B=he.artist)},n.$$.update=()=>{if(n.$$.dirty[1]&4096&&Oe(vt,p=Jn().domain([0,b]).range([0,X*ee]),p),n.$$.dirty[1]&3072&&Oe(yt,T=p(v*1e3)%X,T),n.$$.dirty[0]&64&&Oe(oe,m=Jn().domain([0,X]).range([0,g]),m),n.$$.dirty[0]&32&&r(9,l=Qn.orderBy(Qn.uniq(c.map(he=>he.instrument)),he=>vn.indexOf(he))),n.$$.dirty[0]&2|n.$$.dirty[1]&512&&r(8,s=W!=="real"&&!h),n.$$.dirty[0]&30|n.$$.dirty[1]&128){const xt=vn.filter(yn=>u[yn]&&(G!=="money"||yn!=="kick")).map(yn=>`the ${yn} is ${er(yn,u[yn])}`).join(", ");W!=="real"?r(39,bt={song:"a basic groove",info:xt}):r(39,bt={song:`${R} by ${B}`,info:xt})}n.$$.dirty[1]&256&&r(7,a=`visualizing each part of ${bt.song} where ${bt.info}.`)},[P,W,R,B,u,c,g,a,s,l,m,Y,J,z,X,be,pe,Xe,ot,ue,je,yt,vt,oe,Te,ne,lt,Ie,$e,gt,ut,Yt,In,fn,Ae,Qt,$n,Pl,G,bt,h,v,p,b,Wn,zr,Yr]}class vw extends nt{constructor(t){super(),rt(this,t,pw,_w,Qe,{songId:38,notes:0,style:1,song:2,artist:3},null,[-1,-1,-1])}}function yw(n){let t,r;const l=n[7].default,s=nv(l,n,n[6],null);return{c(){t=V("div"),s&&s.c()},l(a){t=K(a,"DIV",{});var u=Q(t);s&&s.l(u),u.forEach(I)},m(a,u){le(a,t,u),s&&s.m(t,null),n[8](t),r=!0},p(a,[u]){s&&s.p&&(!r||u&64)&&rv(s,l,a,a[6],r?lv(l,a[6],u,null):iv(a[6]),null)},i(a){r||(re(s,a),r=!0)},o(a){se(s,a),r=!1},d(a){a&&I(t),s&&s.d(a),n[8](null)}}}function bw(n,t,r){let{$$slots:l={},$$scope:s}=t,{root:a=null}=t,{top:u=0}=t,{bottom:h=0}=t,{increments:c=100}=t,{value:g=void 0}=t;const m=[],v=[];let p=[],T=[],b;const w=()=>{p.length&&p.forEach(S)},A=()=>{let O=0,E=0;for(let H=0;H<m.length;H++)m[H]>O&&(O=m[H],E=H);O>0?r(1,g=E):r(1,g=void 0)},S=(O,E)=>{const H=R=>{R[0].isIntersecting;const B=R[0].intersectionRatio;m[E]=B,A()},Y=u?u*-1:0,J=h?h*-1:0,G=`${Y}px 0px ${J}px 0px`,P={root:a,rootMargin:G,threshold:v};T[E]&&T[E].disconnect();const W=new IntersectionObserver(H,P);W.observe(O),T[E]=W};qr(()=>{for(let O=0;O<c+1;O++)v.push(O/c);p=b.querySelectorAll(":scope > *:not(iframe):not(audio)"),w()});function D(O){Ct[O?"unshift":"push"](()=>{b=O,r(0,b)})}return n.$$set=O=>{"root"in O&&r(2,a=O.root),"top"in O&&r(3,u=O.top),"bottom"in O&&r(4,h=O.bottom),"increments"in O&&r(5,c=O.increments),"value"in O&&r(1,g=O.value),"$$scope"in O&&r(6,s=O.$$scope)},n.$$.update=()=>{n.$$.dirty&24&&w()},[b,g,a,u,h,c,s,l,D]}class ww extends nt{constructor(t){super(),rt(this,t,bw,yw,Qe,{root:2,top:3,bottom:4,increments:5,value:1})}}const kw=yo(0,n=>{let t=!1,r=0;const l=()=>{n(r),t=!1},s=()=>{r=window.scrollY,t||(requestAnimationFrame(l),t=!0)};return document.addEventListener("scroll",s),()=>{document.removeEventListener("scroll",s)}});function wc(n,t,r){const l=n.slice();l[17]=t[r].text,l[18]=t[r].classname,l[19]=t[r].sound,l[20]=t[r].showNotes,l[25]=r;const s=l[25]===l[2]&&l[3];l[21]=s;const a=l[18]==="quote"?l[17].split("~")[0]:l[17];l[22]=a;const u=l[18]==="quote"?l[17].split("~")[1]:null;return l[23]=u,l}function kc(n){let t,r,l=n[23]+"",s;return{c(){t=V("p"),r=Ye("- "),s=Ye(l),this.h()},l(a){t=K(a,"P",{class:!0});var u=Q(t);r=Ge(u,"- "),s=Ge(u,l),u.forEach(I),this.h()},h(){k(t,"class","speaker svelte-1ugy91u")},m(a,u){le(a,t,u),U(t,r),U(t,s)},p(a,u){u&1&&l!==(l=a[23]+"")&&Mt(s,l)},d(a){a&&I(t)}}}function Tc(n){let t,r,l=n[22]+"",s,a,u,h,c,g=n[23]&&kc(n);return{c(){t=V("div"),r=V("p"),a=de(),g&&g.c(),u=de(),this.h()},l(m){t=K(m,"DIV",{class:!0,id:!0});var v=Q(t);r=K(v,"P",{class:!0});var p=Q(r);p.forEach(I),a=me(v),g&&g.l(v),u=me(v),v.forEach(I),this.h()},h(){k(r,"class",s=Fr(n[18])+" svelte-1ugy91u"),k(t,"class","step svelte-1ugy91u"),k(t,"id",n[25]===0?"start-of-story":""),ce(t,"active",n[21])},m(m,v){le(m,t,v),U(t,r),r.innerHTML=l,U(t,a),g&&g.m(t,null),U(t,u),c=!0},p(m,v){(!c||v&1)&&l!==(l=m[22]+"")&&(r.innerHTML=l),(!c||v&1&&s!==(s=Fr(m[18])+" svelte-1ugy91u"))&&k(r,"class",s),m[23]?g?g.p(m,v):(g=kc(m),g.c(),g.m(t,u)):g&&(g.d(1),g=null),(!c||v&12)&&ce(t,"active",m[21])},i(m){c||(Fn(()=>{h||(h=pl(t,Nl,{},!0)),h.run(1)}),c=!0)},o(m){h||(h=pl(t,Nl,{},!1)),h.run(0),c=!1},d(m){m&&I(t),g&&g.d(),m&&h&&h.end()}}}function Tw(n){let t,r,l=n[0],s=[];for(let u=0;u<l.length;u+=1)s[u]=Tc(wc(n,l,u));const a=u=>se(s[u],1,1,()=>{s[u]=null});return{c(){for(let u=0;u<s.length;u+=1)s[u].c();t=Me()},l(u){for(let h=0;h<s.length;h+=1)s[h].l(u);t=Me()},m(u,h){for(let c=0;c<s.length;c+=1)s[c].m(u,h);le(u,t,h),r=!0},p(u,h){if(h&13){l=u[0];let c;for(c=0;c<l.length;c+=1){const g=wc(u,l,c);s[c]?(s[c].p(g,h),re(s[c],1)):(s[c]=Tc(g),s[c].c(),re(s[c],1),s[c].m(t.parentNode,t))}for(ct(),c=l.length;c<s.length;c+=1)a(c);ht()}},i(u){if(!r){for(let h=0;h<l.length;h+=1)re(s[h]);r=!0}},o(u){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)se(s[h]);r=!1},d(u){pt(s,u),u&&I(t)}}}function Aw(n){let t,r,l,s,a,u,h,c=!0,g,m,v;function p(b){n[8](b)}let T={$$slots:{default:[Tw]},$$scope:{ctx:n}};return n[2]!==void 0&&(T.value=n[2]),r=new ww({props:T}),Ct.push(()=>Jc(r,"value",p)),{c(){t=V("div"),Pe(r.$$.fragment),s=de(),a=V("audio"),this.h()},l(b){t=K(b,"DIV",{class:!0});var w=Q(t);qe(r.$$.fragment,w),w.forEach(I),s=me(b),a=K(b,"AUDIO",{src:!0,preload:!0,class:!0}),Q(a).forEach(I),this.h()},h(){k(t,"class","scroll-container svelte-1ugy91u"),Nt(a.src,u="assets/sound/intro/club.mp3")||k(a,"src",u),a.loop=!0,a.muted=h=!n[7],k(a,"preload","auto"),k(a,"class","svelte-1ugy91u")},m(b,w){le(b,t,w),Ue(r,t,null),n[9](t),le(b,s,w),le(b,a,w),n[10](a),isNaN(n[5])||(a.volume=n[5]),g=!0,m||(v=[Be(a,"play",n[11]),Be(a,"pause",n[11]),Be(a,"volumechange",n[12])],m=!0)},p(b,[w]){const A={};w&67108877&&(A.$$scope={dirty:w,ctx:b}),!l&&w&4&&(l=!0,A.value=b[2],Qc(()=>l=!1)),r.$set(A),(!g||w&128&&h!==(h=!b[7]))&&(a.muted=h),w&64&&c!==(c=b[6])&&a[c?"pause":"play"](),w&32&&!isNaN(b[5])&&(a.volume=b[5])},i(b){g||(re(r.$$.fragment,b),g=!0)},o(b){se(r.$$.fragment,b),g=!1},d(b){b&&I(t),Fe(r),n[9](null),b&&I(s),b&&I(a),n[10](null),m=!1,pn(v)}}}function Mw(n,t,r){let l,s,a,u,h;ae(n,Ol,E=>r(2,l=E)),ae(n,fi,E=>r(13,s=E)),ae(n,kw,E=>r(14,a=E)),ae(n,Rl,E=>r(3,u=E)),ae(n,pi,E=>r(7,h=E));let{steps:c}=t,g,m=[],v,p=1,T;const b=()=>{u&&(l===void 0&&(v&&(v.pause(),r(1,v.currentTime=0,v)),a<1e3?Oe(fi,s="up",s):Oe(fi,s="down",s)),l===0?r(5,p=1):r(5,p=.2),l!==void 0&&(r(6,T=!1),m.forEach((E,H)=>{H===l?E.play():E.pause()})))};function w(E){l=E,Ol.set(l)}function A(E){Ct[E?"unshift":"push"](()=>{g=E,r(4,g)})}function S(E){Ct[E?"unshift":"push"](()=>{v=E,r(1,v)})}function D(){T=this.paused,r(6,T)}function O(){p=this.volume,r(5,p)}return n.$$set=E=>{"steps"in E&&r(0,c=E.steps)},n.$$.update=()=>{n.$$.dirty&10&&u&&v&&v.play(),n.$$.dirty&4&&b()},[c,v,l,u,g,p,T,h,w,A,S,D,O]}class Ew extends nt{constructor(t){super(),rt(this,t,Mw,Aw,Qe,{steps:0})}}function Iw(n){let t,r;return t=new an({props:{name:"pause"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function Sw(n){let t,r;return t=new an({props:{name:"play"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function Cw(n){let t,r,l,s,a,u,h,c,g,m=!0,v=!1,p,T,b,w,A,S,D,O,E,H=n[9](n[5])+"",Y,J,G=n[9](n[4])+"",P,W,R,B,F,x,z;function X(){cancelAnimationFrame(p),c.paused||(p=ci(X),v=!0),n[16].call(c)}const ee=[Sw,Iw],ie=[];function be(pe,Ee){return pe[6]?0:1}return A=be(n),S=ie[A]=ee[A](n),{c(){t=V("div"),r=V("div"),l=V("strong"),s=Ye(n[1]),a=Ye(" by "),u=Ye(n[2]),h=de(),c=V("audio"),T=de(),b=V("div"),w=V("button"),S.c(),O=de(),E=V("div"),Y=Ye(H),J=Ye(" / "),P=Ye(G),W=de(),R=V("div"),B=V("div"),this.h()},l(pe){t=K(pe,"DIV",{class:!0});var Ee=Q(t);r=K(Ee,"DIV",{class:!0});var Xe=Q(r);l=K(Xe,"STRONG",{});var Tt=Q(l);s=Ge(Tt,n[1]),Tt.forEach(I),a=Ge(Xe," by "),u=Ge(Xe,n[2]),Xe.forEach(I),h=me(Ee),c=K(Ee,"AUDIO",{src:!0,preload:!0}),Q(c).forEach(I),T=me(Ee),b=K(Ee,"DIV",{class:!0});var ot=Q(b);w=K(ot,"BUTTON",{"aria-label":!0,class:!0});var ue=Q(w);S.l(ue),ue.forEach(I),O=me(ot),E=K(ot,"DIV",{class:!0});var je=Q(E);Y=Ge(je,H),J=Ge(je," / "),P=Ge(je,G),je.forEach(I),W=me(ot),R=K(ot,"DIV",{class:!0});var yt=Q(R);B=K(yt,"DIV",{class:!0}),Q(B).forEach(I),yt.forEach(I),ot.forEach(I),Ee.forEach(I),this.h()},h(){k(r,"class","description svelte-19lq5tp"),Nt(c.src,g=n[0])||k(c,"src",g),k(c,"preload","auto"),n[4]===void 0&&Fn(()=>n[15].call(c)),k(w,"aria-label",D=n[6]?"play":"pause"),k(w,"class","svelte-19lq5tp"),k(E,"class","time svelte-19lq5tp"),k(B,"class","seek svelte-19lq5tp"),Ne(B,"width",n[7]),k(R,"class","bar svelte-19lq5tp"),ce(R,"light",n[8]),k(b,"class","audio-player svelte-19lq5tp"),k(t,"class","container svelte-19lq5tp")},m(pe,Ee){le(pe,t,Ee),U(t,r),U(r,l),U(l,s),U(r,a),U(r,u),U(t,h),U(t,c),n[13](c),U(t,T),U(t,b),U(b,w),ie[A].m(w,null),U(b,O),U(b,E),U(E,Y),U(E,J),U(E,P),U(b,W),U(b,R),U(R,B),F=!0,x||(z=[Be(c,"play",n[14]),Be(c,"pause",n[14]),Be(c,"durationchange",n[15]),Be(c,"timeupdate",X),Be(w,"click",n[10])],x=!0)},p(pe,[Ee]){(!F||Ee&2)&&Mt(s,pe[1]),(!F||Ee&4)&&Mt(u,pe[2]),(!F||Ee&1&&!Nt(c.src,g=pe[0]))&&k(c,"src",g),Ee&64&&m!==(m=pe[6])&&c[m?"pause":"play"](),!v&&Ee&32&&!isNaN(pe[5])&&(c.currentTime=pe[5]),v=!1;let Xe=A;A=be(pe),A!==Xe&&(ct(),se(ie[Xe],1,1,()=>{ie[Xe]=null}),ht(),S=ie[A],S||(S=ie[A]=ee[A](pe),S.c()),re(S,1),S.m(w,null)),(!F||Ee&64&&D!==(D=pe[6]?"play":"pause"))&&k(w,"aria-label",D),(!F||Ee&32)&&H!==(H=pe[9](pe[5])+"")&&Mt(Y,H),(!F||Ee&16)&&G!==(G=pe[9](pe[4])+"")&&Mt(P,G),Ee&128&&Ne(B,"width",pe[7]),(!F||Ee&256)&&ce(R,"light",pe[8])},i(pe){F||(re(S),F=!0)},o(pe){se(S),F=!1},d(pe){pe&&I(t),n[13](null),ie[A].d(),x=!1,pn(z)}}}function Dw(n,t,r){let l,s,a,u;ae(n,Mn,H=>r(12,u=H));let{url:h}=t,{song:c}=t,{artist:g}=t,m,v=!0,p,T=0;const b=H=>{const Y=new Date(null);return Y.setSeconds(H),hh("%M:%S")(Y)},w=()=>{v?(m.play(),Oe(Mn,u=Qn.kebabCase(c),u)):(m.pause(),Oe(Mn,u=void 0,u))},A=()=>{u&&u!==Qn.kebabCase(c)&&!v&&(m.pause(),r(5,T=0))};function S(H){Ct[H?"unshift":"push"](()=>{m=H,r(3,m)})}function D(){v=this.paused,r(6,v)}function O(){p=this.duration,r(4,p)}function E(){T=this.currentTime,r(5,T),r(4,p),r(3,m)}return n.$$set=H=>{"url"in H&&r(0,h=H.url),"song"in H&&r(1,c=H.song),"artist"in H&&r(2,g=H.artist)},n.$$.update=()=>{n.$$.dirty&4&&r(8,l=g==="Sungazer"),n.$$.dirty&16&&r(11,s=Jn().domain([0,p]).range([0,100])),n.$$.dirty&56&&T===p&&m&&(r(5,T=0),m.pause()),n.$$.dirty&2080&&r(7,a=`${s(T)}%`),n.$$.dirty&4096&&A()},[h,c,g,m,p,T,v,a,l,b,w,s,u,S,D,O,E]}class Rw extends nt{constructor(t){super(),rt(this,t,Dw,Cw,Qe,{url:0,song:1,artist:2})}}function Ow(n){let t;return{c(){t=on("circle"),this.h()},l(r){t=un(r,"circle",{cx:!0,cy:!0,r:!0,class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"cx",n[0]),k(t,"cy",n[1]),k(t,"r",10),k(t,"class","svelte-ff9lmm"),ce(t,"played",n[2])},m(r,l){le(r,t,l)},p(r,[l]){l&1&&k(t,"cx",r[0]),l&2&&k(t,"cy",r[1]),l&4&&ce(t,"played",r[2])},i:Le,o:Le,d(r){r&&I(t)}}}function Nw(n,t,r){let l,s,{note:a}=t,{cx:u}=t,{cy:h}=t;const{getCurrentBeat:c}=jn("song"),g=c();return ae(n,g,m=>r(5,s=m)),n.$$set=m=>{"note"in m&&r(4,a=m.note),"cx"in m&&r(0,u=m.cx),"cy"in m&&r(1,h=m.cy)},n.$$.update=()=>{n.$$.dirty&48&&r(2,l=a!==0&&s>=a-.05||a===0&&s*2<1)},[u,h,l,g,a,s]}class xw extends nt{constructor(t){super(),rt(this,t,Nw,Ow,Qe,{note:4,cx:0,cy:1})}}function Ac(n,t,r){const l=n.slice();return l[12]=t[r],l}function Mc(n,t,r){const l=n.slice();return l[12]=t[r],l}function Ec(n){let t,r=Il(`.${n[8]}f`)(n[12])+"",l;return{c(){t=V("span"),l=Ye(r),this.h()},l(s){t=K(s,"SPAN",{class:!0});var a=Q(t);l=Ge(a,r),a.forEach(I),this.h()},h(){k(t,"class","tick svelte-11h31fr")},m(s,a){le(s,t,a),U(t,l)},p(s,a){a&257&&r!==(r=Il(`.${s[8]}f`)(s[12])+"")&&Mt(l,r)},d(s){s&&I(t)}}}function Ic(n){let t,r=n[12]+"",l;return{c(){t=V("span"),l=Ye(r),this.h()},l(s){t=K(s,"SPAN",{class:!0});var a=Q(t);l=Ge(a,r),a.forEach(I),this.h()},h(){k(t,"class","tick svelte-11h31fr")},m(s,a){le(s,t,a),U(t,l)},p(s,a){a&64&&r!==(r=s[12]+"")&&Mt(l,r)},d(s){s&&I(t)}}}function Lw(n){let t,r,l,s,a,u,h,c,g,m=n[0],v=[];for(let b=0;b<m.length;b+=1)v[b]=Ec(Mc(n,m,b));let p=n[6],T=[];for(let b=0;b<p.length;b+=1)T[b]=Ic(Ac(n,p,b));return{c(){t=V("div"),r=V("div");for(let b=0;b<v.length;b+=1)v[b].c();l=de(),s=V("div");for(let b=0;b<T.length;b+=1)T[b].c();a=de(),u=V("input"),this.h()},l(b){t=K(b,"DIV",{class:!0});var w=Q(t);r=K(w,"DIV",{class:!0});var A=Q(r);for(let D=0;D<v.length;D+=1)v[D].l(A);A.forEach(I),l=me(w),s=K(w,"DIV",{class:!0});var S=Q(s);for(let D=0;D<T.length;D+=1)T[D].l(S);S.forEach(I),a=me(w),u=K(w,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,style:!0,class:!0}),w.forEach(I),this.h()},h(){k(r,"class","ticks svelte-11h31fr"),k(s,"class","ticks-above svelte-11h31fr"),k(u,"type","range"),k(u,"aria-label",n[5]),k(u,"min",n[2]),k(u,"max",n[3]),k(u,"step",n[4]),k(u,"style",h=`--dot-color: ${n[7]}`),k(u,"class","svelte-11h31fr"),k(t,"class","range svelte-11h31fr")},m(b,w){le(b,t,w),U(t,r);for(let A=0;A<v.length;A+=1)v[A].m(r,null);U(t,l),U(t,s);for(let A=0;A<T.length;A+=1)T[A].m(s,null);U(t,a),U(t,u),nf(u,n[1]),c||(g=[Be(u,"change",n[10]),Be(u,"input",n[10])],c=!0)},p(b,[w]){if(w&257){m=b[0];let A;for(A=0;A<m.length;A+=1){const S=Mc(b,m,A);v[A]?v[A].p(S,w):(v[A]=Ec(S),v[A].c(),v[A].m(r,null))}for(;A<v.length;A+=1)v[A].d(1);v.length=m.length}if(w&64){p=b[6];let A;for(A=0;A<p.length;A+=1){const S=Ac(b,p,A);T[A]?T[A].p(S,w):(T[A]=Ic(S),T[A].c(),T[A].m(s,null))}for(;A<T.length;A+=1)T[A].d(1);T.length=p.length}w&32&&k(u,"aria-label",b[5]),w&4&&k(u,"min",b[2]),w&8&&k(u,"max",b[3]),w&16&&k(u,"step",b[4]),w&128&&h!==(h=`--dot-color: ${b[7]}`)&&k(u,"style",h),w&2&&nf(u,b[1])},i:Le,o:Le,d(b){b&&I(t),pt(v,b),pt(T,b),c=!1,pn(g)}}}function Pw(n,t,r){let l,{min:s=0}=t,{max:a=100}=t,{step:u=1}=t,{showTicks:h=!1}=t,{value:c=s}=t,{label:g=""}=t,{ticks:m}=t,{ticksAbove:v}=t,{dotColor:p="var(--color-gray-900)"}=t;const T=w=>Math.floor(w)===w?0:w.toString().split(".")[1].length||0;function b(){c=sv(this.value),r(1,c)}return n.$$set=w=>{"min"in w&&r(2,s=w.min),"max"in w&&r(3,a=w.max),"step"in w&&r(4,u=w.step),"showTicks"in w&&r(9,h=w.showTicks),"value"in w&&r(1,c=w.value),"label"in w&&r(5,g=w.label),"ticks"in w&&r(0,m=w.ticks),"ticksAbove"in w&&r(6,v=w.ticksAbove),"dotColor"in w&&r(7,p=w.dotColor)},n.$$.update=()=>{n.$$.dirty&16&&r(8,l=T(u)),n.$$.dirty&541&&r(0,m=m||(h?_n(s,a+u,u):[]))},[m,c,s,a,u,g,v,p,l,h,b]}class Uw extends nt{constructor(t){super(),rt(this,t,Pw,Lw,Qe,{min:2,max:3,step:4,showTicks:9,value:1,label:5,ticks:0,ticksAbove:6,dotColor:7})}}function Sc(n,t,r){const l=n.slice();return l[38]=t[r],l[39]=t,l[40]=r,l}function Cc(n,t,r){const l=n.slice();l[41]=t[r],l[40]=r;const s=l[13](l[5](l[41]));l[42]=s;const a=l[14](l[5](l[41]));return l[43]=a,l}function Dc(n,t,r){const l=n.slice();return l[40]=t[r],l}function Fw(n){let t,r;return t=new an({props:{name:"play"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function Ww(n){let t,r;return t=new an({props:{name:"pause"}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function Rc(n){let t,r=_n(0,1,1/n[3]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Oc(Dc(n,r,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=Me()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);t=Me()},m(s,a){for(let u=0;u<l.length;u+=1)l[u].m(s,a);le(s,t,a)},p(s,a){if(a[0]&4136){r=_n(0,1,1/s[3]);let u;for(u=0;u<r.length;u+=1){const h=Dc(s,r,u);l[u]?l[u].p(h,a):(l[u]=Oc(h),l[u].c(),l[u].m(t.parentNode,t))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(s){pt(l,s),s&&I(t)}}}function Oc(n){let t,r,l;return{c(){t=on("line"),this.h()},l(s){t=un(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),Q(t).forEach(I),this.h()},h(){k(t,"x1",0),k(t,"y1",0),k(t,"x2",r=n[12]*Math.cos(n[5](n[40]))),k(t,"y2",l=n[12]*Math.sin(n[5](n[40]))),k(t,"class","svelte-7ccxy3")},m(s,a){le(s,t,a)},p(s,a){a[0]&40&&r!==(r=s[12]*Math.cos(s[5](s[40])))&&k(t,"x2",r),a[0]&40&&l!==(l=s[12]*Math.sin(s[5](s[40])))&&k(t,"y2",l)},d(s){s&&I(t)}}}function Nc(n){let t,r;return t=new xw({props:{note:n[41],cx:n[42],cy:n[43]}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p(l,s){const a={};s[0]&64&&(a.note=l[41]),s[0]&96&&(a.cx=l[42]),s[0]&96&&(a.cy=l[43]),t.$set(a)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function xc(n){let t,r,l,s,a,u,h,c,g,m,v,p;function T(w){n[28](w)}let b={min:3,max:9,step:2,showTicks:!0,ticksAbove:n[11].map(n[27]),dotColor:"var(--accent-light)"};return n[3]!==void 0&&(b.value=n[3]),m=new Uw({props:b}),Ct.push(()=>Jc(m,"value",T)),{c(){t=V("div"),r=V("div"),l=V("div"),s=Ye("swing percentage"),a=de(),u=V("div"),h=Ye("divide the beat in"),c=de(),g=V("div"),Pe(m.$$.fragment),this.h()},l(w){t=K(w,"DIV",{class:!0});var A=Q(t);r=K(A,"DIV",{class:!0});var S=Q(r);l=K(S,"DIV",{class:!0});var D=Q(l);s=Ge(D,"swing percentage"),D.forEach(I),a=me(S),u=K(S,"DIV",{class:!0});var O=Q(u);h=Ge(O,"divide the beat in"),O.forEach(I),S.forEach(I),c=me(A),g=K(A,"DIV",{class:!0});var E=Q(g);qe(m.$$.fragment,E),E.forEach(I),A.forEach(I),this.h()},h(){k(l,"class","svelte-7ccxy3"),k(u,"class","svelte-7ccxy3"),k(r,"class","labels svelte-7ccxy3"),k(g,"class","slider svelte-7ccxy3"),k(t,"class","interactive svelte-7ccxy3")},m(w,A){le(w,t,A),U(t,r),U(r,l),U(l,s),U(r,a),U(r,u),U(u,h),U(t,c),U(t,g),Ue(m,g,null),p=!0},p(w,A){const S={};!v&&A[0]&8&&(v=!0,S.value=w[3],Qc(()=>v=!1)),m.$set(S)},i(w){p||(re(m.$$.fragment,w),p=!0)},o(w){se(m.$$.fragment,w),p=!1},d(w){w&&I(t),Fe(m)}}}function Bw(n){let t,r,l,s=n[40];const a=()=>n[32](t,s),u=()=>n[32](null,s);return{c(){t=V("audio"),this.h()},l(h){t=K(h,"AUDIO",{currenttime:!0,src:!0}),Q(t).forEach(I),this.h()},h(){k(t,"currenttime",n[7]),Nt(t.src,r=`assets/sound/swing-percentage/${n[38]}.mp3`)||k(t,"src",r),t.muted=l=n[38]!==n[3]},m(h,c){le(h,t,c),a()},p(h,c){n=h,c[0]&128&&k(t,"currenttime",n[7]),c[0]&8&&l!==(l=n[38]!==n[3])&&(t.muted=l),s!==n[40]&&(u(),s=n[40],a())},d(h){h&&I(t),u()}}}function Hw(n){let t,r,l,s=n[40],a=!1,u,h,c;const g=()=>n[29](t,s),m=()=>n[29](null,s);function v(){cancelAnimationFrame(u),t.paused||(u=ci(v),a=!0),n[30].call(t)}return{c(){t=V("audio"),this.h()},l(p){t=K(p,"AUDIO",{src:!0}),Q(t).forEach(I),this.h()},h(){Nt(t.src,r=`assets/sound/swing-percentage/${n[38]}.mp3`)||k(t,"src",r),t.muted=l=n[38]!==n[3],n[2]===void 0&&Fn(()=>n[31].call(t))},m(p,T){le(p,t,T),g(),h||(c=[Be(t,"timeupdate",v),Be(t,"durationchange",n[31])],h=!0)},p(p,T){n=p,T[0]&8&&l!==(l=n[38]!==n[3])&&(t.muted=l),s!==n[40]&&(m(),s=n[40],g()),!a&&T[0]&128&&!isNaN(n[7])&&(t.currentTime=n[7]),a=!1},d(p){p&&I(t),m(),h=!1,pn(c)}}}function Lc(n){let t;function r(a,u){return a[40]===0?Hw:Bw}let s=r(n)(n);return{c(){s.c(),t=Me()},l(a){s.l(a),t=Me()},m(a,u){s.m(a,u),le(a,t,u)},p(a,u){s.p(a,u)},d(a){s.d(a),a&&I(t)}}}function qw(n){let t,r,l,s,a,u,h,c,g,m,v,p,T,b,w,A,S,D,O,E;const H=[Ww,Fw],Y=[];function J(z,X){return z[10]?0:1}l=J(n),s=Y[l]=H[l](n);let G=n[0]&&Rc(n),P=n[6],W=[];for(let z=0;z<P.length;z+=1)W[z]=Nc(Cc(n,P,z));const R=z=>se(W[z],1,1,()=>{W[z]=null});let B=n[1]&&xc(n),F=n[11],x=[];for(let z=0;z<F.length;z+=1)x[z]=Lc(Sc(n,F,z));return{c(){t=V("div"),r=V("button"),s.c(),u=de(),h=on("svg"),c=on("g"),g=on("circle"),m=on("path"),G&&G.c(),p=on("line");for(let z=0;z<W.length;z+=1)W[z].c();w=de(),B&&B.c(),A=de();for(let z=0;z<x.length;z+=1)x[z].c();S=Me(),this.h()},l(z){t=K(z,"DIV",{class:!0});var X=Q(t);r=K(X,"BUTTON",{"aria-label":!0,class:!0});var ee=Q(r);s.l(ee),ee.forEach(I),u=me(X),h=un(X,"svg",{width:!0,height:!0});var ie=Q(h);c=un(ie,"g",{});var be=Q(c);g=un(be,"circle",{class:!0,r:!0}),Q(g).forEach(I),m=un(be,"path",{class:!0,d:!0}),Q(m).forEach(I),G&&G.l(be),p=un(be,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),Q(p).forEach(I);for(let pe=0;pe<W.length;pe+=1)W[pe].l(be);be.forEach(I),ie.forEach(I),w=me(X),B&&B.l(X),X.forEach(I),A=me(z);for(let pe=0;pe<x.length;pe+=1)x[pe].l(z);S=Me(),this.h()},h(){k(r,"aria-label",a=n[10]?"pause":"play"),k(r,"class","svelte-7ccxy3"),k(g,"class","outer svelte-7ccxy3"),k(g,"r",n[12]),k(m,"class","percentage svelte-7ccxy3"),k(m,"d",v=n[9]()),k(p,"class","marker svelte-7ccxy3"),k(p,"x1",0),k(p,"y1",0),k(p,"x2",T=n[13](n[5](n[4](n[7])))),k(p,"y2",b=n[14](n[5](n[4](n[7])))),Ne(c,"transform","translate(50%, 50%)"),k(h,"width","100%"),k(h,"height",_h),k(t,"class","circle-wrapper svelte-7ccxy3")},m(z,X){le(z,t,X),U(t,r),Y[l].m(r,null),U(t,u),U(t,h),U(h,c),U(c,g),U(c,m),G&&G.m(c,null),U(c,p);for(let ee=0;ee<W.length;ee+=1)W[ee].m(c,null);U(t,w),B&&B.m(t,null),le(z,A,X);for(let ee=0;ee<x.length;ee+=1)x[ee].m(z,X);le(z,S,X),D=!0,O||(E=Be(r,"click",function(){ml(n[10]?n[18]:n[19])&&(n[10]?n[18]:n[19]).apply(this,arguments)}),O=!0)},p(z,X){n=z;let ee=l;if(l=J(n),l!==ee&&(ct(),se(Y[ee],1,1,()=>{Y[ee]=null}),ht(),s=Y[l],s||(s=Y[l]=H[l](n),s.c()),re(s,1),s.m(r,null)),(!D||X[0]&1024&&a!==(a=n[10]?"pause":"play"))&&k(r,"aria-label",a),(!D||X[0]&512&&v!==(v=n[9]()))&&k(m,"d",v),n[0]?G?G.p(n,X):(G=Rc(n),G.c(),G.m(c,p)):G&&(G.d(1),G=null),(!D||X[0]&176&&T!==(T=n[13](n[5](n[4](n[7])))))&&k(p,"x2",T),(!D||X[0]&176&&b!==(b=n[14](n[5](n[4](n[7])))))&&k(p,"y2",b),X[0]&24672){P=n[6];let ie;for(ie=0;ie<P.length;ie+=1){const be=Cc(n,P,ie);W[ie]?(W[ie].p(be,X),re(W[ie],1)):(W[ie]=Nc(be),W[ie].c(),re(W[ie],1),W[ie].m(c,null))}for(ct(),ie=P.length;ie<W.length;ie+=1)R(ie);ht()}if(n[1]?B?(B.p(n,X),X[0]&2&&re(B,1)):(B=xc(n),B.c(),re(B,1),B.m(t,null)):B&&(ct(),se(B,1,1,()=>{B=null}),ht()),X[0]&2444){F=n[11];let ie;for(ie=0;ie<F.length;ie+=1){const be=Sc(n,F,ie);x[ie]?x[ie].p(be,X):(x[ie]=Lc(be),x[ie].c(),x[ie].m(S.parentNode,S))}for(;ie<x.length;ie+=1)x[ie].d(1);x.length=F.length}},i(z){if(!D){re(s);for(let X=0;X<P.length;X+=1)re(W[X]);re(B),D=!0}},o(z){se(s),W=W.filter(Boolean);for(let X=0;X<W.length;X+=1)se(W[X]);se(B),D=!1},d(z){z&&I(t),Y[l].d(),G&&G.d(),pt(W,z),B&&B.d(),z&&I(A),pt(x,z),z&&I(S),O=!1,E()}}}const _h=300,zw=30;function Yw(n,t,r){let l,s,a,u,h,c,g,m,v;ae(n,Mn,ue=>r(26,g=ue));let{dots:p=[0]}=t,{beatsPerRotation:T=1}=t,{division:b=3}=t,{interactive:w}=t,{measures:A=4}=t,{beatsPerMeasure:S=4}=t;bl("song",{getCurrentBeat:()=>G,getIsPlaying:()=>Y});const D=[3,5,7,9],O=_h/2-zw,E=ue=>O*Math.cos(ue),H=ue=>O*Math.sin(ue),Y=tt(!1);ae(n,Y,ue=>r(10,m=ue));const J=tt(0);ae(n,J,ue=>r(7,c=ue));const G=tt(0);ae(n,G,ue=>r(33,v=ue));let P,W=0,R=[],B=+b,F=w?"circle-interactive":"circle";const x=()=>{g&&g!==F&&m&&X()},z=()=>{R.forEach(ue=>{ue.currentTime=c})},X=()=>{Oe(Y,m=!1,m),Oe(Mn,g=void 0,g),R.forEach(ue=>ue.pause())},ee=()=>{Oe(Y,m=!0,m),Oe(Mn,g=F,g),R.forEach(ue=>{ue.currentTime=c,ue.play()})},ie=()=>{Oe(J,c=0,c)},be=ue=>`${Qn.round(Math.ceil(ue/2)/ue*100,1)}%`;function pe(ue){B=ue,r(3,B)}function Ee(ue,je){Ct[ue?"unshift":"push"](()=>{R[je]=ue,r(8,R)})}function Xe(){c=this.currentTime,J.set(c)}function Tt(){P=this.duration,r(2,P)}function ot(ue,je){Ct[ue?"unshift":"push"](()=>{R[je]=ue,r(8,R)})}return n.$$set=ue=>{"dots"in ue&&r(20,p=ue.dots),"beatsPerRotation"in ue&&r(21,T=ue.beatsPerRotation),"division"in ue&&r(0,b=ue.division),"interactive"in ue&&r(1,w=ue.interactive),"measures"in ue&&r(22,A=ue.measures),"beatsPerMeasure"in ue&&r(23,S=ue.beatsPerMeasure)},n.$$.update=()=>{n.$$.dirty[0]&8&&r(25,l=Math.ceil(B/2)/B),n.$$.dirty[0]&34603010&&r(6,s=w?[0,l]:p?p.map(ue=>+ue):[]),n.$$.dirty[0]&2097152&&r(5,h=Jn().domain([0,T]).range([-Math.PI/2,3/2*Math.PI])),n.$$.dirty[0]&96&&r(9,a=Y2().innerRadius(0).outerRadius(O).startAngle(h(s[0])+Math.PI/2).endAngle(h(s[s.length-1])+Math.PI/2)),n.$$.dirty[0]&4&&r(24,W=P-.7),n.$$.dirty[0]&31457280&&r(4,u=Jn().domain([0,W/A/S||0]).range([0,T])),n.$$.dirty[0]&2097296&&Oe(G,v=u(c)%T,v),n.$$.dirty[0]&16777344&&c>=W&&(ie(),ee()),n.$$.dirty[0]&1&&z(),n.$$.dirty[0]&67108864&&x()},[b,w,P,B,u,h,s,c,R,a,m,D,O,E,H,Y,J,G,X,ee,p,T,A,S,W,l,g,be,pe,Ee,Xe,Tt,ot]}class Gw extends nt{constructor(t){super(),rt(this,t,Yw,qw,Qe,{dots:20,beatsPerRotation:21,division:0,interactive:1,measures:22,beatsPerMeasure:23},null,[-1,-1])}}function Vw(n){let t,r,l,s,a,u;return{c(){t=V("div"),r=V("div"),l=Ye(n[0]),s=de(),a=V("div"),u=Ye(n[1]),this.h()},l(h){t=K(h,"DIV",{class:!0});var c=Q(t);r=K(c,"DIV",{class:!0});var g=Q(r);l=Ge(g,n[0]),g.forEach(I),s=me(c),a=K(c,"DIV",{class:!0});var m=Q(a);u=Ge(m,n[1]),m.forEach(I),c.forEach(I),this.h()},h(){k(r,"class","prompt svelte-1nf0vb0"),k(a,"class","share svelte-1nf0vb0"),k(t,"class","wrapper svelte-1nf0vb0")},m(h,c){le(h,t,c),U(t,r),U(r,l),U(t,s),U(t,a),U(a,u)},p(h,[c]){c&1&&Mt(l,h[0]),c&2&&Mt(u,h[1])},i:Le,o:Le,d(h){h&&I(t)}}}function Kw(n,t,r){let{prompt:l}=t,{share:s}=t;return n.$$set=a=>{"prompt"in a&&r(0,l=a.prompt),"share"in a&&r(1,s=a.share)},[l,s]}class Zw extends nt{constructor(t){super(),rt(this,t,Kw,Vw,Qe,{prompt:0,share:1})}}function Xw(n){let t,r;return{c(){t=V("img"),this.h()},l(l){t=K(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Nt(t.src,r=`assets/img/${n[0]}`)||k(t,"src",r),k(t,"alt",n[1]),k(t,"class","svelte-lkxlp1")},m(l,s){le(l,t,s)},p(l,[s]){s&1&&!Nt(t.src,r=`assets/img/${l[0]}`)&&k(t,"src",r),s&2&&k(t,"alt",l[1])},i:Le,o:Le,d(l){l&&I(t)}}}function Jw(n,t,r){let{src:l}=t,{alt:s}=t;return n.$$set=a=>{"src"in a&&r(0,l=a.src),"alt"in a&&r(1,s=a.alt)},[l,s]}class Qw extends nt{constructor(t){super(),rt(this,t,Jw,Xw,Qe,{src:0,alt:1})}}function Pc(n,t,r){const l=n.slice();return l[9]=t[r],l[11]=r,l}function Uc(n,t,r){const l=n.slice();l[12]=t[r],l[16]=r;const s=l[1].split(" ").slice(0,l[11]).join("").length;l[13]=s;const a=l[13]+l[16];return l[14]=a,l}function jw(n){let t,r;return{c(){t=new vi(!1),r=Me(),this.h()},l(l){t=yi(l,!1),r=Me(),this.h()},h(){t.a=r},m(l,s){t.m(n[1],l,s),le(l,r,s)},p(l,s){s&2&&t.p(l[1])},d(l){l&&I(r),l&&t.d()}}}function $w(n){let t,r=n[1].split(" "),l=[];for(let s=0;s<r.length;s+=1)l[s]=Bc(Pc(n,r,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=Me()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);t=Me()},m(s,a){for(let u=0;u<l.length;u+=1)l[u].m(s,a);le(s,t,a)},p(s,a){if(a&27){r=s[1].split(" ");let u;for(u=0;u<r.length;u+=1){const h=Pc(s,r,u);l[u]?l[u].p(h,a):(l[u]=Bc(h),l[u].c(),l[u].m(t.parentNode,t))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(s){pt(l,s),s&&I(t)}}}function Fc(n){let t,r=n[12]+"",l,s;return{c(){t=V("span"),l=Ye(r),this.h()},l(a){t=K(a,"SPAN",{class:!0,style:!0});var u=Q(t);l=Ge(u,r),u.forEach(I),this.h()},h(){k(t,"class","letter dilla svelte-96gt0v"),k(t,"style",s=`--random-left: ${Math.random()*200}px; --random-top: ${Math.random()*200}px; --true-left: ${n[4][n[14]]}px; --delay: ${Math.random()*600}ms; --color: ${Math.random()>.5?"var(--accent)":"white"}`)},m(a,u){le(a,t,u),U(t,l)},p(a,u){u&2&&r!==(r=a[12]+"")&&Mt(l,r),u&18&&s!==(s=`--random-left: ${Math.random()*200}px; --random-top: ${Math.random()*200}px; --true-left: ${a[4][a[14]]}px; --delay: ${Math.random()*600}ms; --color: ${Math.random()>.5?"var(--accent)":"white"}`)&&k(t,"style",s)},d(a){a&&I(t)}}}function Wc(n){let t,r=n[12]+"",l,s=n[14],a,u;const h=()=>n[8](t,s),c=()=>n[8](null,s);let g=n[0]==="dilla"&&Fc(n);return{c(){t=V("span"),l=Ye(r),a=de(),g&&g.c(),u=Me(),this.h()},l(m){t=K(m,"SPAN",{class:!0});var v=Q(t);l=Ge(v,r),v.forEach(I),a=me(m),g&&g.l(m),u=Me(),this.h()},h(){k(t,"class","letter svelte-96gt0v"),ce(t,"ghost",n[0]==="dilla")},m(m,v){le(m,t,v),U(t,l),h(),le(m,a,v),g&&g.m(m,v),le(m,u,v)},p(m,v){n=m,v&2&&r!==(r=n[12]+"")&&Mt(l,r),s!==n[14]&&(c(),s=n[14],h()),v&1&&ce(t,"ghost",n[0]==="dilla"),n[0]==="dilla"?g?g.p(n,v):(g=Fc(n),g.c(),g.m(u.parentNode,u)):g&&(g.d(1),g=null)},d(m){m&&I(t),c(),m&&I(a),g&&g.d(m),m&&I(u)}}}function Bc(n){let t,r,l,s,a,u=n[9].split(""),h=[];for(let c=0;c<u.length;c+=1)h[c]=Wc(Uc(n,u,c));return{c(){t=V("span");for(let c=0;c<h.length;c+=1)h[c].c();r=de(),l=V("span"),s=Ye(" "),a=de(),this.h()},l(c){t=K(c,"SPAN",{class:!0});var g=Q(t);for(let v=0;v<h.length;v+=1)h[v].l(g);r=me(g),l=K(g,"SPAN",{});var m=Q(l);s=Ge(m," "),m.forEach(I),a=me(g),g.forEach(I),this.h()},h(){k(t,"class","word svelte-96gt0v")},m(c,g){le(c,t,g);for(let m=0;m<h.length;m+=1)h[m].m(t,null);U(t,r),U(t,l),U(l,s),U(t,a)},p(c,g){if(g&27){u=c[9].split("");let m;for(m=0;m<u.length;m+=1){const v=Uc(c,u,m);h[m]?h[m].p(v,g):(h[m]=Wc(v),h[m].c(),h[m].m(t,r))}for(;m<h.length;m+=1)h[m].d(1);h.length=u.length}},d(c){c&&I(t),pt(h,c)}}}function e3(n){let t,r,l,s;function a(c,g){return c[5]?$w:jw}let h=a(n)(n);return{c(){t=V("h3"),h.c(),this.h()},l(c){t=K(c,"H3",{id:!0,class:!0});var g=Q(t);h.l(g),g.forEach(I),this.h()},h(){k(t,"id",r=`${n[0]}-title`),k(t,"class","svelte-96gt0v"),ce(t,"visible",n[2])},m(c,g){le(c,t,g),h.m(t,null),l||(s=[Xc(mh.call(null,t)),Be(t,"enter",n[6]),Be(t,"exit",n[7])],l=!0)},p(c,[g]){h.p(c,g),g&1&&r!==(r=`${c[0]}-title`)&&k(t,"id",r),g&4&&ce(t,"visible",c[2])},i:Le,o:Le,d(c){c&&I(t),h.d(),l=!1,pn(s)}}}function t3(n,t,r){let{id:l}=t,{title:s}=t,a=l==="straight"||l==="swing"||l==="shift"||l==="dilla",u=!a,h=[],c=[];const g=()=>{a&&r(2,u=!0)},m=()=>{a&&r(2,u=!1)};qr(()=>{l==="dilla"&&r(4,c=h.map(p=>p.offsetLeft))});function v(p,T){Ct[p?"unshift":"push"](()=>{h[T]=p,r(3,h)})}return n.$$set=p=>{"id"in p&&r(0,l=p.id),"title"in p&&r(1,s=p.title)},[l,s,u,h,c,a,g,m,v]}class n3 extends nt{constructor(t){super(),rt(this,t,t3,e3,Qe,{id:0,title:1})}}function Hc(n,t,r){const l=n.slice();return l[5]=t[r].type,l[6]=t[r].text,l[7]=t[r].list,l[8]=t[r].component,l[9]=t[r].classname,l[10]=t[r].steps,l[11]=t[r].notes,l[12]=t[r].songId,l[13]=t[r].style,l[14]=t[r].url,l[15]=t[r].song,l[16]=t[r].artist,l[17]=t[r].dots,l[18]=t[r].division,l[19]=t[r].interactive,l[20]=t[r].prompt,l[21]=t[r].share,l[22]=t[r].src,l[23]=t[r].alt,l}function qc(n,t,r){const l=n.slice();return l[26]=t[r],l}function zc(n){let t,r;return t=new n3({props:{id:n[0],title:n[1]}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p(l,s){const a={};s&1&&(a.id=l[0]),s&2&&(a.title=l[1]),t.$set(a)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function r3(n){let t,r,l;var s=n[4][n[8]];function a(u){return{props:{steps:u[10],notes:u[11],songId:u[12],style:u[13],url:u[14],song:u[15],artist:u[16],dots:u[17],division:u[18],interactive:u[19]==="true",prompt:u[20],share:u[21],src:u[22],alt:u[23]}}}return s&&(t=yl(s,a(n))),{c(){t&&Pe(t.$$.fragment),r=Me()},l(u){t&&qe(t.$$.fragment,u),r=Me()},m(u,h){t&&Ue(t,u,h),le(u,r,h),l=!0},p(u,h){const c={};if(h&4&&(c.steps=u[10]),h&4&&(c.notes=u[11]),h&4&&(c.songId=u[12]),h&4&&(c.style=u[13]),h&4&&(c.url=u[14]),h&4&&(c.song=u[15]),h&4&&(c.artist=u[16]),h&4&&(c.dots=u[17]),h&4&&(c.division=u[18]),h&4&&(c.interactive=u[19]==="true"),h&4&&(c.prompt=u[20]),h&4&&(c.share=u[21]),h&4&&(c.src=u[22]),h&4&&(c.alt=u[23]),s!==(s=u[4][u[8]])){if(t){ct();const g=t;se(g.$$.fragment,1,0,()=>{Fe(g,1)}),ht()}s?(t=yl(s,a(u)),Pe(t.$$.fragment),re(t.$$.fragment,1),Ue(t,r.parentNode,r)):t=null}else s&&t.$set(c)},i(u){l||(t&&re(t.$$.fragment,u),l=!0)},o(u){t&&se(t.$$.fragment,u),l=!1},d(u){u&&I(r),t&&Fe(t,u)}}}function i3(n){let t,r=n[7],l=[];for(let s=0;s<r.length;s+=1)l[s]=Yc(qc(n,r,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=Me()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);t=Me()},m(s,a){for(let u=0;u<l.length;u+=1)l[u].m(s,a);le(s,t,a)},p(s,a){if(a&4){r=s[7];let u;for(u=0;u<r.length;u+=1){const h=qc(s,r,u);l[u]?l[u].p(h,a):(l[u]=Yc(h),l[u].c(),l[u].m(t.parentNode,t))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},i:Le,o:Le,d(s){pt(l,s),s&&I(t)}}}function l3(n){let t,r=n[6]+"",l;return{c(){t=new vi(!1),l=Me(),this.h()},l(s){t=yi(s,!1),l=Me(),this.h()},h(){t.a=l},m(s,a){t.m(r,s,a),le(s,l,a)},p(s,a){a&4&&r!==(r=s[6]+"")&&t.p(r)},i:Le,o:Le,d(s){s&&I(l),s&&t.d()}}}function Yc(n){let t,r=n[26]+"";return{c(){t=V("li")},l(l){t=K(l,"LI",{});var s=Q(t);s.forEach(I)},m(l,s){le(l,t,s),t.innerHTML=r},p(l,s){s&4&&r!==(r=l[26]+"")&&(t.innerHTML=r)},d(l){l&&I(t)}}}function uo(n){let t,r,l,s,a,u;const h=[l3,i3,r3],c=[];function g(p,T){return p[6]?0:p[7]?1:p[8]!=="Demo"||p[3]?2:-1}~(r=g(n))&&(l=c[r]=h[r](n));let m=[{class:a=Fr(n[9])+" svelte-nsvnhb"}],v={};for(let p=0;p<m.length;p+=1)v=ao(v,m[p]);return{c(){t=V(n[5]),l&&l.c(),s=de(),this.h()},l(p){t=K(p,(n[5]||"null").toUpperCase(),{class:!0});var T=Q(t);l&&l.l(T),s=me(T),T.forEach(I),this.h()},h(){/-/.test(n[5])?rf(t,v):lf(t,v)},m(p,T){le(p,t,T),~r&&c[r].m(t,null),U(t,s),u=!0},p(p,T){let b=r;r=g(p),r===b?~r&&c[r].p(p,T):(l&&(ct(),se(c[b],1,1,()=>{c[b]=null}),ht()),~r?(l=c[r],l?l.p(p,T):(l=c[r]=h[r](p),l.c()),re(l,1),l.m(t,s)):l=null),v=ov(m,[(!u||T&4&&a!==(a=Fr(p[9])+" svelte-nsvnhb"))&&{class:a}]),/-/.test(p[5])?rf(t,v):lf(t,v)},i(p){u||(re(l),u=!0)},o(p){se(l),u=!1},d(p){p&&I(t),~r&&c[r].d()}}}function Gc(n){let t=n[5],r,l=n[5]&&uo(n);return{c(){l&&l.c(),r=Me()},l(s){l&&l.l(s),r=Me()},m(s,a){l&&l.m(s,a),le(s,r,a)},p(s,a){s[5]?t?Qe(t,s[5])?(l.d(1),l=uo(s),l.c(),l.m(r.parentNode,r)):l.p(s,a):(l=uo(s),l.c(),l.m(r.parentNode,r)):t&&(l.d(1),l=null),t=s[5]},i:Le,o(s){se(l)},d(s){s&&I(r),l&&l.d(s)}}}function s3(n){let t,r,l,s=n[1]&&zc(n),a=n[2],u=[];for(let c=0;c<a.length;c+=1)u[c]=Gc(Hc(n,a,c));const h=c=>se(u[c],1,1,()=>{u[c]=null});return{c(){t=V("section"),s&&s.c(),r=de();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){t=K(c,"SECTION",{id:!0,class:!0});var g=Q(t);s&&s.l(g),r=me(g);for(let m=0;m<u.length;m+=1)u[m].l(g);g.forEach(I),this.h()},h(){k(t,"id",n[0]),k(t,"class","svelte-nsvnhb"),ce(t,"visible",n[3])},m(c,g){le(c,t,g),s&&s.m(t,null),U(t,r);for(let m=0;m<u.length;m+=1)u[m].m(t,null);l=!0},p(c,[g]){if(c[1]?s?(s.p(c,g),g&2&&re(s,1)):(s=zc(c),s.c(),re(s,1),s.m(t,r)):s&&(ct(),se(s,1,1,()=>{s=null}),ht()),g&28){a=c[2];let m;for(m=0;m<a.length;m+=1){const v=Hc(c,a,m);u[m]?(u[m].p(v,g),re(u[m],1)):(u[m]=Gc(v),u[m].c(),re(u[m],1),u[m].m(t,null))}for(ct(),m=a.length;m<u.length;m+=1)h(m);ht()}(!l||g&1)&&k(t,"id",c[0]),(!l||g&8)&&ce(t,"visible",c[3])},i(c){if(!l){re(s);for(let g=0;g<a.length;g+=1)re(u[g]);l=!0}},o(c){se(s),u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)se(u[g]);l=!1},d(c){c&&I(t),s&&s.d(),pt(u,c)}}}function o3(n,t,r){let l;ae(n,Rl,c=>r(3,l=c));let{id:s}=t,{title:a}=t,{chunks:u}=t;const h={Scroll:Ew,Demo:vw,Song:Rw,Circle:Gw,Feeling:Zw,Image:Qw};return n.$$set=c=>{"id"in c&&r(0,s=c.id),"title"in c&&r(1,a=c.title),"chunks"in c&&r(2,u=c.chunks)},[s,a,u,l,h]}class ph extends nt{constructor(t){super(),rt(this,t,o3,s3,Qe,{id:0,title:1,chunks:2})}}const u3="WONKY",a3="An exploration of rhythm and grooves that break the rules",f3="By <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",c3=[{id:"intro",chunks:[{type:"div",component:"Scroll",steps:[{text:"One night outside a small music venue in North Carolina, Questlove’s life was changed forever. He was in the car leaving the venue when he heard a beat coming from inside that sounded… wrong."},{text:"“As I’m leaving the club, I'm hearing the vibration of the kick drum. It was <span class=emphasis>the most life-changing moment</span> I ever had… like, did I hear that? It sounded like the kick drum was played by a drunk 3-year old, and i was like ‘Are you allowed to do that?’” ~Questlove",classname:"quote",sound:"drunk"},{text:"The drums are the backbone of a band. They provide a steady beat for the other musicians to follow. Up until this point, Questlove, like many drummers, had essentially trained to be a metronome, keeping perfect time.",sound:"normal"},{text:"But what he heard that night was the opposite of perfect - some notes hit slightly sooner than expected, others slightly later. The whole thing was messy, imperfect, unexpected. And it was… awesome.",sound:"drunk"},{text:"“I’d never heard someone not give a f***, and that to me was <span class=emphasis>the most liberating</span> moment. like, all this pleasing my father, being perfect… Now I've got to undo all the education and all the hours of preparation that I did.” ~Questlove",classname:"quote"},{text:"The beat that captivated Questlove was made by the legendary James Dewitt Yancey, better known as J Dilla. The songs he produced reshaped our understanding of rhythm and time, and their influence persists among many contemporary musicians."},{text:"At first glance, it might look like chaos, but beneath the surface lies a meticulously crafted rhythmic sensibility. We’ll break down the techniques and subtleties that go into these grooves that break the rules."}]}]},{id:"note",chunks:[{type:"p",text:"Note: This piece is heavily inspired by Dan Charnas’ great book <a href=https://dillati.me/ target=_blank>“Dilla Time”</a>, which is all about J Dilla’s life, music, and legacy. The goal with this piece is to add visuals that you can see + hear + touch to some of the material covered in Charnas’ work.",classname:"note"}]},{id:"straight",title:"Straight",chunks:[{type:"p",text:"Let’s begin with a basic groove."},{type:"div",component:"Demo",songId:"straight",notes:["Right now we have nothing. Click <span class=mobile-only>the yellow rectangle </span>to add in the bass guitar.","Sweet! The lines mark the beat or the pulse, where your head might nod along as you listen. The bass plays 2 notes per beat. Add in the hi-hat.","The hi-hat is part of a drum kit, made of two cymbals. It’s also playing 2 notes per beat. Add in the kick.","The kick drum plays on the first and third beats. Finally, add in the snare.","The snare plays on the second and fourth beats, where you might clap. Nice job, you made a groove!"]},{type:"p",text:"This groove is <strong>straight</strong>. Everything aligns perfectly with the evenly spaced grid. The space between notes stays consistent, so each note falls exactly where you would expect it to. This is the way Questlove had trained so hard to play."},{type:"p",text:"Here are some songs with straight grooves."},{type:"div",component:"Feeling",prompt:"How do these feel to you?",share:"To me they feel: precise, even, tight"},{type:"div",component:"Song",song:"Stars and Stripes Forever",artist:"John Philip Sousa",url:"https://p.scdn.co/mp3-preview/752705adcabd783103808a0dde531aed67c06a9c?cid=cfe923b2d660439caf2b557b21f31221"},{type:"div",component:"Song",song:"Light Switch",artist:"Charlie Puth",url:"https://p.scdn.co/mp3-preview/135cce6ee2119c739643b3bbc15465623a60522c?cid=cfe923b2d660439caf2b557b21f31221"}]},{id:"swing",title:"Swing",chunks:[{type:"p",text:"Sometimes straight can get a little boring. Fitting an evenly spaced grid is just one way to think about rhythm. Another is swing, where the second note within each beat is intentionally delayed. So, the first note takes up slightly more space, and the second beat takes slightly less than if they were evenly spaced. It’s a common feature of blues and jazz, and the whole band does it, all playing on this new long-short-long-short grid."},{type:"div",component:"Demo",songId:"swing",notes:["We’ll start with the same straight groove. Click <span class=mobile-only>the yellow rectangle </span>to make the bass swing.","We’ll also swing the hi-hat.","Now we’re talking!"]},{type:"p",text:"Here are some songs with swung grooves. Can you hear a difference from the straight grooves?"},{type:"div",component:"Feeling",prompt:"How do these feel to you?",share:"To me these feel loose, bouncing, make me want to dance"},{type:"div",component:"Song",song:"Higher Ground",artist:"Stevie Wonder",url:"https://p.scdn.co/mp3-preview/5b9df6d4e699b7b6f20d58eb796fe22965cd563e?cid=0b297fa8a249464ba34f5861d4140e58"},{type:"div",component:"Song",song:"Beyond the Sea",artist:"Bobby Darin",url:"https://p.scdn.co/mp3-preview/ab71015cd8957e29f04aadf38fb40741c8e2b711?cid=0b297fa8a249464ba34f5861d4140e58"}]},{id:"bonus",title:"Advanced swing: delaying by different amounts",chunks:[{type:"p",text:"Swing is defined by delaying that second note, but by how much exactly? The swing examples you just heard are called <strong>triplet swing</strong> because if we divide each beat in 3 parts (called triplets), the groove can be felt as the first and third of those triplets. Ordinarily, the beat would be divided into an even number of parts, and we could play two evenly spaced notes. Dividing the beat into an odd number of parts always results in an uneven feeling, since one note must be slightly longer than the other."},{type:"div",component:"Image",src:"static_swing.png",alt:"Diagram showing different ways of dividing a beat to create different levels of swing. If the beat is divided in three parts, the first and second note will not be evenly split, resulting in a swing feel."},{type:"p",text:"What about other odd divisions? This song’s groove is a <strong>quintuplet swing</strong>, derived by dividing the beat into 5 parts and playing on the first and fourth subdivisions. It’s a subtle difference, but the swing is slightly less steep, it’s closer to straight than the triplet swing."},{type:"div",component:"Song",song:"Sequence Start",artist:"Sungazer",url:"https://p.scdn.co/mp3-preview/394674c181e04c009527b3c4f7a9e13f7698b585?cid=0b297fa8a249464ba34f5861d4140e58"},{type:"p",text:"Let’s visualize this a different way. A rotation around this circle represents 1 beat. For a triplet swing, the beat is divided in 3 parts, and notes are played on the first and third, which is as close to even as we can get. Another way you can describe this rhythm is to say it has a 66.6% <strong>swing percentage</strong>, meaning that the first note takes up 66.6% of the beat. The higher the swing percentage, the steeper the swing, the further from straight (50% swing) we get."},{type:"div",component:"Circle",division:"3",dots:["0","0.666"]},{type:"p",text:"Depending on how many pieces you divide the beat into, that second note is delayed a different amount. Each of these swings is subtly different, try them out for yourself."},{type:"div",component:"Circle",interactive:"true"},{type:"p",text:"As you divide the beat into more pieces, the rhythm inches closer to straight, but never quite reaching it. These grooves have a unique funkiness - caught between a swung and straight feel, they have a lilting, off-kilter feeling. To me it feels like we’re stumbling down a flight of stairs and never quite catching ourselves. This tension is signature to J Dilla’s style."},{type:"p",text:"<a href=https://youtu.be/-fgw4jq1Fso?t=161 target=_blank>Some drummers</a> actually think about and count these subdivisions out in their head. Others just think “play somewhere between straight and swung” or “play drunk.”"}]},{id:"shift",title:"Shift",chunks:[{type:"p",text:"When most music is straight and even, we develop expectations of where notes should fall. Even a slight deviation can feel bizarre, but that bizarreness is what made J Dilla’s time-feel so compelling. Another technique he used was shifting an entire part over ever so slightly on his <a href=https://nmaahc.si.edu/object/nmaahc_2014.139.1 target=_blank>drum machine</a>. It results in this distinctive flam or rubbing effect between instruments that now fall slightly apart from each other."},{type:"div",component:"Demo",songId:"shift",notes:["Starting with the straight groove. Click to shift the snare.","This one’s subtle! Try going back and forth and see if you hear the difference. It also might help to mute the bass and kick drums to isolate that flam with the hi-hat against the shifted share."]}]},{id:"dilla",title:"Dilla Time",chunks:[{type:"p",text:"What made J Dilla truly groundbreaking was his fusion of these elements, giving different parts of the groove different time-feels and slight deviations. This creates the looseness, tension, and humanness that defines the innovative time-feel known as Dilla Time."},{type:"div",component:"Demo",songId:"dilla",notes:["Let’s start by swinging the bass. This is called a quintuplet swing (advanced swing section).","We’ll actually leave the hi-hat and snare straight to create some tension. Now, shift the snare slightly earlier.","Sweet! We’ve got straight, swung, and shifted parts, all going at the same time."]},{type:"p",text:"This toy example incorporates multiple J Dilla-inspired elements, but it's worth noting that every Dilla and Dilla-like song is distinct, featuring its own unique combination of these techniques. Armed with this knowledge, we can now identify and label these elements as they appear in actual songs."},{type:"p",text:"This first one, “Fall in Love” by Erykah Badu (a frequent collaborator of J Dilla), has a similar feel to the groove we created."},{type:"div",component:"Demo",songId:"erykah",style:"real",song:"Fall in Love",artist:"Erykah Badu"},{type:"div",component:"Demo",songId:"money",style:"real",song:"Get Dis Money",artist:"Slum Village"},{type:"div",component:"Demo",songId:"heart",style:"real",song:"Heart Don’t Stand a Chance",artist:"Anderson .Paak"}]},{id:"conclusion",chunks:[{type:"p",text:"I’ll end with a quote I like from the musician <a href=https://www.vogue.co.uk/arts-and-lifestyle/article/jacob-collier-interview/amp target=_blank>Jacob Collier</a>, a contemporary musician deeply influenced by J Dilla’s work:"},{type:"p",text:"“When you learn music, you’re trained to think [in terms of a] “right way” and a “wrong way.” It’s all just made up. You have to find your own way. And so often [in making music], the things that are deemed wrong, or unconventional, or strange — those are the things that work the best and move people the most, because <span class=emphasis>people are moved by things that aren’t perfect.</span>”",classname:"quote"}]},{id:"notes",title:"Notes",chunks:[{type:"p",text:"Thanks to illustration tk."},{type:"p",text:"aligning things in garageband, building upon ethan blog post + big 3 part blog post"},{type:"p",text:"sources, questlove interview"},{type:"p",text:"further reading"},{type:"ul",list:["some","further","reading"]}]}],Ll={hed:u3,dek:a3,byline:f3,sections:c3};function Vc(n,t,r){const l=n.slice();return l[10]=t[r].id,l[11]=t[r].title,l[12]=t[r].chunks,l}function h3(n){let t,r,l,s,a=n[4].split(" ").slice(0,4).join(" ")+"",u,h,c,g=n[4].split(" ").slice(4).join(" ")+"",m,v,p,T,b,w,A,S,D,O,E,H,Y,J,G;return D=new Bf({props:{label:"bottom"}}),H=new Bf({props:{label:"left"}}),{c(){t=V("div"),r=V("h1"),l=de(),s=V("div"),u=Ye(a),h=de(),c=V("div"),m=Ye(g),v=de(),p=V("div"),T=de(),b=V("div"),w=V("button"),A=Ye("start audio story"),S=de(),Pe(D.$$.fragment),O=de(),E=V("div"),Pe(H.$$.fragment),this.h()},l(P){t=K(P,"DIV",{class:!0});var W=Q(t);r=K(W,"H1",{class:!0});var R=Q(r);R.forEach(I),l=me(W),s=K(W,"DIV",{class:!0});var B=Q(s);u=Ge(B,a),B.forEach(I),h=me(W),c=K(W,"DIV",{class:!0});var F=Q(c);m=Ge(F,g),F.forEach(I),v=me(W),p=K(W,"DIV",{class:!0});var x=Q(p);x.forEach(I),T=me(W),b=K(W,"DIV",{class:!0});var z=Q(b);w=K(z,"BUTTON",{class:!0});var X=Q(w);A=Ge(X,"start audio story"),X.forEach(I),S=me(z),qe(D.$$.fragment,z),z.forEach(I),O=me(W),E=K(W,"DIV",{class:!0});var ee=Q(E);qe(H.$$.fragment,ee),ee.forEach(I),W.forEach(I),this.h()},h(){k(r,"class","svelte-17zr371"),k(s,"class","dek svelte-17zr371"),k(c,"class","dek svelte-17zr371"),k(p,"class","byline svelte-17zr371"),Ne(p,"margin-bottom","3em"),k(w,"class","start svelte-17zr371"),k(b,"class","buttons svelte-17zr371"),k(E,"class","fixed-mute svelte-17zr371"),ce(E,"visible",n[0]&&(n[1]!==void 0||n[2]==="down")),k(t,"class","landing svelte-17zr371")},m(P,W){le(P,t,W),U(t,r),r.innerHTML=n[3],U(t,l),U(t,s),U(s,u),U(t,h),U(t,c),U(c,m),U(t,v),U(t,p),p.innerHTML=n[5],U(t,T),U(t,b),U(b,w),U(w,A),U(b,S),Ue(D,b,null),U(t,O),U(t,E),Ue(H,E,null),Y=!0,J||(G=Be(w,"click",n[6]),J=!0)},p(P,W){(!Y||W&7)&&ce(E,"visible",P[0]&&(P[1]!==void 0||P[2]==="down"))},i(P){Y||(re(D.$$.fragment,P),re(H.$$.fragment,P),Y=!0)},o(P){se(D.$$.fragment,P),se(H.$$.fragment,P),Y=!1},d(P){P&&I(t),Fe(D),Fe(H),J=!1,G()}}}function g3(n){let t,r;return t=new ph({props:{id:n[10],title:n[11],chunks:n[12]}}),{c(){Pe(t.$$.fragment)},l(l){qe(t.$$.fragment,l)},m(l,s){Ue(t,l,s),r=!0},p:Le,i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){se(t.$$.fragment,l),r=!1},d(l){Fe(t,l)}}}function d3(n){let t,r,l=n[11]+"",s,a,u,h;return u=new ph({props:{id:n[10],chunks:n[12]}}),{c(){t=V("details"),r=V("summary"),s=Ye(l),a=de(),Pe(u.$$.fragment),this.h()},l(c){t=K(c,"DETAILS",{class:!0});var g=Q(t);r=K(g,"SUMMARY",{class:!0});var m=Q(r);s=Ge(m,l),m.forEach(I),a=me(g),qe(u.$$.fragment,g),g.forEach(I),this.h()},h(){k(r,"class","svelte-17zr371"),k(t,"class","svelte-17zr371")},m(c,g){le(c,t,g),U(t,r),U(r,s),U(t,a),Ue(u,t,null),h=!0},p:Le,i(c){h||(re(u.$$.fragment,c),h=!0)},o(c){se(u.$$.fragment,c),h=!1},d(c){c&&I(t),Fe(u)}}}function Kc(n){let t,r,l,s;const a=[d3,g3],u=[];function h(c,g){return c[10]==="bonus"?0:1}return t=h(n),r=u[t]=a[t](n),{c(){r.c(),l=Me()},l(c){r.l(c),l=Me()},m(c,g){u[t].m(c,g),le(c,l,g),s=!0},p(c,g){r.p(c,g)},i(c){s||(re(r),s=!0)},o(c){se(r),s=!1},d(c){u[t].d(c),c&&I(l)}}}function m3(n){let t,r,l,s,a,u,h,c,g,m,v;t=new xb({});let p=n[7].length===0&&h3(n),T=n[8],b=[];for(let A=0;A<T.length;A+=1)b[A]=Kc(Vc(n,T,A));const w=A=>se(b[A],1,1,()=>{b[A]=null});return m=new Ub({}),{c(){Pe(t.$$.fragment),r=de(),l=V("article"),p&&p.c(),s=de(),a=V("div");for(let A=0;A<b.length;A+=1)b[A].c();u=de(),h=V("iframe"),g=de(),Pe(m.$$.fragment),this.h()},l(A){qe(t.$$.fragment,A),r=me(A),l=K(A,"ARTICLE",{class:!0});var S=Q(l);p&&p.l(S),s=me(S),a=K(S,"DIV",{class:!0});var D=Q(a);for(let O=0;O<b.length;O+=1)b[O].l(D);u=me(D),h=K(D,"IFRAME",{style:!0,src:!0,width:!0,height:!0,frameborder:!0,allow:!0,loading:!0,title:!0}),Q(h).forEach(I),g=me(D),qe(m.$$.fragment,D),D.forEach(I),S.forEach(I),this.h()},h(){Ne(h,"border-radius","12px"),Nt(h.src,c="https://open.spotify.com/embed/playlist/2lv10HmmIbXoknNEoNDt2s?utm_source=generator&theme=0")||k(h,"src",c),k(h,"width","100%"),k(h,"height","352"),k(h,"frameborder","0"),h.allowFullscreen="",k(h,"allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"),k(h,"loading","lazy"),k(h,"title","playlist of songs with wonky grooves"),k(a,"class","sections svelte-17zr371"),ce(a,"started",n[0]),k(l,"class","svelte-17zr371"),ce(l,"started",n[0])},m(A,S){Ue(t,A,S),le(A,r,S),le(A,l,S),p&&p.m(l,null),U(l,s),U(l,a);for(let D=0;D<b.length;D+=1)b[D].m(a,null);U(a,u),U(a,h),U(a,g),Ue(m,a,null),v=!0},p(A,[S]){if(A[7].length===0&&p.p(A,S),S&256){T=A[8];let D;for(D=0;D<T.length;D+=1){const O=Vc(A,T,D);b[D]?(b[D].p(O,S),re(b[D],1)):(b[D]=Kc(O),b[D].c(),re(b[D],1),b[D].m(a,u))}for(ct(),D=T.length;D<b.length;D+=1)w(D);ht()}(!v||S&1)&&ce(a,"started",A[0]),(!v||S&1)&&ce(l,"started",A[0])},i(A){if(!v){re(t.$$.fragment,A),re(p);for(let S=0;S<T.length;S+=1)re(b[S]);re(m.$$.fragment,A),v=!0}},o(A){se(t.$$.fragment,A),se(p),b=b.filter(Boolean);for(let S=0;S<b.length;S+=1)se(b[S]);se(m.$$.fragment,A),v=!1},d(A){Fe(t,A),A&&I(r),A&&I(l),p&&p.d(),pt(b,A),Fe(m)}}}function _3(n,t,r){let l,s,a;ae(n,Rl,T=>r(0,l=T)),ae(n,Ol,T=>r(1,s=T)),ae(n,fi,T=>r(2,a=T));const{hed:u,dek:h,byline:c}=Ll;let g;const m=async()=>{Oe(Rl,l=!0,l),await uv(),g.scrollIntoView({block:"center",behavior:"smooth"})},v=[],p=Ll.sections;return qr(()=>{g=document.getElementById("start-of-story")}),[l,s,a,u,h,c,m,v,p]}class p3 extends nt{constructor(t){super(),rt(this,t,_3,m3,Qe,{})}}function v3(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-05-22-10:50"),console.log("--- --- --- --- --- ---")}function y3(n){let t,r,l,s;return t=new dv({props:{title:n[1],description:n[2],url:n[3],preloadFont:n[0],keywords:n[4]}}),l=new p3({}),{c(){Pe(t.$$.fragment),r=de(),Pe(l.$$.fragment)},l(a){qe(t.$$.fragment,a),r=me(a),qe(l.$$.fragment,a)},m(a,u){Ue(t,a,u),le(a,r,u),Ue(l,a,u),s=!0},p:Le,i(a){s||(re(t.$$.fragment,a),re(l.$$.fragment,a),s=!0)},o(a){se(t.$$.fragment,a),se(l.$$.fragment,a),s=!1},d(a){Fe(t,a),a&&I(r),Fe(l,a)}}}function b3(n,t,r){let{data:l}=t;v3();const s=["https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2","https://pudding.cool/assets/fonts/nicolatte/Nicolatte-Regular.otf"],{title:a,description:u,url:h,keywords:c}=Ll;return bl("copy",Ll),bl("data",l.data),n.$$set=g=>{"data"in g&&r(5,l=g.data)},[s,a,u,h,c,l]}class E3 extends nt{constructor(t){super(),rt(this,t,b3,y3,Qe,{data:5})}}export{E3 as default};
