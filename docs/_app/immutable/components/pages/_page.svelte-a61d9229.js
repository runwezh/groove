import{S as he,i as pe,s as oe,k as H,e as Z,J as kn,l as R,h as k,n as v,D as N,C as ie,K as Te,b as B,L as kt,M as Mn,N as Sn,O as In,I as sn,P as we,Q as xe,m as j,R as Ce,p as cn,g as Ee,t as G,d as Pe,f as D,x as se,y as ce,z as de,A as _e,a as ne,c as re,T as Mt,U as Ve,V as dn,q as ye,r as ve,u as _n,W as En,X as Pn,v as Nn,Y as On,Z as Hn,_ as St}from"../../chunks/index-7460fafa.js";import{w as Rn,r as Ln}from"../../chunks/index-701aabf0.js";import{d as Fn}from"../../chunks/transform-5bf7892f.js";function It(t,n,r){const i=t.slice();return i[5]=n[r],i}function Et(t){let n,r;return{c(){n=H("link"),this.h()},l(i){n=R(i,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){v(n,"rel","preload"),v(n,"href",r=t[5]),v(n,"as","font"),v(n,"type","font/woff2"),v(n,"crossorigin","")},m(i,a){B(i,n,a)},p(i,a){a&16&&r!==(r=i[5])&&v(n,"href",r)},d(i){i&&k(n)}}}function Bn(t){let n,r,i,a,l,f,c,s,d,m,e,o,u,h,p,g,_,y,w,b,T,S,E,L,I,F;document.title=n=t[0];let M=t[4],P=[];for(let x=0;x<M.length;x+=1)P[x]=Et(It(t,M,x));return{c(){r=H("meta"),i=H("meta"),a=H("meta"),l=H("meta"),f=H("meta"),c=H("meta"),s=H("meta"),d=H("meta"),m=H("meta"),e=H("meta"),u=H("meta"),h=H("meta"),p=H("meta"),g=H("meta"),_=H("meta"),y=H("meta"),w=H("meta"),b=H("meta"),T=H("meta"),E=H("meta"),L=H("link");for(let x=0;x<P.length;x+=1)P[x].c();F=Z(),this.h()},l(x){const A=kn("svelte-1htu80s",document.head);r=R(A,"META",{name:!0,content:!0}),i=R(A,"META",{name:!0,content:!0}),a=R(A,"META",{name:!0,content:!0}),l=R(A,"META",{property:!0,content:!0}),f=R(A,"META",{property:!0,content:!0}),c=R(A,"META",{property:!0,content:!0}),s=R(A,"META",{property:!0,content:!0}),d=R(A,"META",{property:!0,content:!0}),m=R(A,"META",{property:!0,content:!0}),e=R(A,"META",{property:!0,content:!0}),u=R(A,"META",{property:!0,content:!0}),h=R(A,"META",{property:!0,content:!0}),p=R(A,"META",{property:!0,content:!0}),g=R(A,"META",{name:!0,content:!0}),_=R(A,"META",{name:!0,content:!0}),y=R(A,"META",{name:!0,content:!0}),w=R(A,"META",{name:!0,content:!0}),b=R(A,"META",{name:!0,content:!0}),T=R(A,"META",{name:!0,content:!0}),E=R(A,"META",{name:!0,content:!0}),L=R(A,"LINK",{rel:!0,href:!0});for(let O=0;O<P.length;O+=1)P[O].l(A);F=Z(),A.forEach(k),this.h()},h(){v(r,"name","description"),v(r,"content",t[1]),v(i,"name","author"),v(i,"content","The Pudding"),v(a,"name","news_keywords"),v(a,"content",t[3]),v(l,"property","og:title"),v(l,"content",t[0]),v(f,"property","og:site_name"),v(f,"content","The Pudding"),v(c,"property","og:url"),v(c,"content",t[2]),v(s,"property","og:description"),v(s,"content",t[1]),v(d,"property","og:type"),v(d,"content","article"),v(m,"property","og:locale"),v(m,"content","en_US"),v(e,"property","og:image"),v(e,"content",o=t[2]+"/assets/social-facebook.jpg"),v(u,"property","og:image:type"),v(u,"content","image/jpeg"),v(h,"property","og:image:width"),v(h,"content","1200"),v(p,"property","og:image:height"),v(p,"content","600"),v(g,"name","twitter:card"),v(g,"content","summary_large_image"),v(_,"name","twitter:site"),v(_,"content","https://pudding.cool"),v(y,"name","twitter:creator"),v(y,"content","@puddingviz"),v(w,"name","twitter:title"),v(w,"content",t[0]),v(b,"name","twitter:description"),v(b,"content",t[1]),v(T,"name","twitter:image:src"),v(T,"content",S=t[2]+"/assets/social-twitter.jpg"),v(E,"name","robots"),v(E,"content","max-image-preview:large"),v(L,"rel","canonical"),v(L,"href",I=t[2]+"/")},m(x,A){N(document.head,r),N(document.head,i),N(document.head,a),N(document.head,l),N(document.head,f),N(document.head,c),N(document.head,s),N(document.head,d),N(document.head,m),N(document.head,e),N(document.head,u),N(document.head,h),N(document.head,p),N(document.head,g),N(document.head,_),N(document.head,y),N(document.head,w),N(document.head,b),N(document.head,T),N(document.head,E),N(document.head,L);for(let O=0;O<P.length;O+=1)P[O].m(document.head,null);N(document.head,F)},p(x,[A]){if(A&1&&n!==(n=x[0])&&(document.title=n),A&2&&v(r,"content",x[1]),A&8&&v(a,"content",x[3]),A&1&&v(l,"content",x[0]),A&4&&v(c,"content",x[2]),A&2&&v(s,"content",x[1]),A&4&&o!==(o=x[2]+"/assets/social-facebook.jpg")&&v(e,"content",o),A&1&&v(w,"content",x[0]),A&2&&v(b,"content",x[1]),A&4&&S!==(S=x[2]+"/assets/social-twitter.jpg")&&v(T,"content",S),A&4&&I!==(I=x[2]+"/")&&v(L,"href",I),A&16){M=x[4];let O;for(O=0;O<M.length;O+=1){const W=It(x,M,O);P[O]?P[O].p(W,A):(P[O]=Et(W),P[O].c(),P[O].m(F.parentNode,F))}for(;O<P.length;O+=1)P[O].d(1);P.length=M.length}},i:ie,o:ie,d(x){k(r),k(i),k(a),k(l),k(f),k(c),k(s),k(d),k(m),k(e),k(u),k(h),k(p),k(g),k(_),k(y),k(w),k(b),k(T),k(E),k(L),Te(P,x),k(F)}}}function Dn(t,n,r){let{title:i="Title TK"}=n,{description:a="Description TK"}=n,{url:l="https://pudding.cool"}=n,{keywords:f=""}=n,{preloadFont:c=[]}=n;return t.$$set=s=>{"title"in s&&r(0,i=s.title),"description"in s&&r(1,a=s.description),"url"in s&&r(2,l=s.url),"keywords"in s&&r(3,f=s.keywords),"preloadFont"in s&&r(4,c=s.preloadFont)},[i,a,l,f,c]}class Gn extends he{constructor(n){super(),pe(this,n,Dn,Bn,oe,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Pt(t){return Object.prototype.toString.call(t)==="[object Date]"}function st(t,n){if(t===n||t!==t)return()=>t;const r=typeof t;if(r!==typeof n||Array.isArray(t)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=n.map((a,l)=>st(t[l],a));return a=>i.map(l=>l(a))}if(r==="object"){if(!t||!n)throw new Error("Object cannot be null");if(Pt(t)&&Pt(n)){t=t.getTime(),n=n.getTime();const l=n-t;return f=>new Date(t+f*l)}const i=Object.keys(n),a={};return i.forEach(l=>{a[l]=st(t[l],n[l])}),l=>{const f={};return i.forEach(c=>{f[c]=a[c](l)}),f}}if(r==="number"){const i=n-t;return a=>t+a*i}throw new Error(`Cannot interpolate ${r} values`)}function qn(t,n={}){const r=Rn(t);let i,a=t;function l(f,c){if(t==null)return r.set(t=f),Promise.resolve();a=f;let s=i,d=!1,{delay:m=0,duration:e=400,easing:o=In,interpolate:u=st}=kt(kt({},n),c);if(e===0)return s&&(s.abort(),s=null),r.set(t=a),Promise.resolve();const h=Mn()+m;let p;return i=Sn(g=>{if(g<h)return!0;d||(p=u(t,f),typeof e=="function"&&(e=e(t,f)),d=!0),s&&(s.abort(),s=null);const _=g-h;return _>e?(r.set(t=f),!1):(r.set(t=p(o(_/e))),!0)}),i.promise}return{set:l,update:(f,c)=>l(f(a,t),c),subscribe:r.subscribe}}const Ge=qn(0);var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qe={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var n=function(){this.init()};n.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var o=this||r;if(e=parseFloat(e),o.ctx||m(),typeof e<"u"&&e>=0&&e<=1){if(o._volume=e,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var u=0;u<o._howls.length;u++)if(!o._howls[u]._webAudio)for(var h=o._howls[u]._getSoundIds(),p=0;p<h.length;p++){var g=o._howls[u]._soundById(h[p]);g&&g._node&&(g._node.volume=g._volume*e)}return o}return o._volume},mute:function(e){var o=this||r;o.ctx||m(),o._muted=e,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(e?0:o._volume,r.ctx.currentTime);for(var u=0;u<o._howls.length;u++)if(!o._howls[u]._webAudio)for(var h=o._howls[u]._getSoundIds(),p=0;p<h.length;p++){var g=o._howls[u]._soundById(h[p]);g&&g._node&&(g._node.muted=e?!0:g._muted)}return o},stop:function(){for(var e=this||r,o=0;o<e._howls.length;o++)e._howls[o].stop();return e},unload:function(){for(var e=this||r,o=e._howls.length-1;o>=0;o--)e._howls[o].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,m()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var o=new Audio;typeof o.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var o=new Audio;o.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,o=null;try{o=typeof Audio<"u"?new Audio:null}catch{return e}if(!o||typeof o.canPlayType!="function")return e;var u=o.canPlayType("audio/mpeg;").replace(/^no$/,""),h=e._navigator?e._navigator.userAgent:"",p=h.match(/OPR\/([0-6].)/g),g=p&&parseInt(p[0].split("/")[1],10)<33,_=h.indexOf("Safari")!==-1&&h.indexOf("Chrome")===-1,y=h.match(/Version\/(.*?) /),w=_&&y&&parseInt(y[1],10)<15;return e._codecs={mp3:!!(!g&&(u||o.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!u,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!w&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!w&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var o=function(u){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var h=new Audio;h._unlocked=!0,e._releaseHtml5Audio(h)}catch{e.noAudio=!0;break}for(var p=0;p<e._howls.length;p++)if(!e._howls[p]._webAudio)for(var g=e._howls[p]._getSoundIds(),_=0;_<g.length;_++){var y=e._howls[p]._soundById(g[_]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}e._autoResume();var w=e.ctx.createBufferSource();w.buffer=e._scratchBuffer,w.connect(e.ctx.destination),typeof w.start>"u"?w.noteOn(0):w.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),w.onended=function(){w.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0),document.removeEventListener("keydown",o,!0);for(var b=0;b<e._howls.length;b++)e._howls[b]._emit("unlock")}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),document.addEventListener("keydown",o,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var o=new Audio().play();return o&&typeof Promise<"u"&&(o instanceof Promise||typeof o.then=="function")&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var o=this||r;return e._unlocked&&o._html5AudioPool.push(e),o},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!r.usingWebAudio)){for(var o=0;o<e._howls.length;o++)if(e._howls[o]._webAudio){for(var u=0;u<e._howls[o]._sounds.length;u++)if(!e._howls[o]._sounds[u]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var h=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(h,h)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!r.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var o=0;o<e._howls.length;o++)e._howls[o]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var r=new n,i=function(e){var o=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}o.init(e)};i.prototype={init:function(e){var o=this;return r.ctx||m(),o._autoplay=e.autoplay||!1,o._format=typeof e.format!="string"?e.format:[e.format],o._html5=e.html5||!1,o._muted=e.mute||!1,o._loop=e.loop||!1,o._pool=e.pool||5,o._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,o._rate=e.rate||1,o._sprite=e.sprite||{},o._src=typeof e.src!="string"?e.src:[e.src],o._volume=e.volume!==void 0?e.volume:1,o._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=e.onend?[{fn:e.onend}]:[],o._onfade=e.onfade?[{fn:e.onfade}]:[],o._onload=e.onload?[{fn:e.onload}]:[],o._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],o._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],o._onpause=e.onpause?[{fn:e.onpause}]:[],o._onplay=e.onplay?[{fn:e.onplay}]:[],o._onstop=e.onstop?[{fn:e.onstop}]:[],o._onmute=e.onmute?[{fn:e.onmute}]:[],o._onvolume=e.onvolume?[{fn:e.onvolume}]:[],o._onrate=e.onrate?[{fn:e.onrate}]:[],o._onseek=e.onseek?[{fn:e.onseek}]:[],o._onunlock=e.onunlock?[{fn:e.onunlock}]:[],o._onresume=[],o._webAudio=r.usingWebAudio&&!o._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o._preload!=="none"&&o.load(),o},load:function(){var e=this,o=null;if(r.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var u=0;u<e._src.length;u++){var h,p;if(e._format&&e._format[u])h=e._format[u];else{if(p=e._src[u],typeof p!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}h=/^data:audio\/([^;,]+);/i.exec(p),h||(h=/\.([^.]+)$/.exec(p.split("?",1)[0])),h&&(h=h[1].toLowerCase())}if(h||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),h&&r.codecs(h)){o=e._src[u];break}}if(!o){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=o,e._state="loading",window.location.protocol==="https:"&&o.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&f(e),e},play:function(e,o){var u=this,h=null;if(typeof e=="number")h=e,e=null;else{if(typeof e=="string"&&u._state==="loaded"&&!u._sprite[e])return null;if(typeof e>"u"&&(e="__default",!u._playLock)){for(var p=0,g=0;g<u._sounds.length;g++)u._sounds[g]._paused&&!u._sounds[g]._ended&&(p++,h=u._sounds[g]._id);p===1?e=null:h=null}}var _=h?u._soundById(h):u._inactiveSound();if(!_)return null;if(h&&!e&&(e=_._sprite||"__default"),u._state!=="loaded"){_._sprite=e,_._ended=!1;var y=_._id;return u._queue.push({event:"play",action:function(){u.play(y)}}),y}if(h&&!_._paused)return o||u._loadQueue("play"),_._id;u._webAudio&&r._autoResume();var w=Math.max(0,_._seek>0?_._seek:u._sprite[e][0]/1e3),b=Math.max(0,(u._sprite[e][0]+u._sprite[e][1])/1e3-w),T=b*1e3/Math.abs(_._rate),S=u._sprite[e][0]/1e3,E=(u._sprite[e][0]+u._sprite[e][1])/1e3;_._sprite=e,_._ended=!1;var L=function(){_._paused=!1,_._seek=w,_._start=S,_._stop=E,_._loop=!!(_._loop||u._sprite[e][2])};if(w>=E){u._ended(_);return}var I=_._node;if(u._webAudio){var F=function(){u._playLock=!1,L(),u._refreshBuffer(_);var A=_._muted||u._muted?0:_._volume;I.gain.setValueAtTime(A,r.ctx.currentTime),_._playStart=r.ctx.currentTime,typeof I.bufferSource.start>"u"?_._loop?I.bufferSource.noteGrainOn(0,w,86400):I.bufferSource.noteGrainOn(0,w,b):_._loop?I.bufferSource.start(0,w,86400):I.bufferSource.start(0,w,b),T!==1/0&&(u._endTimers[_._id]=setTimeout(u._ended.bind(u,_),T)),o||setTimeout(function(){u._emit("play",_._id),u._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?F():(u._playLock=!0,u.once("resume",F),u._clearTimer(_._id))}else{var M=function(){I.currentTime=w,I.muted=_._muted||u._muted||r._muted||I.muted,I.volume=_._volume*r.volume(),I.playbackRate=_._rate;try{var A=I.play();if(A&&typeof Promise<"u"&&(A instanceof Promise||typeof A.then=="function")?(u._playLock=!0,L(),A.then(function(){u._playLock=!1,I._unlocked=!0,o?u._loadQueue():u._emit("play",_._id)}).catch(function(){u._playLock=!1,u._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):o||(u._playLock=!1,L(),u._emit("play",_._id)),I.playbackRate=_._rate,I.paused){u._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||_._loop?u._endTimers[_._id]=setTimeout(u._ended.bind(u,_),T):(u._endTimers[_._id]=function(){u._ended(_),I.removeEventListener("ended",u._endTimers[_._id],!1)},I.addEventListener("ended",u._endTimers[_._id],!1))}catch(O){u._emit("playerror",_._id,O)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=u._src,I.load());var P=window&&window.ejecta||!I.readyState&&r._navigator.isCocoonJS;if(I.readyState>=3||P)M();else{u._playLock=!0,u._state="loading";var x=function(){u._state="loaded",M(),I.removeEventListener(r._canPlayEvent,x,!1)};I.addEventListener(r._canPlayEvent,x,!1),u._clearTimer(_._id)}}return _._id},pause:function(e){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"pause",action:function(){o.pause(e)}}),o;for(var u=o._getSoundIds(e),h=0;h<u.length;h++){o._clearTimer(u[h]);var p=o._soundById(u[h]);if(p&&!p._paused&&(p._seek=o.seek(u[h]),p._rateSeek=0,p._paused=!0,o._stopFade(u[h]),p._node))if(o._webAudio){if(!p._node.bufferSource)continue;typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),o._cleanBuffer(p._node)}else(!isNaN(p._node.duration)||p._node.duration===1/0)&&p._node.pause();arguments[1]||o._emit("pause",p?p._id:null)}return o},stop:function(e,o){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(e)}}),u;for(var h=u._getSoundIds(e),p=0;p<h.length;p++){u._clearTimer(h[p]);var g=u._soundById(h[p]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,u._stopFade(h[p]),g._node&&(u._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),u._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&u._clearSound(g._node))),o||u._emit("stop",g._id))}return u},mute:function(e,o){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(e,o)}}),u;if(typeof o>"u")if(typeof e=="boolean")u._muted=e;else return u._muted;for(var h=u._getSoundIds(o),p=0;p<h.length;p++){var g=u._soundById(h[p]);g&&(g._muted=e,g._interval&&u._stopFade(g._id),u._webAudio&&g._node?g._node.gain.setValueAtTime(e?0:g._volume,r.ctx.currentTime):g._node&&(g._node.muted=r._muted?!0:e),u._emit("mute",g._id))}return u},volume:function(){var e=this,o=arguments,u,h;if(o.length===0)return e._volume;if(o.length===1||o.length===2&&typeof o[1]>"u"){var p=e._getSoundIds(),g=p.indexOf(o[0]);g>=0?h=parseInt(o[0],10):u=parseFloat(o[0])}else o.length>=2&&(u=parseFloat(o[0]),h=parseInt(o[1],10));var _;if(typeof u<"u"&&u>=0&&u<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,o)}}),e;typeof h>"u"&&(e._volume=u),h=e._getSoundIds(h);for(var y=0;y<h.length;y++)_=e._soundById(h[y]),_&&(_._volume=u,o[2]||e._stopFade(h[y]),e._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(u,r.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=u*r.volume()),e._emit("volume",_._id))}else return _=h?e._soundById(h):e._sounds[0],_?_._volume:0;return e},fade:function(e,o,u,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"fade",action:function(){p.fade(e,o,u,h)}}),p;e=Math.min(Math.max(0,parseFloat(e)),1),o=Math.min(Math.max(0,parseFloat(o)),1),u=parseFloat(u),p.volume(e,h);for(var g=p._getSoundIds(h),_=0;_<g.length;_++){var y=p._soundById(g[_]);if(y){if(h||p._stopFade(g[_]),p._webAudio&&!y._muted){var w=r.ctx.currentTime,b=w+u/1e3;y._volume=e,y._node.gain.setValueAtTime(e,w),y._node.gain.linearRampToValueAtTime(o,b)}p._startFadeInterval(y,e,o,u,g[_],typeof h>"u")}}return p},_startFadeInterval:function(e,o,u,h,p,g){var _=this,y=o,w=u-o,b=Math.abs(w/.01),T=Math.max(4,b>0?h/b:h),S=Date.now();e._fadeTo=u,e._interval=setInterval(function(){var E=(Date.now()-S)/h;S=Date.now(),y+=w*E,y=Math.round(y*100)/100,w<0?y=Math.max(u,y):y=Math.min(u,y),_._webAudio?e._volume=y:_.volume(y,e._id,!0),g&&(_._volume=y),(u<o&&y<=u||u>o&&y>=u)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,_.volume(u,e._id),_._emit("fade",e._id))},T)},_stopFade:function(e){var o=this,u=o._soundById(e);return u&&u._interval&&(o._webAudio&&u._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(u._interval),u._interval=null,o.volume(u._fadeTo,e),u._fadeTo=null,o._emit("fade",e)),o},loop:function(){var e=this,o=arguments,u,h,p;if(o.length===0)return e._loop;if(o.length===1)if(typeof o[0]=="boolean")u=o[0],e._loop=u;else return p=e._soundById(parseInt(o[0],10)),p?p._loop:!1;else o.length===2&&(u=o[0],h=parseInt(o[1],10));for(var g=e._getSoundIds(h),_=0;_<g.length;_++)p=e._soundById(g[_]),p&&(p._loop=u,e._webAudio&&p._node&&p._node.bufferSource&&(p._node.bufferSource.loop=u,u&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop,e.playing(g[_])&&(e.pause(g[_],!0),e.play(g[_],!0)))));return e},rate:function(){var e=this,o=arguments,u,h;if(o.length===0)h=e._sounds[0]._id;else if(o.length===1){var p=e._getSoundIds(),g=p.indexOf(o[0]);g>=0?h=parseInt(o[0],10):u=parseFloat(o[0])}else o.length===2&&(u=parseFloat(o[0]),h=parseInt(o[1],10));var _;if(typeof u=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,o)}}),e;typeof h>"u"&&(e._rate=u),h=e._getSoundIds(h);for(var y=0;y<h.length;y++)if(_=e._soundById(h[y]),_){e.playing(h[y])&&(_._rateSeek=e.seek(h[y]),_._playStart=e._webAudio?r.ctx.currentTime:_._playStart),_._rate=u,e._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(u,r.ctx.currentTime):_._node&&(_._node.playbackRate=u);var w=e.seek(h[y]),b=(e._sprite[_._sprite][0]+e._sprite[_._sprite][1])/1e3-w,T=b*1e3/Math.abs(_._rate);(e._endTimers[h[y]]||!_._paused)&&(e._clearTimer(h[y]),e._endTimers[h[y]]=setTimeout(e._ended.bind(e,_),T)),e._emit("rate",_._id)}}else return _=e._soundById(h),_?_._rate:e._rate;return e},seek:function(){var e=this,o=arguments,u,h;if(o.length===0)e._sounds.length&&(h=e._sounds[0]._id);else if(o.length===1){var p=e._getSoundIds(),g=p.indexOf(o[0]);g>=0?h=parseInt(o[0],10):e._sounds.length&&(h=e._sounds[0]._id,u=parseFloat(o[0]))}else o.length===2&&(u=parseFloat(o[0]),h=parseInt(o[1],10));if(typeof h>"u")return 0;if(typeof u=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,o)}}),e;var _=e._soundById(h);if(_)if(typeof u=="number"&&u>=0){var y=e.playing(h);y&&e.pause(h,!0),_._seek=u,_._ended=!1,e._clearTimer(h),!e._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=u);var w=function(){y&&e.play(h,!0),e._emit("seek",h)};if(y&&!e._webAudio){var b=function(){e._playLock?setTimeout(b,0):w()};setTimeout(b,0)}else w()}else if(e._webAudio){var T=e.playing(h)?r.ctx.currentTime-_._playStart:0,S=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(S+T*Math.abs(_._rate))}else return _._node.currentTime;return e},playing:function(e){var o=this;if(typeof e=="number"){var u=o._soundById(e);return u?!u._paused:!1}for(var h=0;h<o._sounds.length;h++)if(!o._sounds[h]._paused)return!0;return!1},duration:function(e){var o=this,u=o._duration,h=o._soundById(e);return h&&(u=o._sprite[h._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var e=this,o=e._sounds,u=0;u<o.length;u++)o[u]._paused||e.stop(o[u]._id),e._webAudio||(e._clearSound(o[u]._node),o[u]._node.removeEventListener("error",o[u]._errorFn,!1),o[u]._node.removeEventListener(r._canPlayEvent,o[u]._loadFn,!1),o[u]._node.removeEventListener("ended",o[u]._endFn,!1),r._releaseHtml5Audio(o[u]._node)),delete o[u]._node,e._clearTimer(o[u]._id);var h=r._howls.indexOf(e);h>=0&&r._howls.splice(h,1);var p=!0;for(u=0;u<r._howls.length;u++)if(r._howls[u]._src===e._src||e._src.indexOf(r._howls[u]._src)>=0){p=!1;break}return l&&p&&delete l[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,o,u,h){var p=this,g=p["_on"+e];return typeof o=="function"&&g.push(h?{id:u,fn:o,once:h}:{id:u,fn:o}),p},off:function(e,o,u){var h=this,p=h["_on"+e],g=0;if(typeof o=="number"&&(u=o,o=null),o||u)for(g=0;g<p.length;g++){var _=u===p[g].id;if(o===p[g].fn&&_||!o&&_){p.splice(g,1);break}}else if(e)h["_on"+e]=[];else{var y=Object.keys(h);for(g=0;g<y.length;g++)y[g].indexOf("_on")===0&&Array.isArray(h[y[g]])&&(h[y[g]]=[])}return h},once:function(e,o,u){var h=this;return h.on(e,o,u,1),h},_emit:function(e,o,u){for(var h=this,p=h["_on"+e],g=p.length-1;g>=0;g--)(!p[g].id||p[g].id===o||e==="load")&&(setTimeout(function(_){_.call(this,o,u)}.bind(h,p[g].fn),0),p[g].once&&h.off(e,p[g].fn,p[g].id));return h._loadQueue(e),h},_loadQueue:function(e){var o=this;if(o._queue.length>0){var u=o._queue[0];u.event===e&&(o._queue.shift(),o._loadQueue()),e||u.action()}return o},_ended:function(e){var o=this,u=e._sprite;if(!o._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(o._ended.bind(o,e),100),o;var h=!!(e._loop||o._sprite[u][2]);if(o._emit("end",e._id),!o._webAudio&&h&&o.stop(e._id,!0).play(e._id),o._webAudio&&h){o._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var p=(e._stop-e._start)*1e3/Math.abs(e._rate);o._endTimers[e._id]=setTimeout(o._ended.bind(o,e),p)}return o._webAudio&&!h&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,o._clearTimer(e._id),o._cleanBuffer(e._node),r._autoSuspend()),!o._webAudio&&!h&&o.stop(e._id,!0),o},_clearTimer:function(e){var o=this;if(o._endTimers[e]){if(typeof o._endTimers[e]!="function")clearTimeout(o._endTimers[e]);else{var u=o._soundById(e);u&&u._node&&u._node.removeEventListener("ended",o._endTimers[e],!1)}delete o._endTimers[e]}return o},_soundById:function(e){for(var o=this,u=0;u<o._sounds.length;u++)if(e===o._sounds[u]._id)return o._sounds[u];return null},_inactiveSound:function(){var e=this;e._drain();for(var o=0;o<e._sounds.length;o++)if(e._sounds[o]._ended)return e._sounds[o].reset();return new a(e)},_drain:function(){var e=this,o=e._pool,u=0,h=0;if(!(e._sounds.length<o)){for(h=0;h<e._sounds.length;h++)e._sounds[h]._ended&&u++;for(h=e._sounds.length-1;h>=0;h--){if(u<=o)return;e._sounds[h]._ended&&(e._webAudio&&e._sounds[h]._node&&e._sounds[h]._node.disconnect(0),e._sounds.splice(h,1),u--)}}},_getSoundIds:function(e){var o=this;if(typeof e>"u"){for(var u=[],h=0;h<o._sounds.length;h++)u.push(o._sounds[h]._id);return u}else return[e]},_refreshBuffer:function(e){var o=this;return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=l[o._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),o},_cleanBuffer:function(e){var o=this,u=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),u))try{e.bufferSource.buffer=r._scratchBuffer}catch{}return e.bufferSource=null,o},_clearSound:function(e){var o=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);o||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,o=e._parent;return e._muted=o._muted,e._loop=o._loop,e._volume=o._volume,e._rate=o._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,o._sounds.push(e),e.create(),e},create:function(){var e=this,o=e._parent,u=r._muted||e._muted||e._parent._muted?0:e._volume;return o._webAudio?(e._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(u,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):r.noAudio||(e._node=r._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=o._src,e._node.preload=o._preload===!0?"auto":o._preload,e._node.volume=u*r.volume(),e._node.load()),e},reset:function(){var e=this,o=e._parent;return e._muted=o._muted,e._loop=o._loop,e._volume=o._volume,e._rate=o._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,o=e._parent;o._duration=Math.ceil(e._node.duration*10)/10,Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,o=e._parent;o._duration===1/0&&(o._duration=Math.ceil(e._node.duration*10)/10,o._sprite.__default[1]===1/0&&(o._sprite.__default[1]=o._duration*1e3),o._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},f=function(e){var o=e._src;if(l[o]){e._duration=l[o].duration,d(e);return}if(/^data:[^;]+;base64,/.test(o)){for(var u=atob(o.split(",")[1]),h=new Uint8Array(u.length),p=0;p<u.length;++p)h[p]=u.charCodeAt(p);s(h.buffer,e)}else{var g=new XMLHttpRequest;g.open(e._xhr.method,o,!0),g.withCredentials=e._xhr.withCredentials,g.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(_){g.setRequestHeader(_,e._xhr.headers[_])}),g.onload=function(){var _=(g.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}s(g.response,e)},g.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[o],e.load())},c(g)}},c=function(e){try{e.send()}catch{e.onerror()}},s=function(e,o){var u=function(){o._emit("loaderror",null,"Decoding audio data failed.")},h=function(p){p&&o._sounds.length>0?(l[o._src]=p,d(o,p)):u()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(e).then(h).catch(u):r.ctx.decodeAudioData(e,h,u)},d=function(e,o){o&&!e._duration&&(e._duration=o.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},m=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),o=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=o?parseInt(o[1],10):null;if(e&&u&&u<9){var h=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!h&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=i,typeof te<"u"?(te.HowlerGlobal=n,te.Howler=r,te.Howl=i,te.Sound=a):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=r,window.Howl=i,window.Sound=a)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var a=i._howls.length-1;a>=0;a--)i._howls[a].stereo(r);return i},HowlerGlobal.prototype.pos=function(r,i,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(i=typeof i!="number"?l._pos[1]:i,a=typeof a!="number"?l._pos[2]:a,typeof r=="number")l._pos=[r,i,a],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(r,i,a,l,f,c){var s=this;if(!s.ctx||!s.ctx.listener)return s;var d=s._orientation;if(i=typeof i!="number"?d[1]:i,a=typeof a!="number"?d[2]:a,l=typeof l!="number"?d[3]:l,f=typeof f!="number"?d[4]:f,c=typeof c!="number"?d[5]:c,typeof r=="number")s._orientation=[r,i,a,l,f,c],typeof s.ctx.listener.forwardX<"u"?(s.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(a,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(r,i,a,l,f,c);else return d;return s},Howl.prototype.init=function(r){return function(i){var a=this;return a._orientation=i.orientation||[1,0,0],a._stereo=i.stereo||null,a._pos=i.pos||null,a._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},a._onstereo=i.onstereo?[{fn:i.onstereo}]:[],a._onpos=i.onpos?[{fn:i.onpos}]:[],a._onorientation=i.onorientation?[{fn:i.onorientation}]:[],r.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,i){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"stereo",action:function(){a.stereo(r,i)}}),a;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof r=="number")a._stereo=r,a._pos=[r,0,0];else return a._stereo;for(var f=a._getSoundIds(i),c=0;c<f.length;c++){var s=a._soundById(f[c]);if(s)if(typeof r=="number")s._stereo=r,s._pos=[r,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",(!s._panner||!s._panner.pan)&&n(s,l),l==="spatial"?typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(r,0,0):s._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),a._emit("stereo",s._id);else return s._stereo}return a},Howl.prototype.pos=function(r,i,a,l){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"pos",action:function(){f.pos(r,i,a,l)}}),f;if(i=typeof i!="number"?0:i,a=typeof a!="number"?-.5:a,typeof l>"u")if(typeof r=="number")f._pos=[r,i,a];else return f._pos;for(var c=f._getSoundIds(l),s=0;s<c.length;s++){var d=f._soundById(c[s]);if(d)if(typeof r=="number")d._pos=[r,i,a],d._node&&((!d._panner||d._panner.pan)&&n(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(a,Howler.ctx.currentTime)):d._panner.setPosition(r,i,a)),f._emit("pos",d._id);else return d._pos}return f},Howl.prototype.orientation=function(r,i,a,l){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"orientation",action:function(){f.orientation(r,i,a,l)}}),f;if(i=typeof i!="number"?f._orientation[1]:i,a=typeof a!="number"?f._orientation[2]:a,typeof l>"u")if(typeof r=="number")f._orientation=[r,i,a];else return f._orientation;for(var c=f._getSoundIds(l),s=0;s<c.length;s++){var d=f._soundById(c[s]);if(d)if(typeof r=="number")d._orientation=[r,i,a],d._node&&(d._panner||(d._pos||(d._pos=f._pos||[0,0,-.5]),n(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(a,Howler.ctx.currentTime)):d._panner.setOrientation(r,i,a)),f._emit("orientation",d._id);else return d._orientation}return f},Howl.prototype.pannerAttr=function(){var r=this,i=arguments,a,l,f;if(!r._webAudio)return r;if(i.length===0)return r._pannerAttr;if(i.length===1)if(typeof i[0]=="object")a=i[0],typeof l>"u"&&(a.pannerAttr||(a.pannerAttr={coneInnerAngle:a.coneInnerAngle,coneOuterAngle:a.coneOuterAngle,coneOuterGain:a.coneOuterGain,distanceModel:a.distanceModel,maxDistance:a.maxDistance,refDistance:a.refDistance,rolloffFactor:a.rolloffFactor,panningModel:a.panningModel}),r._pannerAttr={coneInnerAngle:typeof a.pannerAttr.coneInnerAngle<"u"?a.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof a.pannerAttr.coneOuterAngle<"u"?a.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof a.pannerAttr.coneOuterGain<"u"?a.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof a.pannerAttr.distanceModel<"u"?a.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof a.pannerAttr.maxDistance<"u"?a.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof a.pannerAttr.refDistance<"u"?a.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof a.pannerAttr.rolloffFactor<"u"?a.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof a.pannerAttr.panningModel<"u"?a.pannerAttr.panningModel:r._panningModel});else return f=r._soundById(parseInt(i[0],10)),f?f._pannerAttr:r._pannerAttr;else i.length===2&&(a=i[0],l=parseInt(i[1],10));for(var c=r._getSoundIds(l),s=0;s<c.length;s++)if(f=r._soundById(c[s]),f){var d=f._pannerAttr;d={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:d.coneOuterGain,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:d.distanceModel,maxDistance:typeof a.maxDistance<"u"?a.maxDistance:d.maxDistance,refDistance:typeof a.refDistance<"u"?a.refDistance:d.refDistance,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:d.rolloffFactor,panningModel:typeof a.panningModel<"u"?a.panningModel:d.panningModel};var m=f._panner;m?(m.coneInnerAngle=d.coneInnerAngle,m.coneOuterAngle=d.coneOuterAngle,m.coneOuterGain=d.coneOuterGain,m.distanceModel=d.distanceModel,m.maxDistance=d.maxDistance,m.refDistance=d.refDistance,m.rolloffFactor=d.rolloffFactor,m.panningModel=d.panningModel):(f._pos||(f._pos=r._pos||[0,0,-.5]),n(f,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var i=this,a=i._parent;i._orientation=a._orientation,i._stereo=a._stereo,i._pos=a._pos,i._pannerAttr=a._pannerAttr,r.call(this),i._stereo?a.stereo(i._stereo):i._pos&&a.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var i=this,a=i._parent;return i._orientation=a._orientation,i._stereo=a._stereo,i._pos=a._pos,i._pannerAttr=a._pannerAttr,i._stereo?a.stereo(i._stereo):i._pos?a.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,a._refreshBuffer(i)),r.call(this)}}(Sound.prototype.reset);var n=function(r,i){i=i||"spatial",i==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(qe);function je(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function hn(t){let n,r,i;t.length!==2?(n=je,r=(c,s)=>je(t(c),s),i=(c,s)=>t(c)-s):(n=t===je||t===Fn?t:jn,r=t,i=t);function a(c,s,d=0,m=c.length){if(d<m){if(n(s,s)!==0)return m;do{const e=d+m>>>1;r(c[e],s)<0?d=e+1:m=e}while(d<m)}return d}function l(c,s,d=0,m=c.length){if(d<m){if(n(s,s)!==0)return m;do{const e=d+m>>>1;r(c[e],s)<=0?d=e+1:m=e}while(d<m)}return d}function f(c,s,d=0,m=c.length){const e=a(c,s,d,m-1);return e>d&&i(c[e-1],s)>-i(c[e],s)?e-1:e}return{left:a,center:f,right:l}}function jn(){return 0}function Cn(t){return t===null?NaN:+t}const Vn=hn(je),$n=Vn.right;hn(Cn).center;const Xn=$n,Wn=Math.sqrt(50),Zn=Math.sqrt(10),Yn=Math.sqrt(2);function $e(t,n,r){const i=(n-t)/Math.max(0,r),a=Math.floor(Math.log10(i)),l=i/Math.pow(10,a),f=l>=Wn?10:l>=Zn?5:l>=Yn?2:1;let c,s,d;return a<0?(d=Math.pow(10,-a)/f,c=Math.round(t*d),s=Math.round(n*d),c/d<t&&++c,s/d>n&&--s,d=-d):(d=Math.pow(10,a)*f,c=Math.round(t/d),s=Math.round(n/d),c*d<t&&++c,s*d>n&&--s),s<c&&.5<=r&&r<2?$e(t,n,r*2):[c,s,d]}function Qn(t,n,r){if(n=+n,t=+t,r=+r,!(r>0))return[];if(t===n)return[t];const i=n<t,[a,l,f]=i?$e(n,t,r):$e(t,n,r);if(!(l>=a))return[];const c=l-a+1,s=new Array(c);if(i)if(f<0)for(let d=0;d<c;++d)s[d]=(l-d)/-f;else for(let d=0;d<c;++d)s[d]=(l-d)*f;else if(f<0)for(let d=0;d<c;++d)s[d]=(a+d)/-f;else for(let d=0;d<c;++d)s[d]=(a+d)*f;return s}function ct(t,n,r){return n=+n,t=+t,r=+r,$e(t,n,r)[2]}function Kn(t,n,r){n=+n,t=+t,r=+r;const i=n<t,a=i?ct(n,t,r):ct(t,n,r);return(i?-1:1)*(a<0?1/-a:a)}function dt(t,n,r){t=+t,n=+n,r=(a=arguments.length)<2?(n=t,t=0,1):a<3?1:+r;for(var i=-1,a=Math.max(0,Math.ceil((n-t)/r))|0,l=new Array(a);++i<a;)l[i]=t+i*r;return l}function vt(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function pn(t,n){var r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r}function Ne(){}var ke=.7,Xe=1/ke,be="\\s*([+-]?\\d+)\\s*",Me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",J="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Un=/^#([0-9a-f]{3,8})$/,Jn=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),zn=new RegExp(`^rgb\\(${J},${J},${J}\\)$`),er=new RegExp(`^rgba\\(${be},${be},${be},${Me}\\)$`),tr=new RegExp(`^rgba\\(${J},${J},${J},${Me}\\)$`),nr=new RegExp(`^hsl\\(${Me},${J},${J}\\)$`),rr=new RegExp(`^hsla\\(${Me},${J},${J},${Me}\\)$`),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vt(Ne,Se,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHex8:ir,formatHsl:or,formatRgb:Ht,toString:Ht});function Ot(){return this.rgb().formatHex()}function ir(){return this.rgb().formatHex8()}function or(){return mn(this).formatHsl()}function Ht(){return this.rgb().formatRgb()}function Se(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=Un.exec(t))?(r=n[1].length,n=parseInt(n[1],16),r===6?Rt(n):r===3?new X(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?Le(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?Le(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Jn.exec(t))?new X(n[1],n[2],n[3],1):(n=zn.exec(t))?new X(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=er.exec(t))?Le(n[1],n[2],n[3],n[4]):(n=tr.exec(t))?Le(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=nr.exec(t))?Bt(n[1],n[2]/100,n[3]/100,1):(n=rr.exec(t))?Bt(n[1],n[2]/100,n[3]/100,n[4]):Nt.hasOwnProperty(t)?Rt(Nt[t]):t==="transparent"?new X(NaN,NaN,NaN,0):null}function Rt(t){return new X(t>>16&255,t>>8&255,t&255,1)}function Le(t,n,r,i){return i<=0&&(t=n=r=NaN),new X(t,n,r,i)}function ar(t){return t instanceof Ne||(t=Se(t)),t?(t=t.rgb(),new X(t.r,t.g,t.b,t.opacity)):new X}function _t(t,n,r,i){return arguments.length===1?ar(t):new X(t,n,r,i??1)}function X(t,n,r,i){this.r=+t,this.g=+n,this.b=+r,this.opacity=+i}vt(X,_t,pn(Ne,{brighter(t){return t=t==null?Xe:Math.pow(Xe,t),new X(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ke:Math.pow(ke,t),new X(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new X(fe(this.r),fe(this.g),fe(this.b),We(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lt,formatHex:Lt,formatHex8:lr,formatRgb:Ft,toString:Ft}));function Lt(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}`}function lr(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}${ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ft(){const t=We(this.opacity);return`${t===1?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${t===1?")":`, ${t})`}`}function We(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ue(t){return t=fe(t),(t<16?"0":"")+t.toString(16)}function Bt(t,n,r,i){return i<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new K(t,n,r,i)}function mn(t){if(t instanceof K)return new K(t.h,t.s,t.l,t.opacity);if(t instanceof Ne||(t=Se(t)),!t)return new K;if(t instanceof K)return t;t=t.rgb();var n=t.r/255,r=t.g/255,i=t.b/255,a=Math.min(n,r,i),l=Math.max(n,r,i),f=NaN,c=l-a,s=(l+a)/2;return c?(n===l?f=(r-i)/c+(r<i)*6:r===l?f=(i-n)/c+2:f=(n-r)/c+4,c/=s<.5?l+a:2-l-a,f*=60):c=s>0&&s<1?0:f,new K(f,c,s,t.opacity)}function ur(t,n,r,i){return arguments.length===1?mn(t):new K(t,n,r,i??1)}function K(t,n,r,i){this.h=+t,this.s=+n,this.l=+r,this.opacity=+i}vt(K,ur,pn(Ne,{brighter(t){return t=t==null?Xe:Math.pow(Xe,t),new K(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ke:Math.pow(ke,t),new K(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new X(ot(t>=240?t-240:t+120,a,i),ot(t,a,i),ot(t<120?t+240:t-120,a,i),this.opacity)},clamp(){return new K(Dt(this.h),Fe(this.s),Fe(this.l),We(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=We(this.opacity);return`${t===1?"hsl(":"hsla("}${Dt(this.h)}, ${Fe(this.s)*100}%, ${Fe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Dt(t){return t=(t||0)%360,t<0?t+360:t}function Fe(t){return Math.max(0,Math.min(1,t||0))}function ot(t,n,r){return(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)*255}const bt=t=>()=>t;function fr(t,n){return function(r){return t+r*n}}function sr(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(i){return Math.pow(t+i*n,r)}}function cr(t){return(t=+t)==1?gn:function(n,r){return r-n?sr(n,r,t):bt(isNaN(n)?r:n)}}function gn(t,n){var r=n-t;return r?fr(t,r):bt(isNaN(t)?n:t)}const Gt=function t(n){var r=cr(n);function i(a,l){var f=r((a=_t(a)).r,(l=_t(l)).r),c=r(a.g,l.g),s=r(a.b,l.b),d=gn(a.opacity,l.opacity);return function(m){return a.r=f(m),a.g=c(m),a.b=s(m),a.opacity=d(m),a+""}}return i.gamma=t,i}(1);function dr(t,n){n||(n=[]);var r=t?Math.min(n.length,t.length):0,i=n.slice(),a;return function(l){for(a=0;a<r;++a)i[a]=t[a]*(1-l)+n[a]*l;return i}}function _r(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hr(t,n){var r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),l=new Array(r),f;for(f=0;f<i;++f)a[f]=wt(t[f],n[f]);for(;f<r;++f)l[f]=n[f];return function(c){for(f=0;f<i;++f)l[f]=a[f](c);return l}}function pr(t,n){var r=new Date;return t=+t,n=+n,function(i){return r.setTime(t*(1-i)+n*i),r}}function Ze(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function mr(t,n){var r={},i={},a;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(a in n)a in t?r[a]=wt(t[a],n[a]):i[a]=n[a];return function(l){for(a in r)i[a]=r[a](l);return i}}var ht=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,at=new RegExp(ht.source,"g");function gr(t){return function(){return t}}function yr(t){return function(n){return t(n)+""}}function vr(t,n){var r=ht.lastIndex=at.lastIndex=0,i,a,l,f=-1,c=[],s=[];for(t=t+"",n=n+"";(i=ht.exec(t))&&(a=at.exec(n));)(l=a.index)>r&&(l=n.slice(r,l),c[f]?c[f]+=l:c[++f]=l),(i=i[0])===(a=a[0])?c[f]?c[f]+=a:c[++f]=a:(c[++f]=null,s.push({i:f,x:Ze(i,a)})),r=at.lastIndex;return r<n.length&&(l=n.slice(r),c[f]?c[f]+=l:c[++f]=l),c.length<2?s[0]?yr(s[0].x):gr(n):(n=s.length,function(d){for(var m=0,e;m<n;++m)c[(e=s[m]).i]=e.x(d);return c.join("")})}function wt(t,n){var r=typeof n,i;return n==null||r==="boolean"?bt(n):(r==="number"?Ze:r==="string"?(i=Se(n))?(n=i,Gt):vr:n instanceof Se?Gt:n instanceof Date?pr:_r(n)?dr:Array.isArray(n)?hr:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?mr:Ze)(t,n)}function br(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}const pt=Math.PI,mt=2*pt,le=1e-6,wr=mt-le;function yn(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function xr(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return yn;const r=10**n;return function(i){this._+=i[0];for(let a=1,l=i.length;a<l;++a)this._+=Math.round(arguments[a]*r)/r+i[a]}}class Ar{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?yn:xr(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,i,a){this._append`Q${+n},${+r},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(n,r,i,a,l,f){this._append`C${+n},${+r},${+i},${+a},${this._x1=+l},${this._y1=+f}`}arcTo(n,r,i,a,l){if(n=+n,r=+r,i=+i,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let f=this._x1,c=this._y1,s=i-n,d=a-r,m=f-n,e=c-r,o=m*m+e*e;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(o>le)if(!(Math.abs(e*s-d*m)>le)||!l)this._append`L${this._x1=n},${this._y1=r}`;else{let u=i-f,h=a-c,p=s*s+d*d,g=u*u+h*h,_=Math.sqrt(p),y=Math.sqrt(o),w=l*Math.tan((pt-Math.acos((p+o-g)/(2*_*y)))/2),b=w/y,T=w/_;Math.abs(b-1)>le&&this._append`L${n+b*m},${r+b*e}`,this._append`A${l},${l},0,0,${+(e*u>m*h)},${this._x1=n+T*s},${this._y1=r+T*d}`}}arc(n,r,i,a,l,f){if(n=+n,r=+r,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),s=i*Math.sin(a),d=n+c,m=r+s,e=1^f,o=f?a-l:l-a;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>le||Math.abs(this._y1-m)>le)&&this._append`L${d},${m}`,i&&(o<0&&(o=o%mt+mt),o>wr?this._append`A${i},${i},0,1,${e},${n-c},${r-s}A${i},${i},0,1,${e},${this._x1=d},${this._y1=m}`:o>le&&this._append`A${i},${i},0,${+(o>=pt)},${e},${this._x1=n+i*Math.cos(l)},${this._y1=r+i*Math.sin(l)}`)}rect(n,r,i,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function Tr(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ye(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Ae(t){return t=Ye(Math.abs(t)),t?t[1]:NaN}function kr(t,n){return function(r,i){for(var a=r.length,l=[],f=0,c=t[0],s=0;a>0&&c>0&&(s+c+1>i&&(c=Math.max(1,i-s)),l.push(r.substring(a-=c,a+c)),!((s+=c+1)>i));)c=t[f=(f+1)%t.length];return l.reverse().join(n)}}function Mr(t){return function(n){return n.replace(/[0-9]/g,function(r){return t[+r]})}}var Sr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qe(t){if(!(n=Sr.exec(t)))throw new Error("invalid format: "+t);var n;return new xt({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Qe.prototype=xt.prototype;function xt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ir(t){e:for(var n=t.length,r=1,i=-1,a;r<n;++r)switch(t[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;default:if(!+t[r])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(a+1):t}var vn;function Er(t,n){var r=Ye(t,n);if(!r)return t+"";var i=r[0],a=r[1],l=a-(vn=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,f=i.length;return l===f?i:l>f?i+new Array(l-f+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+Ye(t,Math.max(0,n+l-1))[0]}function qt(t,n){var r=Ye(t,n);if(!r)return t+"";var i=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}const jt={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Tr,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>qt(t*100,n),r:qt,s:Er,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ct(t){return t}var Vt=Array.prototype.map,$t=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pr(t){var n=t.grouping===void 0||t.thousands===void 0?Ct:kr(Vt.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?Ct:Mr(Vt.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function d(e){e=Qe(e);var o=e.fill,u=e.align,h=e.sign,p=e.symbol,g=e.zero,_=e.width,y=e.comma,w=e.precision,b=e.trim,T=e.type;T==="n"?(y=!0,T="g"):jt[T]||(w===void 0&&(w=12),b=!0,T="g"),(g||o==="0"&&u==="=")&&(g=!0,o="0",u="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=p==="$"?i:/[%p]/.test(T)?f:"",L=jt[T],I=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function F(M){var P=S,x=E,A,O,W;if(T==="c")x=L(M)+x,M="";else{M=+M;var Y=M<0||1/M<0;if(M=isNaN(M)?s:L(Math.abs(M),w),b&&(M=Ir(M)),Y&&+M==0&&h!=="+"&&(Y=!1),P=(Y?h==="("?h:c:h==="-"||h==="("?"":h)+P,x=(T==="s"?$t[8+vn/3]:"")+x+(Y&&h==="("?")":""),I){for(A=-1,O=M.length;++A<O;)if(W=M.charCodeAt(A),48>W||W>57){x=(W===46?a+M.slice(A+1):M.slice(A))+x,M=M.slice(0,A);break}}}y&&!g&&(M=n(M,1/0));var Q=P.length+M.length+x.length,C=Q<_?new Array(_-Q+1).join(o):"";switch(y&&g&&(M=n(C+M,C.length?_-x.length:1/0),C=""),u){case"<":M=P+M+x+C;break;case"=":M=P+C+M+x;break;case"^":M=C.slice(0,Q=C.length>>1)+P+M+x+C.slice(Q);break;default:M=C+P+M+x;break}return l(M)}return F.toString=function(){return e+""},F}function m(e,o){var u=d((e=Qe(e),e.type="f",e)),h=Math.max(-8,Math.min(8,Math.floor(Ae(o)/3)))*3,p=Math.pow(10,-h),g=$t[8+h/3];return function(_){return u(p*_)+g}}return{format:d,formatPrefix:m}}var Be,Ke,bn;Nr({thousands:",",grouping:[3],currency:["$",""]});function Nr(t){return Be=Pr(t),Ke=Be.format,bn=Be.formatPrefix,Be}function Or(t){return Math.max(0,-Ae(Math.abs(t)))}function Hr(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ae(n)/3)))*3-Ae(Math.abs(t)))}function Rr(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ae(n)-Ae(t))+1}function Lr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Fr(t){return function(){return t}}function Br(t){return+t}var Xt=[0,1];function me(t){return t}function gt(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:Fr(isNaN(n)?NaN:.5)}function Dr(t,n){var r;return t>n&&(r=t,t=n,n=r),function(i){return Math.max(t,Math.min(n,i))}}function Gr(t,n,r){var i=t[0],a=t[1],l=n[0],f=n[1];return a<i?(i=gt(a,i),l=r(f,l)):(i=gt(i,a),l=r(l,f)),function(c){return l(i(c))}}function qr(t,n,r){var i=Math.min(t.length,n.length)-1,a=new Array(i),l=new Array(i),f=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++f<i;)a[f]=gt(t[f],t[f+1]),l[f]=r(n[f],n[f+1]);return function(c){var s=Xn(t,c,1,i)-1;return l[s](a[s](c))}}function jr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cr(){var t=Xt,n=Xt,r=wt,i,a,l,f=me,c,s,d;function m(){var o=Math.min(t.length,n.length);return f!==me&&(f=Dr(t[0],t[o-1])),c=o>2?qr:Gr,s=d=null,e}function e(o){return o==null||isNaN(o=+o)?l:(s||(s=c(t.map(i),n,r)))(i(f(o)))}return e.invert=function(o){return f(a((d||(d=c(n,t.map(i),Ze)))(o)))},e.domain=function(o){return arguments.length?(t=Array.from(o,Br),m()):t.slice()},e.range=function(o){return arguments.length?(n=Array.from(o),m()):n.slice()},e.rangeRound=function(o){return n=Array.from(o),r=br,m()},e.clamp=function(o){return arguments.length?(f=o?!0:me,m()):f!==me},e.interpolate=function(o){return arguments.length?(r=o,m()):r},e.unknown=function(o){return arguments.length?(l=o,e):l},function(o,u){return i=o,a=u,m()}}function Vr(){return Cr()(me,me)}function $r(t,n,r,i){var a=Kn(t,n,r),l;switch(i=Qe(i??",f"),i.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(n));return i.precision==null&&!isNaN(l=Hr(a,f))&&(i.precision=l),bn(i,f)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=Rr(a,Math.max(Math.abs(t),Math.abs(n))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=Or(a))&&(i.precision=l-(i.type==="%")*2);break}}return Ke(i)}function Xr(t){var n=t.domain;return t.ticks=function(r){var i=n();return Qn(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var a=n();return $r(a[0],a[a.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=n(),a=0,l=i.length-1,f=i[a],c=i[l],s,d,m=10;for(c<f&&(d=f,f=c,c=d,d=a,a=l,l=d);m-- >0;){if(d=ct(f,c,r),d===s)return i[a]=f,i[l]=c,n(i);if(d>0)f=Math.floor(f/d)*d,c=Math.ceil(c/d)*d;else if(d<0)f=Math.ceil(f*d)/d,c=Math.floor(c*d)/d;else break;s=d}return t},t}function wn(){var t=Vr();return t.copy=function(){return jr(t,wn())},Lr.apply(t,arguments),Xr(t)}function $(t){return function(){return t}}const Wt=Math.abs,q=Math.atan2,ae=Math.cos,Wr=Math.max,lt=Math.min,U=Math.sin,ge=Math.sqrt,V=1e-12,Ie=Math.PI,Ue=Ie/2,Zr=2*Ie;function Yr(t){return t>1?0:t<-1?Ie:Math.acos(t)}function Zt(t){return t>=1?Ue:t<=-1?-Ue:Math.asin(t)}function xn(t){let n=3;return t.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);n=i}return t},()=>new Ar(n)}function Qr(t){return t.innerRadius}function Kr(t){return t.outerRadius}function Ur(t){return t.startAngle}function Jr(t){return t.endAngle}function zr(t){return t&&t.padAngle}function ei(t,n,r,i,a,l,f,c){var s=r-t,d=i-n,m=f-a,e=c-l,o=e*s-m*d;if(!(o*o<V))return o=(m*(n-l)-e*(t-a))/o,[t+o*s,n+o*d]}function De(t,n,r,i,a,l,f){var c=t-r,s=n-i,d=(f?l:-l)/ge(c*c+s*s),m=d*s,e=-d*c,o=t+m,u=n+e,h=r+m,p=i+e,g=(o+h)/2,_=(u+p)/2,y=h-o,w=p-u,b=y*y+w*w,T=a-l,S=o*p-h*u,E=(w<0?-1:1)*ge(Wr(0,T*T*b-S*S)),L=(S*w-y*E)/b,I=(-S*y-w*E)/b,F=(S*w+y*E)/b,M=(-S*y+w*E)/b,P=L-g,x=I-_,A=F-g,O=M-_;return P*P+x*x>A*A+O*O&&(L=F,I=M),{cx:L,cy:I,x01:-m,y01:-e,x11:L*(a/T-1),y11:I*(a/T-1)}}function ti(){var t=Qr,n=Kr,r=$(0),i=null,a=Ur,l=Jr,f=zr,c=null,s=xn(d);function d(){var m,e,o=+t.apply(this,arguments),u=+n.apply(this,arguments),h=a.apply(this,arguments)-Ue,p=l.apply(this,arguments)-Ue,g=Wt(p-h),_=p>h;if(c||(c=m=s()),u<o&&(e=u,u=o,o=e),!(u>V))c.moveTo(0,0);else if(g>Zr-V)c.moveTo(u*ae(h),u*U(h)),c.arc(0,0,u,h,p,!_),o>V&&(c.moveTo(o*ae(p),o*U(p)),c.arc(0,0,o,p,h,_));else{var y=h,w=p,b=h,T=p,S=g,E=g,L=f.apply(this,arguments)/2,I=L>V&&(i?+i.apply(this,arguments):ge(o*o+u*u)),F=lt(Wt(u-o)/2,+r.apply(this,arguments)),M=F,P=F,x,A;if(I>V){var O=Zt(I/o*U(L)),W=Zt(I/u*U(L));(S-=O*2)>V?(O*=_?1:-1,b+=O,T-=O):(S=0,b=T=(h+p)/2),(E-=W*2)>V?(W*=_?1:-1,y+=W,w-=W):(E=0,y=w=(h+p)/2)}var Y=u*ae(y),Q=u*U(y),C=o*ae(T),Oe=o*U(T);if(F>V){var He=u*ae(w),Re=u*U(w),ze=o*ae(b),et=o*U(b),z;if(g<Ie)if(z=ei(Y,Q,ze,et,He,Re,C,Oe)){var tt=Y-z[0],nt=Q-z[1],rt=He-z[0],it=Re-z[1],At=1/U(Yr((tt*rt+nt*it)/(ge(tt*tt+nt*nt)*ge(rt*rt+it*it)))/2),Tt=ge(z[0]*z[0]+z[1]*z[1]);M=lt(F,(o-Tt)/(At-1)),P=lt(F,(u-Tt)/(At+1))}else M=P=0}E>V?P>V?(x=De(ze,et,Y,Q,u,P,_),A=De(He,Re,C,Oe,u,P,_),c.moveTo(x.cx+x.x01,x.cy+x.y01),P<F?c.arc(x.cx,x.cy,P,q(x.y01,x.x01),q(A.y01,A.x01),!_):(c.arc(x.cx,x.cy,P,q(x.y01,x.x01),q(x.y11,x.x11),!_),c.arc(0,0,u,q(x.cy+x.y11,x.cx+x.x11),q(A.cy+A.y11,A.cx+A.x11),!_),c.arc(A.cx,A.cy,P,q(A.y11,A.x11),q(A.y01,A.x01),!_))):(c.moveTo(Y,Q),c.arc(0,0,u,y,w,!_)):c.moveTo(Y,Q),!(o>V)||!(S>V)?c.lineTo(C,Oe):M>V?(x=De(C,Oe,He,Re,o,-M,_),A=De(Y,Q,ze,et,o,-M,_),c.lineTo(x.cx+x.x01,x.cy+x.y01),M<F?c.arc(x.cx,x.cy,M,q(x.y01,x.x01),q(A.y01,A.x01),!_):(c.arc(x.cx,x.cy,M,q(x.y01,x.x01),q(x.y11,x.x11),!_),c.arc(0,0,o,q(x.cy+x.y11,x.cx+x.x11),q(A.cy+A.y11,A.cx+A.x11),_),c.arc(A.cx,A.cy,M,q(A.y11,A.x11),q(A.y01,A.x01),!_))):c.arc(0,0,o,T,b,_)}if(c.closePath(),m)return c=null,m+""||null}return d.centroid=function(){var m=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +l.apply(this,arguments))/2-Ie/2;return[ae(e)*m,U(e)*m]},d.innerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:$(+m),d):t},d.outerRadius=function(m){return arguments.length?(n=typeof m=="function"?m:$(+m),d):n},d.cornerRadius=function(m){return arguments.length?(r=typeof m=="function"?m:$(+m),d):r},d.padRadius=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:$(+m),d):i},d.startAngle=function(m){return arguments.length?(a=typeof m=="function"?m:$(+m),d):a},d.endAngle=function(m){return arguments.length?(l=typeof m=="function"?m:$(+m),d):l},d.padAngle=function(m){return arguments.length?(f=typeof m=="function"?m:$(+m),d):f},d.context=function(m){return arguments.length?(c=m??null,d):c},d}function ni(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function An(t){this._context=t}An.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function ri(t){return new An(t)}function ii(t){return t[0]}function oi(t){return t[1]}function ai(t,n){var r=$(!0),i=null,a=ri,l=null,f=xn(c);t=typeof t=="function"?t:t===void 0?ii:$(t),n=typeof n=="function"?n:n===void 0?oi:$(n);function c(s){var d,m=(s=ni(s)).length,e,o=!1,u;for(i==null&&(l=a(u=f())),d=0;d<=m;++d)!(d<m&&r(e=s[d],d,s))===o&&((o=!o)?l.lineStart():l.lineEnd()),o&&l.point(+t(e,d,s),+n(e,d,s));if(u)return l=null,u+""||null}return c.x=function(s){return arguments.length?(t=typeof s=="function"?s:$(+s),c):t},c.y=function(s){return arguments.length?(n=typeof s=="function"?s:$(+s),c):n},c.defined=function(s){return arguments.length?(r=typeof s=="function"?s:$(!!s),c):r},c.curve=function(s){return arguments.length?(a=s,i!=null&&(l=a(i)),c):a},c.context=function(s){return arguments.length?(s==null?i=l=null:l=a(i=s),c):i},c}function li(t){let n;return{c(){n=we("path"),this.h()},l(r){n=xe(r,"path",{d:!0,fill:!0,class:!0}),j(n).forEach(k),this.h()},h(){v(n,"d",t[5]()),v(n,"fill",t[0]),v(n,"class","svelte-1jyeu8j"),Ce(n,"playing",t[4]),cn(n,"transform","translate(50%, 50%)")},m(r,i){B(r,n,i)},p(r,i){i&1&&v(n,"fill",r[0]),i&16&&Ce(n,"playing",r[4])},d(r){r&&k(n)}}}function ui(t){let n,r,i;return{c(){n=we("rect"),this.h()},l(a){n=xe(a,"rect",{x:!0,width:!0,height:!0,fill:!0,class:!0}),j(n).forEach(k),this.h()},h(){v(n,"x",r=t[2](t[1])),v(n,"width",i=t[2](Je)),v(n,"height",si),v(n,"fill",t[0]),v(n,"class","svelte-1jyeu8j"),Ce(n,"playing",t[4])},m(a,l){B(a,n,l)},p(a,l){l&6&&r!==(r=a[2](a[1]))&&v(n,"x",r),l&4&&i!==(i=a[2](Je))&&v(n,"width",i),l&1&&v(n,"fill",a[0]),l&16&&Ce(n,"playing",a[4])},d(a){a&&k(n)}}}function fi(t){let n;function r(l,f){if(l[3]==="linear")return ui;if(l[3]==="circular")return li}let i=r(t),a=i&&i(t);return{c(){a&&a.c(),n=Z()},l(l){a&&a.l(l),n=Z()},m(l,f){a&&a.m(l,f),B(l,n,f)},p(l,[f]){i===(i=r(l))&&a?a.p(l,f):(a&&a.d(1),a=i&&i(l),a&&(a.c(),a.m(n.parentNode,n)))},i:ie,o:ie,d(l){a&&a.d(l),l&&k(n)}}}const Je=.1,si=20;function ci(t,n,r){let i,a;sn(t,Ge,p=>r(9,a=p));let{color:l}=n,{note:f}=n,{id:c}=n,{xScale:s}=n,{rScale:d}=n,{type:m}=n,{innerRadius:e}=n;const o={hihat:new qe.Howl({src:["assets/sound/hihat.mp3"]}),kick:new qe.Howl({src:["assets/sound/kick.mp3"]}),snare:new qe.Howl({src:["assets/sound/snare.mp3"]})};let u=ti().innerRadius(e).outerRadius(e+15).startAngle(d(f)).endAngle(d(f+Je));const h=()=>{o[c].play()};return t.$$set=p=>{"color"in p&&r(0,l=p.color),"note"in p&&r(1,f=p.note),"id"in p&&r(6,c=p.id),"xScale"in p&&r(2,s=p.xScale),"rScale"in p&&r(7,d=p.rScale),"type"in p&&r(3,m=p.type),"innerRadius"in p&&r(8,e=p.innerRadius)},t.$$.update=()=>{t.$$.dirty&514&&r(4,i=a>=f&&a<f+Je),t.$$.dirty&16&&i&&h()},[l,f,s,m,i,u,c,d,e,a]}class Tn extends he{constructor(n){super(),pe(this,n,ci,fi,oe,{color:0,note:1,id:6,xScale:2,rScale:7,type:3,innerRadius:8})}}function Yt(t,n,r){const i=t.slice();return i[8]=n[r],i}function Qt(t,n,r){const i=t.slice();return i[8]=n[r],i}function di(t){let n,r,i=t[2],a=[];for(let f=0;f<i.length;f+=1)a[f]=Kt(Yt(t,i,f));const l=f=>G(a[f],1,1,()=>{a[f]=null});return{c(){for(let f=0;f<a.length;f+=1)a[f].c();n=Z()},l(f){for(let c=0;c<a.length;c+=1)a[c].l(f);n=Z()},m(f,c){for(let s=0;s<a.length;s+=1)a[s].m(f,c);B(f,n,c),r=!0},p(f,c){if(c&231){i=f[2];let s;for(s=0;s<i.length;s+=1){const d=Yt(f,i,s);a[s]?(a[s].p(d,c),D(a[s],1)):(a[s]=Kt(d),a[s].c(),D(a[s],1),a[s].m(n.parentNode,n))}for(Ee(),s=i.length;s<a.length;s+=1)l(s);Pe()}},i(f){if(!r){for(let c=0;c<i.length;c+=1)D(a[c]);r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)G(a[c]);r=!1},d(f){Te(a,f),f&&k(n)}}}function _i(t){let n,r,i,a=t[2],l=[];for(let c=0;c<a.length;c+=1)l[c]=Ut(Qt(t,a,c));const f=c=>G(l[c],1,1,()=>{l[c]=null});return{c(){n=we("g");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){n=xe(c,"g",{id:!0,transform:!0});var s=j(n);for(let d=0;d<l.length;d+=1)l[d].l(s);s.forEach(k),this.h()},h(){v(n,"id",t[0]),v(n,"transform",r=`translate(0, ${t[4](t[1])})`)},m(c,s){B(c,n,s);for(let d=0;d<l.length;d+=1)l[d].m(n,null);i=!0},p(c,s){if(s&205){a=c[2];let d;for(d=0;d<a.length;d+=1){const m=Qt(c,a,d);l[d]?(l[d].p(m,s),D(l[d],1)):(l[d]=Ut(m),l[d].c(),D(l[d],1),l[d].m(n,null))}for(Ee(),d=a.length;d<l.length;d+=1)f(d);Pe()}(!i||s&1)&&v(n,"id",c[0]),(!i||s&18&&r!==(r=`translate(0, ${c[4](c[1])})`))&&v(n,"transform",r)},i(c){if(!i){for(let s=0;s<a.length;s+=1)D(l[s]);i=!0}},o(c){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)G(l[s]);i=!1},d(c){c&&k(n),Te(l,c)}}}function Kt(t){let n,r;return n=new Tn({props:{note:t[8],color:t[7][t[0]],id:t[0],rScale:t[5],type:t[6],innerRadius:150+t[1]*20}}),{c(){se(n.$$.fragment)},l(i){ce(n.$$.fragment,i)},m(i,a){de(n,i,a),r=!0},p(i,a){const l={};a&4&&(l.note=i[8]),a&1&&(l.color=i[7][i[0]]),a&1&&(l.id=i[0]),a&32&&(l.rScale=i[5]),a&64&&(l.type=i[6]),a&2&&(l.innerRadius=150+i[1]*20),n.$set(l)},i(i){r||(D(n.$$.fragment,i),r=!0)},o(i){G(n.$$.fragment,i),r=!1},d(i){_e(n,i)}}}function Ut(t){let n,r;return n=new Tn({props:{note:t[8],color:t[7][t[0]],id:t[0],xScale:t[3],type:t[6]}}),{c(){se(n.$$.fragment)},l(i){ce(n.$$.fragment,i)},m(i,a){de(n,i,a),r=!0},p(i,a){const l={};a&4&&(l.note=i[8]),a&1&&(l.color=i[7][i[0]]),a&1&&(l.id=i[0]),a&8&&(l.xScale=i[3]),a&64&&(l.type=i[6]),n.$set(l)},i(i){r||(D(n.$$.fragment,i),r=!0)},o(i){G(n.$$.fragment,i),r=!1},d(i){_e(n,i)}}}function hi(t){let n,r,i,a;const l=[_i,di],f=[];function c(s,d){return s[6]==="linear"?0:s[6]==="circular"?1:-1}return~(n=c(t))&&(r=f[n]=l[n](t)),{c(){r&&r.c(),i=Z()},l(s){r&&r.l(s),i=Z()},m(s,d){~n&&f[n].m(s,d),B(s,i,d),a=!0},p(s,[d]){let m=n;n=c(s),n===m?~n&&f[n].p(s,d):(r&&(Ee(),G(f[m],1,1,()=>{f[m]=null}),Pe()),~n?(r=f[n],r?r.p(s,d):(r=f[n]=l[n](s),r.c()),D(r,1),r.m(i.parentNode,i)):r=null)},i(s){a||(D(r),a=!0)},o(s){G(r),a=!1},d(s){~n&&f[n].d(s),s&&k(i)}}}function pi(t,n,r){let{id:i}=n,{i:a}=n,{data:l}=n,{xScale:f}=n,{yScale:c}=n,{rScale:s}=n,{type:d}=n;const m={hihat:"red",kick:"black",snare:"purple"};return t.$$set=e=>{"id"in e&&r(0,i=e.id),"i"in e&&r(1,a=e.i),"data"in e&&r(2,l=e.data),"xScale"in e&&r(3,f=e.xScale),"yScale"in e&&r(4,c=e.yScale),"rScale"in e&&r(5,s=e.rScale),"type"in e&&r(6,d=e.type)},[i,a,l,f,c,s,d,m]}class mi extends he{constructor(n){super(),pe(this,n,pi,hi,oe,{id:0,i:1,data:2,xScale:3,yScale:4,rScale:5,type:6})}}var gi="Expected a function",Jt=0/0,yi="[object Symbol]",vi=/^\s+|\s+$/g,bi=/^[-+]0x[0-9a-f]+$/i,wi=/^0b[01]+$/i,xi=/^0o[0-7]+$/i,Ai=parseInt,Ti=typeof te=="object"&&te&&te.Object===Object&&te,ki=typeof self=="object"&&self&&self.Object===Object&&self,Mi=Ti||ki||Function("return this")(),Si=Object.prototype,Ii=Si.toString,Ei=Math.max,Pi=Math.min,ut=function(){return Mi.Date.now()};function Ni(t,n,r){var i,a,l,f,c,s,d=0,m=!1,e=!1,o=!0;if(typeof t!="function")throw new TypeError(gi);n=zt(n)||0,yt(r)&&(m=!!r.leading,e="maxWait"in r,l=e?Ei(zt(r.maxWait)||0,n):l,o="trailing"in r?!!r.trailing:o);function u(S){var E=i,L=a;return i=a=void 0,d=S,f=t.apply(L,E),f}function h(S){return d=S,c=setTimeout(_,n),m?u(S):f}function p(S){var E=S-s,L=S-d,I=n-E;return e?Pi(I,l-L):I}function g(S){var E=S-s,L=S-d;return s===void 0||E>=n||E<0||e&&L>=l}function _(){var S=ut();if(g(S))return y(S);c=setTimeout(_,p(S))}function y(S){return c=void 0,o&&i?u(S):(i=a=void 0,f)}function w(){c!==void 0&&clearTimeout(c),d=0,i=s=a=c=void 0}function b(){return c===void 0?f:y(ut())}function T(){var S=ut(),E=g(S);if(i=arguments,a=this,s=S,E){if(c===void 0)return h(s);if(e)return c=setTimeout(_,n),u(s)}return c===void 0&&(c=setTimeout(_,n)),f}return T.cancel=w,T.flush=b,T}function yt(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function Oi(t){return!!t&&typeof t=="object"}function Hi(t){return typeof t=="symbol"||Oi(t)&&Ii.call(t)==yi}function zt(t){if(typeof t=="number")return t;if(Hi(t))return Jt;if(yt(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=yt(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=t.replace(vi,"");var r=wi.test(t);return r||xi.test(t)?Ai(t.slice(2),r?2:8):bi.test(t)?Jt:+t}var Ri=Ni;const Li=Ln({width:0,height:0},t=>{const n=()=>t({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",Ri(n,250)),()=>{window.removeEventListener("resize",n)}});function en(t,n,r){const i=t.slice();return i[10]=n[r],i}function tn(t){let n,r=Ke(`.${t[6]}f`)(t[10])+"",i;return{c(){n=H("span"),i=ye(r),this.h()},l(a){n=R(a,"SPAN",{class:!0});var l=j(n);i=ve(l,r),l.forEach(k),this.h()},h(){v(n,"class","tick svelte-q7ecsm")},m(a,l){B(a,n,l),N(n,i)},p(a,l){l&96&&r!==(r=Ke(`.${a[6]}f`)(a[10])+"")&&_n(i,r)},d(a){a&&k(n)}}}function Fi(t){let n,r,i,a,l,f,c=t[5],s=[];for(let d=0;d<c.length;d+=1)s[d]=tn(en(t,c,d));return{c(){n=H("div"),r=H("div");for(let d=0;d<s.length;d+=1)s[d].c();i=ne(),a=H("input"),this.h()},l(d){n=R(d,"DIV",{class:!0});var m=j(n);r=R(m,"DIV",{class:!0});var e=j(r);for(let o=0;o<s.length;o+=1)s[o].l(e);e.forEach(k),i=re(m),a=R(m,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),m.forEach(k),this.h()},h(){v(r,"class","ticks svelte-q7ecsm"),v(a,"type","range"),v(a,"aria-label",t[4]),v(a,"min",t[1]),v(a,"max",t[2]),v(a,"step",t[3]),v(a,"class","svelte-q7ecsm"),v(n,"class","range svelte-q7ecsm")},m(d,m){B(d,n,m),N(n,r);for(let e=0;e<s.length;e+=1)s[e].m(r,null);N(n,i),N(n,a),Mt(a,t[0]),l||(f=[Ve(a,"change",t[8]),Ve(a,"input",t[8])],l=!0)},p(d,[m]){if(m&96){c=d[5];let e;for(e=0;e<c.length;e+=1){const o=en(d,c,e);s[e]?s[e].p(o,m):(s[e]=tn(o),s[e].c(),s[e].m(r,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=c.length}m&16&&v(a,"aria-label",d[4]),m&2&&v(a,"min",d[1]),m&4&&v(a,"max",d[2]),m&8&&v(a,"step",d[3]),m&1&&Mt(a,d[0])},i:ie,o:ie,d(d){d&&k(n),Te(s,d),l=!1,dn(f)}}}function Bi(t,n,r){let i,a,{min:l=0}=n,{max:f=100}=n,{step:c=1}=n,{showTicks:s=!1}=n,{value:d=l}=n,{label:m=""}=n;const e=u=>Math.floor(u)===u?0:u.toString().split(".")[1].length||0;function o(){d=En(this.value),r(0,d)}return t.$$set=u=>{"min"in u&&r(1,l=u.min),"max"in u&&r(2,f=u.max),"step"in u&&r(3,c=u.step),"showTicks"in u&&r(7,s=u.showTicks),"value"in u&&r(0,d=u.value),"label"in u&&r(4,m=u.label)},t.$$.update=()=>{t.$$.dirty&8&&r(6,i=e(c)),t.$$.dirty&142&&r(5,a=s?dt(l,f+c,c):[])},[d,l,f,c,m,a,i,s,o]}class Di extends he{constructor(n){super(),pe(this,n,Bi,Fi,oe,{min:1,max:2,step:3,showTicks:7,value:0,label:4})}}function nn(t,n,r){const i=t.slice();return i[7]=n[r],i[9]=r,i}function rn(t,n,r){const i=t.slice();return i[9]=n[r],i}function on(t){let n,r,i,a;return{c(){n=we("line"),this.h()},l(l){n=xe(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),j(n).forEach(k),this.h()},h(){v(n,"x1",r=t[2].width/2),v(n,"y1",ee/2),v(n,"x2",i=t[2].width/2+(ee/2-100)*Math.cos(t[1](t[9]))),v(n,"y2",a=ee/2+(ee/2-100)*Math.sin(t[1](t[9]))),v(n,"class","svelte-1wo7zpf")},m(l,f){B(l,n,f)},p(l,f){f&4&&r!==(r=l[2].width/2)&&v(n,"x1",r),f&6&&i!==(i=l[2].width/2+(ee/2-100)*Math.cos(l[1](l[9])))&&v(n,"x2",i),f&2&&a!==(a=ee/2+(ee/2-100)*Math.sin(l[1](l[9])))&&v(n,"y2",a)},d(l){l&&k(n)}}}function an(t){let n,r;return n=new mi({props:{id:t[7],i:t[9],data:t[0][t[7]],rScale:t[1],type:"circular"}}),{c(){se(n.$$.fragment)},l(i){ce(n.$$.fragment,i)},m(i,a){de(n,i,a),r=!0},p(i,a){const l={};a&1&&(l.id=i[7]),a&1&&(l.data=i[0][i[7]]),a&2&&(l.rScale=i[1]),n.$set(l)},i(i){r||(D(n.$$.fragment,i),r=!0)},o(i){G(n.$$.fragment,i),r=!1},d(i){_e(n,i)}}}function ln(t){let n,r,i=Object.keys(t[0]),a=[];for(let f=0;f<i.length;f+=1)a[f]=an(nn(t,i,f));const l=f=>G(a[f],1,1,()=>{a[f]=null});return{c(){for(let f=0;f<a.length;f+=1)a[f].c();n=Z()},l(f){for(let c=0;c<a.length;c+=1)a[c].l(f);n=Z()},m(f,c){for(let s=0;s<a.length;s+=1)a[s].m(f,c);B(f,n,c),r=!0},p(f,c){if(c&3){i=Object.keys(f[0]);let s;for(s=0;s<i.length;s+=1){const d=nn(f,i,s);a[s]?(a[s].p(d,c),D(a[s],1)):(a[s]=an(d),a[s].c(),D(a[s],1),a[s].m(n.parentNode,n))}for(Ee(),s=i.length;s<a.length;s+=1)l(s);Pe()}},i(f){if(!r){for(let c=0;c<i.length;c+=1)D(a[c]);r=!0}},o(f){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)G(a[c]);r=!1},d(f){Te(a,f),f&&k(n)}}}function Gi(t){let n,r,i,a=t[0],l,f,c,s,d,m,e,o,u,h=dt(0,4,.25),p=[];for(let _=0;_<h.length;_+=1)p[_]=on(rn(t,h,_));let g=ln(t);return{c(){n=we("svg"),r=we("circle");for(let _=0;_<p.length;_+=1)p[_].c();i=Z(),g.c(),l=ne(),f=H("button"),c=ye("play"),s=ne(),d=H("button"),m=ye("pause"),this.h()},l(_){n=xe(_,"svg",{width:!0,height:!0,class:!0});var y=j(n);r=xe(y,"circle",{r:!0,cx:!0,cy:!0,class:!0}),j(r).forEach(k);for(let T=0;T<p.length;T+=1)p[T].l(y);i=Z(),g.l(y),y.forEach(k),l=re(_),f=R(_,"BUTTON",{});var w=j(f);c=ve(w,"play"),w.forEach(k),s=re(_),d=R(_,"BUTTON",{});var b=j(d);m=ve(b,"pause"),b.forEach(k),this.h()},h(){v(r,"r",ee/2-100),v(r,"cx","50%"),v(r,"cy","50%"),v(r,"class","svelte-1wo7zpf"),v(n,"width","100%"),v(n,"height",ee),v(n,"class","svelte-1wo7zpf")},m(_,y){B(_,n,y),N(n,r);for(let w=0;w<p.length;w+=1)p[w].m(n,null);N(n,i),g.m(n,null),B(_,l,y),B(_,f,y),N(f,c),B(_,s,y),B(_,d,y),N(d,m),e=!0,o||(u=[Ve(f,"click",t[4]),Ve(d,"click",t[3])],o=!0)},p(_,[y]){if(y&6){h=dt(0,4,.25);let w;for(w=0;w<h.length;w+=1){const b=rn(_,h,w);p[w]?p[w].p(b,y):(p[w]=on(b),p[w].c(),p[w].m(n,i))}for(;w<p.length;w+=1)p[w].d(1);p.length=h.length}y&1&&oe(a,a=_[0])?(Ee(),G(g,1,1,ie),Pe(),g=ln(_),g.c(),D(g,1),g.m(n,null)):g.p(_,y)},i(_){e||(D(g),e=!0)},o(_){G(g),e=!1},d(_){_&&k(n),Te(p,_),g.d(_),_&&k(l),_&&k(f),_&&k(s),_&&k(d),o=!1,dn(u)}}}const ee=500,ft=2800,qi=0,un=4;function ji(t,n,r){let i,a;sn(t,Li,m=>r(2,a=m));let{data:l}=n,f;const c=()=>{clearInterval(f)},s=()=>{Ge.set(un,{duration:ft}),f=setInterval(()=>{Ge.set(qi,{duration:0}),Ge.set(un,{duration:ft})},ft)},d=ai().x(m=>m.x).y(m=>m.y);return Pn(()=>{clearInterval(f)}),t.$$set=m=>{"data"in m&&r(0,l=m.data)},r(1,i=wn().domain([0,4]).range([0,2*Math.PI])),console.log(d([{x:0,y:0},{x:1,y:1},{x:2,y:2}])),[l,i,a,c,s]}class Ci extends he{constructor(n){super(),pe(this,n,ji,Gi,oe,{data:0})}}function Vi(t){let n,r,i,a=t[1][t[0]]+"",l,f,c,s,d,m,e,o,u,h,p,g,_;n=new Ci({props:{data:t[2][t[0]]}});function y(b){t[3](b)}let w={min:0,max:t[1].length-1,step:1,showTicks:!0};return t[0]!==void 0&&(w.value=t[0]),s=new Di({props:w}),Nn.push(()=>On(s,"value",y)),{c(){se(n.$$.fragment),r=ne(),i=H("h2"),l=ye(a),f=ne(),c=H("div"),se(s.$$.fragment),m=ne(),e=H("details"),o=H("summary"),u=ye("more info"),h=ne(),p=H("p"),g=ye(`Swinging a groove means instead of every note being equally spaced, there's
		a long-short-long-short pattern (see red notes), so the notes are spaced
		slightly unevenly. The most common type is a triplet swing, where the length
		of the first note (long) is twice the length of the second (short). That's
		one way to do it, and there are other ways to divide the beat to create
		different feels.`),this.h()},l(b){ce(n.$$.fragment,b),r=re(b),i=R(b,"H2",{});var T=j(i);l=ve(T,a),T.forEach(k),f=re(b),c=R(b,"DIV",{style:!0});var S=j(c);ce(s.$$.fragment,S),S.forEach(k),m=re(b),e=R(b,"DETAILS",{});var E=j(e);o=R(E,"SUMMARY",{});var L=j(o);u=ve(L,"more info"),L.forEach(k),h=re(E),p=R(E,"P",{});var I=j(p);g=ve(I,`Swinging a groove means instead of every note being equally spaced, there's
		a long-short-long-short pattern (see red notes), so the notes are spaced
		slightly unevenly. The most common type is a triplet swing, where the length
		of the first note (long) is twice the length of the second (short). That's
		one way to do it, and there are other ways to divide the beat to create
		different feels.`),I.forEach(k),E.forEach(k),this.h()},h(){cn(c,"width","50%")},m(b,T){de(n,b,T),B(b,r,T),B(b,i,T),N(i,l),B(b,f,T),B(b,c,T),de(s,c,null),B(b,m,T),B(b,e,T),N(e,o),N(o,u),N(e,h),N(e,p),N(p,g),_=!0},p(b,[T]){const S={};T&1&&(S.data=b[2][b[0]]),n.$set(S),(!_||T&1)&&a!==(a=b[1][b[0]]+"")&&_n(l,a);const E={};!d&&T&1&&(d=!0,E.value=b[0],Hn(()=>d=!1)),s.$set(E)},i(b){_||(D(n.$$.fragment,b),D(s.$$.fragment,b),_=!0)},o(b){G(n.$$.fragment,b),G(s.$$.fragment,b),_=!1},d(b){_e(n,b),b&&k(r),b&&k(i),b&&k(f),b&&k(c),_e(s),b&&k(m),b&&k(e)}}}function $i(t,n,r){let i=0,a=["straight","septuplet","quintuplet","triplet"];const l=o=>[0,o,1,1+o,2,2+o,3,3+o],f={hihat:l(.5),snare:[1,3],kick:[0,2]},c={hihat:l(2/3),snare:[1,3],kick:[0,2]},s={hihat:l(3/5),snare:[1,3],kick:[0,2]},d={hihat:l(4/7),snare:[1,3],kick:[0,2]},m=[f,d,s,c];function e(o){i=o,r(0,i)}return[i,a,m,e]}class Xi extends he{constructor(n){super(),pe(this,n,$i,Vi,oe,{})}}const Wi="Title TK",Zi="Description tk.",fn={title:Wi,description:Zi};function Yi(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-02-28-16:14"),console.log("--- --- --- --- --- ---")}function Qi(t){let n,r,i,a;return n=new Gn({props:{title:t[1],description:t[2],url:t[3],preloadFont:t[0],keywords:t[4]}}),i=new Xi({}),{c(){se(n.$$.fragment),r=ne(),se(i.$$.fragment)},l(l){ce(n.$$.fragment,l),r=re(l),ce(i.$$.fragment,l)},m(l,f){de(n,l,f),B(l,r,f),de(i,l,f),a=!0},p:ie,i(l){a||(D(n.$$.fragment,l),D(i.$$.fragment,l),a=!0)},o(l){G(n.$$.fragment,l),G(i.$$.fragment,l),a=!1},d(l){_e(n,l),l&&k(r),_e(i,l)}}}function Ki(t,n,r){let{data:i}=n;Yi();const a=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:l,description:f,url:c,keywords:s}=fn;return St("copy",fn),St("data",i.data),t.$$set=d=>{"data"in d&&r(5,i=d.data)},[a,l,f,c,s,i]}class eo extends he{constructor(n){super(),pe(this,n,Ki,Qi,oe,{data:5})}}export{eo as default};
