import{S as En,i as Mn,s as kn,k as Z,e as hn,J as mg,l as V,h as W,n as F,D as X,C as pn,K as wt,b as he,a as ke,q as Qn,m as ce,c as Oe,r as Jn,o as dr,L as Ft,u as bl,p as Bn,M as dn,N as hr,O as $o,I as Ce,P as Tn,v as mt,Q as Sn,f as ue,g as Nn,d as Dn,t as pe,x as nn,y as gn,z as tn,A as rn,w as Bf,R as Ko,T as vg,U as Zo,V as wg,E as yg,F as bg,G as Ag,H as xg,W as Tg,X as Ig,Y as Sg,Z as Nf}from"../../chunks/index-90d0efc1.js";import{w as Eg}from"../../chunks/wordmark-fc3f3709.js";import{d as Mg}from"../../chunks/transform-5bf7892f.js";import{_ as kg}from"../../chunks/preload-helper-41c905a7.js";import{w as zn}from"../../chunks/index-09e33626.js";function Df(o,u,t){const f=o.slice();return f[5]=u[t],f}function Ff(o){let u,t;return{c(){u=Z("link"),this.h()},l(f){u=V(f,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){F(u,"rel","preload"),F(u,"href",t=o[5]),F(u,"as","font"),F(u,"type","font/woff2"),F(u,"crossorigin","")},m(f,s){he(f,u,s)},p(f,s){s&16&&t!==(t=f[5])&&F(u,"href",t)},d(f){f&&W(u)}}}function Og(o){let u,t,f,s,p,_,m,w,v,O,i,l,d,b,T,S,A,R,L,C,M,H,J,Y,$,be;document.title=u=o[0];let q=o[4],de=[];for(let ne=0;ne<q.length;ne+=1)de[ne]=Ff(Df(o,q,ne));return{c(){t=Z("meta"),f=Z("meta"),s=Z("meta"),p=Z("meta"),_=Z("meta"),m=Z("meta"),w=Z("meta"),v=Z("meta"),O=Z("meta"),i=Z("meta"),d=Z("meta"),b=Z("meta"),T=Z("meta"),S=Z("meta"),A=Z("meta"),R=Z("meta"),L=Z("meta"),C=Z("meta"),M=Z("meta"),J=Z("meta"),Y=Z("link");for(let ne=0;ne<de.length;ne+=1)de[ne].c();be=hn(),this.h()},l(ne){const z=mg("svelte-1htu80s",document.head);t=V(z,"META",{name:!0,content:!0}),f=V(z,"META",{name:!0,content:!0}),s=V(z,"META",{name:!0,content:!0}),p=V(z,"META",{property:!0,content:!0}),_=V(z,"META",{property:!0,content:!0}),m=V(z,"META",{property:!0,content:!0}),w=V(z,"META",{property:!0,content:!0}),v=V(z,"META",{property:!0,content:!0}),O=V(z,"META",{property:!0,content:!0}),i=V(z,"META",{property:!0,content:!0}),d=V(z,"META",{property:!0,content:!0}),b=V(z,"META",{property:!0,content:!0}),T=V(z,"META",{property:!0,content:!0}),S=V(z,"META",{name:!0,content:!0}),A=V(z,"META",{name:!0,content:!0}),R=V(z,"META",{name:!0,content:!0}),L=V(z,"META",{name:!0,content:!0}),C=V(z,"META",{name:!0,content:!0}),M=V(z,"META",{name:!0,content:!0}),J=V(z,"META",{name:!0,content:!0}),Y=V(z,"LINK",{rel:!0,href:!0});for(let ve=0;ve<de.length;ve+=1)de[ve].l(z);be=hn(),z.forEach(W),this.h()},h(){F(t,"name","description"),F(t,"content",o[1]),F(f,"name","author"),F(f,"content","The Pudding"),F(s,"name","news_keywords"),F(s,"content",o[3]),F(p,"property","og:title"),F(p,"content",o[0]),F(_,"property","og:site_name"),F(_,"content","The Pudding"),F(m,"property","og:url"),F(m,"content",o[2]),F(w,"property","og:description"),F(w,"content",o[1]),F(v,"property","og:type"),F(v,"content","article"),F(O,"property","og:locale"),F(O,"content","en_US"),F(i,"property","og:image"),F(i,"content",l=o[2]+"/assets/social-facebook.jpg"),F(d,"property","og:image:type"),F(d,"content","image/jpeg"),F(b,"property","og:image:width"),F(b,"content","1200"),F(T,"property","og:image:height"),F(T,"content","600"),F(S,"name","twitter:card"),F(S,"content","summary_large_image"),F(A,"name","twitter:site"),F(A,"content","https://pudding.cool"),F(R,"name","twitter:creator"),F(R,"content","@puddingviz"),F(L,"name","twitter:title"),F(L,"content",o[0]),F(C,"name","twitter:description"),F(C,"content",o[1]),F(M,"name","twitter:image:src"),F(M,"content",H=o[2]+"/assets/social-twitter.jpg"),F(J,"name","robots"),F(J,"content","max-image-preview:large"),F(Y,"rel","canonical"),F(Y,"href",$=o[2]+"/")},m(ne,z){X(document.head,t),X(document.head,f),X(document.head,s),X(document.head,p),X(document.head,_),X(document.head,m),X(document.head,w),X(document.head,v),X(document.head,O),X(document.head,i),X(document.head,d),X(document.head,b),X(document.head,T),X(document.head,S),X(document.head,A),X(document.head,R),X(document.head,L),X(document.head,C),X(document.head,M),X(document.head,J),X(document.head,Y);for(let ve=0;ve<de.length;ve+=1)de[ve].m(document.head,null);X(document.head,be)},p(ne,[z]){if(z&1&&u!==(u=ne[0])&&(document.title=u),z&2&&F(t,"content",ne[1]),z&8&&F(s,"content",ne[3]),z&1&&F(p,"content",ne[0]),z&4&&F(m,"content",ne[2]),z&2&&F(w,"content",ne[1]),z&4&&l!==(l=ne[2]+"/assets/social-facebook.jpg")&&F(i,"content",l),z&1&&F(L,"content",ne[0]),z&2&&F(C,"content",ne[1]),z&4&&H!==(H=ne[2]+"/assets/social-twitter.jpg")&&F(M,"content",H),z&4&&$!==($=ne[2]+"/")&&F(Y,"href",$),z&16){q=ne[4];let ve;for(ve=0;ve<q.length;ve+=1){const mn=Df(ne,q,ve);de[ve]?de[ve].p(mn,z):(de[ve]=Ff(mn),de[ve].c(),de[ve].m(be.parentNode,be))}for(;ve<de.length;ve+=1)de[ve].d(1);de.length=q.length}},i:pn,o:pn,d(ne){W(t),W(f),W(s),W(p),W(_),W(m),W(w),W(v),W(O),W(i),W(d),W(b),W(T),W(S),W(A),W(R),W(L),W(C),W(M),W(J),W(Y),wt(de,ne),W(be)}}}function Rg(o,u,t){let{title:f="Title TK"}=u,{description:s="Description TK"}=u,{url:p="https://pudding.cool"}=u,{keywords:_=""}=u,{preloadFont:m=[]}=u;return o.$$set=w=>{"title"in w&&t(0,f=w.title),"description"in w&&t(1,s=w.description),"url"in w&&t(2,p=w.url),"keywords"in w&&t(3,_=w.keywords),"preloadFont"in w&&t(4,m=w.preloadFont)},[f,s,p,_,m]}class Lg extends En{constructor(u){super(),Mn(this,u,Rg,Og,kn,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Wf(o,u,t){const f=o.slice();return f[5]=u[t],f}function Hf(o,u,t){const f=o.slice();return f[8]=u[t].hed,f[2]=u[t].url,f[9]=u[t].image,f}function Gf(o){let u,t,f,s,p,_,m=o[8]+"",w,v,O;return{c(){u=Z("div"),t=Z("a"),f=Z("img"),p=ke(),_=Z("span"),w=Qn(m),O=ke(),this.h()},l(i){u=V(i,"DIV",{class:!0});var l=ce(u);t=V(l,"A",{href:!0,class:!0});var d=ce(t);f=V(d,"IMG",{src:!0,alt:!0}),p=Oe(d),_=V(d,"SPAN",{class:!0});var b=ce(_);w=Jn(b,m),b.forEach(W),d.forEach(W),O=Oe(l),l.forEach(W),this.h()},h(){Ft(f.src,s="https://pudding.cool/common/assets/thumbnails/640/"+o[9]+".jpg")||F(f,"src",s),F(f,"alt","thumbnail"),F(_,"class","svelte-1en6glb"),F(t,"href",v="https://pudding.cool/"+o[2]),F(t,"class","svelte-1en6glb"),F(u,"class","story svelte-1en6glb")},m(i,l){he(i,u,l),X(u,t),X(t,f),X(t,p),X(t,_),X(_,w),X(u,O)},p(i,l){l&1&&!Ft(f.src,s="https://pudding.cool/common/assets/thumbnails/640/"+i[9]+".jpg")&&F(f,"src",s),l&1&&m!==(m=i[8]+"")&&bl(w,m),l&1&&v!==(v="https://pudding.cool/"+i[2])&&F(t,"href",v)},d(i){i&&W(u)}}}function Uf(o){let u,t,f,s=o[5].name.toUpperCase()+"",p,_;return{c(){u=Z("li"),t=Z("a"),f=Z("span"),p=Qn(s),_=ke(),this.h()},l(m){u=V(m,"LI",{class:!0});var w=ce(u);t=V(w,"A",{href:!0,class:!0});var v=ce(t);f=V(v,"SPAN",{class:!0});var O=ce(f);p=Jn(O,s),O.forEach(W),v.forEach(W),_=Oe(w),w.forEach(W),this.h()},h(){F(f,"class","svelte-1en6glb"),F(t,"href",o[5].url),F(t,"class","svelte-1en6glb"),F(u,"class","svelte-1en6glb")},m(m,w){he(m,u,w),X(u,t),X(t,f),X(f,p),X(u,_)},p:pn,d(m){m&&W(u)}}}function Cg(o){let u,t,f,s,p,_,m,w,v,O,i,l,d,b=o[0],T=[];for(let R=0;R<b.length;R+=1)T[R]=Gf(Hf(o,b,R));let S=o[1],A=[];for(let R=0;R<S.length;R+=1)A[R]=Uf(Wf(o,S,R));return{c(){u=Z("footer"),t=Z("section");for(let R=0;R<T.length;R+=1)T[R].c();f=ke(),s=Z("section"),p=Z("div"),_=ke(),m=Z("p"),w=Z("a"),v=Qn("The Pudding"),O=Qn(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),i=ke(),l=Z("section"),d=Z("ul");for(let R=0;R<A.length;R+=1)A[R].c();this.h()},l(R){u=V(R,"FOOTER",{class:!0});var L=ce(u);t=V(L,"SECTION",{class:!0});var C=ce(t);for(let q=0;q<T.length;q+=1)T[q].l(C);C.forEach(W),f=Oe(L),s=V(L,"SECTION",{class:!0});var M=ce(s);p=V(M,"DIV",{class:!0});var H=ce(p);H.forEach(W),_=Oe(M),m=V(M,"P",{});var J=ce(m);w=V(J,"A",{href:!0,class:!0});var Y=ce(w);v=Jn(Y,"The Pudding"),Y.forEach(W),O=Jn(J,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),J.forEach(W),M.forEach(W),i=Oe(L),l=V(L,"SECTION",{class:!0});var $=ce(l);d=V($,"UL",{class:!0});var be=ce(d);for(let q=0;q<A.length;q+=1)A[q].l(be);be.forEach(W),$.forEach(W),L.forEach(W),this.h()},h(){F(t,"class","stories svelte-1en6glb"),F(p,"class","wordmark svelte-1en6glb"),F(w,"href","https://pudding.cool"),F(w,"class","svelte-1en6glb"),F(s,"class","about svelte-1en6glb"),F(d,"class","svelte-1en6glb"),F(l,"class","links svelte-1en6glb"),F(u,"class","svelte-1en6glb")},m(R,L){he(R,u,L),X(u,t);for(let C=0;C<T.length;C+=1)T[C].m(t,null);X(u,f),X(u,s),X(s,p),p.innerHTML=Eg,X(s,_),X(s,m),X(m,w),X(w,v),X(m,O),X(u,i),X(u,l),X(l,d);for(let C=0;C<A.length;C+=1)A[C].m(d,null)},p(R,[L]){if(L&1){b=R[0];let C;for(C=0;C<b.length;C+=1){const M=Hf(R,b,C);T[C]?T[C].p(M,L):(T[C]=Gf(M),T[C].c(),T[C].m(t,null))}for(;C<T.length;C+=1)T[C].d(1);T.length=b.length}if(L&2){S=R[1];let C;for(C=0;C<S.length;C+=1){const M=Wf(R,S,C);A[C]?A[C].p(M,L):(A[C]=Uf(M),A[C].c(),A[C].m(d,null))}for(;C<A.length;C+=1)A[C].d(1);A.length=S.length}},i:pn,o:pn,d(R){R&&W(u),wt(T,R),wt(A,R)}}}function Pg(o,u,t){let f,s=[];const _=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,m=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return dr(async()=>{f=window.location.href;const v=await(await fetch(_)).json();t(0,s=v.filter(O=>!f.includes(O.url)).slice(0,4))}),[s,m,_]}class Bg extends En{constructor(u){super(),Mn(this,u,Pg,Cg,kn,{})}}var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ng={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(o){(function(){var u=function(){this.init()};u.prototype={init:function(){var i=this||t;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var l=this||t;if(i=parseFloat(i),l.ctx||O(),typeof i<"u"&&i>=0&&i<=1){if(l._volume=i,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(i,t.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var b=l._howls[d]._getSoundIds(),T=0;T<b.length;T++){var S=l._howls[d]._soundById(b[T]);S&&S._node&&(S._node.volume=S._volume*i)}return l}return l._volume},mute:function(i){var l=this||t;l.ctx||O(),l._muted=i,l.usingWebAudio&&l.masterGain.gain.setValueAtTime(i?0:l._volume,t.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var b=l._howls[d]._getSoundIds(),T=0;T<b.length;T++){var S=l._howls[d]._soundById(b[T]);S&&S._node&&(S._node.muted=i?!0:S._muted)}return l},stop:function(){for(var i=this||t,l=0;l<i._howls.length;l++)i._howls[l].stop();return i},unload:function(){for(var i=this||t,l=i._howls.length-1;l>=0;l--)i._howls[l].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,O()),i},codecs:function(i){return(this||t)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||t;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var l=new Audio;typeof l.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var l=new Audio;l.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||t,l=null;try{l=typeof Audio<"u"?new Audio:null}catch{return i}if(!l||typeof l.canPlayType!="function")return i;var d=l.canPlayType("audio/mpeg;").replace(/^no$/,""),b=i._navigator?i._navigator.userAgent:"",T=b.match(/OPR\/([0-6].)/g),S=T&&parseInt(T[0].split("/")[1],10)<33,A=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,R=b.match(/Version\/(.*?) /),L=A&&R&&parseInt(R[1],10)<15;return i._codecs={mp3:!!(!S&&(d||l.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(l.canPlayType('audio/wav; codecs="1"')||l.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!l.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(l.canPlayType("audio/x-m4b;")||l.canPlayType("audio/m4b;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!L&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!L&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!l.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(l.canPlayType("audio/x-flac;")||l.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||t;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var l=function(d){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,i._releaseHtml5Audio(b)}catch{i.noAudio=!0;break}for(var T=0;T<i._howls.length;T++)if(!i._howls[T]._webAudio)for(var S=i._howls[T]._getSoundIds(),A=0;A<S.length;A++){var R=i._howls[T]._soundById(S[A]);R&&R._node&&!R._node._unlocked&&(R._node._unlocked=!0,R._node.load())}i._autoResume();var L=i.ctx.createBufferSource();L.buffer=i._scratchBuffer,L.connect(i.ctx.destination),typeof L.start>"u"?L.noteOn(0):L.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),L.onended=function(){L.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0),document.removeEventListener("keydown",l,!0);for(var C=0;C<i._howls.length;C++)i._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),document.addEventListener("keydown",l,!0),i}},_obtainHtml5Audio:function(){var i=this||t;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var l=new Audio().play();return l&&typeof Promise<"u"&&(l instanceof Promise||typeof l.then=="function")&&l.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var l=this||t;return i._unlocked&&l._html5AudioPool.push(i),l},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!t.usingWebAudio)){for(var l=0;l<i._howls.length;l++)if(i._howls[l]._webAudio){for(var d=0;d<i._howls[l]._sounds.length;d++)if(!i._howls[l]._sounds[d]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var b=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(b,b)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!t.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var l=0;l<i._howls.length;l++)i._howls[l]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var t=new u,f=function(i){var l=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}l.init(i)};f.prototype={init:function(i){var l=this;return t.ctx||O(),l._autoplay=i.autoplay||!1,l._format=typeof i.format!="string"?i.format:[i.format],l._html5=i.html5||!1,l._muted=i.mute||!1,l._loop=i.loop||!1,l._pool=i.pool||5,l._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,l._rate=i.rate||1,l._sprite=i.sprite||{},l._src=typeof i.src!="string"?i.src:[i.src],l._volume=i.volume!==void 0?i.volume:1,l._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=i.onend?[{fn:i.onend}]:[],l._onfade=i.onfade?[{fn:i.onfade}]:[],l._onload=i.onload?[{fn:i.onload}]:[],l._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],l._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],l._onpause=i.onpause?[{fn:i.onpause}]:[],l._onplay=i.onplay?[{fn:i.onplay}]:[],l._onstop=i.onstop?[{fn:i.onstop}]:[],l._onmute=i.onmute?[{fn:i.onmute}]:[],l._onvolume=i.onvolume?[{fn:i.onvolume}]:[],l._onrate=i.onrate?[{fn:i.onrate}]:[],l._onseek=i.onseek?[{fn:i.onseek}]:[],l._onunlock=i.onunlock?[{fn:i.onunlock}]:[],l._onresume=[],l._webAudio=t.usingWebAudio&&!l._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l._preload!=="none"&&l.load(),l},load:function(){var i=this,l=null;if(t.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var d=0;d<i._src.length;d++){var b,T;if(i._format&&i._format[d])b=i._format[d];else{if(T=i._src[d],typeof T!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(T),b||(b=/\.([^.]+)$/.exec(T.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&t.codecs(b)){l=i._src[d];break}}if(!l){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=l,i._state="loading",window.location.protocol==="https:"&&l.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new s(i),i._webAudio&&_(i),i},play:function(i,l){var d=this,b=null;if(typeof i=="number")b=i,i=null;else{if(typeof i=="string"&&d._state==="loaded"&&!d._sprite[i])return null;if(typeof i>"u"&&(i="__default",!d._playLock)){for(var T=0,S=0;S<d._sounds.length;S++)d._sounds[S]._paused&&!d._sounds[S]._ended&&(T++,b=d._sounds[S]._id);T===1?i=null:b=null}}var A=b?d._soundById(b):d._inactiveSound();if(!A)return null;if(b&&!i&&(i=A._sprite||"__default"),d._state!=="loaded"){A._sprite=i,A._ended=!1;var R=A._id;return d._queue.push({event:"play",action:function(){d.play(R)}}),R}if(b&&!A._paused)return l||d._loadQueue("play"),A._id;d._webAudio&&t._autoResume();var L=Math.max(0,A._seek>0?A._seek:d._sprite[i][0]/1e3),C=Math.max(0,(d._sprite[i][0]+d._sprite[i][1])/1e3-L),M=C*1e3/Math.abs(A._rate),H=d._sprite[i][0]/1e3,J=(d._sprite[i][0]+d._sprite[i][1])/1e3;A._sprite=i,A._ended=!1;var Y=function(){A._paused=!1,A._seek=L,A._start=H,A._stop=J,A._loop=!!(A._loop||d._sprite[i][2])};if(L>=J){d._ended(A);return}var $=A._node;if(d._webAudio){var be=function(){d._playLock=!1,Y(),d._refreshBuffer(A);var z=A._muted||d._muted?0:A._volume;$.gain.setValueAtTime(z,t.ctx.currentTime),A._playStart=t.ctx.currentTime,typeof $.bufferSource.start>"u"?A._loop?$.bufferSource.noteGrainOn(0,L,86400):$.bufferSource.noteGrainOn(0,L,C):A._loop?$.bufferSource.start(0,L,86400):$.bufferSource.start(0,L,C),M!==1/0&&(d._endTimers[A._id]=setTimeout(d._ended.bind(d,A),M)),l||setTimeout(function(){d._emit("play",A._id),d._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?be():(d._playLock=!0,d.once("resume",be),d._clearTimer(A._id))}else{var q=function(){$.currentTime=L,$.muted=A._muted||d._muted||t._muted||$.muted,$.volume=A._volume*t.volume(),$.playbackRate=A._rate;try{var z=$.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(d._playLock=!0,Y(),z.then(function(){d._playLock=!1,$._unlocked=!0,l?d._loadQueue():d._emit("play",A._id)}).catch(function(){d._playLock=!1,d._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),A._ended=!0,A._paused=!0})):l||(d._playLock=!1,Y(),d._emit("play",A._id)),$.playbackRate=A._rate,$.paused){d._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||A._loop?d._endTimers[A._id]=setTimeout(d._ended.bind(d,A),M):(d._endTimers[A._id]=function(){d._ended(A),$.removeEventListener("ended",d._endTimers[A._id],!1)},$.addEventListener("ended",d._endTimers[A._id],!1))}catch(ve){d._emit("playerror",A._id,ve)}};$.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&($.src=d._src,$.load());var de=window&&window.ejecta||!$.readyState&&t._navigator.isCocoonJS;if($.readyState>=3||de)q();else{d._playLock=!0,d._state="loading";var ne=function(){d._state="loaded",q(),$.removeEventListener(t._canPlayEvent,ne,!1)};$.addEventListener(t._canPlayEvent,ne,!1),d._clearTimer(A._id)}}return A._id},pause:function(i){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(i)}}),l;for(var d=l._getSoundIds(i),b=0;b<d.length;b++){l._clearTimer(d[b]);var T=l._soundById(d[b]);if(T&&!T._paused&&(T._seek=l.seek(d[b]),T._rateSeek=0,T._paused=!0,l._stopFade(d[b]),T._node))if(l._webAudio){if(!T._node.bufferSource)continue;typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),l._cleanBuffer(T._node)}else(!isNaN(T._node.duration)||T._node.duration===1/0)&&T._node.pause();arguments[1]||l._emit("pause",T?T._id:null)}return l},stop:function(i,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(i)}}),d;for(var b=d._getSoundIds(i),T=0;T<b.length;T++){d._clearTimer(b[T]);var S=d._soundById(b[T]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,d._stopFade(b[T]),S._node&&(d._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),d._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&d._clearSound(S._node))),l||d._emit("stop",S._id))}return d},mute:function(i,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(i,l)}}),d;if(typeof l>"u")if(typeof i=="boolean")d._muted=i;else return d._muted;for(var b=d._getSoundIds(l),T=0;T<b.length;T++){var S=d._soundById(b[T]);S&&(S._muted=i,S._interval&&d._stopFade(S._id),d._webAudio&&S._node?S._node.gain.setValueAtTime(i?0:S._volume,t.ctx.currentTime):S._node&&(S._node.muted=t._muted?!0:i),d._emit("mute",S._id))}return d},volume:function(){var i=this,l=arguments,d,b;if(l.length===0)return i._volume;if(l.length===1||l.length===2&&typeof l[1]>"u"){var T=i._getSoundIds(),S=T.indexOf(l[0]);S>=0?b=parseInt(l[0],10):d=parseFloat(l[0])}else l.length>=2&&(d=parseFloat(l[0]),b=parseInt(l[1],10));var A;if(typeof d<"u"&&d>=0&&d<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,l)}}),i;typeof b>"u"&&(i._volume=d),b=i._getSoundIds(b);for(var R=0;R<b.length;R++)A=i._soundById(b[R]),A&&(A._volume=d,l[2]||i._stopFade(b[R]),i._webAudio&&A._node&&!A._muted?A._node.gain.setValueAtTime(d,t.ctx.currentTime):A._node&&!A._muted&&(A._node.volume=d*t.volume()),i._emit("volume",A._id))}else return A=b?i._soundById(b):i._sounds[0],A?A._volume:0;return i},fade:function(i,l,d,b){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"fade",action:function(){T.fade(i,l,d,b)}}),T;i=Math.min(Math.max(0,parseFloat(i)),1),l=Math.min(Math.max(0,parseFloat(l)),1),d=parseFloat(d),T.volume(i,b);for(var S=T._getSoundIds(b),A=0;A<S.length;A++){var R=T._soundById(S[A]);if(R){if(b||T._stopFade(S[A]),T._webAudio&&!R._muted){var L=t.ctx.currentTime,C=L+d/1e3;R._volume=i,R._node.gain.setValueAtTime(i,L),R._node.gain.linearRampToValueAtTime(l,C)}T._startFadeInterval(R,i,l,d,S[A],typeof b>"u")}}return T},_startFadeInterval:function(i,l,d,b,T,S){var A=this,R=l,L=d-l,C=Math.abs(L/.01),M=Math.max(4,C>0?b/C:b),H=Date.now();i._fadeTo=d,i._interval=setInterval(function(){var J=(Date.now()-H)/b;H=Date.now(),R+=L*J,R=Math.round(R*100)/100,L<0?R=Math.max(d,R):R=Math.min(d,R),A._webAudio?i._volume=R:A.volume(R,i._id,!0),S&&(A._volume=R),(d<l&&R<=d||d>l&&R>=d)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,A.volume(d,i._id),A._emit("fade",i._id))},M)},_stopFade:function(i){var l=this,d=l._soundById(i);return d&&d._interval&&(l._webAudio&&d._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(d._interval),d._interval=null,l.volume(d._fadeTo,i),d._fadeTo=null,l._emit("fade",i)),l},loop:function(){var i=this,l=arguments,d,b,T;if(l.length===0)return i._loop;if(l.length===1)if(typeof l[0]=="boolean")d=l[0],i._loop=d;else return T=i._soundById(parseInt(l[0],10)),T?T._loop:!1;else l.length===2&&(d=l[0],b=parseInt(l[1],10));for(var S=i._getSoundIds(b),A=0;A<S.length;A++)T=i._soundById(S[A]),T&&(T._loop=d,i._webAudio&&T._node&&T._node.bufferSource&&(T._node.bufferSource.loop=d,d&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop,i.playing(S[A])&&(i.pause(S[A],!0),i.play(S[A],!0)))));return i},rate:function(){var i=this,l=arguments,d,b;if(l.length===0)b=i._sounds[0]._id;else if(l.length===1){var T=i._getSoundIds(),S=T.indexOf(l[0]);S>=0?b=parseInt(l[0],10):d=parseFloat(l[0])}else l.length===2&&(d=parseFloat(l[0]),b=parseInt(l[1],10));var A;if(typeof d=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,l)}}),i;typeof b>"u"&&(i._rate=d),b=i._getSoundIds(b);for(var R=0;R<b.length;R++)if(A=i._soundById(b[R]),A){i.playing(b[R])&&(A._rateSeek=i.seek(b[R]),A._playStart=i._webAudio?t.ctx.currentTime:A._playStart),A._rate=d,i._webAudio&&A._node&&A._node.bufferSource?A._node.bufferSource.playbackRate.setValueAtTime(d,t.ctx.currentTime):A._node&&(A._node.playbackRate=d);var L=i.seek(b[R]),C=(i._sprite[A._sprite][0]+i._sprite[A._sprite][1])/1e3-L,M=C*1e3/Math.abs(A._rate);(i._endTimers[b[R]]||!A._paused)&&(i._clearTimer(b[R]),i._endTimers[b[R]]=setTimeout(i._ended.bind(i,A),M)),i._emit("rate",A._id)}}else return A=i._soundById(b),A?A._rate:i._rate;return i},seek:function(){var i=this,l=arguments,d,b;if(l.length===0)i._sounds.length&&(b=i._sounds[0]._id);else if(l.length===1){var T=i._getSoundIds(),S=T.indexOf(l[0]);S>=0?b=parseInt(l[0],10):i._sounds.length&&(b=i._sounds[0]._id,d=parseFloat(l[0]))}else l.length===2&&(d=parseFloat(l[0]),b=parseInt(l[1],10));if(typeof b>"u")return 0;if(typeof d=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,l)}}),i;var A=i._soundById(b);if(A)if(typeof d=="number"&&d>=0){var R=i.playing(b);R&&i.pause(b,!0),A._seek=d,A._ended=!1,i._clearTimer(b),!i._webAudio&&A._node&&!isNaN(A._node.duration)&&(A._node.currentTime=d);var L=function(){R&&i.play(b,!0),i._emit("seek",b)};if(R&&!i._webAudio){var C=function(){i._playLock?setTimeout(C,0):L()};setTimeout(C,0)}else L()}else if(i._webAudio){var M=i.playing(b)?t.ctx.currentTime-A._playStart:0,H=A._rateSeek?A._rateSeek-A._seek:0;return A._seek+(H+M*Math.abs(A._rate))}else return A._node.currentTime;return i},playing:function(i){var l=this;if(typeof i=="number"){var d=l._soundById(i);return d?!d._paused:!1}for(var b=0;b<l._sounds.length;b++)if(!l._sounds[b]._paused)return!0;return!1},duration:function(i){var l=this,d=l._duration,b=l._soundById(i);return b&&(d=l._sprite[b._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var i=this,l=i._sounds,d=0;d<l.length;d++)l[d]._paused||i.stop(l[d]._id),i._webAudio||(i._clearSound(l[d]._node),l[d]._node.removeEventListener("error",l[d]._errorFn,!1),l[d]._node.removeEventListener(t._canPlayEvent,l[d]._loadFn,!1),l[d]._node.removeEventListener("ended",l[d]._endFn,!1),t._releaseHtml5Audio(l[d]._node)),delete l[d]._node,i._clearTimer(l[d]._id);var b=t._howls.indexOf(i);b>=0&&t._howls.splice(b,1);var T=!0;for(d=0;d<t._howls.length;d++)if(t._howls[d]._src===i._src||i._src.indexOf(t._howls[d]._src)>=0){T=!1;break}return p&&T&&delete p[i._src],t.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,l,d,b){var T=this,S=T["_on"+i];return typeof l=="function"&&S.push(b?{id:d,fn:l,once:b}:{id:d,fn:l}),T},off:function(i,l,d){var b=this,T=b["_on"+i],S=0;if(typeof l=="number"&&(d=l,l=null),l||d)for(S=0;S<T.length;S++){var A=d===T[S].id;if(l===T[S].fn&&A||!l&&A){T.splice(S,1);break}}else if(i)b["_on"+i]=[];else{var R=Object.keys(b);for(S=0;S<R.length;S++)R[S].indexOf("_on")===0&&Array.isArray(b[R[S]])&&(b[R[S]]=[])}return b},once:function(i,l,d){var b=this;return b.on(i,l,d,1),b},_emit:function(i,l,d){for(var b=this,T=b["_on"+i],S=T.length-1;S>=0;S--)(!T[S].id||T[S].id===l||i==="load")&&(setTimeout(function(A){A.call(this,l,d)}.bind(b,T[S].fn),0),T[S].once&&b.off(i,T[S].fn,T[S].id));return b._loadQueue(i),b},_loadQueue:function(i){var l=this;if(l._queue.length>0){var d=l._queue[0];d.event===i&&(l._queue.shift(),l._loadQueue()),i||d.action()}return l},_ended:function(i){var l=this,d=i._sprite;if(!l._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(l._ended.bind(l,i),100),l;var b=!!(i._loop||l._sprite[d][2]);if(l._emit("end",i._id),!l._webAudio&&b&&l.stop(i._id,!0).play(i._id),l._webAudio&&b){l._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=t.ctx.currentTime;var T=(i._stop-i._start)*1e3/Math.abs(i._rate);l._endTimers[i._id]=setTimeout(l._ended.bind(l,i),T)}return l._webAudio&&!b&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,l._clearTimer(i._id),l._cleanBuffer(i._node),t._autoSuspend()),!l._webAudio&&!b&&l.stop(i._id,!0),l},_clearTimer:function(i){var l=this;if(l._endTimers[i]){if(typeof l._endTimers[i]!="function")clearTimeout(l._endTimers[i]);else{var d=l._soundById(i);d&&d._node&&d._node.removeEventListener("ended",l._endTimers[i],!1)}delete l._endTimers[i]}return l},_soundById:function(i){for(var l=this,d=0;d<l._sounds.length;d++)if(i===l._sounds[d]._id)return l._sounds[d];return null},_inactiveSound:function(){var i=this;i._drain();for(var l=0;l<i._sounds.length;l++)if(i._sounds[l]._ended)return i._sounds[l].reset();return new s(i)},_drain:function(){var i=this,l=i._pool,d=0,b=0;if(!(i._sounds.length<l)){for(b=0;b<i._sounds.length;b++)i._sounds[b]._ended&&d++;for(b=i._sounds.length-1;b>=0;b--){if(d<=l)return;i._sounds[b]._ended&&(i._webAudio&&i._sounds[b]._node&&i._sounds[b]._node.disconnect(0),i._sounds.splice(b,1),d--)}}},_getSoundIds:function(i){var l=this;if(typeof i>"u"){for(var d=[],b=0;b<l._sounds.length;b++)d.push(l._sounds[b]._id);return d}else return[i]},_refreshBuffer:function(i){var l=this;return i._node.bufferSource=t.ctx.createBufferSource(),i._node.bufferSource.buffer=p[l._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,t.ctx.currentTime),l},_cleanBuffer:function(i){var l=this,d=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),d))try{i.bufferSource.buffer=t._scratchBuffer}catch{}return i.bufferSource=null,l},_clearSound:function(i){var l=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);l||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(i){this._parent=i,this.init()};s.prototype={init:function(){var i=this,l=i._parent;return i._muted=l._muted,i._loop=l._loop,i._volume=l._volume,i._rate=l._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,l._sounds.push(i),i.create(),i},create:function(){var i=this,l=i._parent,d=t._muted||i._muted||i._parent._muted?0:i._volume;return l._webAudio?(i._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),i._node.gain.setValueAtTime(d,t.ctx.currentTime),i._node.paused=!0,i._node.connect(t.masterGain)):t.noAudio||(i._node=t._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(t._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=l._src,i._node.preload=l._preload===!0?"auto":l._preload,i._node.volume=d*t.volume(),i._node.load()),i},reset:function(){var i=this,l=i._parent;return i._muted=l._muted,i._loop=l._loop,i._volume=l._volume,i._rate=l._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,l=i._parent;l._duration=Math.ceil(i._node.duration*10)/10,Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue()),i._node.removeEventListener(t._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,l=i._parent;l._duration===1/0&&(l._duration=Math.ceil(i._node.duration*10)/10,l._sprite.__default[1]===1/0&&(l._sprite.__default[1]=l._duration*1e3),l._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var p={},_=function(i){var l=i._src;if(p[l]){i._duration=p[l].duration,v(i);return}if(/^data:[^;]+;base64,/.test(l)){for(var d=atob(l.split(",")[1]),b=new Uint8Array(d.length),T=0;T<d.length;++T)b[T]=d.charCodeAt(T);w(b.buffer,i)}else{var S=new XMLHttpRequest;S.open(i._xhr.method,l,!0),S.withCredentials=i._xhr.withCredentials,S.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(A){S.setRequestHeader(A,i._xhr.headers[A])}),S.onload=function(){var A=(S.status+"")[0];if(A!=="0"&&A!=="2"&&A!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}w(S.response,i)},S.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete p[l],i.load())},m(S)}},m=function(i){try{i.send()}catch{i.onerror()}},w=function(i,l){var d=function(){l._emit("loaderror",null,"Decoding audio data failed.")},b=function(T){T&&l._sounds.length>0?(p[l._src]=T,v(l,T)):d()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(i).then(b).catch(d):t.ctx.decodeAudioData(i,b,d)},v=function(i,l){l&&!i._duration&&(i._duration=l.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},O=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),l=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=l?parseInt(l[1],10):null;if(i&&d&&d<9){var b=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!b&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};o.Howler=t,o.Howl=f,typeof Pn<"u"?(Pn.HowlerGlobal=u,Pn.Howler=t,Pn.Howl=f,Pn.Sound=s):typeof window<"u"&&(window.HowlerGlobal=u,window.Howler=t,window.Howl=f,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var f=this;if(!f.ctx||!f.ctx.listener)return f;for(var s=f._howls.length-1;s>=0;s--)f._howls[s].stereo(t);return f},HowlerGlobal.prototype.pos=function(t,f,s){var p=this;if(!p.ctx||!p.ctx.listener)return p;if(f=typeof f!="number"?p._pos[1]:f,s=typeof s!="number"?p._pos[2]:s,typeof t=="number")p._pos=[t,f,s],typeof p.ctx.listener.positionX<"u"?(p.ctx.listener.positionX.setTargetAtTime(p._pos[0],Howler.ctx.currentTime,.1),p.ctx.listener.positionY.setTargetAtTime(p._pos[1],Howler.ctx.currentTime,.1),p.ctx.listener.positionZ.setTargetAtTime(p._pos[2],Howler.ctx.currentTime,.1)):p.ctx.listener.setPosition(p._pos[0],p._pos[1],p._pos[2]);else return p._pos;return p},HowlerGlobal.prototype.orientation=function(t,f,s,p,_,m){var w=this;if(!w.ctx||!w.ctx.listener)return w;var v=w._orientation;if(f=typeof f!="number"?v[1]:f,s=typeof s!="number"?v[2]:s,p=typeof p!="number"?v[3]:p,_=typeof _!="number"?v[4]:_,m=typeof m!="number"?v[5]:m,typeof t=="number")w._orientation=[t,f,s,p,_,m],typeof w.ctx.listener.forwardX<"u"?(w.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),w.ctx.listener.forwardY.setTargetAtTime(f,Howler.ctx.currentTime,.1),w.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),w.ctx.listener.upX.setTargetAtTime(p,Howler.ctx.currentTime,.1),w.ctx.listener.upY.setTargetAtTime(_,Howler.ctx.currentTime,.1),w.ctx.listener.upZ.setTargetAtTime(m,Howler.ctx.currentTime,.1)):w.ctx.listener.setOrientation(t,f,s,p,_,m);else return v;return w},Howl.prototype.init=function(t){return function(f){var s=this;return s._orientation=f.orientation||[1,0,0],s._stereo=f.stereo||null,s._pos=f.pos||null,s._pannerAttr={coneInnerAngle:typeof f.coneInnerAngle<"u"?f.coneInnerAngle:360,coneOuterAngle:typeof f.coneOuterAngle<"u"?f.coneOuterAngle:360,coneOuterGain:typeof f.coneOuterGain<"u"?f.coneOuterGain:0,distanceModel:typeof f.distanceModel<"u"?f.distanceModel:"inverse",maxDistance:typeof f.maxDistance<"u"?f.maxDistance:1e4,panningModel:typeof f.panningModel<"u"?f.panningModel:"HRTF",refDistance:typeof f.refDistance<"u"?f.refDistance:1,rolloffFactor:typeof f.rolloffFactor<"u"?f.rolloffFactor:1},s._onstereo=f.onstereo?[{fn:f.onstereo}]:[],s._onpos=f.onpos?[{fn:f.onpos}]:[],s._onorientation=f.onorientation?[{fn:f.onorientation}]:[],t.call(this,f)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,f){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(t,f)}}),s;var p=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof f>"u")if(typeof t=="number")s._stereo=t,s._pos=[t,0,0];else return s._stereo;for(var _=s._getSoundIds(f),m=0;m<_.length;m++){var w=s._soundById(_[m]);if(w)if(typeof t=="number")w._stereo=t,w._pos=[t,0,0],w._node&&(w._pannerAttr.panningModel="equalpower",(!w._panner||!w._panner.pan)&&u(w,p),p==="spatial"?typeof w._panner.positionX<"u"?(w._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),w._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),w._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):w._panner.setPosition(t,0,0):w._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),s._emit("stereo",w._id);else return w._stereo}return s},Howl.prototype.pos=function(t,f,s,p){var _=this;if(!_._webAudio)return _;if(_._state!=="loaded")return _._queue.push({event:"pos",action:function(){_.pos(t,f,s,p)}}),_;if(f=typeof f!="number"?0:f,s=typeof s!="number"?-.5:s,typeof p>"u")if(typeof t=="number")_._pos=[t,f,s];else return _._pos;for(var m=_._getSoundIds(p),w=0;w<m.length;w++){var v=_._soundById(m[w]);if(v)if(typeof t=="number")v._pos=[t,f,s],v._node&&((!v._panner||v._panner.pan)&&u(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(f,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):v._panner.setPosition(t,f,s)),_._emit("pos",v._id);else return v._pos}return _},Howl.prototype.orientation=function(t,f,s,p){var _=this;if(!_._webAudio)return _;if(_._state!=="loaded")return _._queue.push({event:"orientation",action:function(){_.orientation(t,f,s,p)}}),_;if(f=typeof f!="number"?_._orientation[1]:f,s=typeof s!="number"?_._orientation[2]:s,typeof p>"u")if(typeof t=="number")_._orientation=[t,f,s];else return _._orientation;for(var m=_._getSoundIds(p),w=0;w<m.length;w++){var v=_._soundById(m[w]);if(v)if(typeof t=="number")v._orientation=[t,f,s],v._node&&(v._panner||(v._pos||(v._pos=_._pos||[0,0,-.5]),u(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(f,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):v._panner.setOrientation(t,f,s)),_._emit("orientation",v._id);else return v._orientation}return _},Howl.prototype.pannerAttr=function(){var t=this,f=arguments,s,p,_;if(!t._webAudio)return t;if(f.length===0)return t._pannerAttr;if(f.length===1)if(typeof f[0]=="object")s=f[0],typeof p>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),t._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:t._panningModel});else return _=t._soundById(parseInt(f[0],10)),_?_._pannerAttr:t._pannerAttr;else f.length===2&&(s=f[0],p=parseInt(f[1],10));for(var m=t._getSoundIds(p),w=0;w<m.length;w++)if(_=t._soundById(m[w]),_){var v=_._pannerAttr;v={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:v.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:v.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:v.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:v.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:v.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:v.panningModel};var O=_._panner;O?(O.coneInnerAngle=v.coneInnerAngle,O.coneOuterAngle=v.coneOuterAngle,O.coneOuterGain=v.coneOuterGain,O.distanceModel=v.distanceModel,O.maxDistance=v.maxDistance,O.refDistance=v.refDistance,O.rolloffFactor=v.rolloffFactor,O.panningModel=v.panningModel):(_._pos||(_._pos=t._pos||[0,0,-.5]),u(_,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var f=this,s=f._parent;f._orientation=s._orientation,f._stereo=s._stereo,f._pos=s._pos,f._pannerAttr=s._pannerAttr,t.call(this),f._stereo?s.stereo(f._stereo):f._pos&&s.pos(f._pos[0],f._pos[1],f._pos[2],f._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var f=this,s=f._parent;return f._orientation=s._orientation,f._stereo=s._stereo,f._pos=s._pos,f._pannerAttr=s._pannerAttr,f._stereo?s.stereo(f._stereo):f._pos?s.pos(f._pos[0],f._pos[1],f._pos[2],f._id):f._panner&&(f._panner.disconnect(0),f._panner=void 0,s._refreshBuffer(f)),t.call(this)}}(Sound.prototype.reset);var u=function(t,f){f=f||"spatial",f==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(Ng);function _i(o,u){return o==null||u==null?NaN:o<u?-1:o>u?1:o>=u?0:NaN}function Al(o){let u,t,f;o.length!==2?(u=_i,t=(m,w)=>_i(o(m),w),f=(m,w)=>o(m)-w):(u=o===_i||o===Mg?o:Dg,t=o,f=o);function s(m,w,v=0,O=m.length){if(v<O){if(u(w,w)!==0)return O;do{const i=v+O>>>1;t(m[i],w)<0?v=i+1:O=i}while(v<O)}return v}function p(m,w,v=0,O=m.length){if(v<O){if(u(w,w)!==0)return O;do{const i=v+O>>>1;t(m[i],w)<=0?v=i+1:O=i}while(v<O)}return v}function _(m,w,v=0,O=m.length){const i=s(m,w,v,O-1);return i>v&&f(m[i-1],w)>-f(m[i],w)?i-1:i}return{left:s,center:_,right:p}}function Dg(){return 0}function Fg(o){return o===null?NaN:+o}const Wg=Al(_i),Hg=Wg.right;Al(Fg).center;const Gg=Hg,Ug=Math.sqrt(50),qg=Math.sqrt(10),Xg=Math.sqrt(2);function hi(o,u,t){const f=(u-o)/Math.max(0,t),s=Math.floor(Math.log10(f)),p=f/Math.pow(10,s),_=p>=Ug?10:p>=qg?5:p>=Xg?2:1;let m,w,v;return s<0?(v=Math.pow(10,-s)/_,m=Math.round(o*v),w=Math.round(u*v),m/v<o&&++m,w/v>u&&--w,v=-v):(v=Math.pow(10,s)*_,m=Math.round(o/v),w=Math.round(u/v),m*v<o&&++m,w*v>u&&--w),w<m&&.5<=t&&t<2?hi(o,u,t*2):[m,w,v]}function Kg(o,u,t){if(u=+u,o=+o,t=+t,!(t>0))return[];if(o===u)return[o];const f=u<o,[s,p,_]=f?hi(u,o,t):hi(o,u,t);if(!(p>=s))return[];const m=p-s+1,w=new Array(m);if(f)if(_<0)for(let v=0;v<m;++v)w[v]=(p-v)/-_;else for(let v=0;v<m;++v)w[v]=(p-v)*_;else if(_<0)for(let v=0;v<m;++v)w[v]=(s+v)/-_;else for(let v=0;v<m;++v)w[v]=(s+v)*_;return w}function Vo(o,u,t){return u=+u,o=+o,t=+t,hi(o,u,t)[2]}function Zg(o,u,t){u=+u,o=+o,t=+t;const f=u<o,s=f?Vo(u,o,t):Vo(o,u,t);return(f?-1:1)*(s<0?1/-s:s)}function fr(o,u,t){o=+o,u=+u,t=(s=arguments.length)<2?(u=o,o=0,1):s<3?1:+t;for(var f=-1,s=Math.max(0,Math.ceil((u-o)/t))|0,p=new Array(s);++f<s;)p[f]=o+f*t;return p}function jo(o,u,t){o.prototype=u.prototype=t,t.constructor=o}function xl(o,u){var t=Object.create(o.prototype);for(var f in u)t[f]=u[f];return t}function pr(){}var lr=.7,pi=1/lr,Dt="\\s*([+-]?\\d+)\\s*",sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vg=/^#([0-9a-f]{3,8})$/,Yg=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),zg=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),Qg=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${sr}\\)$`),Jg=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${sr}\\)$`),$g=new RegExp(`^hsl\\(${sr},${Fn},${Fn}\\)$`),jg=new RegExp(`^hsla\\(${sr},${Fn},${Fn},${sr}\\)$`),qf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jo(pr,cr,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:Xf,formatHex:Xf,formatHex8:em,formatHsl:nm,formatRgb:Kf,toString:Kf});function Xf(){return this.rgb().formatHex()}function em(){return this.rgb().formatHex8()}function nm(){return Tl(this).formatHsl()}function Kf(){return this.rgb().formatRgb()}function cr(o){var u,t;return o=(o+"").trim().toLowerCase(),(u=Vg.exec(o))?(t=u[1].length,u=parseInt(u[1],16),t===6?Zf(u):t===3?new Ye(u>>8&15|u>>4&240,u>>4&15|u&240,(u&15)<<4|u&15,1):t===8?li(u>>24&255,u>>16&255,u>>8&255,(u&255)/255):t===4?li(u>>12&15|u>>8&240,u>>8&15|u>>4&240,u>>4&15|u&240,((u&15)<<4|u&15)/255):null):(u=Yg.exec(o))?new Ye(u[1],u[2],u[3],1):(u=zg.exec(o))?new Ye(u[1]*255/100,u[2]*255/100,u[3]*255/100,1):(u=Qg.exec(o))?li(u[1],u[2],u[3],u[4]):(u=Jg.exec(o))?li(u[1]*255/100,u[2]*255/100,u[3]*255/100,u[4]):(u=$g.exec(o))?zf(u[1],u[2]/100,u[3]/100,1):(u=jg.exec(o))?zf(u[1],u[2]/100,u[3]/100,u[4]):qf.hasOwnProperty(o)?Zf(qf[o]):o==="transparent"?new Ye(NaN,NaN,NaN,0):null}function Zf(o){return new Ye(o>>16&255,o>>8&255,o&255,1)}function li(o,u,t,f){return f<=0&&(o=u=t=NaN),new Ye(o,u,t,f)}function tm(o){return o instanceof pr||(o=cr(o)),o?(o=o.rgb(),new Ye(o.r,o.g,o.b,o.opacity)):new Ye}function Yo(o,u,t,f){return arguments.length===1?tm(o):new Ye(o,u,t,f??1)}function Ye(o,u,t,f){this.r=+o,this.g=+u,this.b=+t,this.opacity=+f}jo(Ye,Yo,xl(pr,{brighter(o){return o=o==null?pi:Math.pow(pi,o),new Ye(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?lr:Math.pow(lr,o),new Ye(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new Ye(vt(this.r),vt(this.g),vt(this.b),gi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vf,formatHex:Vf,formatHex8:rm,formatRgb:Yf,toString:Yf}));function Vf(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}`}function rm(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}${gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yf(){const o=gi(this.opacity);return`${o===1?"rgb(":"rgba("}${vt(this.r)}, ${vt(this.g)}, ${vt(this.b)}${o===1?")":`, ${o})`}`}function gi(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function vt(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function gt(o){return o=vt(o),(o<16?"0":"")+o.toString(16)}function zf(o,u,t,f){return f<=0?o=u=t=NaN:t<=0||t>=1?o=u=NaN:u<=0&&(o=NaN),new In(o,u,t,f)}function Tl(o){if(o instanceof In)return new In(o.h,o.s,o.l,o.opacity);if(o instanceof pr||(o=cr(o)),!o)return new In;if(o instanceof In)return o;o=o.rgb();var u=o.r/255,t=o.g/255,f=o.b/255,s=Math.min(u,t,f),p=Math.max(u,t,f),_=NaN,m=p-s,w=(p+s)/2;return m?(u===p?_=(t-f)/m+(t<f)*6:t===p?_=(f-u)/m+2:_=(u-t)/m+4,m/=w<.5?p+s:2-p-s,_*=60):m=w>0&&w<1?0:_,new In(_,m,w,o.opacity)}function im(o,u,t,f){return arguments.length===1?Tl(o):new In(o,u,t,f??1)}function In(o,u,t,f){this.h=+o,this.s=+u,this.l=+t,this.opacity=+f}jo(In,im,xl(pr,{brighter(o){return o=o==null?pi:Math.pow(pi,o),new In(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?lr:Math.pow(lr,o),new In(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,u=isNaN(o)||isNaN(this.s)?0:this.s,t=this.l,f=t+(t<.5?t:1-t)*u,s=2*t-f;return new Ye(qo(o>=240?o-240:o+120,s,f),qo(o,s,f),qo(o<120?o+240:o-120,s,f),this.opacity)},clamp(){return new In(Qf(this.h),si(this.s),si(this.l),gi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=gi(this.opacity);return`${o===1?"hsl(":"hsla("}${Qf(this.h)}, ${si(this.s)*100}%, ${si(this.l)*100}%${o===1?")":`, ${o})`}`}}));function Qf(o){return o=(o||0)%360,o<0?o+360:o}function si(o){return Math.max(0,Math.min(1,o||0))}function qo(o,u,t){return(o<60?u+(t-u)*o/60:o<180?t:o<240?u+(t-u)*(240-o)/60:u)*255}const eu=o=>()=>o;function om(o,u){return function(t){return o+t*u}}function um(o,u,t){return o=Math.pow(o,t),u=Math.pow(u,t)-o,t=1/t,function(f){return Math.pow(o+f*u,t)}}function am(o){return(o=+o)==1?Il:function(u,t){return t-u?um(u,t,o):eu(isNaN(u)?t:u)}}function Il(o,u){var t=u-o;return t?om(o,t):eu(isNaN(o)?u:o)}const Jf=function o(u){var t=am(u);function f(s,p){var _=t((s=Yo(s)).r,(p=Yo(p)).r),m=t(s.g,p.g),w=t(s.b,p.b),v=Il(s.opacity,p.opacity);return function(O){return s.r=_(O),s.g=m(O),s.b=w(O),s.opacity=v(O),s+""}}return f.gamma=o,f}(1);function fm(o,u){u||(u=[]);var t=o?Math.min(u.length,o.length):0,f=u.slice(),s;return function(p){for(s=0;s<t;++s)f[s]=o[s]*(1-p)+u[s]*p;return f}}function lm(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function sm(o,u){var t=u?u.length:0,f=o?Math.min(t,o.length):0,s=new Array(f),p=new Array(t),_;for(_=0;_<f;++_)s[_]=nu(o[_],u[_]);for(;_<t;++_)p[_]=u[_];return function(m){for(_=0;_<f;++_)p[_]=s[_](m);return p}}function cm(o,u){var t=new Date;return o=+o,u=+u,function(f){return t.setTime(o*(1-f)+u*f),t}}function mi(o,u){return o=+o,u=+u,function(t){return o*(1-t)+u*t}}function _m(o,u){var t={},f={},s;(o===null||typeof o!="object")&&(o={}),(u===null||typeof u!="object")&&(u={});for(s in u)s in o?t[s]=nu(o[s],u[s]):f[s]=u[s];return function(p){for(s in t)f[s]=t[s](p);return f}}var zo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xo=new RegExp(zo.source,"g");function dm(o){return function(){return o}}function hm(o){return function(u){return o(u)+""}}function pm(o,u){var t=zo.lastIndex=Xo.lastIndex=0,f,s,p,_=-1,m=[],w=[];for(o=o+"",u=u+"";(f=zo.exec(o))&&(s=Xo.exec(u));)(p=s.index)>t&&(p=u.slice(t,p),m[_]?m[_]+=p:m[++_]=p),(f=f[0])===(s=s[0])?m[_]?m[_]+=s:m[++_]=s:(m[++_]=null,w.push({i:_,x:mi(f,s)})),t=Xo.lastIndex;return t<u.length&&(p=u.slice(t),m[_]?m[_]+=p:m[++_]=p),m.length<2?w[0]?hm(w[0].x):dm(u):(u=w.length,function(v){for(var O=0,i;O<u;++O)m[(i=w[O]).i]=i.x(v);return m.join("")})}function nu(o,u){var t=typeof u,f;return u==null||t==="boolean"?eu(u):(t==="number"?mi:t==="string"?(f=cr(u))?(u=f,Jf):pm:u instanceof cr?Jf:u instanceof Date?cm:lm(u)?fm:Array.isArray(u)?sm:typeof u.valueOf!="function"&&typeof u.toString!="function"||isNaN(u)?_m:mi)(o,u)}function gm(o,u){return o=+o,u=+u,function(t){return Math.round(o*(1-t)+u*t)}}function mm(o){return Math.abs(o=Math.round(o))>=1e21?o.toLocaleString("en").replace(/,/g,""):o.toString(10)}function vi(o,u){if((t=(o=u?o.toExponential(u-1):o.toExponential()).indexOf("e"))<0)return null;var t,f=o.slice(0,t);return[f.length>1?f[0]+f.slice(2):f,+o.slice(t+1)]}function Wt(o){return o=vi(Math.abs(o)),o?o[1]:NaN}function vm(o,u){return function(t,f){for(var s=t.length,p=[],_=0,m=o[0],w=0;s>0&&m>0&&(w+m+1>f&&(m=Math.max(1,f-w)),p.push(t.substring(s-=m,s+m)),!((w+=m+1)>f));)m=o[_=(_+1)%o.length];return p.reverse().join(u)}}function wm(o){return function(u){return u.replace(/[0-9]/g,function(t){return o[+t]})}}var ym=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wi(o){if(!(u=ym.exec(o)))throw new Error("invalid format: "+o);var u;return new tu({fill:u[1],align:u[2],sign:u[3],symbol:u[4],zero:u[5],width:u[6],comma:u[7],precision:u[8]&&u[8].slice(1),trim:u[9],type:u[10]})}wi.prototype=tu.prototype;function tu(o){this.fill=o.fill===void 0?" ":o.fill+"",this.align=o.align===void 0?">":o.align+"",this.sign=o.sign===void 0?"-":o.sign+"",this.symbol=o.symbol===void 0?"":o.symbol+"",this.zero=!!o.zero,this.width=o.width===void 0?void 0:+o.width,this.comma=!!o.comma,this.precision=o.precision===void 0?void 0:+o.precision,this.trim=!!o.trim,this.type=o.type===void 0?"":o.type+""}tu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bm(o){e:for(var u=o.length,t=1,f=-1,s;t<u;++t)switch(o[t]){case".":f=s=t;break;case"0":f===0&&(f=t),s=t;break;default:if(!+o[t])break e;f>0&&(f=0);break}return f>0?o.slice(0,f)+o.slice(s+1):o}var Sl;function Am(o,u){var t=vi(o,u);if(!t)return o+"";var f=t[0],s=t[1],p=s-(Sl=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,_=f.length;return p===_?f:p>_?f+new Array(p-_+1).join("0"):p>0?f.slice(0,p)+"."+f.slice(p):"0."+new Array(1-p).join("0")+vi(o,Math.max(0,u+p-1))[0]}function $f(o,u){var t=vi(o,u);if(!t)return o+"";var f=t[0],s=t[1];return s<0?"0."+new Array(-s).join("0")+f:f.length>s+1?f.slice(0,s+1)+"."+f.slice(s+1):f+new Array(s-f.length+2).join("0")}const jf={"%":(o,u)=>(o*100).toFixed(u),b:o=>Math.round(o).toString(2),c:o=>o+"",d:mm,e:(o,u)=>o.toExponential(u),f:(o,u)=>o.toFixed(u),g:(o,u)=>o.toPrecision(u),o:o=>Math.round(o).toString(8),p:(o,u)=>$f(o*100,u),r:$f,s:Am,X:o=>Math.round(o).toString(16).toUpperCase(),x:o=>Math.round(o).toString(16)};function el(o){return o}var nl=Array.prototype.map,tl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xm(o){var u=o.grouping===void 0||o.thousands===void 0?el:vm(nl.call(o.grouping,Number),o.thousands+""),t=o.currency===void 0?"":o.currency[0]+"",f=o.currency===void 0?"":o.currency[1]+"",s=o.decimal===void 0?".":o.decimal+"",p=o.numerals===void 0?el:wm(nl.call(o.numerals,String)),_=o.percent===void 0?"%":o.percent+"",m=o.minus===void 0?"−":o.minus+"",w=o.nan===void 0?"NaN":o.nan+"";function v(i){i=wi(i);var l=i.fill,d=i.align,b=i.sign,T=i.symbol,S=i.zero,A=i.width,R=i.comma,L=i.precision,C=i.trim,M=i.type;M==="n"?(R=!0,M="g"):jf[M]||(L===void 0&&(L=12),C=!0,M="g"),(S||l==="0"&&d==="=")&&(S=!0,l="0",d="=");var H=T==="$"?t:T==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",J=T==="$"?f:/[%p]/.test(M)?_:"",Y=jf[M],$=/[defgprs%]/.test(M);L=L===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function be(q){var de=H,ne=J,z,ve,mn;if(M==="c")ne=Y(q)+ne,q="";else{q=+q;var qe=q<0||1/q<0;if(q=isNaN(q)?w:Y(Math.abs(q),L),C&&(q=bm(q)),qe&&+q==0&&b!=="+"&&(qe=!1),de=(qe?b==="("?b:m:b==="-"||b==="("?"":b)+de,ne=(M==="s"?tl[8+Sl/3]:"")+ne+(qe&&b==="("?")":""),$){for(z=-1,ve=q.length;++z<ve;)if(mn=q.charCodeAt(z),48>mn||mn>57){ne=(mn===46?s+q.slice(z+1):q.slice(z))+ne,q=q.slice(0,z);break}}}R&&!S&&(q=u(q,1/0));var We=de.length+q.length+ne.length,re=We<A?new Array(A-We+1).join(l):"";switch(R&&S&&(q=u(re+q,re.length?A-ne.length:1/0),re=""),d){case"<":q=de+q+ne+re;break;case"=":q=de+re+q+ne;break;case"^":q=re.slice(0,We=re.length>>1)+de+q+ne+re.slice(We);break;default:q=re+de+q+ne;break}return p(q)}return be.toString=function(){return i+""},be}function O(i,l){var d=v((i=wi(i),i.type="f",i)),b=Math.max(-8,Math.min(8,Math.floor(Wt(l)/3)))*3,T=Math.pow(10,-b),S=tl[8+b/3];return function(A){return d(T*A)+S}}return{format:v,formatPrefix:O}}var ci,El,Ml;Tm({thousands:",",grouping:[3],currency:["$",""]});function Tm(o){return ci=xm(o),El=ci.format,Ml=ci.formatPrefix,ci}function Im(o){return Math.max(0,-Wt(Math.abs(o)))}function Sm(o,u){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wt(u)/3)))*3-Wt(Math.abs(o)))}function Em(o,u){return o=Math.abs(o),u=Math.abs(u)-o,Math.max(0,Wt(u)-Wt(o))+1}function Mm(o,u){switch(arguments.length){case 0:break;case 1:this.range(o);break;default:this.range(u).domain(o);break}return this}function km(o){return function(){return o}}function Om(o){return+o}var rl=[0,1];function Nt(o){return o}function Qo(o,u){return(u-=o=+o)?function(t){return(t-o)/u}:km(isNaN(u)?NaN:.5)}function Rm(o,u){var t;return o>u&&(t=o,o=u,u=t),function(f){return Math.max(o,Math.min(u,f))}}function Lm(o,u,t){var f=o[0],s=o[1],p=u[0],_=u[1];return s<f?(f=Qo(s,f),p=t(_,p)):(f=Qo(f,s),p=t(p,_)),function(m){return p(f(m))}}function Cm(o,u,t){var f=Math.min(o.length,u.length)-1,s=new Array(f),p=new Array(f),_=-1;for(o[f]<o[0]&&(o=o.slice().reverse(),u=u.slice().reverse());++_<f;)s[_]=Qo(o[_],o[_+1]),p[_]=t(u[_],u[_+1]);return function(m){var w=Gg(o,m,1,f)-1;return p[w](s[w](m))}}function Pm(o,u){return u.domain(o.domain()).range(o.range()).interpolate(o.interpolate()).clamp(o.clamp()).unknown(o.unknown())}function Bm(){var o=rl,u=rl,t=nu,f,s,p,_=Nt,m,w,v;function O(){var l=Math.min(o.length,u.length);return _!==Nt&&(_=Rm(o[0],o[l-1])),m=l>2?Cm:Lm,w=v=null,i}function i(l){return l==null||isNaN(l=+l)?p:(w||(w=m(o.map(f),u,t)))(f(_(l)))}return i.invert=function(l){return _(s((v||(v=m(u,o.map(f),mi)))(l)))},i.domain=function(l){return arguments.length?(o=Array.from(l,Om),O()):o.slice()},i.range=function(l){return arguments.length?(u=Array.from(l),O()):u.slice()},i.rangeRound=function(l){return u=Array.from(l),t=gm,O()},i.clamp=function(l){return arguments.length?(_=l?!0:Nt,O()):_!==Nt},i.interpolate=function(l){return arguments.length?(t=l,O()):t},i.unknown=function(l){return arguments.length?(p=l,i):p},function(l,d){return f=l,s=d,O()}}function Nm(){return Bm()(Nt,Nt)}function Dm(o,u,t,f){var s=Zg(o,u,t),p;switch(f=wi(f??",f"),f.type){case"s":{var _=Math.max(Math.abs(o),Math.abs(u));return f.precision==null&&!isNaN(p=Sm(s,_))&&(f.precision=p),Ml(f,_)}case"":case"e":case"g":case"p":case"r":{f.precision==null&&!isNaN(p=Em(s,Math.max(Math.abs(o),Math.abs(u))))&&(f.precision=p-(f.type==="e"));break}case"f":case"%":{f.precision==null&&!isNaN(p=Im(s))&&(f.precision=p-(f.type==="%")*2);break}}return El(f)}function Fm(o){var u=o.domain;return o.ticks=function(t){var f=u();return Kg(f[0],f[f.length-1],t??10)},o.tickFormat=function(t,f){var s=u();return Dm(s[0],s[s.length-1],t??10,f)},o.nice=function(t){t==null&&(t=10);var f=u(),s=0,p=f.length-1,_=f[s],m=f[p],w,v,O=10;for(m<_&&(v=_,_=m,m=v,v=s,s=p,p=v);O-- >0;){if(v=Vo(_,m,t),v===w)return f[s]=_,f[p]=m,u(f);if(v>0)_=Math.floor(_/v)*v,m=Math.ceil(m/v)*v;else if(v<0)_=Math.ceil(_*v)/v,m=Math.floor(m*v)/v;else break;w=v}return o},o}function Jo(){var o=Nm();return o.copy=function(){return Pm(o,Jo())},Mm.apply(o,arguments),Fm(o)}const Wm=(o,u=.5)=>o.map(t=>Math.round(t/u)*u);function Hm(o){let u,t,f;return{c(){u=Z("div"),this.h()},l(s){u=V(s,"DIV",{class:!0}),ce(u).forEach(W),this.h()},h(){F(u,"class","marker svelte-dn3pls"),Bn(u,"left",`${o[1](o[2])}px`)},m(s,p){he(s,u,p),o[10](u),t||(f=[dn(window,"mouseup",o[8]),dn(window,"mousemove",o[9]),dn(u,"mousedown",o[7])],t=!0)},p(s,[p]){p&6&&Bn(u,"left",`${s[1](s[2])}px`)},i:pn,o:pn,d(s){s&&W(u),o[10](null),t=!1,hr(f)}}}function Gm(o,u,t){let f,s,p,_;const{getXScale:m,getSeek:w,getCurrentBeat:v,getTimeToBeat:O}=$o("song"),i=m();Ce(o,i,M=>t(1,p=M));const l=v();Ce(o,l,M=>t(2,_=M));const d=w();Ce(o,d,M=>t(12,f=M));const b=O();Ce(o,b,M=>t(13,s=M));let T,S=!1;const A=M=>{S=!0},R=()=>{S=!1},L=M=>{if(S){const H=T.offsetLeft+M.movementX,J=p.invert(H),Y=s.invert(J)/1e3;Tn(d,f=Y,f)}};function C(M){mt[M?"unshift":"push"](()=>{T=M,t(0,T)})}return[T,p,_,i,l,d,b,A,R,L,C]}class Um extends En{constructor(u){super(),Mn(this,u,Gm,Hm,kn,{})}}var yi={},qm={get exports(){return yi},set exports(o){yi=o}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(o,u){(function(){var t,f="4.17.21",s=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_="Expected a function",m="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",v=500,O="__lodash_placeholder__",i=1,l=2,d=4,b=1,T=2,S=1,A=2,R=4,L=8,C=16,M=32,H=64,J=128,Y=256,$=512,be=30,q="...",de=800,ne=16,z=1,ve=2,mn=3,qe=1/0,We=9007199254740991,re=17976931348623157e292,gr=0/0,On=4294967295,kl=On-1,Ol=On>>>1,Rl=[["ary",J],["bind",S],["bindKey",A],["curry",L],["curryRight",C],["flip",$],["partial",M],["partialRight",H],["rearg",Y]],yt="[object Arguments]",mr="[object Array]",Ll="[object AsyncFunction]",Ht="[object Boolean]",Gt="[object Date]",Cl="[object DOMException]",vr="[object Error]",wr="[object Function]",ru="[object GeneratorFunction]",vn="[object Map]",Ut="[object Number]",Pl="[object Null]",Wn="[object Object]",iu="[object Promise]",Bl="[object Proxy]",qt="[object RegExp]",wn="[object Set]",Xt="[object String]",yr="[object Symbol]",Nl="[object Undefined]",Kt="[object WeakMap]",Dl="[object WeakSet]",Zt="[object ArrayBuffer]",bt="[object DataView]",bi="[object Float32Array]",Ai="[object Float64Array]",xi="[object Int8Array]",Ti="[object Int16Array]",Ii="[object Int32Array]",Si="[object Uint8Array]",Ei="[object Uint8ClampedArray]",Mi="[object Uint16Array]",ki="[object Uint32Array]",Fl=/\b__p \+= '';/g,Wl=/\b(__p \+=) '' \+/g,Hl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ou=/&(?:amp|lt|gt|quot|#39);/g,uu=/[&<>"']/g,Gl=RegExp(ou.source),Ul=RegExp(uu.source),ql=/<%-([\s\S]+?)%>/g,Xl=/<%([\s\S]+?)%>/g,au=/<%=([\s\S]+?)%>/g,Kl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zl=/^\w*$/,Vl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oi=/[\\^$.*+?()[\]{}|]/g,Yl=RegExp(Oi.source),Ri=/^\s+/,zl=/\s/,Ql=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jl=/\{\n\/\* \[wrapped with (.+)\] \*/,$l=/,? & /,jl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,es=/[()=,{}\[\]\/\s]/,ns=/\\(\\)?/g,ts=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fu=/\w*$/,rs=/^[-+]0x[0-9a-f]+$/i,is=/^0b[01]+$/i,os=/^\[object .+?Constructor\]$/,us=/^0o[0-7]+$/i,as=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,br=/($^)/,ls=/['\n\r\u2028\u2029\\]/g,Ar="\\ud800-\\udfff",ss="\\u0300-\\u036f",cs="\\ufe20-\\ufe2f",_s="\\u20d0-\\u20ff",lu=ss+cs+_s,su="\\u2700-\\u27bf",cu="a-z\\xdf-\\xf6\\xf8-\\xff",ds="\\xac\\xb1\\xd7\\xf7",hs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ps="\\u2000-\\u206f",gs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_u="A-Z\\xc0-\\xd6\\xd8-\\xde",du="\\ufe0e\\ufe0f",hu=ds+hs+ps+gs,Li="['’]",ms="["+Ar+"]",pu="["+hu+"]",xr="["+lu+"]",gu="\\d+",vs="["+su+"]",mu="["+cu+"]",vu="[^"+Ar+hu+gu+su+cu+_u+"]",Ci="\\ud83c[\\udffb-\\udfff]",ws="(?:"+xr+"|"+Ci+")",wu="[^"+Ar+"]",Pi="(?:\\ud83c[\\udde6-\\uddff]){2}",Bi="[\\ud800-\\udbff][\\udc00-\\udfff]",At="["+_u+"]",yu="\\u200d",bu="(?:"+mu+"|"+vu+")",ys="(?:"+At+"|"+vu+")",Au="(?:"+Li+"(?:d|ll|m|re|s|t|ve))?",xu="(?:"+Li+"(?:D|LL|M|RE|S|T|VE))?",Tu=ws+"?",Iu="["+du+"]?",bs="(?:"+yu+"(?:"+[wu,Pi,Bi].join("|")+")"+Iu+Tu+")*",As="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Su=Iu+Tu+bs,Ts="(?:"+[vs,Pi,Bi].join("|")+")"+Su,Is="(?:"+[wu+xr+"?",xr,Pi,Bi,ms].join("|")+")",Ss=RegExp(Li,"g"),Es=RegExp(xr,"g"),Ni=RegExp(Ci+"(?="+Ci+")|"+Is+Su,"g"),Ms=RegExp([At+"?"+mu+"+"+Au+"(?="+[pu,At,"$"].join("|")+")",ys+"+"+xu+"(?="+[pu,At+bu,"$"].join("|")+")",At+"?"+bu+"+"+Au,At+"+"+xu,xs,As,gu,Ts].join("|"),"g"),ks=RegExp("["+yu+Ar+lu+du+"]"),Os=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ls=-1,xe={};xe[bi]=xe[Ai]=xe[xi]=xe[Ti]=xe[Ii]=xe[Si]=xe[Ei]=xe[Mi]=xe[ki]=!0,xe[yt]=xe[mr]=xe[Zt]=xe[Ht]=xe[bt]=xe[Gt]=xe[vr]=xe[wr]=xe[vn]=xe[Ut]=xe[Wn]=xe[qt]=xe[wn]=xe[Xt]=xe[Kt]=!1;var Ae={};Ae[yt]=Ae[mr]=Ae[Zt]=Ae[bt]=Ae[Ht]=Ae[Gt]=Ae[bi]=Ae[Ai]=Ae[xi]=Ae[Ti]=Ae[Ii]=Ae[vn]=Ae[Ut]=Ae[Wn]=Ae[qt]=Ae[wn]=Ae[Xt]=Ae[yr]=Ae[Si]=Ae[Ei]=Ae[Mi]=Ae[ki]=!0,Ae[vr]=Ae[wr]=Ae[Kt]=!1;var Cs={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ps={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ns={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ds=parseFloat,Fs=parseInt,Eu=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,Ws=typeof self=="object"&&self&&self.Object===Object&&self,Be=Eu||Ws||Function("return this")(),Di=u&&!u.nodeType&&u,at=Di&&!0&&o&&!o.nodeType&&o,Mu=at&&at.exports===Di,Fi=Mu&&Eu.process,on=function(){try{var I=at&&at.require&&at.require("util").types;return I||Fi&&Fi.binding&&Fi.binding("util")}catch{}}(),ku=on&&on.isArrayBuffer,Ou=on&&on.isDate,Ru=on&&on.isMap,Lu=on&&on.isRegExp,Cu=on&&on.isSet,Pu=on&&on.isTypedArray;function ze(I,P,k){switch(k.length){case 0:return I.call(P);case 1:return I.call(P,k[0]);case 2:return I.call(P,k[0],k[1]);case 3:return I.call(P,k[0],k[1],k[2])}return I.apply(P,k)}function Hs(I,P,k,U){for(var te=-1,ge=I==null?0:I.length;++te<ge;){var Re=I[te];P(U,Re,k(Re),I)}return U}function un(I,P){for(var k=-1,U=I==null?0:I.length;++k<U&&P(I[k],k,I)!==!1;);return I}function Gs(I,P){for(var k=I==null?0:I.length;k--&&P(I[k],k,I)!==!1;);return I}function Bu(I,P){for(var k=-1,U=I==null?0:I.length;++k<U;)if(!P(I[k],k,I))return!1;return!0}function $n(I,P){for(var k=-1,U=I==null?0:I.length,te=0,ge=[];++k<U;){var Re=I[k];P(Re,k,I)&&(ge[te++]=Re)}return ge}function Tr(I,P){var k=I==null?0:I.length;return!!k&&xt(I,P,0)>-1}function Wi(I,P,k){for(var U=-1,te=I==null?0:I.length;++U<te;)if(k(P,I[U]))return!0;return!1}function Te(I,P){for(var k=-1,U=I==null?0:I.length,te=Array(U);++k<U;)te[k]=P(I[k],k,I);return te}function jn(I,P){for(var k=-1,U=P.length,te=I.length;++k<U;)I[te+k]=P[k];return I}function Hi(I,P,k,U){var te=-1,ge=I==null?0:I.length;for(U&&ge&&(k=I[++te]);++te<ge;)k=P(k,I[te],te,I);return k}function Us(I,P,k,U){var te=I==null?0:I.length;for(U&&te&&(k=I[--te]);te--;)k=P(k,I[te],te,I);return k}function Gi(I,P){for(var k=-1,U=I==null?0:I.length;++k<U;)if(P(I[k],k,I))return!0;return!1}var qs=Ui("length");function Xs(I){return I.split("")}function Ks(I){return I.match(jl)||[]}function Nu(I,P,k){var U;return k(I,function(te,ge,Re){if(P(te,ge,Re))return U=ge,!1}),U}function Ir(I,P,k,U){for(var te=I.length,ge=k+(U?1:-1);U?ge--:++ge<te;)if(P(I[ge],ge,I))return ge;return-1}function xt(I,P,k){return P===P?rc(I,P,k):Ir(I,Du,k)}function Zs(I,P,k,U){for(var te=k-1,ge=I.length;++te<ge;)if(U(I[te],P))return te;return-1}function Du(I){return I!==I}function Fu(I,P){var k=I==null?0:I.length;return k?Xi(I,P)/k:gr}function Ui(I){return function(P){return P==null?t:P[I]}}function qi(I){return function(P){return I==null?t:I[P]}}function Wu(I,P,k,U,te){return te(I,function(ge,Re,ye){k=U?(U=!1,ge):P(k,ge,Re,ye)}),k}function Vs(I,P){var k=I.length;for(I.sort(P);k--;)I[k]=I[k].value;return I}function Xi(I,P){for(var k,U=-1,te=I.length;++U<te;){var ge=P(I[U]);ge!==t&&(k=k===t?ge:k+ge)}return k}function Ki(I,P){for(var k=-1,U=Array(I);++k<I;)U[k]=P(k);return U}function Ys(I,P){return Te(P,function(k){return[k,I[k]]})}function Hu(I){return I&&I.slice(0,Xu(I)+1).replace(Ri,"")}function Qe(I){return function(P){return I(P)}}function Zi(I,P){return Te(P,function(k){return I[k]})}function Vt(I,P){return I.has(P)}function Gu(I,P){for(var k=-1,U=I.length;++k<U&&xt(P,I[k],0)>-1;);return k}function Uu(I,P){for(var k=I.length;k--&&xt(P,I[k],0)>-1;);return k}function zs(I,P){for(var k=I.length,U=0;k--;)I[k]===P&&++U;return U}var Qs=qi(Cs),Js=qi(Ps);function $s(I){return"\\"+Ns[I]}function js(I,P){return I==null?t:I[P]}function Tt(I){return ks.test(I)}function ec(I){return Os.test(I)}function nc(I){for(var P,k=[];!(P=I.next()).done;)k.push(P.value);return k}function Vi(I){var P=-1,k=Array(I.size);return I.forEach(function(U,te){k[++P]=[te,U]}),k}function qu(I,P){return function(k){return I(P(k))}}function et(I,P){for(var k=-1,U=I.length,te=0,ge=[];++k<U;){var Re=I[k];(Re===P||Re===O)&&(I[k]=O,ge[te++]=k)}return ge}function Sr(I){var P=-1,k=Array(I.size);return I.forEach(function(U){k[++P]=U}),k}function tc(I){var P=-1,k=Array(I.size);return I.forEach(function(U){k[++P]=[U,U]}),k}function rc(I,P,k){for(var U=k-1,te=I.length;++U<te;)if(I[U]===P)return U;return-1}function ic(I,P,k){for(var U=k+1;U--;)if(I[U]===P)return U;return U}function It(I){return Tt(I)?uc(I):qs(I)}function yn(I){return Tt(I)?ac(I):Xs(I)}function Xu(I){for(var P=I.length;P--&&zl.test(I.charAt(P)););return P}var oc=qi(Bs);function uc(I){for(var P=Ni.lastIndex=0;Ni.test(I);)++P;return P}function ac(I){return I.match(Ni)||[]}function fc(I){return I.match(Ms)||[]}var lc=function I(P){P=P==null?Be:St.defaults(Be.Object(),P,St.pick(Be,Rs));var k=P.Array,U=P.Date,te=P.Error,ge=P.Function,Re=P.Math,ye=P.Object,Yi=P.RegExp,sc=P.String,an=P.TypeError,Er=k.prototype,cc=ge.prototype,Et=ye.prototype,Mr=P["__core-js_shared__"],kr=cc.toString,we=Et.hasOwnProperty,_c=0,Ku=function(){var e=/[^.]+$/.exec(Mr&&Mr.keys&&Mr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Or=Et.toString,dc=kr.call(ye),hc=Be._,pc=Yi("^"+kr.call(we).replace(Oi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rr=Mu?P.Buffer:t,nt=P.Symbol,Lr=P.Uint8Array,Zu=Rr?Rr.allocUnsafe:t,Cr=qu(ye.getPrototypeOf,ye),Vu=ye.create,Yu=Et.propertyIsEnumerable,Pr=Er.splice,zu=nt?nt.isConcatSpreadable:t,Yt=nt?nt.iterator:t,ft=nt?nt.toStringTag:t,Br=function(){try{var e=dt(ye,"defineProperty");return e({},"",{}),e}catch{}}(),gc=P.clearTimeout!==Be.clearTimeout&&P.clearTimeout,mc=U&&U.now!==Be.Date.now&&U.now,vc=P.setTimeout!==Be.setTimeout&&P.setTimeout,Nr=Re.ceil,Dr=Re.floor,zi=ye.getOwnPropertySymbols,wc=Rr?Rr.isBuffer:t,Qu=P.isFinite,yc=Er.join,bc=qu(ye.keys,ye),Le=Re.max,De=Re.min,Ac=U.now,xc=P.parseInt,Ju=Re.random,Tc=Er.reverse,Qi=dt(P,"DataView"),zt=dt(P,"Map"),Ji=dt(P,"Promise"),Mt=dt(P,"Set"),Qt=dt(P,"WeakMap"),Jt=dt(ye,"create"),Fr=Qt&&new Qt,kt={},Ic=ht(Qi),Sc=ht(zt),Ec=ht(Ji),Mc=ht(Mt),kc=ht(Qt),Wr=nt?nt.prototype:t,$t=Wr?Wr.valueOf:t,$u=Wr?Wr.toString:t;function h(e){if(Se(e)&&!ie(e)&&!(e instanceof se)){if(e instanceof fn)return e;if(we.call(e,"__wrapped__"))return ja(e)}return new fn(e)}var Ot=function(){function e(){}return function(n){if(!Ie(n))return{};if(Vu)return Vu(n);e.prototype=n;var r=new e;return e.prototype=t,r}}();function Hr(){}function fn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}h.templateSettings={escape:ql,evaluate:Xl,interpolate:au,variable:"",imports:{_:h}},h.prototype=Hr.prototype,h.prototype.constructor=h,fn.prototype=Ot(Hr.prototype),fn.prototype.constructor=fn;function se(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=On,this.__views__=[]}function Oc(){var e=new se(this.__wrapped__);return e.__actions__=Xe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Xe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Xe(this.__views__),e}function Rc(){if(this.__filtered__){var e=new se(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Lc(){var e=this.__wrapped__.value(),n=this.__dir__,r=ie(e),a=n<0,c=r?e.length:0,g=X_(0,c,this.__views__),y=g.start,x=g.end,E=x-y,B=a?x:y-1,N=this.__iteratees__,D=N.length,G=0,K=De(E,this.__takeCount__);if(!r||!a&&c==E&&K==E)return Aa(e,this.__actions__);var j=[];e:for(;E--&&G<K;){B+=n;for(var ae=-1,ee=e[B];++ae<D;){var le=N[ae],_e=le.iteratee,je=le.type,Ue=_e(ee);if(je==ve)ee=Ue;else if(!Ue){if(je==z)continue e;break e}}j[G++]=ee}return j}se.prototype=Ot(Hr.prototype),se.prototype.constructor=se;function lt(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var a=e[n];this.set(a[0],a[1])}}function Cc(){this.__data__=Jt?Jt(null):{},this.size=0}function Pc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Bc(e){var n=this.__data__;if(Jt){var r=n[e];return r===w?t:r}return we.call(n,e)?n[e]:t}function Nc(e){var n=this.__data__;return Jt?n[e]!==t:we.call(n,e)}function Dc(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Jt&&n===t?w:n,this}lt.prototype.clear=Cc,lt.prototype.delete=Pc,lt.prototype.get=Bc,lt.prototype.has=Nc,lt.prototype.set=Dc;function Hn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var a=e[n];this.set(a[0],a[1])}}function Fc(){this.__data__=[],this.size=0}function Wc(e){var n=this.__data__,r=Gr(n,e);if(r<0)return!1;var a=n.length-1;return r==a?n.pop():Pr.call(n,r,1),--this.size,!0}function Hc(e){var n=this.__data__,r=Gr(n,e);return r<0?t:n[r][1]}function Gc(e){return Gr(this.__data__,e)>-1}function Uc(e,n){var r=this.__data__,a=Gr(r,e);return a<0?(++this.size,r.push([e,n])):r[a][1]=n,this}Hn.prototype.clear=Fc,Hn.prototype.delete=Wc,Hn.prototype.get=Hc,Hn.prototype.has=Gc,Hn.prototype.set=Uc;function Gn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var a=e[n];this.set(a[0],a[1])}}function qc(){this.size=0,this.__data__={hash:new lt,map:new(zt||Hn),string:new lt}}function Xc(e){var n=jr(this,e).delete(e);return this.size-=n?1:0,n}function Kc(e){return jr(this,e).get(e)}function Zc(e){return jr(this,e).has(e)}function Vc(e,n){var r=jr(this,e),a=r.size;return r.set(e,n),this.size+=r.size==a?0:1,this}Gn.prototype.clear=qc,Gn.prototype.delete=Xc,Gn.prototype.get=Kc,Gn.prototype.has=Zc,Gn.prototype.set=Vc;function st(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new Gn;++n<r;)this.add(e[n])}function Yc(e){return this.__data__.set(e,w),this}function zc(e){return this.__data__.has(e)}st.prototype.add=st.prototype.push=Yc,st.prototype.has=zc;function bn(e){var n=this.__data__=new Hn(e);this.size=n.size}function Qc(){this.__data__=new Hn,this.size=0}function Jc(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}function $c(e){return this.__data__.get(e)}function jc(e){return this.__data__.has(e)}function e_(e,n){var r=this.__data__;if(r instanceof Hn){var a=r.__data__;if(!zt||a.length<s-1)return a.push([e,n]),this.size=++r.size,this;r=this.__data__=new Gn(a)}return r.set(e,n),this.size=r.size,this}bn.prototype.clear=Qc,bn.prototype.delete=Jc,bn.prototype.get=$c,bn.prototype.has=jc,bn.prototype.set=e_;function ju(e,n){var r=ie(e),a=!r&&pt(e),c=!r&&!a&&ut(e),g=!r&&!a&&!c&&Pt(e),y=r||a||c||g,x=y?Ki(e.length,sc):[],E=x.length;for(var B in e)(n||we.call(e,B))&&!(y&&(B=="length"||c&&(B=="offset"||B=="parent")||g&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||Kn(B,E)))&&x.push(B);return x}function ea(e){var n=e.length;return n?e[fo(0,n-1)]:t}function n_(e,n){return ei(Xe(e),ct(n,0,e.length))}function t_(e){return ei(Xe(e))}function $i(e,n,r){(r!==t&&!An(e[n],r)||r===t&&!(n in e))&&Un(e,n,r)}function jt(e,n,r){var a=e[n];(!(we.call(e,n)&&An(a,r))||r===t&&!(n in e))&&Un(e,n,r)}function Gr(e,n){for(var r=e.length;r--;)if(An(e[r][0],n))return r;return-1}function r_(e,n,r,a){return tt(e,function(c,g,y){n(a,c,r(c),y)}),a}function na(e,n){return e&&Ln(n,Pe(n),e)}function i_(e,n){return e&&Ln(n,Ze(n),e)}function Un(e,n,r){n=="__proto__"&&Br?Br(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function ji(e,n){for(var r=-1,a=n.length,c=k(a),g=e==null;++r<a;)c[r]=g?t:Po(e,n[r]);return c}function ct(e,n,r){return e===e&&(r!==t&&(e=e<=r?e:r),n!==t&&(e=e>=n?e:n)),e}function ln(e,n,r,a,c,g){var y,x=n&i,E=n&l,B=n&d;if(r&&(y=c?r(e,a,c,g):r(e)),y!==t)return y;if(!Ie(e))return e;var N=ie(e);if(N){if(y=Z_(e),!x)return Xe(e,y)}else{var D=Fe(e),G=D==wr||D==ru;if(ut(e))return Ia(e,x);if(D==Wn||D==yt||G&&!c){if(y=E||G?{}:Xa(e),!x)return E?B_(e,i_(y,e)):P_(e,na(y,e))}else{if(!Ae[D])return c?e:{};y=V_(e,D,x)}}g||(g=new bn);var K=g.get(e);if(K)return K;g.set(e,y),yf(e)?e.forEach(function(ee){y.add(ln(ee,n,r,ee,e,g))}):vf(e)&&e.forEach(function(ee,le){y.set(le,ln(ee,n,r,le,e,g))});var j=B?E?yo:wo:E?Ze:Pe,ae=N?t:j(e);return un(ae||e,function(ee,le){ae&&(le=ee,ee=e[le]),jt(y,le,ln(ee,n,r,le,e,g))}),y}function o_(e){var n=Pe(e);return function(r){return ta(r,e,n)}}function ta(e,n,r){var a=r.length;if(e==null)return!a;for(e=ye(e);a--;){var c=r[a],g=n[c],y=e[c];if(y===t&&!(c in e)||!g(y))return!1}return!0}function ra(e,n,r){if(typeof e!="function")throw new an(_);return ur(function(){e.apply(t,r)},n)}function er(e,n,r,a){var c=-1,g=Tr,y=!0,x=e.length,E=[],B=n.length;if(!x)return E;r&&(n=Te(n,Qe(r))),a?(g=Wi,y=!1):n.length>=s&&(g=Vt,y=!1,n=new st(n));e:for(;++c<x;){var N=e[c],D=r==null?N:r(N);if(N=a||N!==0?N:0,y&&D===D){for(var G=B;G--;)if(n[G]===D)continue e;E.push(N)}else g(n,D,a)||E.push(N)}return E}var tt=Oa(Rn),ia=Oa(no,!0);function u_(e,n){var r=!0;return tt(e,function(a,c,g){return r=!!n(a,c,g),r}),r}function Ur(e,n,r){for(var a=-1,c=e.length;++a<c;){var g=e[a],y=n(g);if(y!=null&&(x===t?y===y&&!$e(y):r(y,x)))var x=y,E=g}return E}function a_(e,n,r,a){var c=e.length;for(r=oe(r),r<0&&(r=-r>c?0:c+r),a=a===t||a>c?c:oe(a),a<0&&(a+=c),a=r>a?0:Af(a);r<a;)e[r++]=n;return e}function oa(e,n){var r=[];return tt(e,function(a,c,g){n(a,c,g)&&r.push(a)}),r}function Ne(e,n,r,a,c){var g=-1,y=e.length;for(r||(r=z_),c||(c=[]);++g<y;){var x=e[g];n>0&&r(x)?n>1?Ne(x,n-1,r,a,c):jn(c,x):a||(c[c.length]=x)}return c}var eo=Ra(),ua=Ra(!0);function Rn(e,n){return e&&eo(e,n,Pe)}function no(e,n){return e&&ua(e,n,Pe)}function qr(e,n){return $n(n,function(r){return Zn(e[r])})}function _t(e,n){n=it(n,e);for(var r=0,a=n.length;e!=null&&r<a;)e=e[Cn(n[r++])];return r&&r==a?e:t}function aa(e,n,r){var a=n(e);return ie(e)?a:jn(a,r(e))}function He(e){return e==null?e===t?Nl:Pl:ft&&ft in ye(e)?q_(e):td(e)}function to(e,n){return e>n}function f_(e,n){return e!=null&&we.call(e,n)}function l_(e,n){return e!=null&&n in ye(e)}function s_(e,n,r){return e>=De(n,r)&&e<Le(n,r)}function ro(e,n,r){for(var a=r?Wi:Tr,c=e[0].length,g=e.length,y=g,x=k(g),E=1/0,B=[];y--;){var N=e[y];y&&n&&(N=Te(N,Qe(n))),E=De(N.length,E),x[y]=!r&&(n||c>=120&&N.length>=120)?new st(y&&N):t}N=e[0];var D=-1,G=x[0];e:for(;++D<c&&B.length<E;){var K=N[D],j=n?n(K):K;if(K=r||K!==0?K:0,!(G?Vt(G,j):a(B,j,r))){for(y=g;--y;){var ae=x[y];if(!(ae?Vt(ae,j):a(e[y],j,r)))continue e}G&&G.push(j),B.push(K)}}return B}function c_(e,n,r,a){return Rn(e,function(c,g,y){n(a,r(c),g,y)}),a}function nr(e,n,r){n=it(n,e),e=Ya(e,n);var a=e==null?e:e[Cn(cn(n))];return a==null?t:ze(a,e,r)}function fa(e){return Se(e)&&He(e)==yt}function __(e){return Se(e)&&He(e)==Zt}function d_(e){return Se(e)&&He(e)==Gt}function tr(e,n,r,a,c){return e===n?!0:e==null||n==null||!Se(e)&&!Se(n)?e!==e&&n!==n:h_(e,n,r,a,tr,c)}function h_(e,n,r,a,c,g){var y=ie(e),x=ie(n),E=y?mr:Fe(e),B=x?mr:Fe(n);E=E==yt?Wn:E,B=B==yt?Wn:B;var N=E==Wn,D=B==Wn,G=E==B;if(G&&ut(e)){if(!ut(n))return!1;y=!0,N=!1}if(G&&!N)return g||(g=new bn),y||Pt(e)?Ga(e,n,r,a,c,g):G_(e,n,E,r,a,c,g);if(!(r&b)){var K=N&&we.call(e,"__wrapped__"),j=D&&we.call(n,"__wrapped__");if(K||j){var ae=K?e.value():e,ee=j?n.value():n;return g||(g=new bn),c(ae,ee,r,a,g)}}return G?(g||(g=new bn),U_(e,n,r,a,c,g)):!1}function p_(e){return Se(e)&&Fe(e)==vn}function io(e,n,r,a){var c=r.length,g=c,y=!a;if(e==null)return!g;for(e=ye(e);c--;){var x=r[c];if(y&&x[2]?x[1]!==e[x[0]]:!(x[0]in e))return!1}for(;++c<g;){x=r[c];var E=x[0],B=e[E],N=x[1];if(y&&x[2]){if(B===t&&!(E in e))return!1}else{var D=new bn;if(a)var G=a(B,N,E,e,n,D);if(!(G===t?tr(N,B,b|T,a,D):G))return!1}}return!0}function la(e){if(!Ie(e)||J_(e))return!1;var n=Zn(e)?pc:os;return n.test(ht(e))}function g_(e){return Se(e)&&He(e)==qt}function m_(e){return Se(e)&&Fe(e)==wn}function v_(e){return Se(e)&&ui(e.length)&&!!xe[He(e)]}function sa(e){return typeof e=="function"?e:e==null?Ve:typeof e=="object"?ie(e)?da(e[0],e[1]):_a(e):Cf(e)}function oo(e){if(!or(e))return bc(e);var n=[];for(var r in ye(e))we.call(e,r)&&r!="constructor"&&n.push(r);return n}function w_(e){if(!Ie(e))return nd(e);var n=or(e),r=[];for(var a in e)a=="constructor"&&(n||!we.call(e,a))||r.push(a);return r}function uo(e,n){return e<n}function ca(e,n){var r=-1,a=Ke(e)?k(e.length):[];return tt(e,function(c,g,y){a[++r]=n(c,g,y)}),a}function _a(e){var n=Ao(e);return n.length==1&&n[0][2]?Za(n[0][0],n[0][1]):function(r){return r===e||io(r,e,n)}}function da(e,n){return To(e)&&Ka(n)?Za(Cn(e),n):function(r){var a=Po(r,e);return a===t&&a===n?Bo(r,e):tr(n,a,b|T)}}function Xr(e,n,r,a,c){e!==n&&eo(n,function(g,y){if(c||(c=new bn),Ie(g))y_(e,n,y,r,Xr,a,c);else{var x=a?a(So(e,y),g,y+"",e,n,c):t;x===t&&(x=g),$i(e,y,x)}},Ze)}function y_(e,n,r,a,c,g,y){var x=So(e,r),E=So(n,r),B=y.get(E);if(B){$i(e,r,B);return}var N=g?g(x,E,r+"",e,n,y):t,D=N===t;if(D){var G=ie(E),K=!G&&ut(E),j=!G&&!K&&Pt(E);N=E,G||K||j?ie(x)?N=x:Ee(x)?N=Xe(x):K?(D=!1,N=Ia(E,!0)):j?(D=!1,N=Sa(E,!0)):N=[]:ar(E)||pt(E)?(N=x,pt(x)?N=xf(x):(!Ie(x)||Zn(x))&&(N=Xa(E))):D=!1}D&&(y.set(E,N),c(N,E,a,g,y),y.delete(E)),$i(e,r,N)}function ha(e,n){var r=e.length;if(r)return n+=n<0?r:0,Kn(n,r)?e[n]:t}function pa(e,n,r){n.length?n=Te(n,function(g){return ie(g)?function(y){return _t(y,g.length===1?g[0]:g)}:g}):n=[Ve];var a=-1;n=Te(n,Qe(Q()));var c=ca(e,function(g,y,x){var E=Te(n,function(B){return B(g)});return{criteria:E,index:++a,value:g}});return Vs(c,function(g,y){return C_(g,y,r)})}function b_(e,n){return ga(e,n,function(r,a){return Bo(e,a)})}function ga(e,n,r){for(var a=-1,c=n.length,g={};++a<c;){var y=n[a],x=_t(e,y);r(x,y)&&rr(g,it(y,e),x)}return g}function A_(e){return function(n){return _t(n,e)}}function ao(e,n,r,a){var c=a?Zs:xt,g=-1,y=n.length,x=e;for(e===n&&(n=Xe(n)),r&&(x=Te(e,Qe(r)));++g<y;)for(var E=0,B=n[g],N=r?r(B):B;(E=c(x,N,E,a))>-1;)x!==e&&Pr.call(x,E,1),Pr.call(e,E,1);return e}function ma(e,n){for(var r=e?n.length:0,a=r-1;r--;){var c=n[r];if(r==a||c!==g){var g=c;Kn(c)?Pr.call(e,c,1):co(e,c)}}return e}function fo(e,n){return e+Dr(Ju()*(n-e+1))}function x_(e,n,r,a){for(var c=-1,g=Le(Nr((n-e)/(r||1)),0),y=k(g);g--;)y[a?g:++c]=e,e+=r;return y}function lo(e,n){var r="";if(!e||n<1||n>We)return r;do n%2&&(r+=e),n=Dr(n/2),n&&(e+=e);while(n);return r}function fe(e,n){return Eo(Va(e,n,Ve),e+"")}function T_(e){return ea(Bt(e))}function I_(e,n){var r=Bt(e);return ei(r,ct(n,0,r.length))}function rr(e,n,r,a){if(!Ie(e))return e;n=it(n,e);for(var c=-1,g=n.length,y=g-1,x=e;x!=null&&++c<g;){var E=Cn(n[c]),B=r;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(c!=y){var N=x[E];B=a?a(N,E,x):t,B===t&&(B=Ie(N)?N:Kn(n[c+1])?[]:{})}jt(x,E,B),x=x[E]}return e}var va=Fr?function(e,n){return Fr.set(e,n),e}:Ve,S_=Br?function(e,n){return Br(e,"toString",{configurable:!0,enumerable:!1,value:Do(n),writable:!0})}:Ve;function E_(e){return ei(Bt(e))}function sn(e,n,r){var a=-1,c=e.length;n<0&&(n=-n>c?0:c+n),r=r>c?c:r,r<0&&(r+=c),c=n>r?0:r-n>>>0,n>>>=0;for(var g=k(c);++a<c;)g[a]=e[a+n];return g}function M_(e,n){var r;return tt(e,function(a,c,g){return r=n(a,c,g),!r}),!!r}function Kr(e,n,r){var a=0,c=e==null?a:e.length;if(typeof n=="number"&&n===n&&c<=Ol){for(;a<c;){var g=a+c>>>1,y=e[g];y!==null&&!$e(y)&&(r?y<=n:y<n)?a=g+1:c=g}return c}return so(e,n,Ve,r)}function so(e,n,r,a){var c=0,g=e==null?0:e.length;if(g===0)return 0;n=r(n);for(var y=n!==n,x=n===null,E=$e(n),B=n===t;c<g;){var N=Dr((c+g)/2),D=r(e[N]),G=D!==t,K=D===null,j=D===D,ae=$e(D);if(y)var ee=a||j;else B?ee=j&&(a||G):x?ee=j&&G&&(a||!K):E?ee=j&&G&&!K&&(a||!ae):K||ae?ee=!1:ee=a?D<=n:D<n;ee?c=N+1:g=N}return De(g,kl)}function wa(e,n){for(var r=-1,a=e.length,c=0,g=[];++r<a;){var y=e[r],x=n?n(y):y;if(!r||!An(x,E)){var E=x;g[c++]=y===0?0:y}}return g}function ya(e){return typeof e=="number"?e:$e(e)?gr:+e}function Je(e){if(typeof e=="string")return e;if(ie(e))return Te(e,Je)+"";if($e(e))return $u?$u.call(e):"";var n=e+"";return n=="0"&&1/e==-qe?"-0":n}function rt(e,n,r){var a=-1,c=Tr,g=e.length,y=!0,x=[],E=x;if(r)y=!1,c=Wi;else if(g>=s){var B=n?null:W_(e);if(B)return Sr(B);y=!1,c=Vt,E=new st}else E=n?[]:x;e:for(;++a<g;){var N=e[a],D=n?n(N):N;if(N=r||N!==0?N:0,y&&D===D){for(var G=E.length;G--;)if(E[G]===D)continue e;n&&E.push(D),x.push(N)}else c(E,D,r)||(E!==x&&E.push(D),x.push(N))}return x}function co(e,n){return n=it(n,e),e=Ya(e,n),e==null||delete e[Cn(cn(n))]}function ba(e,n,r,a){return rr(e,n,r(_t(e,n)),a)}function Zr(e,n,r,a){for(var c=e.length,g=a?c:-1;(a?g--:++g<c)&&n(e[g],g,e););return r?sn(e,a?0:g,a?g+1:c):sn(e,a?g+1:0,a?c:g)}function Aa(e,n){var r=e;return r instanceof se&&(r=r.value()),Hi(n,function(a,c){return c.func.apply(c.thisArg,jn([a],c.args))},r)}function _o(e,n,r){var a=e.length;if(a<2)return a?rt(e[0]):[];for(var c=-1,g=k(a);++c<a;)for(var y=e[c],x=-1;++x<a;)x!=c&&(g[c]=er(g[c]||y,e[x],n,r));return rt(Ne(g,1),n,r)}function xa(e,n,r){for(var a=-1,c=e.length,g=n.length,y={};++a<c;){var x=a<g?n[a]:t;r(y,e[a],x)}return y}function ho(e){return Ee(e)?e:[]}function po(e){return typeof e=="function"?e:Ve}function it(e,n){return ie(e)?e:To(e,n)?[e]:$a(me(e))}var k_=fe;function ot(e,n,r){var a=e.length;return r=r===t?a:r,!n&&r>=a?e:sn(e,n,r)}var Ta=gc||function(e){return Be.clearTimeout(e)};function Ia(e,n){if(n)return e.slice();var r=e.length,a=Zu?Zu(r):new e.constructor(r);return e.copy(a),a}function go(e){var n=new e.constructor(e.byteLength);return new Lr(n).set(new Lr(e)),n}function O_(e,n){var r=n?go(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function R_(e){var n=new e.constructor(e.source,fu.exec(e));return n.lastIndex=e.lastIndex,n}function L_(e){return $t?ye($t.call(e)):{}}function Sa(e,n){var r=n?go(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ea(e,n){if(e!==n){var r=e!==t,a=e===null,c=e===e,g=$e(e),y=n!==t,x=n===null,E=n===n,B=$e(n);if(!x&&!B&&!g&&e>n||g&&y&&E&&!x&&!B||a&&y&&E||!r&&E||!c)return 1;if(!a&&!g&&!B&&e<n||B&&r&&c&&!a&&!g||x&&r&&c||!y&&c||!E)return-1}return 0}function C_(e,n,r){for(var a=-1,c=e.criteria,g=n.criteria,y=c.length,x=r.length;++a<y;){var E=Ea(c[a],g[a]);if(E){if(a>=x)return E;var B=r[a];return E*(B=="desc"?-1:1)}}return e.index-n.index}function Ma(e,n,r,a){for(var c=-1,g=e.length,y=r.length,x=-1,E=n.length,B=Le(g-y,0),N=k(E+B),D=!a;++x<E;)N[x]=n[x];for(;++c<y;)(D||c<g)&&(N[r[c]]=e[c]);for(;B--;)N[x++]=e[c++];return N}function ka(e,n,r,a){for(var c=-1,g=e.length,y=-1,x=r.length,E=-1,B=n.length,N=Le(g-x,0),D=k(N+B),G=!a;++c<N;)D[c]=e[c];for(var K=c;++E<B;)D[K+E]=n[E];for(;++y<x;)(G||c<g)&&(D[K+r[y]]=e[c++]);return D}function Xe(e,n){var r=-1,a=e.length;for(n||(n=k(a));++r<a;)n[r]=e[r];return n}function Ln(e,n,r,a){var c=!r;r||(r={});for(var g=-1,y=n.length;++g<y;){var x=n[g],E=a?a(r[x],e[x],x,r,e):t;E===t&&(E=e[x]),c?Un(r,x,E):jt(r,x,E)}return r}function P_(e,n){return Ln(e,xo(e),n)}function B_(e,n){return Ln(e,Ua(e),n)}function Vr(e,n){return function(r,a){var c=ie(r)?Hs:r_,g=n?n():{};return c(r,e,Q(a,2),g)}}function Rt(e){return fe(function(n,r){var a=-1,c=r.length,g=c>1?r[c-1]:t,y=c>2?r[2]:t;for(g=e.length>3&&typeof g=="function"?(c--,g):t,y&&Ge(r[0],r[1],y)&&(g=c<3?t:g,c=1),n=ye(n);++a<c;){var x=r[a];x&&e(n,x,a,g)}return n})}function Oa(e,n){return function(r,a){if(r==null)return r;if(!Ke(r))return e(r,a);for(var c=r.length,g=n?c:-1,y=ye(r);(n?g--:++g<c)&&a(y[g],g,y)!==!1;);return r}}function Ra(e){return function(n,r,a){for(var c=-1,g=ye(n),y=a(n),x=y.length;x--;){var E=y[e?x:++c];if(r(g[E],E,g)===!1)break}return n}}function N_(e,n,r){var a=n&S,c=ir(e);function g(){var y=this&&this!==Be&&this instanceof g?c:e;return y.apply(a?r:this,arguments)}return g}function La(e){return function(n){n=me(n);var r=Tt(n)?yn(n):t,a=r?r[0]:n.charAt(0),c=r?ot(r,1).join(""):n.slice(1);return a[e]()+c}}function Lt(e){return function(n){return Hi(Rf(Of(n).replace(Ss,"")),e,"")}}function ir(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Ot(e.prototype),a=e.apply(r,n);return Ie(a)?a:r}}function D_(e,n,r){var a=ir(e);function c(){for(var g=arguments.length,y=k(g),x=g,E=Ct(c);x--;)y[x]=arguments[x];var B=g<3&&y[0]!==E&&y[g-1]!==E?[]:et(y,E);if(g-=B.length,g<r)return Da(e,n,Yr,c.placeholder,t,y,B,t,t,r-g);var N=this&&this!==Be&&this instanceof c?a:e;return ze(N,this,y)}return c}function Ca(e){return function(n,r,a){var c=ye(n);if(!Ke(n)){var g=Q(r,3);n=Pe(n),r=function(x){return g(c[x],x,c)}}var y=e(n,r,a);return y>-1?c[g?n[y]:y]:t}}function Pa(e){return Xn(function(n){var r=n.length,a=r,c=fn.prototype.thru;for(e&&n.reverse();a--;){var g=n[a];if(typeof g!="function")throw new an(_);if(c&&!y&&$r(g)=="wrapper")var y=new fn([],!0)}for(a=y?a:r;++a<r;){g=n[a];var x=$r(g),E=x=="wrapper"?bo(g):t;E&&Io(E[0])&&E[1]==(J|L|M|Y)&&!E[4].length&&E[9]==1?y=y[$r(E[0])].apply(y,E[3]):y=g.length==1&&Io(g)?y[x]():y.thru(g)}return function(){var B=arguments,N=B[0];if(y&&B.length==1&&ie(N))return y.plant(N).value();for(var D=0,G=r?n[D].apply(this,B):N;++D<r;)G=n[D].call(this,G);return G}})}function Yr(e,n,r,a,c,g,y,x,E,B){var N=n&J,D=n&S,G=n&A,K=n&(L|C),j=n&$,ae=G?t:ir(e);function ee(){for(var le=arguments.length,_e=k(le),je=le;je--;)_e[je]=arguments[je];if(K)var Ue=Ct(ee),en=zs(_e,Ue);if(a&&(_e=Ma(_e,a,c,K)),g&&(_e=ka(_e,g,y,K)),le-=en,K&&le<B){var Me=et(_e,Ue);return Da(e,n,Yr,ee.placeholder,r,_e,Me,x,E,B-le)}var xn=D?r:this,Yn=G?xn[e]:e;return le=_e.length,x?_e=rd(_e,x):j&&le>1&&_e.reverse(),N&&E<le&&(_e.length=E),this&&this!==Be&&this instanceof ee&&(Yn=ae||ir(Yn)),Yn.apply(xn,_e)}return ee}function Ba(e,n){return function(r,a){return c_(r,e,n(a),{})}}function zr(e,n){return function(r,a){var c;if(r===t&&a===t)return n;if(r!==t&&(c=r),a!==t){if(c===t)return a;typeof r=="string"||typeof a=="string"?(r=Je(r),a=Je(a)):(r=ya(r),a=ya(a)),c=e(r,a)}return c}}function mo(e){return Xn(function(n){return n=Te(n,Qe(Q())),fe(function(r){var a=this;return e(n,function(c){return ze(c,a,r)})})})}function Qr(e,n){n=n===t?" ":Je(n);var r=n.length;if(r<2)return r?lo(n,e):n;var a=lo(n,Nr(e/It(n)));return Tt(n)?ot(yn(a),0,e).join(""):a.slice(0,e)}function F_(e,n,r,a){var c=n&S,g=ir(e);function y(){for(var x=-1,E=arguments.length,B=-1,N=a.length,D=k(N+E),G=this&&this!==Be&&this instanceof y?g:e;++B<N;)D[B]=a[B];for(;E--;)D[B++]=arguments[++x];return ze(G,c?r:this,D)}return y}function Na(e){return function(n,r,a){return a&&typeof a!="number"&&Ge(n,r,a)&&(r=a=t),n=Vn(n),r===t?(r=n,n=0):r=Vn(r),a=a===t?n<r?1:-1:Vn(a),x_(n,r,a,e)}}function Jr(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=_n(n),r=_n(r)),e(n,r)}}function Da(e,n,r,a,c,g,y,x,E,B){var N=n&L,D=N?y:t,G=N?t:y,K=N?g:t,j=N?t:g;n|=N?M:H,n&=~(N?H:M),n&R||(n&=~(S|A));var ae=[e,n,c,K,D,j,G,x,E,B],ee=r.apply(t,ae);return Io(e)&&za(ee,ae),ee.placeholder=a,Qa(ee,e,n)}function vo(e){var n=Re[e];return function(r,a){if(r=_n(r),a=a==null?0:De(oe(a),292),a&&Qu(r)){var c=(me(r)+"e").split("e"),g=n(c[0]+"e"+(+c[1]+a));return c=(me(g)+"e").split("e"),+(c[0]+"e"+(+c[1]-a))}return n(r)}}var W_=Mt&&1/Sr(new Mt([,-0]))[1]==qe?function(e){return new Mt(e)}:Ho;function Fa(e){return function(n){var r=Fe(n);return r==vn?Vi(n):r==wn?tc(n):Ys(n,e(n))}}function qn(e,n,r,a,c,g,y,x){var E=n&A;if(!E&&typeof e!="function")throw new an(_);var B=a?a.length:0;if(B||(n&=~(M|H),a=c=t),y=y===t?y:Le(oe(y),0),x=x===t?x:oe(x),B-=c?c.length:0,n&H){var N=a,D=c;a=c=t}var G=E?t:bo(e),K=[e,n,r,a,c,N,D,g,y,x];if(G&&ed(K,G),e=K[0],n=K[1],r=K[2],a=K[3],c=K[4],x=K[9]=K[9]===t?E?0:e.length:Le(K[9]-B,0),!x&&n&(L|C)&&(n&=~(L|C)),!n||n==S)var j=N_(e,n,r);else n==L||n==C?j=D_(e,n,x):(n==M||n==(S|M))&&!c.length?j=F_(e,n,r,a):j=Yr.apply(t,K);var ae=G?va:za;return Qa(ae(j,K),e,n)}function Wa(e,n,r,a){return e===t||An(e,Et[r])&&!we.call(a,r)?n:e}function Ha(e,n,r,a,c,g){return Ie(e)&&Ie(n)&&(g.set(n,e),Xr(e,n,t,Ha,g),g.delete(n)),e}function H_(e){return ar(e)?t:e}function Ga(e,n,r,a,c,g){var y=r&b,x=e.length,E=n.length;if(x!=E&&!(y&&E>x))return!1;var B=g.get(e),N=g.get(n);if(B&&N)return B==n&&N==e;var D=-1,G=!0,K=r&T?new st:t;for(g.set(e,n),g.set(n,e);++D<x;){var j=e[D],ae=n[D];if(a)var ee=y?a(ae,j,D,n,e,g):a(j,ae,D,e,n,g);if(ee!==t){if(ee)continue;G=!1;break}if(K){if(!Gi(n,function(le,_e){if(!Vt(K,_e)&&(j===le||c(j,le,r,a,g)))return K.push(_e)})){G=!1;break}}else if(!(j===ae||c(j,ae,r,a,g))){G=!1;break}}return g.delete(e),g.delete(n),G}function G_(e,n,r,a,c,g,y){switch(r){case bt:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Zt:return!(e.byteLength!=n.byteLength||!g(new Lr(e),new Lr(n)));case Ht:case Gt:case Ut:return An(+e,+n);case vr:return e.name==n.name&&e.message==n.message;case qt:case Xt:return e==n+"";case vn:var x=Vi;case wn:var E=a&b;if(x||(x=Sr),e.size!=n.size&&!E)return!1;var B=y.get(e);if(B)return B==n;a|=T,y.set(e,n);var N=Ga(x(e),x(n),a,c,g,y);return y.delete(e),N;case yr:if($t)return $t.call(e)==$t.call(n)}return!1}function U_(e,n,r,a,c,g){var y=r&b,x=wo(e),E=x.length,B=wo(n),N=B.length;if(E!=N&&!y)return!1;for(var D=E;D--;){var G=x[D];if(!(y?G in n:we.call(n,G)))return!1}var K=g.get(e),j=g.get(n);if(K&&j)return K==n&&j==e;var ae=!0;g.set(e,n),g.set(n,e);for(var ee=y;++D<E;){G=x[D];var le=e[G],_e=n[G];if(a)var je=y?a(_e,le,G,n,e,g):a(le,_e,G,e,n,g);if(!(je===t?le===_e||c(le,_e,r,a,g):je)){ae=!1;break}ee||(ee=G=="constructor")}if(ae&&!ee){var Ue=e.constructor,en=n.constructor;Ue!=en&&"constructor"in e&&"constructor"in n&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof en=="function"&&en instanceof en)&&(ae=!1)}return g.delete(e),g.delete(n),ae}function Xn(e){return Eo(Va(e,t,tf),e+"")}function wo(e){return aa(e,Pe,xo)}function yo(e){return aa(e,Ze,Ua)}var bo=Fr?function(e){return Fr.get(e)}:Ho;function $r(e){for(var n=e.name+"",r=kt[n],a=we.call(kt,n)?r.length:0;a--;){var c=r[a],g=c.func;if(g==null||g==e)return c.name}return n}function Ct(e){var n=we.call(h,"placeholder")?h:e;return n.placeholder}function Q(){var e=h.iteratee||Fo;return e=e===Fo?sa:e,arguments.length?e(arguments[0],arguments[1]):e}function jr(e,n){var r=e.__data__;return Q_(n)?r[typeof n=="string"?"string":"hash"]:r.map}function Ao(e){for(var n=Pe(e),r=n.length;r--;){var a=n[r],c=e[a];n[r]=[a,c,Ka(c)]}return n}function dt(e,n){var r=js(e,n);return la(r)?r:t}function q_(e){var n=we.call(e,ft),r=e[ft];try{e[ft]=t;var a=!0}catch{}var c=Or.call(e);return a&&(n?e[ft]=r:delete e[ft]),c}var xo=zi?function(e){return e==null?[]:(e=ye(e),$n(zi(e),function(n){return Yu.call(e,n)}))}:Go,Ua=zi?function(e){for(var n=[];e;)jn(n,xo(e)),e=Cr(e);return n}:Go,Fe=He;(Qi&&Fe(new Qi(new ArrayBuffer(1)))!=bt||zt&&Fe(new zt)!=vn||Ji&&Fe(Ji.resolve())!=iu||Mt&&Fe(new Mt)!=wn||Qt&&Fe(new Qt)!=Kt)&&(Fe=function(e){var n=He(e),r=n==Wn?e.constructor:t,a=r?ht(r):"";if(a)switch(a){case Ic:return bt;case Sc:return vn;case Ec:return iu;case Mc:return wn;case kc:return Kt}return n});function X_(e,n,r){for(var a=-1,c=r.length;++a<c;){var g=r[a],y=g.size;switch(g.type){case"drop":e+=y;break;case"dropRight":n-=y;break;case"take":n=De(n,e+y);break;case"takeRight":e=Le(e,n-y);break}}return{start:e,end:n}}function K_(e){var n=e.match(Jl);return n?n[1].split($l):[]}function qa(e,n,r){n=it(n,e);for(var a=-1,c=n.length,g=!1;++a<c;){var y=Cn(n[a]);if(!(g=e!=null&&r(e,y)))break;e=e[y]}return g||++a!=c?g:(c=e==null?0:e.length,!!c&&ui(c)&&Kn(y,c)&&(ie(e)||pt(e)))}function Z_(e){var n=e.length,r=new e.constructor(n);return n&&typeof e[0]=="string"&&we.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Xa(e){return typeof e.constructor=="function"&&!or(e)?Ot(Cr(e)):{}}function V_(e,n,r){var a=e.constructor;switch(n){case Zt:return go(e);case Ht:case Gt:return new a(+e);case bt:return O_(e,r);case bi:case Ai:case xi:case Ti:case Ii:case Si:case Ei:case Mi:case ki:return Sa(e,r);case vn:return new a;case Ut:case Xt:return new a(e);case qt:return R_(e);case wn:return new a;case yr:return L_(e)}}function Y_(e,n){var r=n.length;if(!r)return e;var a=r-1;return n[a]=(r>1?"& ":"")+n[a],n=n.join(r>2?", ":" "),e.replace(Ql,`{
/* [wrapped with `+n+`] */
`)}function z_(e){return ie(e)||pt(e)||!!(zu&&e&&e[zu])}function Kn(e,n){var r=typeof e;return n=n??We,!!n&&(r=="number"||r!="symbol"&&as.test(e))&&e>-1&&e%1==0&&e<n}function Ge(e,n,r){if(!Ie(r))return!1;var a=typeof n;return(a=="number"?Ke(r)&&Kn(n,r.length):a=="string"&&n in r)?An(r[n],e):!1}function To(e,n){if(ie(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$e(e)?!0:Zl.test(e)||!Kl.test(e)||n!=null&&e in ye(n)}function Q_(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Io(e){var n=$r(e),r=h[n];if(typeof r!="function"||!(n in se.prototype))return!1;if(e===r)return!0;var a=bo(r);return!!a&&e===a[0]}function J_(e){return!!Ku&&Ku in e}var $_=Mr?Zn:Uo;function or(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Et;return e===r}function Ka(e){return e===e&&!Ie(e)}function Za(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==t||e in ye(r))}}function j_(e){var n=ii(e,function(a){return r.size===v&&r.clear(),a}),r=n.cache;return n}function ed(e,n){var r=e[1],a=n[1],c=r|a,g=c<(S|A|J),y=a==J&&r==L||a==J&&r==Y&&e[7].length<=n[8]||a==(J|Y)&&n[7].length<=n[8]&&r==L;if(!(g||y))return e;a&S&&(e[2]=n[2],c|=r&S?0:R);var x=n[3];if(x){var E=e[3];e[3]=E?Ma(E,x,n[4]):x,e[4]=E?et(e[3],O):n[4]}return x=n[5],x&&(E=e[5],e[5]=E?ka(E,x,n[6]):x,e[6]=E?et(e[5],O):n[6]),x=n[7],x&&(e[7]=x),a&J&&(e[8]=e[8]==null?n[8]:De(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=c,e}function nd(e){var n=[];if(e!=null)for(var r in ye(e))n.push(r);return n}function td(e){return Or.call(e)}function Va(e,n,r){return n=Le(n===t?e.length-1:n,0),function(){for(var a=arguments,c=-1,g=Le(a.length-n,0),y=k(g);++c<g;)y[c]=a[n+c];c=-1;for(var x=k(n+1);++c<n;)x[c]=a[c];return x[n]=r(y),ze(e,this,x)}}function Ya(e,n){return n.length<2?e:_t(e,sn(n,0,-1))}function rd(e,n){for(var r=e.length,a=De(n.length,r),c=Xe(e);a--;){var g=n[a];e[a]=Kn(g,r)?c[g]:t}return e}function So(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var za=Ja(va),ur=vc||function(e,n){return Be.setTimeout(e,n)},Eo=Ja(S_);function Qa(e,n,r){var a=n+"";return Eo(e,Y_(a,id(K_(a),r)))}function Ja(e){var n=0,r=0;return function(){var a=Ac(),c=ne-(a-r);if(r=a,c>0){if(++n>=de)return arguments[0]}else n=0;return e.apply(t,arguments)}}function ei(e,n){var r=-1,a=e.length,c=a-1;for(n=n===t?a:n;++r<n;){var g=fo(r,c),y=e[g];e[g]=e[r],e[r]=y}return e.length=n,e}var $a=j_(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Vl,function(r,a,c,g){n.push(c?g.replace(ns,"$1"):a||r)}),n});function Cn(e){if(typeof e=="string"||$e(e))return e;var n=e+"";return n=="0"&&1/e==-qe?"-0":n}function ht(e){if(e!=null){try{return kr.call(e)}catch{}try{return e+""}catch{}}return""}function id(e,n){return un(Rl,function(r){var a="_."+r[0];n&r[1]&&!Tr(e,a)&&e.push(a)}),e.sort()}function ja(e){if(e instanceof se)return e.clone();var n=new fn(e.__wrapped__,e.__chain__);return n.__actions__=Xe(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function od(e,n,r){(r?Ge(e,n,r):n===t)?n=1:n=Le(oe(n),0);var a=e==null?0:e.length;if(!a||n<1)return[];for(var c=0,g=0,y=k(Nr(a/n));c<a;)y[g++]=sn(e,c,c+=n);return y}function ud(e){for(var n=-1,r=e==null?0:e.length,a=0,c=[];++n<r;){var g=e[n];g&&(c[a++]=g)}return c}function ad(){var e=arguments.length;if(!e)return[];for(var n=k(e-1),r=arguments[0],a=e;a--;)n[a-1]=arguments[a];return jn(ie(r)?Xe(r):[r],Ne(n,1))}var fd=fe(function(e,n){return Ee(e)?er(e,Ne(n,1,Ee,!0)):[]}),ld=fe(function(e,n){var r=cn(n);return Ee(r)&&(r=t),Ee(e)?er(e,Ne(n,1,Ee,!0),Q(r,2)):[]}),sd=fe(function(e,n){var r=cn(n);return Ee(r)&&(r=t),Ee(e)?er(e,Ne(n,1,Ee,!0),t,r):[]});function cd(e,n,r){var a=e==null?0:e.length;return a?(n=r||n===t?1:oe(n),sn(e,n<0?0:n,a)):[]}function _d(e,n,r){var a=e==null?0:e.length;return a?(n=r||n===t?1:oe(n),n=a-n,sn(e,0,n<0?0:n)):[]}function dd(e,n){return e&&e.length?Zr(e,Q(n,3),!0,!0):[]}function hd(e,n){return e&&e.length?Zr(e,Q(n,3),!0):[]}function pd(e,n,r,a){var c=e==null?0:e.length;return c?(r&&typeof r!="number"&&Ge(e,n,r)&&(r=0,a=c),a_(e,n,r,a)):[]}function ef(e,n,r){var a=e==null?0:e.length;if(!a)return-1;var c=r==null?0:oe(r);return c<0&&(c=Le(a+c,0)),Ir(e,Q(n,3),c)}function nf(e,n,r){var a=e==null?0:e.length;if(!a)return-1;var c=a-1;return r!==t&&(c=oe(r),c=r<0?Le(a+c,0):De(c,a-1)),Ir(e,Q(n,3),c,!0)}function tf(e){var n=e==null?0:e.length;return n?Ne(e,1):[]}function gd(e){var n=e==null?0:e.length;return n?Ne(e,qe):[]}function md(e,n){var r=e==null?0:e.length;return r?(n=n===t?1:oe(n),Ne(e,n)):[]}function vd(e){for(var n=-1,r=e==null?0:e.length,a={};++n<r;){var c=e[n];a[c[0]]=c[1]}return a}function rf(e){return e&&e.length?e[0]:t}function wd(e,n,r){var a=e==null?0:e.length;if(!a)return-1;var c=r==null?0:oe(r);return c<0&&(c=Le(a+c,0)),xt(e,n,c)}function yd(e){var n=e==null?0:e.length;return n?sn(e,0,-1):[]}var bd=fe(function(e){var n=Te(e,ho);return n.length&&n[0]===e[0]?ro(n):[]}),Ad=fe(function(e){var n=cn(e),r=Te(e,ho);return n===cn(r)?n=t:r.pop(),r.length&&r[0]===e[0]?ro(r,Q(n,2)):[]}),xd=fe(function(e){var n=cn(e),r=Te(e,ho);return n=typeof n=="function"?n:t,n&&r.pop(),r.length&&r[0]===e[0]?ro(r,t,n):[]});function Td(e,n){return e==null?"":yc.call(e,n)}function cn(e){var n=e==null?0:e.length;return n?e[n-1]:t}function Id(e,n,r){var a=e==null?0:e.length;if(!a)return-1;var c=a;return r!==t&&(c=oe(r),c=c<0?Le(a+c,0):De(c,a-1)),n===n?ic(e,n,c):Ir(e,Du,c,!0)}function Sd(e,n){return e&&e.length?ha(e,oe(n)):t}var Ed=fe(of);function of(e,n){return e&&e.length&&n&&n.length?ao(e,n):e}function Md(e,n,r){return e&&e.length&&n&&n.length?ao(e,n,Q(r,2)):e}function kd(e,n,r){return e&&e.length&&n&&n.length?ao(e,n,t,r):e}var Od=Xn(function(e,n){var r=e==null?0:e.length,a=ji(e,n);return ma(e,Te(n,function(c){return Kn(c,r)?+c:c}).sort(Ea)),a});function Rd(e,n){var r=[];if(!(e&&e.length))return r;var a=-1,c=[],g=e.length;for(n=Q(n,3);++a<g;){var y=e[a];n(y,a,e)&&(r.push(y),c.push(a))}return ma(e,c),r}function Mo(e){return e==null?e:Tc.call(e)}function Ld(e,n,r){var a=e==null?0:e.length;return a?(r&&typeof r!="number"&&Ge(e,n,r)?(n=0,r=a):(n=n==null?0:oe(n),r=r===t?a:oe(r)),sn(e,n,r)):[]}function Cd(e,n){return Kr(e,n)}function Pd(e,n,r){return so(e,n,Q(r,2))}function Bd(e,n){var r=e==null?0:e.length;if(r){var a=Kr(e,n);if(a<r&&An(e[a],n))return a}return-1}function Nd(e,n){return Kr(e,n,!0)}function Dd(e,n,r){return so(e,n,Q(r,2),!0)}function Fd(e,n){var r=e==null?0:e.length;if(r){var a=Kr(e,n,!0)-1;if(An(e[a],n))return a}return-1}function Wd(e){return e&&e.length?wa(e):[]}function Hd(e,n){return e&&e.length?wa(e,Q(n,2)):[]}function Gd(e){var n=e==null?0:e.length;return n?sn(e,1,n):[]}function Ud(e,n,r){return e&&e.length?(n=r||n===t?1:oe(n),sn(e,0,n<0?0:n)):[]}function qd(e,n,r){var a=e==null?0:e.length;return a?(n=r||n===t?1:oe(n),n=a-n,sn(e,n<0?0:n,a)):[]}function Xd(e,n){return e&&e.length?Zr(e,Q(n,3),!1,!0):[]}function Kd(e,n){return e&&e.length?Zr(e,Q(n,3)):[]}var Zd=fe(function(e){return rt(Ne(e,1,Ee,!0))}),Vd=fe(function(e){var n=cn(e);return Ee(n)&&(n=t),rt(Ne(e,1,Ee,!0),Q(n,2))}),Yd=fe(function(e){var n=cn(e);return n=typeof n=="function"?n:t,rt(Ne(e,1,Ee,!0),t,n)});function zd(e){return e&&e.length?rt(e):[]}function Qd(e,n){return e&&e.length?rt(e,Q(n,2)):[]}function Jd(e,n){return n=typeof n=="function"?n:t,e&&e.length?rt(e,t,n):[]}function ko(e){if(!(e&&e.length))return[];var n=0;return e=$n(e,function(r){if(Ee(r))return n=Le(r.length,n),!0}),Ki(n,function(r){return Te(e,Ui(r))})}function uf(e,n){if(!(e&&e.length))return[];var r=ko(e);return n==null?r:Te(r,function(a){return ze(n,t,a)})}var $d=fe(function(e,n){return Ee(e)?er(e,n):[]}),jd=fe(function(e){return _o($n(e,Ee))}),eh=fe(function(e){var n=cn(e);return Ee(n)&&(n=t),_o($n(e,Ee),Q(n,2))}),nh=fe(function(e){var n=cn(e);return n=typeof n=="function"?n:t,_o($n(e,Ee),t,n)}),th=fe(ko);function rh(e,n){return xa(e||[],n||[],jt)}function ih(e,n){return xa(e||[],n||[],rr)}var oh=fe(function(e){var n=e.length,r=n>1?e[n-1]:t;return r=typeof r=="function"?(e.pop(),r):t,uf(e,r)});function af(e){var n=h(e);return n.__chain__=!0,n}function uh(e,n){return n(e),e}function ni(e,n){return n(e)}var ah=Xn(function(e){var n=e.length,r=n?e[0]:0,a=this.__wrapped__,c=function(g){return ji(g,e)};return n>1||this.__actions__.length||!(a instanceof se)||!Kn(r)?this.thru(c):(a=a.slice(r,+r+(n?1:0)),a.__actions__.push({func:ni,args:[c],thisArg:t}),new fn(a,this.__chain__).thru(function(g){return n&&!g.length&&g.push(t),g}))});function fh(){return af(this)}function lh(){return new fn(this.value(),this.__chain__)}function sh(){this.__values__===t&&(this.__values__=bf(this.value()));var e=this.__index__>=this.__values__.length,n=e?t:this.__values__[this.__index__++];return{done:e,value:n}}function ch(){return this}function _h(e){for(var n,r=this;r instanceof Hr;){var a=ja(r);a.__index__=0,a.__values__=t,n?c.__wrapped__=a:n=a;var c=a;r=r.__wrapped__}return c.__wrapped__=e,n}function dh(){var e=this.__wrapped__;if(e instanceof se){var n=e;return this.__actions__.length&&(n=new se(this)),n=n.reverse(),n.__actions__.push({func:ni,args:[Mo],thisArg:t}),new fn(n,this.__chain__)}return this.thru(Mo)}function hh(){return Aa(this.__wrapped__,this.__actions__)}var ph=Vr(function(e,n,r){we.call(e,r)?++e[r]:Un(e,r,1)});function gh(e,n,r){var a=ie(e)?Bu:u_;return r&&Ge(e,n,r)&&(n=t),a(e,Q(n,3))}function mh(e,n){var r=ie(e)?$n:oa;return r(e,Q(n,3))}var vh=Ca(ef),wh=Ca(nf);function yh(e,n){return Ne(ti(e,n),1)}function bh(e,n){return Ne(ti(e,n),qe)}function Ah(e,n,r){return r=r===t?1:oe(r),Ne(ti(e,n),r)}function ff(e,n){var r=ie(e)?un:tt;return r(e,Q(n,3))}function lf(e,n){var r=ie(e)?Gs:ia;return r(e,Q(n,3))}var xh=Vr(function(e,n,r){we.call(e,r)?e[r].push(n):Un(e,r,[n])});function Th(e,n,r,a){e=Ke(e)?e:Bt(e),r=r&&!a?oe(r):0;var c=e.length;return r<0&&(r=Le(c+r,0)),ai(e)?r<=c&&e.indexOf(n,r)>-1:!!c&&xt(e,n,r)>-1}var Ih=fe(function(e,n,r){var a=-1,c=typeof n=="function",g=Ke(e)?k(e.length):[];return tt(e,function(y){g[++a]=c?ze(n,y,r):nr(y,n,r)}),g}),Sh=Vr(function(e,n,r){Un(e,r,n)});function ti(e,n){var r=ie(e)?Te:ca;return r(e,Q(n,3))}function Eh(e,n,r,a){return e==null?[]:(ie(n)||(n=n==null?[]:[n]),r=a?t:r,ie(r)||(r=r==null?[]:[r]),pa(e,n,r))}var Mh=Vr(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]});function kh(e,n,r){var a=ie(e)?Hi:Wu,c=arguments.length<3;return a(e,Q(n,4),r,c,tt)}function Oh(e,n,r){var a=ie(e)?Us:Wu,c=arguments.length<3;return a(e,Q(n,4),r,c,ia)}function Rh(e,n){var r=ie(e)?$n:oa;return r(e,oi(Q(n,3)))}function Lh(e){var n=ie(e)?ea:T_;return n(e)}function Ch(e,n,r){(r?Ge(e,n,r):n===t)?n=1:n=oe(n);var a=ie(e)?n_:I_;return a(e,n)}function Ph(e){var n=ie(e)?t_:E_;return n(e)}function Bh(e){if(e==null)return 0;if(Ke(e))return ai(e)?It(e):e.length;var n=Fe(e);return n==vn||n==wn?e.size:oo(e).length}function Nh(e,n,r){var a=ie(e)?Gi:M_;return r&&Ge(e,n,r)&&(n=t),a(e,Q(n,3))}var Dh=fe(function(e,n){if(e==null)return[];var r=n.length;return r>1&&Ge(e,n[0],n[1])?n=[]:r>2&&Ge(n[0],n[1],n[2])&&(n=[n[0]]),pa(e,Ne(n,1),[])}),ri=mc||function(){return Be.Date.now()};function Fh(e,n){if(typeof n!="function")throw new an(_);return e=oe(e),function(){if(--e<1)return n.apply(this,arguments)}}function sf(e,n,r){return n=r?t:n,n=e&&n==null?e.length:n,qn(e,J,t,t,t,t,n)}function cf(e,n){var r;if(typeof n!="function")throw new an(_);return e=oe(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=t),r}}var Oo=fe(function(e,n,r){var a=S;if(r.length){var c=et(r,Ct(Oo));a|=M}return qn(e,a,n,r,c)}),_f=fe(function(e,n,r){var a=S|A;if(r.length){var c=et(r,Ct(_f));a|=M}return qn(n,a,e,r,c)});function df(e,n,r){n=r?t:n;var a=qn(e,L,t,t,t,t,t,n);return a.placeholder=df.placeholder,a}function hf(e,n,r){n=r?t:n;var a=qn(e,C,t,t,t,t,t,n);return a.placeholder=hf.placeholder,a}function pf(e,n,r){var a,c,g,y,x,E,B=0,N=!1,D=!1,G=!0;if(typeof e!="function")throw new an(_);n=_n(n)||0,Ie(r)&&(N=!!r.leading,D="maxWait"in r,g=D?Le(_n(r.maxWait)||0,n):g,G="trailing"in r?!!r.trailing:G);function K(Me){var xn=a,Yn=c;return a=c=t,B=Me,y=e.apply(Yn,xn),y}function j(Me){return B=Me,x=ur(le,n),N?K(Me):y}function ae(Me){var xn=Me-E,Yn=Me-B,Pf=n-xn;return D?De(Pf,g-Yn):Pf}function ee(Me){var xn=Me-E,Yn=Me-B;return E===t||xn>=n||xn<0||D&&Yn>=g}function le(){var Me=ri();if(ee(Me))return _e(Me);x=ur(le,ae(Me))}function _e(Me){return x=t,G&&a?K(Me):(a=c=t,y)}function je(){x!==t&&Ta(x),B=0,a=E=c=x=t}function Ue(){return x===t?y:_e(ri())}function en(){var Me=ri(),xn=ee(Me);if(a=arguments,c=this,E=Me,xn){if(x===t)return j(E);if(D)return Ta(x),x=ur(le,n),K(E)}return x===t&&(x=ur(le,n)),y}return en.cancel=je,en.flush=Ue,en}var Wh=fe(function(e,n){return ra(e,1,n)}),Hh=fe(function(e,n,r){return ra(e,_n(n)||0,r)});function Gh(e){return qn(e,$)}function ii(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new an(_);var r=function(){var a=arguments,c=n?n.apply(this,a):a[0],g=r.cache;if(g.has(c))return g.get(c);var y=e.apply(this,a);return r.cache=g.set(c,y)||g,y};return r.cache=new(ii.Cache||Gn),r}ii.Cache=Gn;function oi(e){if(typeof e!="function")throw new an(_);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function Uh(e){return cf(2,e)}var qh=k_(function(e,n){n=n.length==1&&ie(n[0])?Te(n[0],Qe(Q())):Te(Ne(n,1),Qe(Q()));var r=n.length;return fe(function(a){for(var c=-1,g=De(a.length,r);++c<g;)a[c]=n[c].call(this,a[c]);return ze(e,this,a)})}),Ro=fe(function(e,n){var r=et(n,Ct(Ro));return qn(e,M,t,n,r)}),gf=fe(function(e,n){var r=et(n,Ct(gf));return qn(e,H,t,n,r)}),Xh=Xn(function(e,n){return qn(e,Y,t,t,t,n)});function Kh(e,n){if(typeof e!="function")throw new an(_);return n=n===t?n:oe(n),fe(e,n)}function Zh(e,n){if(typeof e!="function")throw new an(_);return n=n==null?0:Le(oe(n),0),fe(function(r){var a=r[n],c=ot(r,0,n);return a&&jn(c,a),ze(e,this,c)})}function Vh(e,n,r){var a=!0,c=!0;if(typeof e!="function")throw new an(_);return Ie(r)&&(a="leading"in r?!!r.leading:a,c="trailing"in r?!!r.trailing:c),pf(e,n,{leading:a,maxWait:n,trailing:c})}function Yh(e){return sf(e,1)}function zh(e,n){return Ro(po(n),e)}function Qh(){if(!arguments.length)return[];var e=arguments[0];return ie(e)?e:[e]}function Jh(e){return ln(e,d)}function $h(e,n){return n=typeof n=="function"?n:t,ln(e,d,n)}function jh(e){return ln(e,i|d)}function e0(e,n){return n=typeof n=="function"?n:t,ln(e,i|d,n)}function n0(e,n){return n==null||ta(e,n,Pe(n))}function An(e,n){return e===n||e!==e&&n!==n}var t0=Jr(to),r0=Jr(function(e,n){return e>=n}),pt=fa(function(){return arguments}())?fa:function(e){return Se(e)&&we.call(e,"callee")&&!Yu.call(e,"callee")},ie=k.isArray,i0=ku?Qe(ku):__;function Ke(e){return e!=null&&ui(e.length)&&!Zn(e)}function Ee(e){return Se(e)&&Ke(e)}function o0(e){return e===!0||e===!1||Se(e)&&He(e)==Ht}var ut=wc||Uo,u0=Ou?Qe(Ou):d_;function a0(e){return Se(e)&&e.nodeType===1&&!ar(e)}function f0(e){if(e==null)return!0;if(Ke(e)&&(ie(e)||typeof e=="string"||typeof e.splice=="function"||ut(e)||Pt(e)||pt(e)))return!e.length;var n=Fe(e);if(n==vn||n==wn)return!e.size;if(or(e))return!oo(e).length;for(var r in e)if(we.call(e,r))return!1;return!0}function l0(e,n){return tr(e,n)}function s0(e,n,r){r=typeof r=="function"?r:t;var a=r?r(e,n):t;return a===t?tr(e,n,t,r):!!a}function Lo(e){if(!Se(e))return!1;var n=He(e);return n==vr||n==Cl||typeof e.message=="string"&&typeof e.name=="string"&&!ar(e)}function c0(e){return typeof e=="number"&&Qu(e)}function Zn(e){if(!Ie(e))return!1;var n=He(e);return n==wr||n==ru||n==Ll||n==Bl}function mf(e){return typeof e=="number"&&e==oe(e)}function ui(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=We}function Ie(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Se(e){return e!=null&&typeof e=="object"}var vf=Ru?Qe(Ru):p_;function _0(e,n){return e===n||io(e,n,Ao(n))}function d0(e,n,r){return r=typeof r=="function"?r:t,io(e,n,Ao(n),r)}function h0(e){return wf(e)&&e!=+e}function p0(e){if($_(e))throw new te(p);return la(e)}function g0(e){return e===null}function m0(e){return e==null}function wf(e){return typeof e=="number"||Se(e)&&He(e)==Ut}function ar(e){if(!Se(e)||He(e)!=Wn)return!1;var n=Cr(e);if(n===null)return!0;var r=we.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&kr.call(r)==dc}var Co=Lu?Qe(Lu):g_;function v0(e){return mf(e)&&e>=-We&&e<=We}var yf=Cu?Qe(Cu):m_;function ai(e){return typeof e=="string"||!ie(e)&&Se(e)&&He(e)==Xt}function $e(e){return typeof e=="symbol"||Se(e)&&He(e)==yr}var Pt=Pu?Qe(Pu):v_;function w0(e){return e===t}function y0(e){return Se(e)&&Fe(e)==Kt}function b0(e){return Se(e)&&He(e)==Dl}var A0=Jr(uo),x0=Jr(function(e,n){return e<=n});function bf(e){if(!e)return[];if(Ke(e))return ai(e)?yn(e):Xe(e);if(Yt&&e[Yt])return nc(e[Yt]());var n=Fe(e),r=n==vn?Vi:n==wn?Sr:Bt;return r(e)}function Vn(e){if(!e)return e===0?e:0;if(e=_n(e),e===qe||e===-qe){var n=e<0?-1:1;return n*re}return e===e?e:0}function oe(e){var n=Vn(e),r=n%1;return n===n?r?n-r:n:0}function Af(e){return e?ct(oe(e),0,On):0}function _n(e){if(typeof e=="number")return e;if($e(e))return gr;if(Ie(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ie(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Hu(e);var r=is.test(e);return r||us.test(e)?Fs(e.slice(2),r?2:8):rs.test(e)?gr:+e}function xf(e){return Ln(e,Ze(e))}function T0(e){return e?ct(oe(e),-We,We):e===0?e:0}function me(e){return e==null?"":Je(e)}var I0=Rt(function(e,n){if(or(n)||Ke(n)){Ln(n,Pe(n),e);return}for(var r in n)we.call(n,r)&&jt(e,r,n[r])}),Tf=Rt(function(e,n){Ln(n,Ze(n),e)}),fi=Rt(function(e,n,r,a){Ln(n,Ze(n),e,a)}),S0=Rt(function(e,n,r,a){Ln(n,Pe(n),e,a)}),E0=Xn(ji);function M0(e,n){var r=Ot(e);return n==null?r:na(r,n)}var k0=fe(function(e,n){e=ye(e);var r=-1,a=n.length,c=a>2?n[2]:t;for(c&&Ge(n[0],n[1],c)&&(a=1);++r<a;)for(var g=n[r],y=Ze(g),x=-1,E=y.length;++x<E;){var B=y[x],N=e[B];(N===t||An(N,Et[B])&&!we.call(e,B))&&(e[B]=g[B])}return e}),O0=fe(function(e){return e.push(t,Ha),ze(If,t,e)});function R0(e,n){return Nu(e,Q(n,3),Rn)}function L0(e,n){return Nu(e,Q(n,3),no)}function C0(e,n){return e==null?e:eo(e,Q(n,3),Ze)}function P0(e,n){return e==null?e:ua(e,Q(n,3),Ze)}function B0(e,n){return e&&Rn(e,Q(n,3))}function N0(e,n){return e&&no(e,Q(n,3))}function D0(e){return e==null?[]:qr(e,Pe(e))}function F0(e){return e==null?[]:qr(e,Ze(e))}function Po(e,n,r){var a=e==null?t:_t(e,n);return a===t?r:a}function W0(e,n){return e!=null&&qa(e,n,f_)}function Bo(e,n){return e!=null&&qa(e,n,l_)}var H0=Ba(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=Or.call(n)),e[n]=r},Do(Ve)),G0=Ba(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=Or.call(n)),we.call(e,n)?e[n].push(r):e[n]=[r]},Q),U0=fe(nr);function Pe(e){return Ke(e)?ju(e):oo(e)}function Ze(e){return Ke(e)?ju(e,!0):w_(e)}function q0(e,n){var r={};return n=Q(n,3),Rn(e,function(a,c,g){Un(r,n(a,c,g),a)}),r}function X0(e,n){var r={};return n=Q(n,3),Rn(e,function(a,c,g){Un(r,c,n(a,c,g))}),r}var K0=Rt(function(e,n,r){Xr(e,n,r)}),If=Rt(function(e,n,r,a){Xr(e,n,r,a)}),Z0=Xn(function(e,n){var r={};if(e==null)return r;var a=!1;n=Te(n,function(g){return g=it(g,e),a||(a=g.length>1),g}),Ln(e,yo(e),r),a&&(r=ln(r,i|l|d,H_));for(var c=n.length;c--;)co(r,n[c]);return r});function V0(e,n){return Sf(e,oi(Q(n)))}var Y0=Xn(function(e,n){return e==null?{}:b_(e,n)});function Sf(e,n){if(e==null)return{};var r=Te(yo(e),function(a){return[a]});return n=Q(n),ga(e,r,function(a,c){return n(a,c[0])})}function z0(e,n,r){n=it(n,e);var a=-1,c=n.length;for(c||(c=1,e=t);++a<c;){var g=e==null?t:e[Cn(n[a])];g===t&&(a=c,g=r),e=Zn(g)?g.call(e):g}return e}function Q0(e,n,r){return e==null?e:rr(e,n,r)}function J0(e,n,r,a){return a=typeof a=="function"?a:t,e==null?e:rr(e,n,r,a)}var Ef=Fa(Pe),Mf=Fa(Ze);function $0(e,n,r){var a=ie(e),c=a||ut(e)||Pt(e);if(n=Q(n,4),r==null){var g=e&&e.constructor;c?r=a?new g:[]:Ie(e)?r=Zn(g)?Ot(Cr(e)):{}:r={}}return(c?un:Rn)(e,function(y,x,E){return n(r,y,x,E)}),r}function j0(e,n){return e==null?!0:co(e,n)}function ep(e,n,r){return e==null?e:ba(e,n,po(r))}function np(e,n,r,a){return a=typeof a=="function"?a:t,e==null?e:ba(e,n,po(r),a)}function Bt(e){return e==null?[]:Zi(e,Pe(e))}function tp(e){return e==null?[]:Zi(e,Ze(e))}function rp(e,n,r){return r===t&&(r=n,n=t),r!==t&&(r=_n(r),r=r===r?r:0),n!==t&&(n=_n(n),n=n===n?n:0),ct(_n(e),n,r)}function ip(e,n,r){return n=Vn(n),r===t?(r=n,n=0):r=Vn(r),e=_n(e),s_(e,n,r)}function op(e,n,r){if(r&&typeof r!="boolean"&&Ge(e,n,r)&&(n=r=t),r===t&&(typeof n=="boolean"?(r=n,n=t):typeof e=="boolean"&&(r=e,e=t)),e===t&&n===t?(e=0,n=1):(e=Vn(e),n===t?(n=e,e=0):n=Vn(n)),e>n){var a=e;e=n,n=a}if(r||e%1||n%1){var c=Ju();return De(e+c*(n-e+Ds("1e-"+((c+"").length-1))),n)}return fo(e,n)}var up=Lt(function(e,n,r){return n=n.toLowerCase(),e+(r?kf(n):n)});function kf(e){return No(me(e).toLowerCase())}function Of(e){return e=me(e),e&&e.replace(fs,Qs).replace(Es,"")}function ap(e,n,r){e=me(e),n=Je(n);var a=e.length;r=r===t?a:ct(oe(r),0,a);var c=r;return r-=n.length,r>=0&&e.slice(r,c)==n}function fp(e){return e=me(e),e&&Ul.test(e)?e.replace(uu,Js):e}function lp(e){return e=me(e),e&&Yl.test(e)?e.replace(Oi,"\\$&"):e}var sp=Lt(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),cp=Lt(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),_p=La("toLowerCase");function dp(e,n,r){e=me(e),n=oe(n);var a=n?It(e):0;if(!n||a>=n)return e;var c=(n-a)/2;return Qr(Dr(c),r)+e+Qr(Nr(c),r)}function hp(e,n,r){e=me(e),n=oe(n);var a=n?It(e):0;return n&&a<n?e+Qr(n-a,r):e}function pp(e,n,r){e=me(e),n=oe(n);var a=n?It(e):0;return n&&a<n?Qr(n-a,r)+e:e}function gp(e,n,r){return r||n==null?n=0:n&&(n=+n),xc(me(e).replace(Ri,""),n||0)}function mp(e,n,r){return(r?Ge(e,n,r):n===t)?n=1:n=oe(n),lo(me(e),n)}function vp(){var e=arguments,n=me(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var wp=Lt(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()});function yp(e,n,r){return r&&typeof r!="number"&&Ge(e,n,r)&&(n=r=t),r=r===t?On:r>>>0,r?(e=me(e),e&&(typeof n=="string"||n!=null&&!Co(n))&&(n=Je(n),!n&&Tt(e))?ot(yn(e),0,r):e.split(n,r)):[]}var bp=Lt(function(e,n,r){return e+(r?" ":"")+No(n)});function Ap(e,n,r){return e=me(e),r=r==null?0:ct(oe(r),0,e.length),n=Je(n),e.slice(r,r+n.length)==n}function xp(e,n,r){var a=h.templateSettings;r&&Ge(e,n,r)&&(n=t),e=me(e),n=fi({},n,a,Wa);var c=fi({},n.imports,a.imports,Wa),g=Pe(c),y=Zi(c,g),x,E,B=0,N=n.interpolate||br,D="__p += '",G=Yi((n.escape||br).source+"|"+N.source+"|"+(N===au?ts:br).source+"|"+(n.evaluate||br).source+"|$","g"),K="//# sourceURL="+(we.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ls+"]")+`
`;e.replace(G,function(ee,le,_e,je,Ue,en){return _e||(_e=je),D+=e.slice(B,en).replace(ls,$s),le&&(x=!0,D+=`' +
__e(`+le+`) +
'`),Ue&&(E=!0,D+=`';
`+Ue+`;
__p += '`),_e&&(D+=`' +
((__t = (`+_e+`)) == null ? '' : __t) +
'`),B=en+ee.length,ee}),D+=`';
`;var j=we.call(n,"variable")&&n.variable;if(!j)D=`with (obj) {
`+D+`
}
`;else if(es.test(j))throw new te(m);D=(E?D.replace(Fl,""):D).replace(Wl,"$1").replace(Hl,"$1;"),D="function("+(j||"obj")+`) {
`+(j?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+D+`return __p
}`;var ae=Lf(function(){return ge(g,K+"return "+D).apply(t,y)});if(ae.source=D,Lo(ae))throw ae;return ae}function Tp(e){return me(e).toLowerCase()}function Ip(e){return me(e).toUpperCase()}function Sp(e,n,r){if(e=me(e),e&&(r||n===t))return Hu(e);if(!e||!(n=Je(n)))return e;var a=yn(e),c=yn(n),g=Gu(a,c),y=Uu(a,c)+1;return ot(a,g,y).join("")}function Ep(e,n,r){if(e=me(e),e&&(r||n===t))return e.slice(0,Xu(e)+1);if(!e||!(n=Je(n)))return e;var a=yn(e),c=Uu(a,yn(n))+1;return ot(a,0,c).join("")}function Mp(e,n,r){if(e=me(e),e&&(r||n===t))return e.replace(Ri,"");if(!e||!(n=Je(n)))return e;var a=yn(e),c=Gu(a,yn(n));return ot(a,c).join("")}function kp(e,n){var r=be,a=q;if(Ie(n)){var c="separator"in n?n.separator:c;r="length"in n?oe(n.length):r,a="omission"in n?Je(n.omission):a}e=me(e);var g=e.length;if(Tt(e)){var y=yn(e);g=y.length}if(r>=g)return e;var x=r-It(a);if(x<1)return a;var E=y?ot(y,0,x).join(""):e.slice(0,x);if(c===t)return E+a;if(y&&(x+=E.length-x),Co(c)){if(e.slice(x).search(c)){var B,N=E;for(c.global||(c=Yi(c.source,me(fu.exec(c))+"g")),c.lastIndex=0;B=c.exec(N);)var D=B.index;E=E.slice(0,D===t?x:D)}}else if(e.indexOf(Je(c),x)!=x){var G=E.lastIndexOf(c);G>-1&&(E=E.slice(0,G))}return E+a}function Op(e){return e=me(e),e&&Gl.test(e)?e.replace(ou,oc):e}var Rp=Lt(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),No=La("toUpperCase");function Rf(e,n,r){return e=me(e),n=r?t:n,n===t?ec(e)?fc(e):Ks(e):e.match(n)||[]}var Lf=fe(function(e,n){try{return ze(e,t,n)}catch(r){return Lo(r)?r:new te(r)}}),Lp=Xn(function(e,n){return un(n,function(r){r=Cn(r),Un(e,r,Oo(e[r],e))}),e});function Cp(e){var n=e==null?0:e.length,r=Q();return e=n?Te(e,function(a){if(typeof a[1]!="function")throw new an(_);return[r(a[0]),a[1]]}):[],fe(function(a){for(var c=-1;++c<n;){var g=e[c];if(ze(g[0],this,a))return ze(g[1],this,a)}})}function Pp(e){return o_(ln(e,i))}function Do(e){return function(){return e}}function Bp(e,n){return e==null||e!==e?n:e}var Np=Pa(),Dp=Pa(!0);function Ve(e){return e}function Fo(e){return sa(typeof e=="function"?e:ln(e,i))}function Fp(e){return _a(ln(e,i))}function Wp(e,n){return da(e,ln(n,i))}var Hp=fe(function(e,n){return function(r){return nr(r,e,n)}}),Gp=fe(function(e,n){return function(r){return nr(e,r,n)}});function Wo(e,n,r){var a=Pe(n),c=qr(n,a);r==null&&!(Ie(n)&&(c.length||!a.length))&&(r=n,n=e,e=this,c=qr(n,Pe(n)));var g=!(Ie(r)&&"chain"in r)||!!r.chain,y=Zn(e);return un(c,function(x){var E=n[x];e[x]=E,y&&(e.prototype[x]=function(){var B=this.__chain__;if(g||B){var N=e(this.__wrapped__),D=N.__actions__=Xe(this.__actions__);return D.push({func:E,args:arguments,thisArg:e}),N.__chain__=B,N}return E.apply(e,jn([this.value()],arguments))})}),e}function Up(){return Be._===this&&(Be._=hc),this}function Ho(){}function qp(e){return e=oe(e),fe(function(n){return ha(n,e)})}var Xp=mo(Te),Kp=mo(Bu),Zp=mo(Gi);function Cf(e){return To(e)?Ui(Cn(e)):A_(e)}function Vp(e){return function(n){return e==null?t:_t(e,n)}}var Yp=Na(),zp=Na(!0);function Go(){return[]}function Uo(){return!1}function Qp(){return{}}function Jp(){return""}function $p(){return!0}function jp(e,n){if(e=oe(e),e<1||e>We)return[];var r=On,a=De(e,On);n=Q(n),e-=On;for(var c=Ki(a,n);++r<e;)n(r);return c}function eg(e){return ie(e)?Te(e,Cn):$e(e)?[e]:Xe($a(me(e)))}function ng(e){var n=++_c;return me(e)+n}var tg=zr(function(e,n){return e+n},0),rg=vo("ceil"),ig=zr(function(e,n){return e/n},1),og=vo("floor");function ug(e){return e&&e.length?Ur(e,Ve,to):t}function ag(e,n){return e&&e.length?Ur(e,Q(n,2),to):t}function fg(e){return Fu(e,Ve)}function lg(e,n){return Fu(e,Q(n,2))}function sg(e){return e&&e.length?Ur(e,Ve,uo):t}function cg(e,n){return e&&e.length?Ur(e,Q(n,2),uo):t}var _g=zr(function(e,n){return e*n},1),dg=vo("round"),hg=zr(function(e,n){return e-n},0);function pg(e){return e&&e.length?Xi(e,Ve):0}function gg(e,n){return e&&e.length?Xi(e,Q(n,2)):0}return h.after=Fh,h.ary=sf,h.assign=I0,h.assignIn=Tf,h.assignInWith=fi,h.assignWith=S0,h.at=E0,h.before=cf,h.bind=Oo,h.bindAll=Lp,h.bindKey=_f,h.castArray=Qh,h.chain=af,h.chunk=od,h.compact=ud,h.concat=ad,h.cond=Cp,h.conforms=Pp,h.constant=Do,h.countBy=ph,h.create=M0,h.curry=df,h.curryRight=hf,h.debounce=pf,h.defaults=k0,h.defaultsDeep=O0,h.defer=Wh,h.delay=Hh,h.difference=fd,h.differenceBy=ld,h.differenceWith=sd,h.drop=cd,h.dropRight=_d,h.dropRightWhile=dd,h.dropWhile=hd,h.fill=pd,h.filter=mh,h.flatMap=yh,h.flatMapDeep=bh,h.flatMapDepth=Ah,h.flatten=tf,h.flattenDeep=gd,h.flattenDepth=md,h.flip=Gh,h.flow=Np,h.flowRight=Dp,h.fromPairs=vd,h.functions=D0,h.functionsIn=F0,h.groupBy=xh,h.initial=yd,h.intersection=bd,h.intersectionBy=Ad,h.intersectionWith=xd,h.invert=H0,h.invertBy=G0,h.invokeMap=Ih,h.iteratee=Fo,h.keyBy=Sh,h.keys=Pe,h.keysIn=Ze,h.map=ti,h.mapKeys=q0,h.mapValues=X0,h.matches=Fp,h.matchesProperty=Wp,h.memoize=ii,h.merge=K0,h.mergeWith=If,h.method=Hp,h.methodOf=Gp,h.mixin=Wo,h.negate=oi,h.nthArg=qp,h.omit=Z0,h.omitBy=V0,h.once=Uh,h.orderBy=Eh,h.over=Xp,h.overArgs=qh,h.overEvery=Kp,h.overSome=Zp,h.partial=Ro,h.partialRight=gf,h.partition=Mh,h.pick=Y0,h.pickBy=Sf,h.property=Cf,h.propertyOf=Vp,h.pull=Ed,h.pullAll=of,h.pullAllBy=Md,h.pullAllWith=kd,h.pullAt=Od,h.range=Yp,h.rangeRight=zp,h.rearg=Xh,h.reject=Rh,h.remove=Rd,h.rest=Kh,h.reverse=Mo,h.sampleSize=Ch,h.set=Q0,h.setWith=J0,h.shuffle=Ph,h.slice=Ld,h.sortBy=Dh,h.sortedUniq=Wd,h.sortedUniqBy=Hd,h.split=yp,h.spread=Zh,h.tail=Gd,h.take=Ud,h.takeRight=qd,h.takeRightWhile=Xd,h.takeWhile=Kd,h.tap=uh,h.throttle=Vh,h.thru=ni,h.toArray=bf,h.toPairs=Ef,h.toPairsIn=Mf,h.toPath=eg,h.toPlainObject=xf,h.transform=$0,h.unary=Yh,h.union=Zd,h.unionBy=Vd,h.unionWith=Yd,h.uniq=zd,h.uniqBy=Qd,h.uniqWith=Jd,h.unset=j0,h.unzip=ko,h.unzipWith=uf,h.update=ep,h.updateWith=np,h.values=Bt,h.valuesIn=tp,h.without=$d,h.words=Rf,h.wrap=zh,h.xor=jd,h.xorBy=eh,h.xorWith=nh,h.zip=th,h.zipObject=rh,h.zipObjectDeep=ih,h.zipWith=oh,h.entries=Ef,h.entriesIn=Mf,h.extend=Tf,h.extendWith=fi,Wo(h,h),h.add=tg,h.attempt=Lf,h.camelCase=up,h.capitalize=kf,h.ceil=rg,h.clamp=rp,h.clone=Jh,h.cloneDeep=jh,h.cloneDeepWith=e0,h.cloneWith=$h,h.conformsTo=n0,h.deburr=Of,h.defaultTo=Bp,h.divide=ig,h.endsWith=ap,h.eq=An,h.escape=fp,h.escapeRegExp=lp,h.every=gh,h.find=vh,h.findIndex=ef,h.findKey=R0,h.findLast=wh,h.findLastIndex=nf,h.findLastKey=L0,h.floor=og,h.forEach=ff,h.forEachRight=lf,h.forIn=C0,h.forInRight=P0,h.forOwn=B0,h.forOwnRight=N0,h.get=Po,h.gt=t0,h.gte=r0,h.has=W0,h.hasIn=Bo,h.head=rf,h.identity=Ve,h.includes=Th,h.indexOf=wd,h.inRange=ip,h.invoke=U0,h.isArguments=pt,h.isArray=ie,h.isArrayBuffer=i0,h.isArrayLike=Ke,h.isArrayLikeObject=Ee,h.isBoolean=o0,h.isBuffer=ut,h.isDate=u0,h.isElement=a0,h.isEmpty=f0,h.isEqual=l0,h.isEqualWith=s0,h.isError=Lo,h.isFinite=c0,h.isFunction=Zn,h.isInteger=mf,h.isLength=ui,h.isMap=vf,h.isMatch=_0,h.isMatchWith=d0,h.isNaN=h0,h.isNative=p0,h.isNil=m0,h.isNull=g0,h.isNumber=wf,h.isObject=Ie,h.isObjectLike=Se,h.isPlainObject=ar,h.isRegExp=Co,h.isSafeInteger=v0,h.isSet=yf,h.isString=ai,h.isSymbol=$e,h.isTypedArray=Pt,h.isUndefined=w0,h.isWeakMap=y0,h.isWeakSet=b0,h.join=Td,h.kebabCase=sp,h.last=cn,h.lastIndexOf=Id,h.lowerCase=cp,h.lowerFirst=_p,h.lt=A0,h.lte=x0,h.max=ug,h.maxBy=ag,h.mean=fg,h.meanBy=lg,h.min=sg,h.minBy=cg,h.stubArray=Go,h.stubFalse=Uo,h.stubObject=Qp,h.stubString=Jp,h.stubTrue=$p,h.multiply=_g,h.nth=Sd,h.noConflict=Up,h.noop=Ho,h.now=ri,h.pad=dp,h.padEnd=hp,h.padStart=pp,h.parseInt=gp,h.random=op,h.reduce=kh,h.reduceRight=Oh,h.repeat=mp,h.replace=vp,h.result=z0,h.round=dg,h.runInContext=I,h.sample=Lh,h.size=Bh,h.snakeCase=wp,h.some=Nh,h.sortedIndex=Cd,h.sortedIndexBy=Pd,h.sortedIndexOf=Bd,h.sortedLastIndex=Nd,h.sortedLastIndexBy=Dd,h.sortedLastIndexOf=Fd,h.startCase=bp,h.startsWith=Ap,h.subtract=hg,h.sum=pg,h.sumBy=gg,h.template=xp,h.times=jp,h.toFinite=Vn,h.toInteger=oe,h.toLength=Af,h.toLower=Tp,h.toNumber=_n,h.toSafeInteger=T0,h.toString=me,h.toUpper=Ip,h.trim=Sp,h.trimEnd=Ep,h.trimStart=Mp,h.truncate=kp,h.unescape=Op,h.uniqueId=ng,h.upperCase=Rp,h.upperFirst=No,h.each=ff,h.eachRight=lf,h.first=rf,Wo(h,function(){var e={};return Rn(h,function(n,r){we.call(h.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),h.VERSION=f,un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),un(["drop","take"],function(e,n){se.prototype[e]=function(r){r=r===t?1:Le(oe(r),0);var a=this.__filtered__&&!n?new se(this):this.clone();return a.__filtered__?a.__takeCount__=De(r,a.__takeCount__):a.__views__.push({size:De(r,On),type:e+(a.__dir__<0?"Right":"")}),a},se.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),un(["filter","map","takeWhile"],function(e,n){var r=n+1,a=r==z||r==mn;se.prototype[e]=function(c){var g=this.clone();return g.__iteratees__.push({iteratee:Q(c,3),type:r}),g.__filtered__=g.__filtered__||a,g}}),un(["head","last"],function(e,n){var r="take"+(n?"Right":"");se.prototype[e]=function(){return this[r](1).value()[0]}}),un(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");se.prototype[e]=function(){return this.__filtered__?new se(this):this[r](1)}}),se.prototype.compact=function(){return this.filter(Ve)},se.prototype.find=function(e){return this.filter(e).head()},se.prototype.findLast=function(e){return this.reverse().find(e)},se.prototype.invokeMap=fe(function(e,n){return typeof e=="function"?new se(this):this.map(function(r){return nr(r,e,n)})}),se.prototype.reject=function(e){return this.filter(oi(Q(e)))},se.prototype.slice=function(e,n){e=oe(e);var r=this;return r.__filtered__&&(e>0||n<0)?new se(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==t&&(n=oe(n),r=n<0?r.dropRight(-n):r.take(n-e)),r)},se.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},se.prototype.toArray=function(){return this.take(On)},Rn(se.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),c=h[a?"take"+(n=="last"?"Right":""):n],g=a||/^find/.test(n);c&&(h.prototype[n]=function(){var y=this.__wrapped__,x=a?[1]:arguments,E=y instanceof se,B=x[0],N=E||ie(y),D=function(le){var _e=c.apply(h,jn([le],x));return a&&G?_e[0]:_e};N&&r&&typeof B=="function"&&B.length!=1&&(E=N=!1);var G=this.__chain__,K=!!this.__actions__.length,j=g&&!G,ae=E&&!K;if(!g&&N){y=ae?y:new se(this);var ee=e.apply(y,x);return ee.__actions__.push({func:ni,args:[D],thisArg:t}),new fn(ee,G)}return j&&ae?e.apply(this,x):(ee=this.thru(D),j?a?ee.value()[0]:ee.value():ee)})}),un(["pop","push","shift","sort","splice","unshift"],function(e){var n=Er[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var c=arguments;if(a&&!this.__chain__){var g=this.value();return n.apply(ie(g)?g:[],c)}return this[r](function(y){return n.apply(ie(y)?y:[],c)})}}),Rn(se.prototype,function(e,n){var r=h[n];if(r){var a=r.name+"";we.call(kt,a)||(kt[a]=[]),kt[a].push({name:n,func:r})}}),kt[Yr(t,A).name]=[{name:"wrapper",func:t}],se.prototype.clone=Oc,se.prototype.reverse=Rc,se.prototype.value=Lc,h.prototype.at=ah,h.prototype.chain=fh,h.prototype.commit=lh,h.prototype.next=sh,h.prototype.plant=_h,h.prototype.reverse=dh,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=hh,h.prototype.first=h.prototype.head,Yt&&(h.prototype[Yt]=ch),h},St=lc();at?((at.exports=St)._=St,Di._=St):Be._=St}).call(Pn)})(qm,yi);const Xm=yi;function Km(o){let u;return{c(){u=Z("div"),this.h()},l(t){u=V(t,"DIV",{class:!0}),ce(u).forEach(W),this.h()},h(){F(u,"class","svelte-4hm2fr"),Sn(u,"playing",o[6][o[3]]&&o[5]>=o[0]&&o[5]>=o[7]),Sn(u,"played",o[0]<o[5]+o[4]*o[8]),Bn(u,"left",`${o[1]}px`),Bn(u,"--color",o[2])},m(t,f){he(t,u,f)},p(t,[f]){f&233&&Sn(u,"playing",t[6][t[3]]&&t[5]>=t[0]&&t[5]>=t[7]),f&305&&Sn(u,"played",t[0]<t[5]+t[4]*t[8]),f&2&&Bn(u,"left",`${t[1]}px`),f&4&&Bn(u,"--color",t[2])},i:pn,o:pn,d(t){t&&W(u)}}}function Zm(o,u,t){let f,s,p,_,m,{instrumentId:w}=u,{noteData:v}=u,{x:O}=u,{color:i}=u,{shape:l}=u,{i:d}=u;const{beatsPerMeasure:b,getCurrentBeat:T,getCurrentMeasure:S,getInstrumentToggles:A,getData:R}=$o("song"),L=T();Ce(o,L,H=>t(5,_=H));const C=S();Ce(o,C,H=>t(4,p=H)),A();const M=R();return Ce(o,M,H=>t(14,m=H)),o.$$set=H=>{"instrumentId"in H&&t(12,w=H.instrumentId),"noteData"in H&&t(0,v=H.noteData),"x"in H&&t(1,O=H.x),"color"in H&&t(2,i=H.color),"shape"in H&&t(13,l=H.shape),"i"in H&&t(3,d=H.i)},o.$$.update=()=>{o.$$.dirty&20480&&t(7,f=m[w][0]),o.$$.dirty&20528&&t(6,s=m[w].map((H,J)=>{const Y=m[w].map(q=>{const de=_+p*b;return Math.abs(q-de)}),$=Math.min(...Y);return Y.indexOf($)===J}))},[v,O,i,d,p,_,s,f,b,L,C,M,w,l,m]}class Vm extends En{constructor(u){super(),Mn(this,u,Zm,Km,kn,{instrumentId:12,noteData:0,x:1,color:2,shape:13,i:3})}}function il(o,u,t){const f=o.slice();f[24]=u[t],f[29]=t;const s=Math.floor(f[24]/f[6]);f[25]=s;const p=f[5](f[24]%f[6]);f[26]=p;const _=f[29]+1<f[0].length&&f[0][f[29]+1]%f[6]>f[24]%f[6]?f[0][f[29]+1]%f[6]:f[5].domain()[1];return f[27]=_,f}function ol(o){let u,t;return u=new Vm({props:{instrumentId:o[1],noteData:o[24],x:o[26],color:o[3],shape:o[2],i:o[29]}}),{c(){nn(u.$$.fragment)},l(f){gn(u.$$.fragment,f)},m(f,s){tn(u,f,s),t=!0},p(f,s){const p={};s&2&&(p.instrumentId=f[1]),s&1&&(p.noteData=f[24]),s&33&&(p.x=f[26]),s&8&&(p.color=f[3]),s&4&&(p.shape=f[2]),u.$set(p)},i(f){t||(ue(u.$$.fragment,f),t=!0)},o(f){pe(u.$$.fragment,f),t=!1},d(f){rn(u,f)}}}function Ym(o){let u,t,f,s,p,_=o[0],m=[];for(let v=0;v<_.length;v+=1)m[v]=ol(il(o,_,v));const w=v=>pe(m[v],1,1,()=>{m[v]=null});return{c(){u=Z("div"),t=Z("div");for(let v=0;v<m.length;v+=1)m[v].c();this.h()},l(v){u=V(v,"DIV",{class:!0});var O=ce(u);t=V(O,"DIV",{class:!0});var i=ce(t);for(let l=0;l<m.length;l+=1)m[l].l(i);i.forEach(W),O.forEach(W),this.h()},h(){F(t,"class","notes"),F(u,"class","instrument svelte-dhpe3w"),Sn(u,"muted",o[4][o[1]]==="off")},m(v,O){he(v,u,O),X(u,t);for(let i=0;i<m.length;i+=1)m[i].m(t,null);f=!0,s||(p=[dn(u,"click",o[13]),dn(u,"keydown",o[14])],s=!0)},p(v,[O]){if(O&111){_=v[0];let i;for(i=0;i<_.length;i+=1){const l=il(v,_,i);m[i]?(m[i].p(l,O),ue(m[i],1)):(m[i]=ol(l),m[i].c(),ue(m[i],1),m[i].m(t,null))}for(Nn(),i=_.length;i<m.length;i+=1)w(i);Dn()}(!f||O&18)&&Sn(u,"muted",v[4][v[1]]==="off")},i(v){if(!f){for(let O=0;O<_.length;O+=1)ue(m[O]);f=!0}},o(v){m=m.filter(Boolean);for(let O=0;O<m.length;O+=1)pe(m[O]);f=!1},d(v){v&&W(u),wt(m,v),s=!1,hr(p)}}}function zm(o,u,t){let f,s,p,_,{data:m}=u,{id:w}=u,{shape:v="circle"}=u,{color:O="orange"}=u;const{songId:i,beatsPerMeasure:l,getCurrentMeasure:d,getXScale:b,getInstrumentToggles:T,isPlayable:S,getIsPlaying:A}=$o("song"),R=b();Ce(o,R,Y=>t(5,_=Y)),d();const L=T();Ce(o,L,Y=>t(4,p=Y));const C=A();Ce(o,C,Y=>t(12,s=Y));const M=Y=>{Tn(L,p[Y]=p[Y]==="on"?"off":"on",p)},H=()=>M(w),J=()=>M(w);return o.$$set=Y=>{"data"in Y&&t(0,m=Y.data),"id"in Y&&t(1,w=Y.id),"shape"in Y&&t(2,v=Y.shape),"color"in Y&&t(3,O=Y.color)},o.$$.update=()=>{o.$$.dirty&2049&&(S?fr(0,l):Wm(m,f).filter(Y=>Y<l)),o.$$.dirty&4096},t(11,f=i==="dmat"?.25:.5),[m,w,v,O,p,_,l,R,L,C,M,f,s,H,J]}class Qm extends En{constructor(u){super(),Mn(this,u,zm,Ym,kn,{data:0,id:1,shape:2,color:3})}}function ul(o){let u,t,f;var s=o[3];function p(_){return{props:{size:_[0],color:_[1],strokeWidth:_[2]}}}return s&&(t=Bf(s,p(o))),{c(){u=Z("span"),t&&nn(t.$$.fragment),this.h()},l(_){u=V(_,"SPAN",{class:!0,style:!0});var m=ce(u);t&&gn(t.$$.fragment,m),m.forEach(W),this.h()},h(){F(u,"class","icon svelte-1r7hpvv"),Bn(u,"transform","rotate("+o[4]+"deg)")},m(_,m){he(_,u,m),t&&tn(t,u,null),f=!0},p(_,m){const w={};if(m&1&&(w.size=_[0]),m&2&&(w.color=_[1]),m&4&&(w.strokeWidth=_[2]),s!==(s=_[3])){if(t){Nn();const v=t;pe(v.$$.fragment,1,0,()=>{rn(v,1)}),Dn()}s?(t=Bf(s,p(_)),nn(t.$$.fragment),ue(t.$$.fragment,1),tn(t,u,null)):t=null}else s&&t.$set(w);(!f||m&16)&&Bn(u,"transform","rotate("+_[4]+"deg)")},i(_){f||(t&&ue(t.$$.fragment,_),f=!0)},o(_){t&&pe(t.$$.fragment,_),f=!1},d(_){_&&W(u),t&&rn(t)}}}function Jm(o){let u,t,f=o[3]&&ul(o);return{c(){f&&f.c(),u=hn()},l(s){f&&f.l(s),u=hn()},m(s,p){f&&f.m(s,p),he(s,u,p),t=!0},p(s,[p]){s[3]?f?(f.p(s,p),p&8&&ue(f,1)):(f=ul(s),f.c(),ue(f,1),f.m(u.parentNode,u)):f&&(Nn(),pe(f,1,1,()=>{f=null}),Dn())},i(s){t||(ue(f),t=!0)},o(s){pe(f),t=!1},d(s){f&&f.d(s),s&&W(u)}}}function $m(o,u,t){let f;const s=["n","ne","e","se","s","sw","w","nw"];let{name:p}=u,{direction:_="n"}=u,{size:m="1em"}=u,{color:w=void 0}=u,{strokeWidth:v=void 0}=u,O;const i=l=>{const d=l.replace(/[^a-zA-Z0-9]+(.)/g,(S,A)=>A.toUpperCase()),b=l.charAt(0).toUpperCase(),T=d.slice(1);return`${b}${T}`};return dr(async()=>{const l=i(p);t(3,O=(await kg(()=>import("../../chunks/lucide-svelte-ffe779c3.js"),["../../chunks/lucide-svelte-ffe779c3.js","../../chunks/index-90d0efc1.js"],import.meta.url))[l])}),o.$$set=l=>{"name"in l&&t(6,p=l.name),"direction"in l&&t(7,_=l.direction),"size"in l&&t(0,m=l.size),"color"in l&&t(1,w=l.color),"strokeWidth"in l&&t(2,v=l.strokeWidth)},o.$$.update=()=>{o.$$.dirty&128&&t(4,f=s.indexOf(_)*45)},[m,w,v,O,f,s,p,_]}class al extends En{constructor(u){super(),Mn(this,u,$m,Jm,kn,{directions:5,name:6,direction:7,size:0,color:1,strokeWidth:2})}get directions(){return this.$$.ctx[5]}}function fl(o,u,t){const f=o.slice();return f[32]=u[t],f[34]=t,f}function ll(o,u,t){const f=o.slice();f[35]=u[t];const s=f[35]%1===0;f[36]=s;const p=f[9](f[35]);return f[37]=p,f}function sl(o){let u,t;return u=new Um({}),{c(){nn(u.$$.fragment)},l(f){gn(u.$$.fragment,f)},m(f,s){tn(u,f,s),t=!0},i(f){t||(ue(u.$$.fragment,f),t=!0)},o(f){pe(u.$$.fragment,f),t=!1},d(f){rn(u,f)}}}function cl(o){let u,t=fr(0,o[1]),f=[];for(let s=0;s<t.length;s+=1)f[s]=_l(ll(o,t,s));return{c(){u=Z("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){u=V(s,"DIV",{class:!0});var p=ce(u);for(let _=0;_<f.length;_+=1)f[_].l(p);p.forEach(W),this.h()},h(){F(u,"class","grid svelte-nynvdj")},m(s,p){he(s,u,p);for(let _=0;_<f.length;_+=1)f[_].m(u,null)},p(s,p){if(p[0]&514){t=fr(0,s[1]);let _;for(_=0;_<t.length;_+=1){const m=ll(s,t,_);f[_]?f[_].p(m,p):(f[_]=_l(m),f[_].c(),f[_].m(u,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=t.length}},d(s){s&&W(u),wt(f,s)}}}function _l(o){let u;return{c(){u=Z("div"),this.h()},l(t){u=V(t,"DIV",{class:!0}),ce(u).forEach(W),this.h()},h(){F(u,"class","line svelte-nynvdj"),Sn(u,"thick",o[36]),Bn(u,"left",`${o[37]}px`)},m(t,f){he(t,u,f)},p(t,f){f[0]&2&&Sn(u,"thick",t[36]),f[0]&514&&Bn(u,"left",`${t[37]}px`)},d(t){t&&W(u)}}}function dl(o){let u,t,f=Object.keys(o[10]),s=[];for(let _=0;_<f.length;_+=1)s[_]=hl(fl(o,f,_));const p=_=>pe(s[_],1,1,()=>{s[_]=null});return{c(){for(let _=0;_<s.length;_+=1)s[_].c();u=hn()},l(_){for(let m=0;m<s.length;m+=1)s[m].l(_);u=hn()},m(_,m){for(let w=0;w<s.length;w+=1)s[w].m(_,m);he(_,u,m),t=!0},p(_,m){if(m[0]&1024){f=Object.keys(_[10]);let w;for(w=0;w<f.length;w+=1){const v=fl(_,f,w);s[w]?(s[w].p(v,m),ue(s[w],1)):(s[w]=hl(v),s[w].c(),ue(s[w],1),s[w].m(u.parentNode,u))}for(Nn(),w=f.length;w<s.length;w+=1)p(w);Dn()}},i(_){if(!t){for(let m=0;m<f.length;m+=1)ue(s[m]);t=!0}},o(_){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)pe(s[m]);t=!1},d(_){wt(s,_),_&&W(u)}}}function hl(o){let u,t;return u=new Qm({props:{data:o[10][o[32]],id:o[32]}}),{c(){nn(u.$$.fragment)},l(f){gn(u.$$.fragment,f)},m(f,s){tn(u,f,s),t=!0},p(f,s){const p={};s[0]&1024&&(p.data=f[10][f[32]]),s[0]&1024&&(p.id=f[32]),u.$set(p)},i(f){t||(ue(u.$$.fragment,f),t=!0)},o(f){pe(u.$$.fragment,f),t=!1},d(f){rn(u,f)}}}function pl(o){let u,t,f,s,p,_,m,w;return t=new al({props:{name:"play",color:"white",size:"100%"}}),p=new al({props:{name:"pause",color:"white",size:"100%"}}),{c(){u=Z("button"),nn(t.$$.fragment),f=ke(),s=Z("button"),nn(p.$$.fragment),this.h()},l(v){u=V(v,"BUTTON",{class:!0});var O=ce(u);gn(t.$$.fragment,O),O.forEach(W),f=Oe(v),s=V(v,"BUTTON",{class:!0});var i=ce(s);gn(p.$$.fragment,i),i.forEach(W),this.h()},h(){F(u,"class","svelte-nynvdj"),F(s,"class","svelte-nynvdj")},m(v,O){he(v,u,O),tn(t,u,null),he(v,f,O),he(v,s,O),tn(p,s,null),_=!0,m||(w=[dn(u,"click",o[18]),dn(s,"click",o[19])],m=!0)},p:pn,i(v){_||(ue(t.$$.fragment,v),ue(p.$$.fragment,v),_=!0)},o(v){pe(t.$$.fragment,v),pe(p.$$.fragment,v),_=!1},d(v){v&&W(u),rn(t),v&&W(f),v&&W(s),rn(p),m=!1,hr(w)}}}function jm(o){let u,t,f=!1,s,p,_,m,w,v,O,i,l,d,b,T;function S(){cancelAnimationFrame(s),u.paused||(s=wg(S),f=!0),o[25].call(u)}let A=o[3]&&sl(),R=o[2]&&cl(o),L=o[6]&&dl(o),C=!o[4]&&pl(o);return{c(){u=Z("audio"),p=ke(),_=Z("div"),m=Z("div"),A&&A.c(),w=ke(),R&&R.c(),v=ke(),L&&L.c(),i=ke(),C&&C.c(),l=hn(),this.h()},l(M){u=V(M,"AUDIO",{src:!0,class:!0}),ce(u).forEach(W),p=Oe(M),_=V(M,"DIV",{class:!0});var H=ce(_);m=V(H,"DIV",{class:!0});var J=ce(m);A&&A.l(J),w=Oe(J),R&&R.l(J),v=Oe(J),L&&L.l(J),J.forEach(W),H.forEach(W),i=Oe(M),C&&C.l(M),l=hn(),this.h()},h(){Ft(u.src,t=`assets/sound/${o[0]}.mp3`)||F(u,"src",t),F(u,"class","svelte-nynvdj"),o[5]===void 0&&Ko(()=>o[24].call(u)),F(m,"class","instruments svelte-nynvdj"),Ko(()=>o[26].call(m)),F(_,"class","container svelte-nynvdj")},m(M,H){he(M,u,H),o[23](u),he(M,p,H),he(M,_,H),X(_,m),A&&A.m(m,null),X(m,w),R&&R.m(m,null),X(m,v),L&&L.m(m,null),O=vg(m,o[26].bind(m)),he(M,i,H),C&&C.m(M,H),he(M,l,H),d=!0,b||(T=[dn(u,"durationchange",o[24]),dn(u,"timeupdate",S)],b=!0)},p(M,H){(!d||H[0]&1&&!Ft(u.src,t=`assets/sound/${M[0]}.mp3`))&&F(u,"src",t),!f&&H[0]&128&&!isNaN(M[7])&&(u.currentTime=M[7]),f=!1,M[3]?A?H[0]&8&&ue(A,1):(A=sl(),A.c(),ue(A,1),A.m(m,w)):A&&(Nn(),pe(A,1,1,()=>{A=null}),Dn()),M[2]?R?R.p(M,H):(R=cl(M),R.c(),R.m(m,v)):R&&(R.d(1),R=null),M[6]?L?(L.p(M,H),H[0]&64&&ue(L,1)):(L=dl(M),L.c(),ue(L,1),L.m(m,null)):L&&(Nn(),pe(L,1,1,()=>{L=null}),Dn()),M[4]?C&&(Nn(),pe(C,1,1,()=>{C=null}),Dn()):C?(C.p(M,H),H[0]&16&&ue(C,1)):(C=pl(M),C.c(),ue(C,1),C.m(l.parentNode,l))},i(M){d||(ue(A),ue(L),ue(C),d=!0)},o(M){pe(A),pe(L),pe(C),d=!1},d(M){M&&W(u),o[23](null),M&&W(p),M&&W(_),A&&A.d(),R&&R.d(),L&&L.d(),O(),M&&W(i),C&&C.d(M),M&&W(l),b=!1,hr(T)}}}function e1(o,u,t){let f,s,p,_,m,w,v,O,{id:i}=u,{beatsPerMeasure:l=4}=u,{measures:d=1}=u,{gridlines:b=!0}=u,{marker:T=!0}=u,{autoplay:S=!1}=u,A,R,L;Zo("song",{songId:i,beatsPerMeasure:l,getCurrentBeat:()=>H,getCurrentMeasure:()=>J,getTimeToBeat:()=>Y,getXScale:()=>$,getInstrumentToggles:()=>be,getIsPlaying:()=>q,getData:()=>M,getSeek:()=>C});const C=zn(0);Ce(o,C,re=>t(7,_=re));const M=zn({});Ce(o,M,re=>t(10,O=re));const H=zn(0);Ce(o,H,re=>t(29,v=re));const J=zn(0);Ce(o,J,re=>t(28,w=re));const Y=zn(void 0);Ce(o,Y,re=>t(22,m=re));const $=zn(void 0);Ce(o,$,re=>t(9,p=re));const be=zn({hihat:"on",snare:"on",kick:"on"}),q=zn(!1);Ce(o,q,re=>t(27,s=re));const de=()=>{t(8,A.currentTime=0,A)},ne=()=>{Tn(q,s=!0,s),A.play()},z=()=>{Tn(q,s=!1,s),A.pause()};dr(()=>{S&&ne()});function ve(re){mt[re?"unshift":"push"](()=>{A=re,t(8,A)})}function mn(){R=this.duration,t(5,R)}function qe(){_=this.currentTime,C.set(_)}function We(){L=this.clientWidth,t(6,L)}return o.$$set=re=>{"id"in re&&t(0,i=re.id),"beatsPerMeasure"in re&&t(1,l=re.beatsPerMeasure),"measures"in re&&t(20,d=re.measures),"gridlines"in re&&t(2,b=re.gridlines),"marker"in re&&t(3,T=re.marker),"autoplay"in re&&t(4,S=re.autoplay)},o.$$.update=()=>{o.$$.dirty[0]&1&&Tn(M,O=i==="straight"?{kick:fr(8,32,2)}:{kick:fr(32).map(re=>re+Xm.random(-1,1))},O),o.$$.dirty[0]&32&&t(21,f=R*1e3-1500),o.$$.dirty[0]&2097312&&R&&_*1e3>f&&de(),o.$$.dirty[0]&3145730&&Tn(Y,m=Jo().domain([0,f]).range([0,l*d]),m),o.$$.dirty[0]&4194434&&Tn(H,v=m(_*1e3)%l,v),o.$$.dirty[0]&4194434&&Tn(J,w=Math.floor(m(_*1e3)/l),w),o.$$.dirty[0]&66&&Tn($,p=Jo().domain([0,l]).range([0,L]),p)},[i,l,b,T,S,R,L,_,A,p,O,C,M,H,J,Y,$,q,ne,z,d,f,m,ve,mn,qe,We]}class n1 extends En{constructor(u){super(),Mn(this,u,e1,jm,kn,{id:0,beatsPerMeasure:1,measures:20,gridlines:2,marker:3,autoplay:4},null,[-1,-1])}}function t1(o){let u,t;const f=o[7].default,s=yg(f,o,o[6],null);return{c(){u=Z("div"),s&&s.c()},l(p){u=V(p,"DIV",{});var _=ce(u);s&&s.l(_),_.forEach(W)},m(p,_){he(p,u,_),s&&s.m(u,null),o[8](u),t=!0},p(p,[_]){s&&s.p&&(!t||_&64)&&bg(s,f,p,p[6],t?xg(f,p[6],_,null):Ag(p[6]),null)},i(p){t||(ue(s,p),t=!0)},o(p){pe(s,p),t=!1},d(p){p&&W(u),s&&s.d(p),o[8](null)}}}function r1(o,u,t){let{$$slots:f={},$$scope:s}=u,{root:p=null}=u,{top:_=0}=u,{bottom:m=0}=u,{increments:w=100}=u,{value:v=void 0}=u;const O=[],i=[];let l=[],d=[],b;const T=()=>{l.length&&l.forEach(A)},S=()=>{let L=0,C=0;for(let M=0;M<O.length;M++)O[M]>L&&(L=O[M],C=M);L>0?t(1,v=C):t(1,v=void 0)},A=(L,C)=>{const M=q=>{q[0].isIntersecting;const de=q[0].intersectionRatio;O[C]=de,S()},H=_?_*-1:0,J=m?m*-1:0,Y=`${H}px 0px ${J}px 0px`,$={root:p,rootMargin:Y,threshold:i};d[C]&&d[C].disconnect();const be=new IntersectionObserver(M,$);be.observe(L),d[C]=be};dr(()=>{for(let L=0;L<w+1;L++)i.push(L/w);l=b.querySelectorAll(":scope > *:not(iframe):not(audio)"),T()});function R(L){mt[L?"unshift":"push"](()=>{b=L,t(0,b)})}return o.$$set=L=>{"root"in L&&t(2,p=L.root),"top"in L&&t(3,_=L.top),"bottom"in L&&t(4,m=L.bottom),"increments"in L&&t(5,w=L.increments),"value"in L&&t(1,v=L.value),"$$scope"in L&&t(6,s=L.$$scope)},o.$$.update=()=>{o.$$.dirty&24&&T()},[b,v,p,_,m,w,s,f,R]}class i1 extends En{constructor(u){super(),Mn(this,u,r1,t1,kn,{root:2,top:3,bottom:4,increments:5,value:1})}}const o1="wonky",u1="an exploration of rhythm and grooves that break the rules",a1="By <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",f1=[{text:"One night outside a small music venue in North Carolina, Questlove’s life was changed forever. He was in the car leaving the venue when he heard a beat coming from inside that sounded… wrong."},{text:"“As i’m leaving the club, i’m hearing the vibration of the kick drum. it was the most life-changing moment i ever had… like, did i hear that? it sounded like the kick drum was played by a drunk 3-year old, and i was like ‘are you allowed to do that?’” -Questlove",sound:"wonky",type:"quote"},{text:"The drums are, in many ways, the backbone of the band. They provide a steady beat for the other musicians to follow. Up until this point, Questlove, like many drummers, had essentially trained to be a metronome, keeping perfect time.",sound:"straight",type:"show-notes"},{text:"But what he heard that night was the opposite of perfect - some notes hit slightly sooner than expected or slightly later. The whole thing was unbalanced, off-kilter, unexpected. And it was… awesome.",sound:"wonky",type:"show-notes"},{text:"“I’d never heard someone not give a fuck, and that to me was the most liberating moment. like, all this pleasing my father, being perfect… now i’ve got to undo all the education and all the hours of preparation that i did.” -Questlove",type:"quote"},{text:"The beat Questlove was hearing was made by JDilla, a producer who pioneered an all-new way to think about rhythm that influences musicians to this day. It’s not just chaos, there’s a method to the madness. What’s going on and why does it work? Let’s dive in."}],_r={hed:o1,dek:u1,byline:a1,intro:f1};function gl(o,{delay:u=0,duration:t=400,easing:f=Tg}={}){const s=+getComputedStyle(o).opacity;return{delay:u,duration:t,easing:f,css:p=>`opacity: ${p*s}`}}const di=zn(!1);function ml(o,u,t){const f=o.slice();f[13]=u[t].text,f[14]=u[t].type,f[15]=u[t].sound,f[20]=u,f[21]=t;const s=f[21]===f[0];f[16]=s;const p=f[14]==="quote";f[17]=p;const _=f[14]!=="show-notes"&&f[15];f[18]=_;const m=f[14]==="show-notes"&&f[16]&&f[15];return f[19]=m,f}function vl(o){let u,t;return u=new n1({props:{id:o[15],beatsPerMeasure:32,gridlines:!1,marker:!1,autoplay:!0}}),{c(){nn(u.$$.fragment)},l(f){gn(u.$$.fragment,f)},m(f,s){tn(u,f,s),t=!0},p:pn,i(f){t||(ue(u.$$.fragment,f),t=!0)},o(f){pe(u.$$.fragment,f),t=!1},d(f){rn(u,f)}}}function l1(o){let u,t,f,s=o[21];const p=()=>o[7](u,s),_=()=>o[7](null,s);return{c(){u=Z("audio"),this.h()},l(m){u=V(m,"AUDIO",{src:!0}),ce(u).forEach(W),this.h()},h(){Ft(u.src,t=`assets/sound/${o[15]}.mp3`)||F(u,"src",t),u.loop=!0,u.muted=f=!o[6]},m(m,w){he(m,u,w),p()},p(m,w){o=m,w&64&&f!==(f=!o[6])&&(u.muted=f),s!==o[21]&&(_(),s=o[21],p())},d(m){m&&W(u),_()}}}function wl(o){let u,t,f=o[13]+"",s,p,_,m,w,v=o[19]&&vl(o),O=o[18]&&l1(o);return{c(){v&&v.c(),u=ke(),t=Z("p"),s=Qn(f),_=ke(),O&&O.c(),m=hn(),this.h()},l(i){v&&v.l(i),u=Oe(i),t=V(i,"P",{class:!0});var l=ce(t);s=Jn(l,f),l.forEach(W),_=Oe(i),O&&O.l(i),m=hn(),this.h()},h(){F(t,"class","svelte-14iif18"),Sn(t,"active",o[16]),Sn(t,"quote",o[17])},m(i,l){v&&v.m(i,l),he(i,u,l),he(i,t,l),X(t,s),he(i,_,l),O&&O.m(i,l),he(i,m,l),w=!0},p(i,l){i[19]?v?(v.p(i,l),l&1&&ue(v,1)):(v=vl(i),v.c(),ue(v,1),v.m(u.parentNode,u)):v&&(Nn(),pe(v,1,1,()=>{v=null}),Dn()),(!w||l&1)&&Sn(t,"active",i[16]),i[18]&&O.p(i,l)},i(i){w||(ue(v),Ko(()=>{p||(p=Nf(t,gl,{},!0)),p.run(1)}),w=!0)},o(i){pe(v),p||(p=Nf(t,gl,{},!1)),p.run(0),w=!1},d(i){v&&v.d(i),i&&W(u),i&&W(t),i&&p&&p.end(),i&&W(_),O&&O.d(i),i&&W(m)}}}function s1(o){let u,t,f=_r.intro,s=[];for(let _=0;_<f.length;_+=1)s[_]=wl(ml(o,f,_));const p=_=>pe(s[_],1,1,()=>{s[_]=null});return{c(){for(let _=0;_<s.length;_+=1)s[_].c();u=hn()},l(_){for(let m=0;m<s.length;m+=1)s[m].l(_);u=hn()},m(_,m){for(let w=0;w<s.length;w+=1)s[w].m(_,m);he(_,u,m),t=!0},p(_,m){if(m&73){f=_r.intro;let w;for(w=0;w<f.length;w+=1){const v=ml(_,f,w);s[w]?(s[w].p(v,m),ue(s[w],1)):(s[w]=wl(v),s[w].c(),ue(s[w],1),s[w].m(u.parentNode,u))}for(Nn(),w=f.length;w<s.length;w+=1)p(w);Dn()}},i(_){if(!t){for(let m=0;m<f.length;m+=1)ue(s[m]);t=!0}},o(_){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)pe(s[m]);t=!1},d(_){wt(s,_),_&&W(u)}}}function c1(o){let u,t,f,s,p,_,m,w,v,O;function i(d){o[8](d)}let l={top:o[1],$$slots:{default:[s1]},$$scope:{ctx:o}};return o[0]!==void 0&&(l.value=o[0]),t=new i1({props:l}),mt.push(()=>Ig(t,"value",i)),{c(){u=Z("div"),nn(t.$$.fragment),s=ke(),p=Z("audio"),this.h()},l(d){u=V(d,"DIV",{class:!0});var b=ce(u);gn(t.$$.fragment,b),b.forEach(W),s=Oe(d),p=V(d,"AUDIO",{src:!0}),ce(p).forEach(W),this.h()},h(){F(u,"class","container"),Ft(p.src,_="assets/sound/club.mp3")||F(p,"src",_),p.loop=!0,p.muted=m=!o[6]},m(d,b){he(d,u,b),tn(t,u,null),o[9](u),he(d,s,b),he(d,p,b),o[10](p),isNaN(o[5])||(p.volume=o[5]),w=!0,v||(O=dn(p,"volumechange",o[11]),v=!0)},p(d,[b]){const T={};b&2&&(T.top=d[1]),b&4194377&&(T.$$scope={dirty:b,ctx:d}),!f&&b&1&&(f=!0,T.value=d[0],Sg(()=>f=!1)),t.$set(T),(!w||b&64&&m!==(m=!d[6]))&&(p.muted=m),b&32&&!isNaN(d[5])&&(p.volume=d[5])},i(d){w||(ue(t.$$.fragment,d),w=!0)},o(d){pe(t.$$.fragment,d),w=!1},d(d){d&&W(u),rn(t),o[9](null),d&&W(s),d&&W(p),o[10](null),v=!1,O()}}}function _1(o,u,t){let f;Ce(o,di,S=>t(6,f=S));let s,p,_,m=[],w,v=1;const O=()=>{s===void 0&&w&&(w.pause(),t(4,w.currentTime=0,w)),s!==0?t(5,v=.2):t(5,v=1),m.forEach((S,A)=>{A===s?S.play():S.pause()})};dr(()=>{t(1,p=_.getBoundingClientRect().top-100),w.play()});function i(S,A){mt[S?"unshift":"push"](()=>{m[A]=S,t(3,m)})}function l(S){s=S,t(0,s)}function d(S){mt[S?"unshift":"push"](()=>{_=S,t(2,_)})}function b(S){mt[S?"unshift":"push"](()=>{w=S,t(4,w)})}function T(){v=this.volume,t(5,v)}return o.$$.update=()=>{o.$$.dirty&1&&O()},[s,p,_,m,w,v,f,i,l,d,b,T]}class d1 extends En{constructor(u){super(),Mn(this,u,_1,c1,kn,{})}}function yl(o){let u,t;return u=new d1({}),{c(){nn(u.$$.fragment)},l(f){gn(u.$$.fragment,f)},m(f,s){tn(u,f,s),t=!0},i(f){t||(ue(u.$$.fragment,f),t=!0)},o(f){pe(u.$$.fragment,f),t=!1},d(f){rn(u,f)}}}function h1(o){let u,t,f,s,p,_,m,w,v,O,i,l=o[1]?"sound off":"sound on",d,b,T,S,A,R,L,C=o[0]&&yl();return S=new Bg({}),{c(){u=Z("article"),t=Z("h1"),f=Qn(o[2]),s=ke(),p=Z("h2"),_=Qn(o[3]),m=ke(),w=Z("button"),v=Qn("start"),O=ke(),i=Z("button"),d=Qn(l),b=ke(),C&&C.c(),T=ke(),nn(S.$$.fragment),this.h()},l(M){u=V(M,"ARTICLE",{class:!0});var H=ce(u);t=V(H,"H1",{});var J=ce(t);f=Jn(J,o[2]),J.forEach(W),s=Oe(H),p=V(H,"H2",{});var Y=ce(p);_=Jn(Y,o[3]),Y.forEach(W),m=Oe(H),w=V(H,"BUTTON",{});var $=ce(w);v=Jn($,"start"),$.forEach(W),O=Oe(H),i=V(H,"BUTTON",{});var be=ce(i);d=Jn(be,l),be.forEach(W),b=Oe(H),C&&C.l(H),H.forEach(W),T=Oe(M),gn(S.$$.fragment,M),this.h()},h(){F(u,"class","svelte-173u60v")},m(M,H){he(M,u,H),X(u,t),X(t,f),X(u,s),X(u,p),X(p,_),X(u,m),X(u,w),X(w,v),X(u,O),X(u,i),X(i,d),X(u,b),C&&C.m(u,null),he(M,T,H),tn(S,M,H),A=!0,R||(L=[dn(w,"click",o[4]),dn(i,"click",o[5])],R=!0)},p(M,[H]){(!A||H&2)&&l!==(l=M[1]?"sound off":"sound on")&&bl(d,l),M[0]?C?H&1&&ue(C,1):(C=yl(),C.c(),ue(C,1),C.m(u,null)):C&&(Nn(),pe(C,1,1,()=>{C=null}),Dn())},i(M){A||(ue(C),ue(S.$$.fragment,M),A=!0)},o(M){pe(C),pe(S.$$.fragment,M),A=!1},d(M){M&&W(u),C&&C.d(),M&&W(T),rn(S,M),R=!1,hr(L)}}}function p1(o,u,t){let f;Ce(o,di,v=>t(1,f=v));const{hed:s,dek:p}=_r;let _=!1;return[_,f,s,p,()=>{Tn(di,f=!0,f),t(0,_=!0)},()=>Tn(di,f=!f,f)]}class g1 extends En{constructor(u){super(),Mn(this,u,p1,h1,kn,{})}}function m1(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-04-28-17:51"),console.log("--- --- --- --- --- ---")}function v1(o){let u,t,f,s;return u=new Lg({props:{title:o[1],description:o[2],url:o[3],preloadFont:o[0],keywords:o[4]}}),f=new g1({}),{c(){nn(u.$$.fragment),t=ke(),nn(f.$$.fragment)},l(p){gn(u.$$.fragment,p),t=Oe(p),gn(f.$$.fragment,p)},m(p,_){tn(u,p,_),he(p,t,_),tn(f,p,_),s=!0},p:pn,i(p){s||(ue(u.$$.fragment,p),ue(f.$$.fragment,p),s=!0)},o(p){pe(u.$$.fragment,p),pe(f.$$.fragment,p),s=!1},d(p){rn(u,p),p&&W(t),rn(f,p)}}}function w1(o,u,t){let{data:f}=u;m1();const s=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:p,description:_,url:m,keywords:w}=_r;return Zo("copy",_r),Zo("data",f.data),o.$$set=v=>{"data"in v&&t(5,f=v.data)},[s,p,_,m,w,f]}class I1 extends En{constructor(u){super(),Mn(this,u,w1,v1,kn,{data:5})}}export{I1 as default};
