import{S as me,i as ge,s as de,k as F,e as J,J as Nn,l as B,h as x,n as v,D as N,C as ue,K as Fe,b as q,L as Pt,M as On,N as Rn,O as Hn,P as Se,Q as Ie,m as j,R as Nt,T as Ln,I as et,f as W,g as ut,d as ft,t as Q,x as ne,y as re,z as ie,A as ae,q as X,a as Y,r as Z,c as K,U as Ce,u as be,v as Te,V as xe,p as ct,W as ke,X as bn,Y as gt,Z as Dn,_ as Ot,$ as $n}from"../../chunks/index-c41b8c61.js";import{w as Fn,r as Bn}from"../../chunks/index-945bb77f.js";import{d as Gn}from"../../chunks/transform-5bf7892f.js";function Rt(e,n,r){const i=e.slice();return i[5]=n[r],i}function Ht(e){let n,r;return{c(){n=F("link"),this.h()},l(i){n=B(i,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){v(n,"rel","preload"),v(n,"href",r=e[5]),v(n,"as","font"),v(n,"type","font/woff2"),v(n,"crossorigin","")},m(i,a){q(i,n,a)},p(i,a){a&16&&r!==(r=i[5])&&v(n,"href",r)},d(i){i&&x(n)}}}function qn(e){let n,r,i,a,l,s,c,f,d,p,t,o,u,_,m,g,h,y,T,S,P,E,$,L,O,D;document.title=n=e[0];let I=e[4],M=[];for(let A=0;A<I.length;A+=1)M[A]=Ht(Rt(e,I,A));return{c(){r=F("meta"),i=F("meta"),a=F("meta"),l=F("meta"),s=F("meta"),c=F("meta"),f=F("meta"),d=F("meta"),p=F("meta"),t=F("meta"),u=F("meta"),_=F("meta"),m=F("meta"),g=F("meta"),h=F("meta"),y=F("meta"),T=F("meta"),S=F("meta"),P=F("meta"),$=F("meta"),L=F("link");for(let A=0;A<M.length;A+=1)M[A].c();D=J(),this.h()},l(A){const b=Nn("svelte-1htu80s",document.head);r=B(b,"META",{name:!0,content:!0}),i=B(b,"META",{name:!0,content:!0}),a=B(b,"META",{name:!0,content:!0}),l=B(b,"META",{property:!0,content:!0}),s=B(b,"META",{property:!0,content:!0}),c=B(b,"META",{property:!0,content:!0}),f=B(b,"META",{property:!0,content:!0}),d=B(b,"META",{property:!0,content:!0}),p=B(b,"META",{property:!0,content:!0}),t=B(b,"META",{property:!0,content:!0}),u=B(b,"META",{property:!0,content:!0}),_=B(b,"META",{property:!0,content:!0}),m=B(b,"META",{property:!0,content:!0}),g=B(b,"META",{name:!0,content:!0}),h=B(b,"META",{name:!0,content:!0}),y=B(b,"META",{name:!0,content:!0}),T=B(b,"META",{name:!0,content:!0}),S=B(b,"META",{name:!0,content:!0}),P=B(b,"META",{name:!0,content:!0}),$=B(b,"META",{name:!0,content:!0}),L=B(b,"LINK",{rel:!0,href:!0});for(let R=0;R<M.length;R+=1)M[R].l(b);D=J(),b.forEach(x),this.h()},h(){v(r,"name","description"),v(r,"content",e[1]),v(i,"name","author"),v(i,"content","The Pudding"),v(a,"name","news_keywords"),v(a,"content",e[3]),v(l,"property","og:title"),v(l,"content",e[0]),v(s,"property","og:site_name"),v(s,"content","The Pudding"),v(c,"property","og:url"),v(c,"content",e[2]),v(f,"property","og:description"),v(f,"content",e[1]),v(d,"property","og:type"),v(d,"content","article"),v(p,"property","og:locale"),v(p,"content","en_US"),v(t,"property","og:image"),v(t,"content",o=e[2]+"/assets/social-facebook.jpg"),v(u,"property","og:image:type"),v(u,"content","image/jpeg"),v(_,"property","og:image:width"),v(_,"content","1200"),v(m,"property","og:image:height"),v(m,"content","600"),v(g,"name","twitter:card"),v(g,"content","summary_large_image"),v(h,"name","twitter:site"),v(h,"content","https://pudding.cool"),v(y,"name","twitter:creator"),v(y,"content","@puddingviz"),v(T,"name","twitter:title"),v(T,"content",e[0]),v(S,"name","twitter:description"),v(S,"content",e[1]),v(P,"name","twitter:image:src"),v(P,"content",E=e[2]+"/assets/social-twitter.jpg"),v($,"name","robots"),v($,"content","max-image-preview:large"),v(L,"rel","canonical"),v(L,"href",O=e[2]+"/")},m(A,b){N(document.head,r),N(document.head,i),N(document.head,a),N(document.head,l),N(document.head,s),N(document.head,c),N(document.head,f),N(document.head,d),N(document.head,p),N(document.head,t),N(document.head,u),N(document.head,_),N(document.head,m),N(document.head,g),N(document.head,h),N(document.head,y),N(document.head,T),N(document.head,S),N(document.head,P),N(document.head,$),N(document.head,L);for(let R=0;R<M.length;R+=1)M[R].m(document.head,null);N(document.head,D)},p(A,[b]){if(b&1&&n!==(n=A[0])&&(document.title=n),b&2&&v(r,"content",A[1]),b&8&&v(a,"content",A[3]),b&1&&v(l,"content",A[0]),b&4&&v(c,"content",A[2]),b&2&&v(f,"content",A[1]),b&4&&o!==(o=A[2]+"/assets/social-facebook.jpg")&&v(t,"content",o),b&1&&v(T,"content",A[0]),b&2&&v(S,"content",A[1]),b&4&&E!==(E=A[2]+"/assets/social-twitter.jpg")&&v(P,"content",E),b&4&&O!==(O=A[2]+"/")&&v(L,"href",O),b&16){I=A[4];let R;for(R=0;R<I.length;R+=1){const H=Rt(A,I,R);M[R]?M[R].p(H,b):(M[R]=Ht(H),M[R].c(),M[R].m(D.parentNode,D))}for(;R<M.length;R+=1)M[R].d(1);M.length=I.length}},i:ue,o:ue,d(A){x(r),x(i),x(a),x(l),x(s),x(c),x(f),x(d),x(p),x(t),x(u),x(_),x(m),x(g),x(h),x(y),x(T),x(S),x(P),x($),x(L),Fe(M,A),x(D)}}}function Cn(e,n,r){let{title:i="Title TK"}=n,{description:a="Description TK"}=n,{url:l="https://pudding.cool"}=n,{keywords:s=""}=n,{preloadFont:c=[]}=n;return e.$$set=f=>{"title"in f&&r(0,i=f.title),"description"in f&&r(1,a=f.description),"url"in f&&r(2,l=f.url),"keywords"in f&&r(3,s=f.keywords),"preloadFont"in f&&r(4,c=f.preloadFont)},[i,a,l,s,c]}class jn extends me{constructor(n){super(),ge(this,n,Cn,qn,de,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Je={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var n=function(){this.init()};n.prototype={init:function(){var t=this||r;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator=typeof window<"u"&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var o=this||r;if(t=parseFloat(t),o.ctx||p(),typeof t<"u"&&t>=0&&t<=1){if(o._volume=t,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(t,r.ctx.currentTime);for(var u=0;u<o._howls.length;u++)if(!o._howls[u]._webAudio)for(var _=o._howls[u]._getSoundIds(),m=0;m<_.length;m++){var g=o._howls[u]._soundById(_[m]);g&&g._node&&(g._node.volume=g._volume*t)}return o}return o._volume},mute:function(t){var o=this||r;o.ctx||p(),o._muted=t,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(t?0:o._volume,r.ctx.currentTime);for(var u=0;u<o._howls.length;u++)if(!o._howls[u]._webAudio)for(var _=o._howls[u]._getSoundIds(),m=0;m<_.length;m++){var g=o._howls[u]._soundById(_[m]);g&&g._node&&(g._node.muted=t?!0:g._muted)}return o},stop:function(){for(var t=this||r,o=0;o<t._howls.length;o++)t._howls[o].stop();return t},unload:function(){for(var t=this||r,o=t._howls.length-1;o>=0;o--)t._howls[o].unload();return t.usingWebAudio&&t.ctx&&typeof t.ctx.close<"u"&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||r)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||r;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if(typeof Audio<"u")try{var o=new Audio;typeof o.oncanplaythrough>"u"&&(t._canPlayEvent="canplay")}catch{t.noAudio=!0}else t.noAudio=!0;try{var o=new Audio;o.muted&&(t.noAudio=!0)}catch{}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||r,o=null;try{o=typeof Audio<"u"?new Audio:null}catch{return t}if(!o||typeof o.canPlayType!="function")return t;var u=o.canPlayType("audio/mpeg;").replace(/^no$/,""),_=t._navigator?t._navigator.userAgent:"",m=_.match(/OPR\/([0-6].)/g),g=m&&parseInt(m[0].split("/")[1],10)<33,h=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,y=_.match(/Version\/(.*?) /),T=h&&y&&parseInt(y[1],10)<15;return t._codecs={mp3:!!(!g&&(u||o.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!u,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!T&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!T&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||r;if(!(t._audioUnlocked||!t.ctx)){t._audioUnlocked=!1,t.autoUnlock=!1,!t._mobileUnloaded&&t.ctx.sampleRate!==44100&&(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var o=function(u){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,t._releaseHtml5Audio(_)}catch{t.noAudio=!0;break}for(var m=0;m<t._howls.length;m++)if(!t._howls[m]._webAudio)for(var g=t._howls[m]._getSoundIds(),h=0;h<g.length;h++){var y=t._howls[m]._soundById(g[h]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}t._autoResume();var T=t.ctx.createBufferSource();T.buffer=t._scratchBuffer,T.connect(t.ctx.destination),typeof T.start>"u"?T.noteOn(0):T.start(0),typeof t.ctx.resume=="function"&&t.ctx.resume(),T.onended=function(){T.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0),document.removeEventListener("keydown",o,!0);for(var S=0;S<t._howls.length;S++)t._howls[S]._emit("unlock")}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),document.addEventListener("keydown",o,!0),t}},_obtainHtml5Audio:function(){var t=this||r;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var o=new Audio().play();return o&&typeof Promise<"u"&&(o instanceof Promise||typeof o.then=="function")&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(t){var o=this||r;return t._unlocked&&o._html5AudioPool.push(t),o},_autoSuspend:function(){var t=this;if(!(!t.autoSuspend||!t.ctx||typeof t.ctx.suspend>"u"||!r.usingWebAudio)){for(var o=0;o<t._howls.length;o++)if(t._howls[o]._webAudio){for(var u=0;u<t._howls[o]._sounds.length;u++)if(!t._howls[o]._sounds[u]._paused)return t}return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var _=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(_,_)}},3e4),t}},_autoResume:function(){var t=this;if(!(!t.ctx||typeof t.ctx.resume>"u"||!r.usingWebAudio))return t.state==="running"&&t.ctx.state!=="interrupted"&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):t.state==="suspended"||t.state==="running"&&t.ctx.state==="interrupted"?(t.ctx.resume().then(function(){t.state="running";for(var o=0;o<t._howls.length;o++)t._howls[o]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):t.state==="suspending"&&(t._resumeAfterSuspend=!0),t}};var r=new n,i=function(t){var o=this;if(!t.src||t.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}o.init(t)};i.prototype={init:function(t){var o=this;return r.ctx||p(),o._autoplay=t.autoplay||!1,o._format=typeof t.format!="string"?t.format:[t.format],o._html5=t.html5||!1,o._muted=t.mute||!1,o._loop=t.loop||!1,o._pool=t.pool||5,o._preload=typeof t.preload=="boolean"||t.preload==="metadata"?t.preload:!0,o._rate=t.rate||1,o._sprite=t.sprite||{},o._src=typeof t.src!="string"?t.src:[t.src],o._volume=t.volume!==void 0?t.volume:1,o._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:t.xhr&&t.xhr.withCredentials?t.xhr.withCredentials:!1},o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=t.onend?[{fn:t.onend}]:[],o._onfade=t.onfade?[{fn:t.onfade}]:[],o._onload=t.onload?[{fn:t.onload}]:[],o._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],o._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],o._onpause=t.onpause?[{fn:t.onpause}]:[],o._onplay=t.onplay?[{fn:t.onplay}]:[],o._onstop=t.onstop?[{fn:t.onstop}]:[],o._onmute=t.onmute?[{fn:t.onmute}]:[],o._onvolume=t.onvolume?[{fn:t.onvolume}]:[],o._onrate=t.onrate?[{fn:t.onrate}]:[],o._onseek=t.onseek?[{fn:t.onseek}]:[],o._onunlock=t.onunlock?[{fn:t.onunlock}]:[],o._onresume=[],o._webAudio=r.usingWebAudio&&!o._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o._preload!=="none"&&o.load(),o},load:function(){var t=this,o=null;if(r.noAudio){t._emit("loaderror",null,"No audio support.");return}typeof t._src=="string"&&(t._src=[t._src]);for(var u=0;u<t._src.length;u++){var _,m;if(t._format&&t._format[u])_=t._format[u];else{if(m=t._src[u],typeof m!="string"){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(m),_||(_=/\.([^.]+)$/.exec(m.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&r.codecs(_)){o=t._src[u];break}}if(!o){t._emit("loaderror",null,"No codec support for selected audio sources.");return}return t._src=o,t._state="loading",window.location.protocol==="https:"&&o.slice(0,5)==="http:"&&(t._html5=!0,t._webAudio=!1),new a(t),t._webAudio&&s(t),t},play:function(t,o){var u=this,_=null;if(typeof t=="number")_=t,t=null;else{if(typeof t=="string"&&u._state==="loaded"&&!u._sprite[t])return null;if(typeof t>"u"&&(t="__default",!u._playLock)){for(var m=0,g=0;g<u._sounds.length;g++)u._sounds[g]._paused&&!u._sounds[g]._ended&&(m++,_=u._sounds[g]._id);m===1?t=null:_=null}}var h=_?u._soundById(_):u._inactiveSound();if(!h)return null;if(_&&!t&&(t=h._sprite||"__default"),u._state!=="loaded"){h._sprite=t,h._ended=!1;var y=h._id;return u._queue.push({event:"play",action:function(){u.play(y)}}),y}if(_&&!h._paused)return o||u._loadQueue("play"),h._id;u._webAudio&&r._autoResume();var T=Math.max(0,h._seek>0?h._seek:u._sprite[t][0]/1e3),S=Math.max(0,(u._sprite[t][0]+u._sprite[t][1])/1e3-T),P=S*1e3/Math.abs(h._rate),E=u._sprite[t][0]/1e3,$=(u._sprite[t][0]+u._sprite[t][1])/1e3;h._sprite=t,h._ended=!1;var L=function(){h._paused=!1,h._seek=T,h._start=E,h._stop=$,h._loop=!!(h._loop||u._sprite[t][2])};if(T>=$){u._ended(h);return}var O=h._node;if(u._webAudio){var D=function(){u._playLock=!1,L(),u._refreshBuffer(h);var b=h._muted||u._muted?0:h._volume;O.gain.setValueAtTime(b,r.ctx.currentTime),h._playStart=r.ctx.currentTime,typeof O.bufferSource.start>"u"?h._loop?O.bufferSource.noteGrainOn(0,T,86400):O.bufferSource.noteGrainOn(0,T,S):h._loop?O.bufferSource.start(0,T,86400):O.bufferSource.start(0,T,S),P!==1/0&&(u._endTimers[h._id]=setTimeout(u._ended.bind(u,h),P)),o||setTimeout(function(){u._emit("play",h._id),u._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?D():(u._playLock=!0,u.once("resume",D),u._clearTimer(h._id))}else{var I=function(){O.currentTime=T,O.muted=h._muted||u._muted||r._muted||O.muted,O.volume=h._volume*r.volume(),O.playbackRate=h._rate;try{var b=O.play();if(b&&typeof Promise<"u"&&(b instanceof Promise||typeof b.then=="function")?(u._playLock=!0,L(),b.then(function(){u._playLock=!1,O._unlocked=!0,o?u._loadQueue():u._emit("play",h._id)}).catch(function(){u._playLock=!1,u._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):o||(u._playLock=!1,L(),u._emit("play",h._id)),O.playbackRate=h._rate,O.paused){u._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}t!=="__default"||h._loop?u._endTimers[h._id]=setTimeout(u._ended.bind(u,h),P):(u._endTimers[h._id]=function(){u._ended(h),O.removeEventListener("ended",u._endTimers[h._id],!1)},O.addEventListener("ended",u._endTimers[h._id],!1))}catch(R){u._emit("playerror",h._id,R)}};O.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(O.src=u._src,O.load());var M=window&&window.ejecta||!O.readyState&&r._navigator.isCocoonJS;if(O.readyState>=3||M)I();else{u._playLock=!0,u._state="loading";var A=function(){u._state="loaded",I(),O.removeEventListener(r._canPlayEvent,A,!1)};O.addEventListener(r._canPlayEvent,A,!1),u._clearTimer(h._id)}}return h._id},pause:function(t){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"pause",action:function(){o.pause(t)}}),o;for(var u=o._getSoundIds(t),_=0;_<u.length;_++){o._clearTimer(u[_]);var m=o._soundById(u[_]);if(m&&!m._paused&&(m._seek=o.seek(u[_]),m._rateSeek=0,m._paused=!0,o._stopFade(u[_]),m._node))if(o._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),o._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||o._emit("pause",m?m._id:null)}return o},stop:function(t,o){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(t)}}),u;for(var _=u._getSoundIds(t),m=0;m<_.length;m++){u._clearTimer(_[m]);var g=u._soundById(_[m]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,u._stopFade(_[m]),g._node&&(u._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),u._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&u._clearSound(g._node))),o||u._emit("stop",g._id))}return u},mute:function(t,o){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(t,o)}}),u;if(typeof o>"u")if(typeof t=="boolean")u._muted=t;else return u._muted;for(var _=u._getSoundIds(o),m=0;m<_.length;m++){var g=u._soundById(_[m]);g&&(g._muted=t,g._interval&&u._stopFade(g._id),u._webAudio&&g._node?g._node.gain.setValueAtTime(t?0:g._volume,r.ctx.currentTime):g._node&&(g._node.muted=r._muted?!0:t),u._emit("mute",g._id))}return u},volume:function(){var t=this,o=arguments,u,_;if(o.length===0)return t._volume;if(o.length===1||o.length===2&&typeof o[1]>"u"){var m=t._getSoundIds(),g=m.indexOf(o[0]);g>=0?_=parseInt(o[0],10):u=parseFloat(o[0])}else o.length>=2&&(u=parseFloat(o[0]),_=parseInt(o[1],10));var h;if(typeof u<"u"&&u>=0&&u<=1){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"volume",action:function(){t.volume.apply(t,o)}}),t;typeof _>"u"&&(t._volume=u),_=t._getSoundIds(_);for(var y=0;y<_.length;y++)h=t._soundById(_[y]),h&&(h._volume=u,o[2]||t._stopFade(_[y]),t._webAudio&&h._node&&!h._muted?h._node.gain.setValueAtTime(u,r.ctx.currentTime):h._node&&!h._muted&&(h._node.volume=u*r.volume()),t._emit("volume",h._id))}else return h=_?t._soundById(_):t._sounds[0],h?h._volume:0;return t},fade:function(t,o,u,_){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(t,o,u,_)}}),m;t=Math.min(Math.max(0,parseFloat(t)),1),o=Math.min(Math.max(0,parseFloat(o)),1),u=parseFloat(u),m.volume(t,_);for(var g=m._getSoundIds(_),h=0;h<g.length;h++){var y=m._soundById(g[h]);if(y){if(_||m._stopFade(g[h]),m._webAudio&&!y._muted){var T=r.ctx.currentTime,S=T+u/1e3;y._volume=t,y._node.gain.setValueAtTime(t,T),y._node.gain.linearRampToValueAtTime(o,S)}m._startFadeInterval(y,t,o,u,g[h],typeof _>"u")}}return m},_startFadeInterval:function(t,o,u,_,m,g){var h=this,y=o,T=u-o,S=Math.abs(T/.01),P=Math.max(4,S>0?_/S:_),E=Date.now();t._fadeTo=u,t._interval=setInterval(function(){var $=(Date.now()-E)/_;E=Date.now(),y+=T*$,y=Math.round(y*100)/100,T<0?y=Math.max(u,y):y=Math.min(u,y),h._webAudio?t._volume=y:h.volume(y,t._id,!0),g&&(h._volume=y),(u<o&&y<=u||u>o&&y>=u)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,h.volume(u,t._id),h._emit("fade",t._id))},P)},_stopFade:function(t){var o=this,u=o._soundById(t);return u&&u._interval&&(o._webAudio&&u._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(u._interval),u._interval=null,o.volume(u._fadeTo,t),u._fadeTo=null,o._emit("fade",t)),o},loop:function(){var t=this,o=arguments,u,_,m;if(o.length===0)return t._loop;if(o.length===1)if(typeof o[0]=="boolean")u=o[0],t._loop=u;else return m=t._soundById(parseInt(o[0],10)),m?m._loop:!1;else o.length===2&&(u=o[0],_=parseInt(o[1],10));for(var g=t._getSoundIds(_),h=0;h<g.length;h++)m=t._soundById(g[h]),m&&(m._loop=u,t._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=u,u&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,t.playing(g[h])&&(t.pause(g[h],!0),t.play(g[h],!0)))));return t},rate:function(){var t=this,o=arguments,u,_;if(o.length===0)_=t._sounds[0]._id;else if(o.length===1){var m=t._getSoundIds(),g=m.indexOf(o[0]);g>=0?_=parseInt(o[0],10):u=parseFloat(o[0])}else o.length===2&&(u=parseFloat(o[0]),_=parseInt(o[1],10));var h;if(typeof u=="number"){if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"rate",action:function(){t.rate.apply(t,o)}}),t;typeof _>"u"&&(t._rate=u),_=t._getSoundIds(_);for(var y=0;y<_.length;y++)if(h=t._soundById(_[y]),h){t.playing(_[y])&&(h._rateSeek=t.seek(_[y]),h._playStart=t._webAudio?r.ctx.currentTime:h._playStart),h._rate=u,t._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(u,r.ctx.currentTime):h._node&&(h._node.playbackRate=u);var T=t.seek(_[y]),S=(t._sprite[h._sprite][0]+t._sprite[h._sprite][1])/1e3-T,P=S*1e3/Math.abs(h._rate);(t._endTimers[_[y]]||!h._paused)&&(t._clearTimer(_[y]),t._endTimers[_[y]]=setTimeout(t._ended.bind(t,h),P)),t._emit("rate",h._id)}}else return h=t._soundById(_),h?h._rate:t._rate;return t},seek:function(){var t=this,o=arguments,u,_;if(o.length===0)t._sounds.length&&(_=t._sounds[0]._id);else if(o.length===1){var m=t._getSoundIds(),g=m.indexOf(o[0]);g>=0?_=parseInt(o[0],10):t._sounds.length&&(_=t._sounds[0]._id,u=parseFloat(o[0]))}else o.length===2&&(u=parseFloat(o[0]),_=parseInt(o[1],10));if(typeof _>"u")return 0;if(typeof u=="number"&&(t._state!=="loaded"||t._playLock))return t._queue.push({event:"seek",action:function(){t.seek.apply(t,o)}}),t;var h=t._soundById(_);if(h)if(typeof u=="number"&&u>=0){var y=t.playing(_);y&&t.pause(_,!0),h._seek=u,h._ended=!1,t._clearTimer(_),!t._webAudio&&h._node&&!isNaN(h._node.duration)&&(h._node.currentTime=u);var T=function(){y&&t.play(_,!0),t._emit("seek",_)};if(y&&!t._webAudio){var S=function(){t._playLock?setTimeout(S,0):T()};setTimeout(S,0)}else T()}else if(t._webAudio){var P=t.playing(_)?r.ctx.currentTime-h._playStart:0,E=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(E+P*Math.abs(h._rate))}else return h._node.currentTime;return t},playing:function(t){var o=this;if(typeof t=="number"){var u=o._soundById(t);return u?!u._paused:!1}for(var _=0;_<o._sounds.length;_++)if(!o._sounds[_]._paused)return!0;return!1},duration:function(t){var o=this,u=o._duration,_=o._soundById(t);return _&&(u=o._sprite[_._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var t=this,o=t._sounds,u=0;u<o.length;u++)o[u]._paused||t.stop(o[u]._id),t._webAudio||(t._clearSound(o[u]._node),o[u]._node.removeEventListener("error",o[u]._errorFn,!1),o[u]._node.removeEventListener(r._canPlayEvent,o[u]._loadFn,!1),o[u]._node.removeEventListener("ended",o[u]._endFn,!1),r._releaseHtml5Audio(o[u]._node)),delete o[u]._node,t._clearTimer(o[u]._id);var _=r._howls.indexOf(t);_>=0&&r._howls.splice(_,1);var m=!0;for(u=0;u<r._howls.length;u++)if(r._howls[u]._src===t._src||t._src.indexOf(r._howls[u]._src)>=0){m=!1;break}return l&&m&&delete l[t._src],r.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,o,u,_){var m=this,g=m["_on"+t];return typeof o=="function"&&g.push(_?{id:u,fn:o,once:_}:{id:u,fn:o}),m},off:function(t,o,u){var _=this,m=_["_on"+t],g=0;if(typeof o=="number"&&(u=o,o=null),o||u)for(g=0;g<m.length;g++){var h=u===m[g].id;if(o===m[g].fn&&h||!o&&h){m.splice(g,1);break}}else if(t)_["_on"+t]=[];else{var y=Object.keys(_);for(g=0;g<y.length;g++)y[g].indexOf("_on")===0&&Array.isArray(_[y[g]])&&(_[y[g]]=[])}return _},once:function(t,o,u){var _=this;return _.on(t,o,u,1),_},_emit:function(t,o,u){for(var _=this,m=_["_on"+t],g=m.length-1;g>=0;g--)(!m[g].id||m[g].id===o||t==="load")&&(setTimeout(function(h){h.call(this,o,u)}.bind(_,m[g].fn),0),m[g].once&&_.off(t,m[g].fn,m[g].id));return _._loadQueue(t),_},_loadQueue:function(t){var o=this;if(o._queue.length>0){var u=o._queue[0];u.event===t&&(o._queue.shift(),o._loadQueue()),t||u.action()}return o},_ended:function(t){var o=this,u=t._sprite;if(!o._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(o._ended.bind(o,t),100),o;var _=!!(t._loop||o._sprite[u][2]);if(o._emit("end",t._id),!o._webAudio&&_&&o.stop(t._id,!0).play(t._id),o._webAudio&&_){o._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=r.ctx.currentTime;var m=(t._stop-t._start)*1e3/Math.abs(t._rate);o._endTimers[t._id]=setTimeout(o._ended.bind(o,t),m)}return o._webAudio&&!_&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,o._clearTimer(t._id),o._cleanBuffer(t._node),r._autoSuspend()),!o._webAudio&&!_&&o.stop(t._id,!0),o},_clearTimer:function(t){var o=this;if(o._endTimers[t]){if(typeof o._endTimers[t]!="function")clearTimeout(o._endTimers[t]);else{var u=o._soundById(t);u&&u._node&&u._node.removeEventListener("ended",o._endTimers[t],!1)}delete o._endTimers[t]}return o},_soundById:function(t){for(var o=this,u=0;u<o._sounds.length;u++)if(t===o._sounds[u]._id)return o._sounds[u];return null},_inactiveSound:function(){var t=this;t._drain();for(var o=0;o<t._sounds.length;o++)if(t._sounds[o]._ended)return t._sounds[o].reset();return new a(t)},_drain:function(){var t=this,o=t._pool,u=0,_=0;if(!(t._sounds.length<o)){for(_=0;_<t._sounds.length;_++)t._sounds[_]._ended&&u++;for(_=t._sounds.length-1;_>=0;_--){if(u<=o)return;t._sounds[_]._ended&&(t._webAudio&&t._sounds[_]._node&&t._sounds[_]._node.disconnect(0),t._sounds.splice(_,1),u--)}}},_getSoundIds:function(t){var o=this;if(typeof t>"u"){for(var u=[],_=0;_<o._sounds.length;_++)u.push(o._sounds[_]._id);return u}else return[t]},_refreshBuffer:function(t){var o=this;return t._node.bufferSource=r.ctx.createBufferSource(),t._node.bufferSource.buffer=l[o._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,r.ctx.currentTime),o},_cleanBuffer:function(t){var o=this,u=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),u))try{t.bufferSource.buffer=r._scratchBuffer}catch{}return t.bufferSource=null,o},_clearSound:function(t){var o=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);o||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this,o=t._parent;return t._muted=o._muted,t._loop=o._loop,t._volume=o._volume,t._rate=o._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++r._counter,o._sounds.push(t),t.create(),t},create:function(){var t=this,o=t._parent,u=r._muted||t._muted||t._parent._muted?0:t._volume;return o._webAudio?(t._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),t._node.gain.setValueAtTime(u,r.ctx.currentTime),t._node.paused=!0,t._node.connect(r.masterGain)):r.noAudio||(t._node=r._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(r._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=o._src,t._node.preload=o._preload===!0?"auto":o._preload,t._node.volume=u*r.volume(),t._node.load()),t},reset:function(){var t=this,o=t._parent;return t._muted=o._muted,t._loop=o._loop,t._volume=o._volume,t._rate=o._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++r._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,o=t._parent;o._duration=Math.ceil(t._node.duration*10)/10,Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue()),t._node.removeEventListener(r._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,o=t._parent;o._duration===1/0&&(o._duration=Math.ceil(t._node.duration*10)/10,o._sprite.__default[1]===1/0&&(o._sprite.__default[1]=o._duration*1e3),o._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var l={},s=function(t){var o=t._src;if(l[o]){t._duration=l[o].duration,d(t);return}if(/^data:[^;]+;base64,/.test(o)){for(var u=atob(o.split(",")[1]),_=new Uint8Array(u.length),m=0;m<u.length;++m)_[m]=u.charCodeAt(m);f(_.buffer,t)}else{var g=new XMLHttpRequest;g.open(t._xhr.method,o,!0),g.withCredentials=t._xhr.withCredentials,g.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(h){g.setRequestHeader(h,t._xhr.headers[h])}),g.onload=function(){var h=(g.status+"")[0];if(h!=="0"&&h!=="2"&&h!=="3"){t._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}f(g.response,t)},g.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[o],t.load())},c(g)}},c=function(t){try{t.send()}catch{t.onerror()}},f=function(t,o){var u=function(){o._emit("loaderror",null,"Decoding audio data failed.")},_=function(m){m&&o._sounds.length>0?(l[o._src]=m,d(o,m)):u()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(t).then(_).catch(u):r.ctx.decodeAudioData(t,_,u)},d=function(t,o){o&&!t._duration&&(t._duration=o.duration),Object.keys(t._sprite).length===0&&(t._sprite={__default:[0,t._duration*1e3]}),t._state!=="loaded"&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),o=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=o?parseInt(o[1],10):null;if(t&&u&&u<9){var _=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!_&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};e.Howler=r,e.Howl=i,typeof pe<"u"?(pe.HowlerGlobal=n,pe.Howler=r,pe.Howl=i,pe.Sound=a):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=r,window.Howl=i,window.Sound=a)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var a=i._howls.length-1;a>=0;a--)i._howls[a].stereo(r);return i},HowlerGlobal.prototype.pos=function(r,i,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(i=typeof i!="number"?l._pos[1]:i,a=typeof a!="number"?l._pos[2]:a,typeof r=="number")l._pos=[r,i,a],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(r,i,a,l,s,c){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(i=typeof i!="number"?d[1]:i,a=typeof a!="number"?d[2]:a,l=typeof l!="number"?d[3]:l,s=typeof s!="number"?d[4]:s,c=typeof c!="number"?d[5]:c,typeof r=="number")f._orientation=[r,i,a,l,s,c],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(r,i,a,l,s,c);else return d;return f},Howl.prototype.init=function(r){return function(i){var a=this;return a._orientation=i.orientation||[1,0,0],a._stereo=i.stereo||null,a._pos=i.pos||null,a._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},a._onstereo=i.onstereo?[{fn:i.onstereo}]:[],a._onpos=i.onpos?[{fn:i.onpos}]:[],a._onorientation=i.onorientation?[{fn:i.onorientation}]:[],r.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,i){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"stereo",action:function(){a.stereo(r,i)}}),a;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof r=="number")a._stereo=r,a._pos=[r,0,0];else return a._stereo;for(var s=a._getSoundIds(i),c=0;c<s.length;c++){var f=a._soundById(s[c]);if(f)if(typeof r=="number")f._stereo=r,f._pos=[r,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&n(f,l),l==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(r,0,0):f._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),a._emit("stereo",f._id);else return f._stereo}return a},Howl.prototype.pos=function(r,i,a,l){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(r,i,a,l)}}),s;if(i=typeof i!="number"?0:i,a=typeof a!="number"?-.5:a,typeof l>"u")if(typeof r=="number")s._pos=[r,i,a];else return s._pos;for(var c=s._getSoundIds(l),f=0;f<c.length;f++){var d=s._soundById(c[f]);if(d)if(typeof r=="number")d._pos=[r,i,a],d._node&&((!d._panner||d._panner.pan)&&n(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(a,Howler.ctx.currentTime)):d._panner.setPosition(r,i,a)),s._emit("pos",d._id);else return d._pos}return s},Howl.prototype.orientation=function(r,i,a,l){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(r,i,a,l)}}),s;if(i=typeof i!="number"?s._orientation[1]:i,a=typeof a!="number"?s._orientation[2]:a,typeof l>"u")if(typeof r=="number")s._orientation=[r,i,a];else return s._orientation;for(var c=s._getSoundIds(l),f=0;f<c.length;f++){var d=s._soundById(c[f]);if(d)if(typeof r=="number")d._orientation=[r,i,a],d._node&&(d._panner||(d._pos||(d._pos=s._pos||[0,0,-.5]),n(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(a,Howler.ctx.currentTime)):d._panner.setOrientation(r,i,a)),s._emit("orientation",d._id);else return d._orientation}return s},Howl.prototype.pannerAttr=function(){var r=this,i=arguments,a,l,s;if(!r._webAudio)return r;if(i.length===0)return r._pannerAttr;if(i.length===1)if(typeof i[0]=="object")a=i[0],typeof l>"u"&&(a.pannerAttr||(a.pannerAttr={coneInnerAngle:a.coneInnerAngle,coneOuterAngle:a.coneOuterAngle,coneOuterGain:a.coneOuterGain,distanceModel:a.distanceModel,maxDistance:a.maxDistance,refDistance:a.refDistance,rolloffFactor:a.rolloffFactor,panningModel:a.panningModel}),r._pannerAttr={coneInnerAngle:typeof a.pannerAttr.coneInnerAngle<"u"?a.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof a.pannerAttr.coneOuterAngle<"u"?a.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof a.pannerAttr.coneOuterGain<"u"?a.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof a.pannerAttr.distanceModel<"u"?a.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof a.pannerAttr.maxDistance<"u"?a.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof a.pannerAttr.refDistance<"u"?a.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof a.pannerAttr.rolloffFactor<"u"?a.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof a.pannerAttr.panningModel<"u"?a.pannerAttr.panningModel:r._panningModel});else return s=r._soundById(parseInt(i[0],10)),s?s._pannerAttr:r._pannerAttr;else i.length===2&&(a=i[0],l=parseInt(i[1],10));for(var c=r._getSoundIds(l),f=0;f<c.length;f++)if(s=r._soundById(c[f]),s){var d=s._pannerAttr;d={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:d.coneOuterGain,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:d.distanceModel,maxDistance:typeof a.maxDistance<"u"?a.maxDistance:d.maxDistance,refDistance:typeof a.refDistance<"u"?a.refDistance:d.refDistance,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:d.rolloffFactor,panningModel:typeof a.panningModel<"u"?a.panningModel:d.panningModel};var p=s._panner;p?(p.coneInnerAngle=d.coneInnerAngle,p.coneOuterAngle=d.coneOuterAngle,p.coneOuterGain=d.coneOuterGain,p.distanceModel=d.distanceModel,p.maxDistance=d.maxDistance,p.refDistance=d.refDistance,p.rolloffFactor=d.rolloffFactor,p.panningModel=d.panningModel):(s._pos||(s._pos=r._pos||[0,0,-.5]),n(s,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var i=this,a=i._parent;i._orientation=a._orientation,i._stereo=a._stereo,i._pos=a._pos,i._pannerAttr=a._pannerAttr,r.call(this),i._stereo?a.stereo(i._stereo):i._pos&&a.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var i=this,a=i._parent;return i._orientation=a._orientation,i._stereo=a._stereo,i._pos=a._pos,i._pannerAttr=a._pannerAttr,i._stereo?a.stereo(i._stereo):i._pos?a.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,a._refreshBuffer(i)),r.call(this)}}(Sound.prototype.reset);var n=function(r,i){i=i||"spatial",i==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(Je);function Lt(e){return Object.prototype.toString.call(e)==="[object Date]"}function vt(e,n){if(e===n||e!==e)return()=>e;const r=typeof e;if(r!==typeof n||Array.isArray(e)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const i=n.map((a,l)=>vt(e[l],a));return a=>i.map(l=>l(a))}if(r==="object"){if(!e||!n)throw new Error("Object cannot be null");if(Lt(e)&&Lt(n)){e=e.getTime(),n=n.getTime();const l=n-e;return s=>new Date(e+s*l)}const i=Object.keys(n),a={};return i.forEach(l=>{a[l]=vt(e[l],n[l])}),l=>{const s={};return i.forEach(c=>{s[c]=a[c](l)}),s}}if(r==="number"){const i=n-e;return a=>e+a*i}throw new Error(`Cannot interpolate ${r} values`)}function wn(e,n={}){const r=Fn(e);let i,a=e;function l(s,c){if(e==null)return r.set(e=s),Promise.resolve();a=s;let f=i,d=!1,{delay:p=0,duration:t=400,easing:o=Hn,interpolate:u=vt}=Pt(Pt({},n),c);if(t===0)return f&&(f.abort(),f=null),r.set(e=a),Promise.resolve();const _=On()+p;let m;return i=Rn(g=>{if(g<_)return!0;d||(m=u(e,s),typeof t=="function"&&(t=t(e,s)),d=!0),f&&(f.abort(),f=null);const h=g-_;return h>t?(r.set(e=s),!1):(r.set(e=m(o(h/t))),!0)}),i.promise}return{set:l,update:(s,c)=>l(s(a,e),c),subscribe:r.subscribe}}function Vn(e){let n,r,i;return{c(){n=Se("circle"),this.h()},l(a){n=Ie(a,"circle",{fill:!0,r:!0,cx:!0,cy:!0,class:!0}),j(n).forEach(x),this.h()},h(){v(n,"fill",e[0]),v(n,"r",e[3]),v(n,"cx",r=e[6](e[4](e[1]))),v(n,"cy",i=e[7](e[4](e[1]))),v(n,"class","svelte-1ark9kl"),Nt(n,"muted",!e[2])},m(a,l){q(a,n,l)},p(a,[l]){l&1&&v(n,"fill",a[0]),l&8&&v(n,"r",a[3]),l&2&&r!==(r=a[6](a[4](a[1])))&&v(n,"cx",r),l&2&&i!==(i=a[7](a[4](a[1])))&&v(n,"cy",i),l&4&&Nt(n,"muted",!a[2])},i:ue,o:ue,d(a){a&&x(n)}}}const Wn=.05,dt=10,Xn=20;function Zn(e,n,r){let i,a,l,s,{color:c}=n,{note:f}=n,{id:d}=n,{innerRadius:p}=n;const{beatsPerRotation:t,getCycleDuration:o,getAngleScale:u,getT:_,getInstrumentToggles:m}=Ln("song"),g=u(),h=_();et(e,h,D=>r(12,l=D));const y=m(),S=o()/t/2,P={hihat:new Je.Howl({src:["assets/sound/hihat.mp3"]}),kick:new Je.Howl({src:["assets/sound/kick.mp3"]}),snare:new Je.Howl({src:["assets/sound/snare.mp3"]})},E=D=>p*Math.cos(D),$=D=>p*Math.sin(D),L=wn(dt);et(e,L,D=>r(3,s=D));const O=()=>{P[d].state()==="loaded"&&P[d].play(),d!=="hihat"&&(L.set(dt,{duration:0}),L.set(Xn,{duration:S}).then(()=>L.set(dt,{duration:S})))};return e.$$set=D=>{"color"in D&&r(0,c=D.color),"note"in D&&r(1,f=D.note),"id"in D&&r(9,d=D.id),"innerRadius"in D&&r(10,p=D.innerRadius)},e.$$.update=()=>{e.$$.dirty&4098&&r(11,i=l>=f&&l<f+Wn),e.$$.dirty&512&&r(2,a=y[d]==="on"),e.$$.dirty&2052&&i&&a&&O()},[c,f,a,s,g,h,E,$,L,d,p,i,l]}class Qn extends me{constructor(n){super(),ge(this,n,Zn,Vn,de,{color:0,note:1,id:9,innerRadius:10})}}function Dt(e,n,r){const i=e.slice();return i[4]=n[r],i}function $t(e){let n,r;return n=new Qn({props:{note:e[4],color:e[3][e[0]],id:e[0],innerRadius:150+e[1]*22}}),{c(){ne(n.$$.fragment)},l(i){re(n.$$.fragment,i)},m(i,a){ie(n,i,a),r=!0},p(i,a){const l={};a&4&&(l.note=i[4]),a&1&&(l.color=i[3][i[0]]),a&1&&(l.id=i[0]),a&2&&(l.innerRadius=150+i[1]*22),n.$set(l)},i(i){r||(W(n.$$.fragment,i),r=!0)},o(i){Q(n.$$.fragment,i),r=!1},d(i){ae(n,i)}}}function Yn(e){let n,r,i=e[2],a=[];for(let s=0;s<i.length;s+=1)a[s]=$t(Dt(e,i,s));const l=s=>Q(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();n=J()},l(s){for(let c=0;c<a.length;c+=1)a[c].l(s);n=J()},m(s,c){for(let f=0;f<a.length;f+=1)a[f].m(s,c);q(s,n,c),r=!0},p(s,[c]){if(c&15){i=s[2];let f;for(f=0;f<i.length;f+=1){const d=Dt(s,i,f);a[f]?(a[f].p(d,c),W(a[f],1)):(a[f]=$t(d),a[f].c(),W(a[f],1),a[f].m(n.parentNode,n))}for(ut(),f=i.length;f<a.length;f+=1)l(f);ft()}},i(s){if(!r){for(let c=0;c<i.length;c+=1)W(a[c]);r=!0}},o(s){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)Q(a[c]);r=!1},d(s){Fe(a,s),s&&x(n)}}}function Kn(e,n,r){let{id:i}=n,{i:a}=n,{data:l}=n;const s={hihat:"lightblue",kick:"darkblue",snare:"cornflowerblue"};return e.$$set=c=>{"id"in c&&r(0,i=c.id),"i"in c&&r(1,a=c.i),"data"in c&&r(2,l=c.data)},[i,a,l,s]}class Un extends me{constructor(n){super(),ge(this,n,Kn,Yn,de,{id:0,i:1,data:2})}}var Jn="Expected a function",Ft=0/0,zn="[object Symbol]",er=/^\s+|\s+$/g,tr=/^[-+]0x[0-9a-f]+$/i,nr=/^0b[01]+$/i,rr=/^0o[0-7]+$/i,ir=parseInt,ar=typeof pe=="object"&&pe&&pe.Object===Object&&pe,or=typeof self=="object"&&self&&self.Object===Object&&self,lr=ar||or||Function("return this")(),sr=Object.prototype,ur=sr.toString,fr=Math.max,cr=Math.min,_t=function(){return lr.Date.now()};function dr(e,n,r){var i,a,l,s,c,f,d=0,p=!1,t=!1,o=!0;if(typeof e!="function")throw new TypeError(Jn);n=Bt(n)||0,yt(r)&&(p=!!r.leading,t="maxWait"in r,l=t?fr(Bt(r.maxWait)||0,n):l,o="trailing"in r?!!r.trailing:o);function u(E){var $=i,L=a;return i=a=void 0,d=E,s=e.apply(L,$),s}function _(E){return d=E,c=setTimeout(h,n),p?u(E):s}function m(E){var $=E-f,L=E-d,O=n-$;return t?cr(O,l-L):O}function g(E){var $=E-f,L=E-d;return f===void 0||$>=n||$<0||t&&L>=l}function h(){var E=_t();if(g(E))return y(E);c=setTimeout(h,m(E))}function y(E){return c=void 0,o&&i?u(E):(i=a=void 0,s)}function T(){c!==void 0&&clearTimeout(c),d=0,i=f=a=c=void 0}function S(){return c===void 0?s:y(_t())}function P(){var E=_t(),$=g(E);if(i=arguments,a=this,f=E,$){if(c===void 0)return _(f);if(t)return c=setTimeout(h,n),u(f)}return c===void 0&&(c=setTimeout(h,n)),s}return P.cancel=T,P.flush=S,P}function yt(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function _r(e){return!!e&&typeof e=="object"}function hr(e){return typeof e=="symbol"||_r(e)&&ur.call(e)==zn}function Bt(e){if(typeof e=="number")return e;if(hr(e))return Ft;if(yt(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=yt(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(er,"");var r=nr.test(e);return r||rr.test(e)?ir(e.slice(2),r?2:8):tr.test(e)?Ft:+e}var pr=dr;const mr=Bn({width:0,height:0},e=>{const n=()=>e({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",pr(n,250)),()=>{window.removeEventListener("resize",n)}});function ze(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function An(e){let n,r,i;e.length!==2?(n=ze,r=(c,f)=>ze(e(c),f),i=(c,f)=>e(c)-f):(n=e===ze||e===Gn?e:gr,r=e,i=e);function a(c,f,d=0,p=c.length){if(d<p){if(n(f,f)!==0)return p;do{const t=d+p>>>1;r(c[t],f)<0?d=t+1:p=t}while(d<p)}return d}function l(c,f,d=0,p=c.length){if(d<p){if(n(f,f)!==0)return p;do{const t=d+p>>>1;r(c[t],f)<=0?d=t+1:p=t}while(d<p)}return d}function s(c,f,d=0,p=c.length){const t=a(c,f,d,p-1);return t>d&&i(c[t-1],f)>-i(c[t],f)?t-1:t}return{left:a,center:s,right:l}}function gr(){return 0}function vr(e){return e===null?NaN:+e}const yr=An(ze),br=yr.right;An(vr).center;const wr=br,Ar=Math.sqrt(50),Tr=Math.sqrt(10),xr=Math.sqrt(2);function tt(e,n,r){const i=(n-e)/Math.max(0,r),a=Math.floor(Math.log10(i)),l=i/Math.pow(10,a),s=l>=Ar?10:l>=Tr?5:l>=xr?2:1;let c,f,d;return a<0?(d=Math.pow(10,-a)/s,c=Math.round(e*d),f=Math.round(n*d),c/d<e&&++c,f/d>n&&--f,d=-d):(d=Math.pow(10,a)*s,c=Math.round(e/d),f=Math.round(n/d),c*d<e&&++c,f*d>n&&--f),f<c&&.5<=r&&r<2?tt(e,n,r*2):[c,f,d]}function kr(e,n,r){if(n=+n,e=+e,r=+r,!(r>0))return[];if(e===n)return[e];const i=n<e,[a,l,s]=i?tt(n,e,r):tt(e,n,r);if(!(l>=a))return[];const c=l-a+1,f=new Array(c);if(i)if(s<0)for(let d=0;d<c;++d)f[d]=(l-d)/-s;else for(let d=0;d<c;++d)f[d]=(l-d)*s;else if(s<0)for(let d=0;d<c;++d)f[d]=(a+d)/-s;else for(let d=0;d<c;++d)f[d]=(a+d)*s;return f}function bt(e,n,r){return n=+n,e=+e,r=+r,tt(e,n,r)[2]}function Mr(e,n,r){n=+n,e=+e,r=+r;const i=n<e,a=i?bt(n,e,r):bt(e,n,r);return(i?-1:1)*(a<0?1/-a:a)}function De(e,n,r){e=+e,n=+n,r=(a=arguments.length)<2?(n=e,e=0,1):a<3?1:+r;for(var i=-1,a=Math.max(0,Math.ceil((n-e)/r))|0,l=new Array(a);++i<a;)l[i]=e+i*r;return l}function Mt(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function Tn(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function Ze(){}var je=.7,nt=1/je,Le="\\s*([+-]?\\d+)\\s*",Ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sr=/^#([0-9a-f]{3,8})$/,Ir=new RegExp(`^rgb\\(${Le},${Le},${Le}\\)$`),Er=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),Pr=new RegExp(`^rgba\\(${Le},${Le},${Le},${Ve}\\)$`),Nr=new RegExp(`^rgba\\(${ce},${ce},${ce},${Ve}\\)$`),Or=new RegExp(`^hsl\\(${Ve},${ce},${ce}\\)$`),Rr=new RegExp(`^hsla\\(${Ve},${ce},${ce},${Ve}\\)$`),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mt(Ze,We,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qt,formatHex:qt,formatHex8:Hr,formatHsl:Lr,formatRgb:Ct,toString:Ct});function qt(){return this.rgb().formatHex()}function Hr(){return this.rgb().formatHex8()}function Lr(){return xn(this).formatHsl()}function Ct(){return this.rgb().formatRgb()}function We(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=Sr.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?jt(n):r===3?new oe(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?Qe(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?Qe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ir.exec(e))?new oe(n[1],n[2],n[3],1):(n=Er.exec(e))?new oe(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Pr.exec(e))?Qe(n[1],n[2],n[3],n[4]):(n=Nr.exec(e))?Qe(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Or.exec(e))?Xt(n[1],n[2]/100,n[3]/100,1):(n=Rr.exec(e))?Xt(n[1],n[2]/100,n[3]/100,n[4]):Gt.hasOwnProperty(e)?jt(Gt[e]):e==="transparent"?new oe(NaN,NaN,NaN,0):null}function jt(e){return new oe(e>>16&255,e>>8&255,e&255,1)}function Qe(e,n,r,i){return i<=0&&(e=n=r=NaN),new oe(e,n,r,i)}function Dr(e){return e instanceof Ze||(e=We(e)),e?(e=e.rgb(),new oe(e.r,e.g,e.b,e.opacity)):new oe}function wt(e,n,r,i){return arguments.length===1?Dr(e):new oe(e,n,r,i??1)}function oe(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}Mt(oe,wt,Tn(Ze,{brighter(e){return e=e==null?nt:Math.pow(nt,e),new oe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?je:Math.pow(je,e),new oe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oe(Ee(this.r),Ee(this.g),Ee(this.b),rt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vt,formatHex:Vt,formatHex8:$r,formatRgb:Wt,toString:Wt}));function Vt(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}`}function $r(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}${Me((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wt(){const e=rt(this.opacity);return`${e===1?"rgb(":"rgba("}${Ee(this.r)}, ${Ee(this.g)}, ${Ee(this.b)}${e===1?")":`, ${e})`}`}function rt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ee(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Me(e){return e=Ee(e),(e<16?"0":"")+e.toString(16)}function Xt(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new se(e,n,r,i)}function xn(e){if(e instanceof se)return new se(e.h,e.s,e.l,e.opacity);if(e instanceof Ze||(e=We(e)),!e)return new se;if(e instanceof se)return e;e=e.rgb();var n=e.r/255,r=e.g/255,i=e.b/255,a=Math.min(n,r,i),l=Math.max(n,r,i),s=NaN,c=l-a,f=(l+a)/2;return c?(n===l?s=(r-i)/c+(r<i)*6:r===l?s=(i-n)/c+2:s=(n-r)/c+4,c/=f<.5?l+a:2-l-a,s*=60):c=f>0&&f<1?0:s,new se(s,c,f,e.opacity)}function Fr(e,n,r,i){return arguments.length===1?xn(e):new se(e,n,r,i??1)}function se(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}Mt(se,Fr,Tn(Ze,{brighter(e){return e=e==null?nt:Math.pow(nt,e),new se(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?je:Math.pow(je,e),new se(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new oe(ht(e>=240?e-240:e+120,a,i),ht(e,a,i),ht(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new se(Zt(this.h),Ye(this.s),Ye(this.l),rt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rt(this.opacity);return`${e===1?"hsl(":"hsla("}${Zt(this.h)}, ${Ye(this.s)*100}%, ${Ye(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zt(e){return e=(e||0)%360,e<0?e+360:e}function Ye(e){return Math.max(0,Math.min(1,e||0))}function ht(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const St=e=>()=>e;function Br(e,n){return function(r){return e+r*n}}function Gr(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(i){return Math.pow(e+i*n,r)}}function qr(e){return(e=+e)==1?kn:function(n,r){return r-n?Gr(n,r,e):St(isNaN(n)?r:n)}}function kn(e,n){var r=n-e;return r?Br(e,r):St(isNaN(e)?n:e)}const Qt=function e(n){var r=qr(n);function i(a,l){var s=r((a=wt(a)).r,(l=wt(l)).r),c=r(a.g,l.g),f=r(a.b,l.b),d=kn(a.opacity,l.opacity);return function(p){return a.r=s(p),a.g=c(p),a.b=f(p),a.opacity=d(p),a+""}}return i.gamma=e,i}(1);function Cr(e,n){n||(n=[]);var r=e?Math.min(n.length,e.length):0,i=n.slice(),a;return function(l){for(a=0;a<r;++a)i[a]=e[a]*(1-l)+n[a]*l;return i}}function jr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Vr(e,n){var r=n?n.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),l=new Array(r),s;for(s=0;s<i;++s)a[s]=It(e[s],n[s]);for(;s<r;++s)l[s]=n[s];return function(c){for(s=0;s<i;++s)l[s]=a[s](c);return l}}function Wr(e,n){var r=new Date;return e=+e,n=+n,function(i){return r.setTime(e*(1-i)+n*i),r}}function it(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}function Xr(e,n){var r={},i={},a;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(a in n)a in e?r[a]=It(e[a],n[a]):i[a]=n[a];return function(l){for(a in r)i[a]=r[a](l);return i}}var At=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pt=new RegExp(At.source,"g");function Zr(e){return function(){return e}}function Qr(e){return function(n){return e(n)+""}}function Yr(e,n){var r=At.lastIndex=pt.lastIndex=0,i,a,l,s=-1,c=[],f=[];for(e=e+"",n=n+"";(i=At.exec(e))&&(a=pt.exec(n));)(l=a.index)>r&&(l=n.slice(r,l),c[s]?c[s]+=l:c[++s]=l),(i=i[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,f.push({i:s,x:it(i,a)})),r=pt.lastIndex;return r<n.length&&(l=n.slice(r),c[s]?c[s]+=l:c[++s]=l),c.length<2?f[0]?Qr(f[0].x):Zr(n):(n=f.length,function(d){for(var p=0,t;p<n;++p)c[(t=f[p]).i]=t.x(d);return c.join("")})}function It(e,n){var r=typeof n,i;return n==null||r==="boolean"?St(n):(r==="number"?it:r==="string"?(i=We(n))?(n=i,Qt):Yr:n instanceof We?Qt:n instanceof Date?Wr:jr(n)?Cr:Array.isArray(n)?Vr:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Xr:it)(e,n)}function Kr(e,n){return e=+e,n=+n,function(r){return Math.round(e*(1-r)+n*r)}}const Tt=Math.PI,xt=2*Tt,Ae=1e-6,Ur=xt-Ae;function Mn(e){this._+=e[0];for(let n=1,r=e.length;n<r;++n)this._+=arguments[n]+e[n]}function Jr(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return Mn;const r=10**n;return function(i){this._+=i[0];for(let a=1,l=i.length;a<l;++a)this._+=Math.round(arguments[a]*r)/r+i[a]}}class zr{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Mn:Jr(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,i,a){this._append`Q${+n},${+r},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(n,r,i,a,l,s){this._append`C${+n},${+r},${+i},${+a},${this._x1=+l},${this._y1=+s}`}arcTo(n,r,i,a,l){if(n=+n,r=+r,i=+i,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let s=this._x1,c=this._y1,f=i-n,d=a-r,p=s-n,t=c-r,o=p*p+t*t;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(o>Ae)if(!(Math.abs(t*f-d*p)>Ae)||!l)this._append`L${this._x1=n},${this._y1=r}`;else{let u=i-s,_=a-c,m=f*f+d*d,g=u*u+_*_,h=Math.sqrt(m),y=Math.sqrt(o),T=l*Math.tan((Tt-Math.acos((m+o-g)/(2*h*y)))/2),S=T/y,P=T/h;Math.abs(S-1)>Ae&&this._append`L${n+S*p},${r+S*t}`,this._append`A${l},${l},0,0,${+(t*u>p*_)},${this._x1=n+P*f},${this._y1=r+P*d}`}}arc(n,r,i,a,l,s){if(n=+n,r=+r,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),f=i*Math.sin(a),d=n+c,p=r+f,t=1^s,o=s?a-l:l-a;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Ae||Math.abs(this._y1-p)>Ae)&&this._append`L${d},${p}`,i&&(o<0&&(o=o%xt+xt),o>Ur?this._append`A${i},${i},0,1,${t},${n-c},${r-f}A${i},${i},0,1,${t},${this._x1=d},${this._y1=p}`:o>Ae&&this._append`A${i},${i},0,${+(o>=Tt)},${t},${this._x1=n+i*Math.cos(l)},${this._y1=r+i*Math.sin(l)}`)}rect(n,r,i,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function ei(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function at(e,n){if((r=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function $e(e){return e=at(Math.abs(e)),e?e[1]:NaN}function ti(e,n){return function(r,i){for(var a=r.length,l=[],s=0,c=e[0],f=0;a>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),l.push(r.substring(a-=c,a+c)),!((f+=c+1)>i));)c=e[s=(s+1)%e.length];return l.reverse().join(n)}}function ni(e){return function(n){return n.replace(/[0-9]/g,function(r){return e[+r]})}}var ri=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ot(e){if(!(n=ri.exec(e)))throw new Error("invalid format: "+e);var n;return new Et({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}ot.prototype=Et.prototype;function Et(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Et.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ii(e){e:for(var n=e.length,r=1,i=-1,a;r<n;++r)switch(e[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(a+1):e}var Sn;function ai(e,n){var r=at(e,n);if(!r)return e+"";var i=r[0],a=r[1],l=a-(Sn=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=i.length;return l===s?i:l>s?i+new Array(l-s+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+at(e,Math.max(0,n+l-1))[0]}function Yt(e,n){var r=at(e,n);if(!r)return e+"";var i=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}const Kt={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ei,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>Yt(e*100,n),r:Yt,s:ai,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ut(e){return e}var Jt=Array.prototype.map,zt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oi(e){var n=e.grouping===void 0||e.thousands===void 0?Ut:ti(Jt.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Ut:ni(Jt.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(t){t=ot(t);var o=t.fill,u=t.align,_=t.sign,m=t.symbol,g=t.zero,h=t.width,y=t.comma,T=t.precision,S=t.trim,P=t.type;P==="n"?(y=!0,P="g"):Kt[P]||(T===void 0&&(T=12),S=!0,P="g"),(g||o==="0"&&u==="=")&&(g=!0,o="0",u="=");var E=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",$=m==="$"?i:/[%p]/.test(P)?s:"",L=Kt[P],O=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function D(I){var M=E,A=$,b,R,H;if(P==="c")A=L(I)+A,I="";else{I=+I;var w=I<0||1/I<0;if(I=isNaN(I)?f:L(Math.abs(I),T),S&&(I=ii(I)),w&&+I==0&&_!=="+"&&(w=!1),M=(w?_==="("?_:c:_==="-"||_==="("?"":_)+M,A=(P==="s"?zt[8+Sn/3]:"")+A+(w&&_==="("?")":""),O){for(b=-1,R=I.length;++b<R;)if(H=I.charCodeAt(b),48>H||H>57){A=(H===46?a+I.slice(b+1):I.slice(b))+A,I=I.slice(0,b);break}}}y&&!g&&(I=n(I,1/0));var G=M.length+I.length+A.length,V=G<h?new Array(h-G+1).join(o):"";switch(y&&g&&(I=n(V+I,V.length?h-A.length:1/0),V=""),u){case"<":I=M+I+A+V;break;case"=":I=M+V+I+A;break;case"^":I=V.slice(0,G=V.length>>1)+M+I+A+V.slice(G);break;default:I=V+M+I+A;break}return l(I)}return D.toString=function(){return t+""},D}function p(t,o){var u=d((t=ot(t),t.type="f",t)),_=Math.max(-8,Math.min(8,Math.floor($e(o)/3)))*3,m=Math.pow(10,-_),g=zt[8+_/3];return function(h){return u(m*h)+g}}return{format:d,formatPrefix:p}}var Ke,lt,In;li({thousands:",",grouping:[3],currency:["$",""]});function li(e){return Ke=oi(e),lt=Ke.format,In=Ke.formatPrefix,Ke}function si(e){return Math.max(0,-$e(Math.abs(e)))}function ui(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($e(n)/3)))*3-$e(Math.abs(e)))}function fi(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,$e(n)-$e(e))+1}function ci(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function di(e){return function(){return e}}function _i(e){return+e}var en=[0,1];function Oe(e){return e}function kt(e,n){return(n-=e=+e)?function(r){return(r-e)/n}:di(isNaN(n)?NaN:.5)}function hi(e,n){var r;return e>n&&(r=e,e=n,n=r),function(i){return Math.max(e,Math.min(n,i))}}function pi(e,n,r){var i=e[0],a=e[1],l=n[0],s=n[1];return a<i?(i=kt(a,i),l=r(s,l)):(i=kt(i,a),l=r(l,s)),function(c){return l(i(c))}}function mi(e,n,r){var i=Math.min(e.length,n.length)-1,a=new Array(i),l=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<i;)a[s]=kt(e[s],e[s+1]),l[s]=r(n[s],n[s+1]);return function(c){var f=wr(e,c,1,i)-1;return l[f](a[f](c))}}function gi(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vi(){var e=en,n=en,r=It,i,a,l,s=Oe,c,f,d;function p(){var o=Math.min(e.length,n.length);return s!==Oe&&(s=hi(e[0],e[o-1])),c=o>2?mi:pi,f=d=null,t}function t(o){return o==null||isNaN(o=+o)?l:(f||(f=c(e.map(i),n,r)))(i(s(o)))}return t.invert=function(o){return s(a((d||(d=c(n,e.map(i),it)))(o)))},t.domain=function(o){return arguments.length?(e=Array.from(o,_i),p()):e.slice()},t.range=function(o){return arguments.length?(n=Array.from(o),p()):n.slice()},t.rangeRound=function(o){return n=Array.from(o),r=Kr,p()},t.clamp=function(o){return arguments.length?(s=o?!0:Oe,p()):s!==Oe},t.interpolate=function(o){return arguments.length?(r=o,p()):r},t.unknown=function(o){return arguments.length?(l=o,t):l},function(o,u){return i=o,a=u,p()}}function yi(){return vi()(Oe,Oe)}function bi(e,n,r,i){var a=Mr(e,n,r),l;switch(i=ot(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(n));return i.precision==null&&!isNaN(l=ui(a,s))&&(i.precision=l),In(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=fi(a,Math.max(Math.abs(e),Math.abs(n))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=si(a))&&(i.precision=l-(i.type==="%")*2);break}}return lt(i)}function wi(e){var n=e.domain;return e.ticks=function(r){var i=n();return kr(i[0],i[i.length-1],r??10)},e.tickFormat=function(r,i){var a=n();return bi(a[0],a[a.length-1],r??10,i)},e.nice=function(r){r==null&&(r=10);var i=n(),a=0,l=i.length-1,s=i[a],c=i[l],f,d,p=10;for(c<s&&(d=s,s=c,c=d,d=a,a=l,l=d);p-- >0;){if(d=bt(s,c,r),d===f)return i[a]=s,i[l]=c,n(i);if(d>0)s=Math.floor(s/d)*d,c=Math.ceil(c/d)*d;else if(d<0)s=Math.ceil(s*d)/d,c=Math.floor(c*d)/d;else break;f=d}return e},e}function En(){var e=yi();return e.copy=function(){return gi(e,En())},ci.apply(e,arguments),wi(e)}function ve(e){return function(){return e}}const tn=Math.abs,U=Math.atan2,we=Math.cos,Ai=Math.max,mt=Math.min,fe=Math.sin,Re=Math.sqrt,te=1e-12,Xe=Math.PI,st=Xe/2,Ti=2*Xe;function xi(e){return e>1?0:e<-1?Xe:Math.acos(e)}function nn(e){return e>=1?st:e<=-1?-st:Math.asin(e)}function ki(e){let n=3;return e.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);n=i}return e},()=>new zr(n)}function Mi(e){return e.innerRadius}function Si(e){return e.outerRadius}function Ii(e){return e.startAngle}function Ei(e){return e.endAngle}function Pi(e){return e&&e.padAngle}function Ni(e,n,r,i,a,l,s,c){var f=r-e,d=i-n,p=s-a,t=c-l,o=t*f-p*d;if(!(o*o<te))return o=(p*(n-l)-t*(e-a))/o,[e+o*f,n+o*d]}function Ue(e,n,r,i,a,l,s){var c=e-r,f=n-i,d=(s?l:-l)/Re(c*c+f*f),p=d*f,t=-d*c,o=e+p,u=n+t,_=r+p,m=i+t,g=(o+_)/2,h=(u+m)/2,y=_-o,T=m-u,S=y*y+T*T,P=a-l,E=o*m-_*u,$=(T<0?-1:1)*Re(Ai(0,P*P*S-E*E)),L=(E*T-y*$)/S,O=(-E*y-T*$)/S,D=(E*T+y*$)/S,I=(-E*y+T*$)/S,M=L-g,A=O-h,b=D-g,R=I-h;return M*M+A*A>b*b+R*R&&(L=D,O=I),{cx:L,cy:O,x01:-p,y01:-t,x11:L*(a/P-1),y11:O*(a/P-1)}}function Oi(){var e=Mi,n=Si,r=ve(0),i=null,a=Ii,l=Ei,s=Pi,c=null,f=ki(d);function d(){var p,t,o=+e.apply(this,arguments),u=+n.apply(this,arguments),_=a.apply(this,arguments)-st,m=l.apply(this,arguments)-st,g=tn(m-_),h=m>_;if(c||(c=p=f()),u<o&&(t=u,u=o,o=t),!(u>te))c.moveTo(0,0);else if(g>Ti-te)c.moveTo(u*we(_),u*fe(_)),c.arc(0,0,u,_,m,!h),o>te&&(c.moveTo(o*we(m),o*fe(m)),c.arc(0,0,o,m,_,h));else{var y=_,T=m,S=_,P=m,E=g,$=g,L=s.apply(this,arguments)/2,O=L>te&&(i?+i.apply(this,arguments):Re(o*o+u*u)),D=mt(tn(u-o)/2,+r.apply(this,arguments)),I=D,M=D,A,b;if(O>te){var R=nn(O/o*fe(L)),H=nn(O/u*fe(L));(E-=R*2)>te?(R*=h?1:-1,S+=R,P-=R):(E=0,S=P=(_+m)/2),($-=H*2)>te?(H*=h?1:-1,y+=H,T-=H):($=0,y=T=(_+m)/2)}var w=u*we(y),G=u*fe(y),V=o*we(P),z=o*fe(P);if(D>te){var ee=u*we(T),Pe=u*fe(T),Ne=o*we(S),Be=o*fe(S),le;if(g<Xe)if(le=Ni(w,G,Ne,Be,ee,Pe,V,z)){var k=w-le[0],C=G-le[1],_e=ee-le[0],he=Pe-le[1],Ge=1/fe(xi((k*_e+C*he)/(Re(k*k+C*C)*Re(_e*_e+he*he)))/2),qe=Re(le[0]*le[0]+le[1]*le[1]);I=mt(D,(o-qe)/(Ge-1)),M=mt(D,(u-qe)/(Ge+1))}else I=M=0}$>te?M>te?(A=Ue(Ne,Be,w,G,u,M,h),b=Ue(ee,Pe,V,z,u,M,h),c.moveTo(A.cx+A.x01,A.cy+A.y01),M<D?c.arc(A.cx,A.cy,M,U(A.y01,A.x01),U(b.y01,b.x01),!h):(c.arc(A.cx,A.cy,M,U(A.y01,A.x01),U(A.y11,A.x11),!h),c.arc(0,0,u,U(A.cy+A.y11,A.cx+A.x11),U(b.cy+b.y11,b.cx+b.x11),!h),c.arc(b.cx,b.cy,M,U(b.y11,b.x11),U(b.y01,b.x01),!h))):(c.moveTo(w,G),c.arc(0,0,u,y,T,!h)):c.moveTo(w,G),!(o>te)||!(E>te)?c.lineTo(V,z):I>te?(A=Ue(V,z,ee,Pe,o,-I,h),b=Ue(w,G,Ne,Be,o,-I,h),c.lineTo(A.cx+A.x01,A.cy+A.y01),I<D?c.arc(A.cx,A.cy,I,U(A.y01,A.x01),U(b.y01,b.x01),!h):(c.arc(A.cx,A.cy,I,U(A.y01,A.x01),U(A.y11,A.x11),!h),c.arc(0,0,o,U(A.cy+A.y11,A.cx+A.x11),U(b.cy+b.y11,b.cx+b.x11),h),c.arc(b.cx,b.cy,I,U(b.y11,b.x11),U(b.y01,b.x01),!h))):c.arc(0,0,o,P,S,h)}if(c.closePath(),p)return c=null,p+""||null}return d.centroid=function(){var p=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +l.apply(this,arguments))/2-Xe/2;return[we(t)*p,fe(t)*p]},d.innerRadius=function(p){return arguments.length?(e=typeof p=="function"?p:ve(+p),d):e},d.outerRadius=function(p){return arguments.length?(n=typeof p=="function"?p:ve(+p),d):n},d.cornerRadius=function(p){return arguments.length?(r=typeof p=="function"?p:ve(+p),d):r},d.padRadius=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:ve(+p),d):i},d.startAngle=function(p){return arguments.length?(a=typeof p=="function"?p:ve(+p),d):a},d.endAngle=function(p){return arguments.length?(l=typeof p=="function"?p:ve(+p),d):l},d.padAngle=function(p){return arguments.length?(s=typeof p=="function"?p:ve(+p),d):s},d.context=function(p){return arguments.length?(c=p??null,d):c},d}function rn(e){let n,r=e[2][0]+"",i,a,l,s=e[2][1]+"",c;return{c(){n=F("span"),i=X(r),a=Y(),l=F("span"),c=X(s),this.h()},l(f){n=B(f,"SPAN",{class:!0});var d=j(n);i=Z(d,r),d.forEach(x),a=K(f),l=B(f,"SPAN",{class:!0});var p=j(l);c=Z(p,s),p.forEach(x),this.h()},h(){v(n,"class","svelte-157h5as"),v(l,"class","svelte-157h5as")},m(f,d){q(f,n,d),N(n,i),q(f,a,d),q(f,l,d),N(l,c)},p(f,d){d&4&&r!==(r=f[2][0]+"")&&be(i,r),d&4&&s!==(s=f[2][1]+"")&&be(c,s)},d(f){f&&x(n),f&&x(a),f&&x(l)}}}function Ri(e){let n,r,i,a,l,s,c,f,d=e[1]==="inner"&&rn(e);return{c(){n=F("div"),r=F("span"),i=X(e[0]),a=Y(),l=F("button"),d&&d.c(),this.h()},l(p){n=B(p,"DIV",{class:!0});var t=j(n);r=B(t,"SPAN",{class:!0,id:!0});var o=j(r);i=Z(o,e[0]),o.forEach(x),a=K(t),l=B(t,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var u=j(l);d&&d.l(u),u.forEach(x),t.forEach(x),this.h()},h(){v(r,"class","label svelte-157h5as"),v(r,"id",e[4]),v(l,"role","switch"),v(l,"aria-checked",e[3]),v(l,"aria-labelledby",e[4]),v(l,"class","svelte-157h5as"),v(n,"class",s="toggle toggle--"+e[1]+" svelte-157h5as")},m(p,t){q(p,n,t),N(n,r),N(r,i),N(n,a),N(n,l),d&&d.m(l,null),c||(f=Ce(l,"click",e[5]),c=!0)},p(p,[t]){t&1&&be(i,p[0]),p[1]==="inner"?d?d.p(p,t):(d=rn(p),d.c(),d.m(l,null)):d&&(d.d(1),d=null),t&8&&v(l,"aria-checked",p[3]),t&2&&s!==(s="toggle toggle--"+p[1]+" svelte-157h5as")&&v(n,"class",s)},i:ue,o:ue,d(p){p&&x(n),d&&d.d(),c=!1,f()}}}function Hi(e,n,r){let{label:i}=n,{style:a="inner"}=n,{options:l=["on","off"]}=n,{value:s=l[0]}=n,c=s===l[0];const f=`toggle-${Math.floor(Math.random()*1e6)}`,d=p=>{const o=p.target.getAttribute("aria-checked");r(3,c=o!=="true"),r(6,s=c?l[0]:l[1])};return e.$$set=p=>{"label"in p&&r(0,i=p.label),"style"in p&&r(1,a=p.style),"options"in p&&r(2,l=p.options),"value"in p&&r(6,s=p.value)},[i,a,l,c,f,d,s]}class He extends me{constructor(n){super(),ge(this,n,Hi,Ri,de,{label:0,style:1,options:2,value:6})}}function an(e,n,r){const i=e.slice();return i[25]=n[r],i[27]=r,i}function on(e,n,r){const i=e.slice();return i[27]=n[r],i}function ln(e,n,r){const i=e.slice();return i[27]=n[r],i}function sn(e){let n,r;return{c(){n=Se("path"),this.h()},l(i){n=Ie(i,"path",{fill:!0,d:!0}),j(n).forEach(x),this.h()},h(){v(n,"fill","gold"),v(n,"d",r=e[8]()),ct(n,"transform","translate(50%, 50%)")},m(i,a){q(i,n,a)},p(i,a){a[0]&256&&r!==(r=i[8]())&&v(n,"d",r)},d(i){i&&x(n)}}}function un(e){let n,r=De(0,1,1/e[2]),i=[];for(let a=0;a<r.length;a+=1)i[a]=fn(ln(e,r,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();n=J()},l(a){for(let l=0;l<i.length;l+=1)i[l].l(a);n=J()},m(a,l){for(let s=0;s<i.length;s+=1)i[s].m(a,l);q(a,n,l)},p(a,l){if(l[0]&4644){r=De(0,1,1/a[2]);let s;for(s=0;s<r.length;s+=1){const c=ln(a,r,s);i[s]?i[s].p(c,l):(i[s]=fn(c),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(a){Fe(i,a),a&&x(n)}}}function fn(e){let n,r,i,a;return{c(){n=Se("line"),this.h()},l(l){n=Ie(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),j(n).forEach(x),this.h()},h(){v(n,"x1",r=e[9].width/2),v(n,"y1",ye/2),v(n,"x2",i=e[9].width/2+e[12]*Math.cos(e[5](e[27]))),v(n,"y2",a=ye/2+e[12]*Math.sin(e[5](e[27]))),v(n,"class","svelte-1vphjdi")},m(l,s){q(l,n,s)},p(l,s){s[0]&512&&r!==(r=l[9].width/2)&&v(n,"x1",r),s[0]&548&&i!==(i=l[9].width/2+l[12]*Math.cos(l[5](l[27])))&&v(n,"x2",i),s[0]&36&&a!==(a=ye/2+l[12]*Math.sin(l[5](l[27])))&&v(n,"y2",a)},d(l){l&&x(n)}}}function cn(e){let n,r=De(0,e[1],.25),i=[];for(let a=0;a<r.length;a+=1)i[a]=dn(on(e,r,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();n=J()},l(a){for(let l=0;l<i.length;l+=1)i[l].l(a);n=J()},m(a,l){for(let s=0;s<i.length;s+=1)i[s].m(a,l);q(a,n,l)},p(a,l){if(l[0]&4642){r=De(0,a[1],.25);let s;for(s=0;s<r.length;s+=1){const c=on(a,r,s);i[s]?i[s].p(c,l):(i[s]=dn(c),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(a){Fe(i,a),a&&x(n)}}}function dn(e){let n,r,i,a;return{c(){n=Se("line"),this.h()},l(l){n=Ie(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),j(n).forEach(x),this.h()},h(){v(n,"x1",r=e[9].width/2),v(n,"y1",ye/2),v(n,"x2",i=e[9].width/2+e[12]*Math.cos(e[5](e[27]))),v(n,"y2",a=ye/2+e[12]*Math.sin(e[5](e[27]))),v(n,"class","svelte-1vphjdi")},m(l,s){q(l,n,s)},p(l,s){s[0]&512&&r!==(r=l[9].width/2)&&v(n,"x1",r),s[0]&546&&i!==(i=l[9].width/2+l[12]*Math.cos(l[5](l[27])))&&v(n,"x2",i),s[0]&34&&a!==(a=ye/2+l[12]*Math.sin(l[5](l[27])))&&v(n,"y2",a)},d(l){l&&x(n)}}}function _n(e){let n,r;return n=new Un({props:{id:e[25],i:e[27],data:e[0][e[25]]}}),{c(){ne(n.$$.fragment)},l(i){re(n.$$.fragment,i)},m(i,a){ie(n,i,a),r=!0},p(i,a){const l={};a[0]&1&&(l.id=i[25]),a[0]&1&&(l.data=i[0][i[25]]),n.$set(l)},i(i){r||(W(n.$$.fragment,i),r=!0)},o(i){Q(n.$$.fragment,i),r=!1},d(i){ae(n,i)}}}function hn(e){let n,r,i=Object.keys(e[0]),a=[];for(let s=0;s<i.length;s+=1)a[s]=_n(an(e,i,s));const l=s=>Q(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();n=J()},l(s){for(let c=0;c<a.length;c+=1)a[c].l(s);n=J()},m(s,c){for(let f=0;f<a.length;f+=1)a[f].m(s,c);q(s,n,c),r=!0},p(s,c){if(c[0]&1){i=Object.keys(s[0]);let f;for(f=0;f<i.length;f+=1){const d=an(s,i,f);a[f]?(a[f].p(d,c),W(a[f],1)):(a[f]=_n(d),a[f].c(),W(a[f],1),a[f].m(n.parentNode,n))}for(ut(),f=i.length;f<a.length;f+=1)l(f);ft()}},i(s){if(!r){for(let c=0;c<i.length;c+=1)W(a[c]);r=!0}},o(s){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)Q(a[c]);r=!1},d(s){Fe(a,s),s&&x(n)}}}function Li(e){let n,r,i,a,l,s,c,f=e[0],d,p,t,o,u,_,m,g,h,y,T,S,P,E,$,L,O,D,I,M,A,b=e[3]==="on"&&sn(e),R=e[4]==="on"&&un(e),H=e[7]==="on"&&cn(e),w=hn(e);function G(k){e[19](k)}let V={label:"Show grid",style:"inner"};e[7]!==void 0&&(V.value=e[7]),g=new He({props:V}),Te.push(()=>xe(g,"value",G));function z(k){e[20](k)}let ee={label:"Hi-hat",style:"inner"};e[6].hihat!==void 0&&(ee.value=e[6].hihat),T=new He({props:ee}),Te.push(()=>xe(T,"value",z));function Pe(k){e[21](k)}let Ne={label:"Kick",style:"inner"};e[6].kick!==void 0&&(Ne.value=e[6].kick),E=new He({props:Ne}),Te.push(()=>xe(E,"value",Pe));function Be(k){e[22](k)}let le={label:"Snare",style:"inner"};return e[6].snare!==void 0&&(le.value=e[6].snare),O=new He({props:le}),Te.push(()=>xe(O,"value",Be)),{c(){n=Se("svg"),r=Se("circle"),b&&b.c(),i=J(),R&&R.c(),a=J(),H&&H.c(),l=Se("line"),w.c(),d=Y(),p=F("button"),t=X("play"),o=Y(),u=F("button"),_=X("pause"),m=Y(),ne(g.$$.fragment),y=Y(),ne(T.$$.fragment),P=Y(),ne(E.$$.fragment),L=Y(),ne(O.$$.fragment),this.h()},l(k){n=Ie(k,"svg",{width:!0,height:!0,class:!0});var C=j(n);r=Ie(C,"circle",{id:!0,r:!0,cx:!0,cy:!0,class:!0}),j(r).forEach(x),b&&b.l(C),i=J(),R&&R.l(C),a=J(),H&&H.l(C),l=Ie(C,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),j(l).forEach(x),w.l(C),C.forEach(x),d=K(k),p=B(k,"BUTTON",{});var _e=j(p);t=Z(_e,"play"),_e.forEach(x),o=K(k),u=B(k,"BUTTON",{});var he=j(u);_=Z(he,"pause"),he.forEach(x),m=K(k),re(g.$$.fragment,k),y=K(k),re(T.$$.fragment,k),P=K(k),re(E.$$.fragment,k),L=K(k),re(O.$$.fragment,k),this.h()},h(){v(r,"id","outer"),v(r,"r",e[12]),v(r,"cx","50%"),v(r,"cy","50%"),v(r,"class","svelte-1vphjdi"),v(l,"id","marker"),v(l,"x1",0),v(l,"y1",0),v(l,"x2",s=e[13](e[5](e[10]))),v(l,"y2",c=e[14](e[5](e[10]))),v(l,"class","svelte-1vphjdi"),ct(l,"transform","translate(50%, 50%)"),v(n,"width","100%"),v(n,"height",ye),v(n,"class","svelte-1vphjdi")},m(k,C){q(k,n,C),N(n,r),b&&b.m(n,null),N(n,i),R&&R.m(n,null),N(n,a),H&&H.m(n,null),N(n,l),w.m(n,null),q(k,d,C),q(k,p,C),N(p,t),q(k,o,C),q(k,u,C),N(u,_),q(k,m,C),ie(g,k,C),q(k,y,C),ie(T,k,C),q(k,P,C),ie(E,k,C),q(k,L,C),ie(O,k,C),I=!0,M||(A=[Ce(p,"click",e[16]),Ce(u,"click",e[15])],M=!0)},p(k,C){k[3]==="on"?b?b.p(k,C):(b=sn(k),b.c(),b.m(n,i)):b&&(b.d(1),b=null),k[4]==="on"?R?R.p(k,C):(R=un(k),R.c(),R.m(n,a)):R&&(R.d(1),R=null),k[7]==="on"?H?H.p(k,C):(H=cn(k),H.c(),H.m(n,l)):H&&(H.d(1),H=null),(!I||C[0]&1056&&s!==(s=k[13](k[5](k[10]))))&&v(l,"x2",s),(!I||C[0]&1056&&c!==(c=k[14](k[5](k[10]))))&&v(l,"y2",c),C[0]&1&&de(f,f=k[0])?(ut(),Q(w,1,1,ue),ft(),w=hn(k),w.c(),W(w,1),w.m(n,null)):w.p(k,C);const _e={};!h&&C[0]&128&&(h=!0,_e.value=k[7],ke(()=>h=!1)),g.$set(_e);const he={};!S&&C[0]&64&&(S=!0,he.value=k[6].hihat,ke(()=>S=!1)),T.$set(he);const Ge={};!$&&C[0]&64&&($=!0,Ge.value=k[6].kick,ke(()=>$=!1)),E.$set(Ge);const qe={};!D&&C[0]&64&&(D=!0,qe.value=k[6].snare,ke(()=>D=!1)),O.$set(qe)},i(k){I||(W(w),W(g.$$.fragment,k),W(T.$$.fragment,k),W(E.$$.fragment,k),W(O.$$.fragment,k),I=!0)},o(k){Q(w),Q(g.$$.fragment,k),Q(T.$$.fragment,k),Q(E.$$.fragment,k),Q(O.$$.fragment,k),I=!1},d(k){k&&x(n),b&&b.d(),R&&R.d(),H&&H.d(),w.d(k),k&&x(d),k&&x(p),k&&x(o),k&&x(u),k&&x(m),ae(g,k),k&&x(y),ae(T,k),k&&x(P),ae(E,k),k&&x(L),ae(O,k),M=!1,bn(A)}}}const ye=500,pn=0;function Di(e,n,r){let i,a,l,s,c,f;et(e,mr,M=>r(9,c=M));let{data:d}=n,{beatsPerRotation:p}=n,{division:t}=n,{bpm:o}=n,{showPercentage:u}=n,{showDivisions:_}=n;gt("song",{beatsPerRotation:p,division:t,getT:()=>y,getAngleScale:()=>s,getInstrumentToggles:()=>g,getCycleDuration:()=>l});let m;const g={hihat:"on",snare:"on",kick:"on"};let h="off";const y=wn(0);et(e,y,M=>r(10,f=M));const T=ye/2-100,S=M=>T*Math.cos(M),P=M=>T*Math.sin(M),E=()=>{clearInterval(m),y.set(i,{duration:0})},$=()=>{y.set(pn,{duration:0}),y.set(i,{duration:l}),m=setInterval(()=>{y.set(pn,{duration:0}),y.set(i,{duration:l})},l)};Dn(()=>{clearInterval(m)});function L(M){h=M,r(7,h)}function O(M){e.$$.not_equal(g.hihat,M)&&(g.hihat=M,r(6,g))}function D(M){e.$$.not_equal(g.kick,M)&&(g.kick=M,r(6,g))}function I(M){e.$$.not_equal(g.snare,M)&&(g.snare=M,r(6,g))}return e.$$set=M=>{"data"in M&&r(0,d=M.data),"beatsPerRotation"in M&&r(1,p=M.beatsPerRotation),"division"in M&&r(2,t=M.division),"bpm"in M&&r(17,o=M.bpm),"showPercentage"in M&&r(3,u=M.showPercentage),"showDivisions"in M&&r(4,_=M.showDivisions)},e.$$.update=()=>{e.$$.dirty[0]&2&&r(18,i=p),e.$$.dirty[0]&262144&&r(5,s=En().domain([0,i]).range([-Math.PI/2,3/2*Math.PI])),e.$$.dirty[0]&33&&r(8,a=Oi().innerRadius(0).outerRadius(T).startAngle(s(d.hihat[0])+Math.PI/2).endAngle(s(d.hihat[1])+Math.PI/2)),e.$$.dirty[0]&131074&&(l=6e4*p/o)},[d,p,t,u,_,s,g,h,a,c,f,y,T,S,P,E,$,o,i,L,O,D,I]}class Pn extends me{constructor(n){super(),ge(this,n,Di,Li,de,{data:0,beatsPerRotation:1,division:2,bpm:17,showPercentage:3,showDivisions:4},null,[-1,-1])}}function mn(e,n,r){const i=e.slice();return i[10]=n[r],i}function gn(e){let n,r=lt(`.${e[6]}f`)(e[10])+"",i;return{c(){n=F("span"),i=X(r),this.h()},l(a){n=B(a,"SPAN",{class:!0});var l=j(n);i=Z(l,r),l.forEach(x),this.h()},h(){v(n,"class","tick svelte-q7ecsm")},m(a,l){q(a,n,l),N(n,i)},p(a,l){l&65&&r!==(r=lt(`.${a[6]}f`)(a[10])+"")&&be(i,r)},d(a){a&&x(n)}}}function $i(e){let n,r,i,a,l,s,c=e[0],f=[];for(let d=0;d<c.length;d+=1)f[d]=gn(mn(e,c,d));return{c(){n=F("div"),r=F("div");for(let d=0;d<f.length;d+=1)f[d].c();i=Y(),a=F("input"),this.h()},l(d){n=B(d,"DIV",{class:!0});var p=j(n);r=B(p,"DIV",{class:!0});var t=j(r);for(let o=0;o<f.length;o+=1)f[o].l(t);t.forEach(x),i=K(p),a=B(p,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),p.forEach(x),this.h()},h(){v(r,"class","ticks svelte-q7ecsm"),v(a,"type","range"),v(a,"aria-label",e[5]),v(a,"min",e[2]),v(a,"max",e[3]),v(a,"step",e[4]),v(a,"class","svelte-q7ecsm"),v(n,"class","range svelte-q7ecsm")},m(d,p){q(d,n,p),N(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);N(n,i),N(n,a),Ot(a,e[1]),l||(s=[Ce(a,"change",e[8]),Ce(a,"input",e[8])],l=!0)},p(d,[p]){if(p&65){c=d[0];let t;for(t=0;t<c.length;t+=1){const o=mn(d,c,t);f[t]?f[t].p(o,p):(f[t]=gn(o),f[t].c(),f[t].m(r,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=c.length}p&32&&v(a,"aria-label",d[5]),p&4&&v(a,"min",d[2]),p&8&&v(a,"max",d[3]),p&16&&v(a,"step",d[4]),p&2&&Ot(a,d[1])},i:ue,o:ue,d(d){d&&x(n),Fe(f,d),l=!1,bn(s)}}}function Fi(e,n,r){let i,{min:a=0}=n,{max:l=100}=n,{step:s=1}=n,{showTicks:c=!1}=n,{value:f=a}=n,{label:d=""}=n,{ticks:p}=n;const t=u=>Math.floor(u)===u?0:u.toString().split(".")[1].length||0;function o(){f=$n(this.value),r(1,f)}return e.$$set=u=>{"min"in u&&r(2,a=u.min),"max"in u&&r(3,l=u.max),"step"in u&&r(4,s=u.step),"showTicks"in u&&r(7,c=u.showTicks),"value"in u&&r(1,f=u.value),"label"in u&&r(5,d=u.label),"ticks"in u&&r(0,p=u.ticks)},e.$$.update=()=>{e.$$.dirty&16&&r(6,i=t(s)),e.$$.dirty&157&&r(0,p=p||(c?De(a,l+s,s):[]))},[p,f,a,l,s,d,i,c,o]}class Bi extends me{constructor(n){super(),ge(this,n,Fi,$i,de,{min:2,max:3,step:4,showTicks:7,value:1,label:5,ticks:0})}}function Gi(e){let n,r,i,a,l;return{c(){n=F("p"),r=X("This rhythm is "),i=F("strong"),a=X("swung"),l=X(`. Swing means that there's a long-short
		pattern, so the first note takes up more space than the second.`)},l(s){n=B(s,"P",{});var c=j(n);r=Z(c,"This rhythm is "),i=B(c,"STRONG",{});var f=j(i);a=Z(f,"swung"),f.forEach(x),l=Z(c,`. Swing means that there's a long-short
		pattern, so the first note takes up more space than the second.`),c.forEach(x)},m(s,c){q(s,n,c),N(n,r),N(n,i),N(i,a),N(n,l)},d(s){s&&x(n)}}}function qi(e){let n,r,i,a,l;return{c(){n=F("p"),r=X("This rhythm is completely "),i=F("strong"),a=X("straight"),l=X(`. Each beat is equally
		spaced apart.`)},l(s){n=B(s,"P",{});var c=j(n);r=Z(c,"This rhythm is completely "),i=B(c,"STRONG",{});var f=j(i);a=Z(f,"straight"),f.forEach(x),l=Z(c,`. Each beat is equally
		spaced apart.`),c.forEach(x)},m(s,c){q(s,n,c),N(n,r),N(n,i),N(i,a),N(n,l)},d(s){s&&x(n)}}}function vn(e){let n,r,i,a=e[3][e[0]]+"",l,s,c,f=e[5][e[0]]+"",d,p,t,o,u,_;function m(h){e[8](h)}let g={label:"Show divisions",style:"inner"};return e[2]!==void 0&&(g.value=e[2]),o=new He({props:g}),Te.push(()=>xe(o,"value",m)),{c(){n=F("p"),r=X("It's called a "),i=F("strong"),l=X(a),s=X(" swing"),c=X(` because the beat is
		divided into `),d=X(f),p=X(` parts. Since we're dividing the beat into an
		odd number of parts, it will be uneven and have this slightly off-kilter feeling.`),t=Y(),ne(o.$$.fragment)},l(h){n=B(h,"P",{});var y=j(n);r=Z(y,"It's called a "),i=B(y,"STRONG",{});var T=j(i);l=Z(T,a),s=Z(T," swing"),T.forEach(x),c=Z(y,` because the beat is
		divided into `),d=Z(y,f),p=Z(y,` parts. Since we're dividing the beat into an
		odd number of parts, it will be uneven and have this slightly off-kilter feeling.`),y.forEach(x),t=K(h),re(o.$$.fragment,h)},m(h,y){q(h,n,y),N(n,r),N(n,i),N(i,l),N(i,s),N(n,c),N(n,d),N(n,p),q(h,t,y),ie(o,h,y),_=!0},p(h,y){(!_||y&1)&&a!==(a=h[3][h[0]]+"")&&be(l,a),(!_||y&1)&&f!==(f=h[5][h[0]]+"")&&be(d,f);const T={};!u&&y&4&&(u=!0,T.value=h[2],ke(()=>u=!1)),o.$set(T)},i(h){_||(W(o.$$.fragment,h),_=!0)},o(h){Q(o.$$.fragment,h),_=!1},d(h){h&&x(n),h&&x(t),ae(o,h)}}}function Ci(e){let n,r,i,a=e[3][e[0]]+"",l,s,c,f,d,p,t,o,u,_,m=(e[4][e[0]].hihat[1]*100).toFixed(1)+"",g,h,y,T,S,P,E,$,L;n=new Pn({props:{data:e[4][e[0]],beatsPerRotation:1,division:e[5][e[0]],bpm:60,showPercentage:e[1],showDivisions:e[2]}});function O(w){e[6](w)}let D={min:0,max:e[3].length-1,step:1,showTicks:!0,ticks:[50,57,60,66]};e[0]!==void 0&&(D.value=e[0]),f=new Bi({props:D}),Te.push(()=>xe(f,"value",O));function I(w,G){return w[0]===0?qi:Gi}let M=I(e),A=M(e);function b(w){e[7](w)}let R={label:"Show percentage",style:"inner"};e[1]!==void 0&&(R.value=e[1]),S=new He({props:R}),Te.push(()=>xe(S,"value",b));let H=e[0]!==0&&vn(e);return{c(){ne(n.$$.fragment),r=Y(),i=F("h2"),l=X(a),s=Y(),c=F("div"),ne(f.$$.fragment),p=Y(),A.c(),t=Y(),o=F("p"),u=X("In this case, the first beat takes up "),_=F("strong"),g=X(m),h=X("%"),y=X(" of the beat."),T=Y(),ne(S.$$.fragment),E=Y(),H&&H.c(),$=J(),this.h()},l(w){re(n.$$.fragment,w),r=K(w),i=B(w,"H2",{});var G=j(i);l=Z(G,a),G.forEach(x),s=K(w),c=B(w,"DIV",{style:!0});var V=j(c);re(f.$$.fragment,V),V.forEach(x),p=K(w),A.l(w),t=K(w),o=B(w,"P",{});var z=j(o);u=Z(z,"In this case, the first beat takes up "),_=B(z,"STRONG",{});var ee=j(_);g=Z(ee,m),h=Z(ee,"%"),ee.forEach(x),y=Z(z," of the beat."),z.forEach(x),T=K(w),re(S.$$.fragment,w),E=K(w),H&&H.l(w),$=J(),this.h()},h(){ct(c,"width","50%")},m(w,G){ie(n,w,G),q(w,r,G),q(w,i,G),N(i,l),q(w,s,G),q(w,c,G),ie(f,c,null),q(w,p,G),A.m(w,G),q(w,t,G),q(w,o,G),N(o,u),N(o,_),N(_,g),N(_,h),N(o,y),q(w,T,G),ie(S,w,G),q(w,E,G),H&&H.m(w,G),q(w,$,G),L=!0},p(w,[G]){const V={};G&1&&(V.data=w[4][w[0]]),G&1&&(V.division=w[5][w[0]]),G&2&&(V.showPercentage=w[1]),G&4&&(V.showDivisions=w[2]),n.$set(V),(!L||G&1)&&a!==(a=w[3][w[0]]+"")&&be(l,a);const z={};!d&&G&1&&(d=!0,z.value=w[0],ke(()=>d=!1)),f.$set(z),M!==(M=I(w))&&(A.d(1),A=M(w),A&&(A.c(),A.m(t.parentNode,t))),(!L||G&1)&&m!==(m=(w[4][w[0]].hihat[1]*100).toFixed(1)+"")&&be(g,m);const ee={};!P&&G&2&&(P=!0,ee.value=w[1],ke(()=>P=!1)),S.$set(ee),w[0]!==0?H?(H.p(w,G),G&1&&W(H,1)):(H=vn(w),H.c(),W(H,1),H.m($.parentNode,$)):H&&(ut(),Q(H,1,1,()=>{H=null}),ft())},i(w){L||(W(n.$$.fragment,w),W(f.$$.fragment,w),W(S.$$.fragment,w),W(H),L=!0)},o(w){Q(n.$$.fragment,w),Q(f.$$.fragment,w),Q(S.$$.fragment,w),Q(H),L=!1},d(w){ae(n,w),w&&x(r),w&&x(i),w&&x(s),w&&x(c),ae(f),w&&x(p),A.d(w),w&&x(t),w&&x(o),w&&x(T),ae(S,w),w&&x(E),H&&H.d(w),w&&x($)}}}function ji(e,n,r){let i=0,a=["straight","septuplet swing","quintuplet swing","triplet swing"],l=!1,s=!1;const c=h=>[0,h],f={hihat:c(.5)},d={hihat:c(2/3)},p={hihat:c(3/5)},t={hihat:c(4/7)},o=[f,t,p,d],u=[2,7,5,3];function _(h){i=h,r(0,i)}function m(h){l=h,r(1,l)}function g(h){s=h,r(2,s)}return[i,l,s,a,o,u,_,m,g]}class Vi extends me{constructor(n){super(),ge(this,n,ji,Ci,de,{})}}function Wi(e){let n,r,i,a,l,s,c;return n=new Vi({}),s=new Pn({props:{data:e[0],beatsPerRotation:4,division:7,bpm:100}}),{c(){ne(n.$$.fragment),r=Y(),i=F("h3"),a=X("[WIP] visualizing a song"),l=Y(),ne(s.$$.fragment),this.h()},l(f){re(n.$$.fragment,f),r=K(f),i=B(f,"H3",{style:!0});var d=j(i);a=Z(d,"[WIP] visualizing a song"),d.forEach(x),l=K(f),re(s.$$.fragment,f),this.h()},h(){ct(i,"margin-top","2em")},m(f,d){ie(n,f,d),q(f,r,d),q(f,i,d),N(i,a),q(f,l,d),ie(s,f,d),c=!0},p:ue,i(f){c||(W(n.$$.fragment,f),W(s.$$.fragment,f),c=!0)},o(f){Q(n.$$.fragment,f),Q(s.$$.fragment,f),c=!1},d(f){ae(n,f),f&&x(r),f&&x(i),f&&x(l),ae(s,f)}}}function Xi(e){return[{hihat:De(0,4,.5),snare:[1,3],kick:[0,2]}]}class Zi extends me{constructor(n){super(),ge(this,n,Xi,Wi,de,{})}}const Qi="The math and the magic of wonky grooves",Yi="Visualizing wonky grooves",Ki="By <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",yn={hed:Qi,dek:Yi,byline:Ki};function Ui(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.1.0"),console.log("build: 2023-03-02-17:28"),console.log("--- --- --- --- --- ---")}function Ji(e){let n,r,i,a;return n=new jn({props:{title:e[1],description:e[2],url:e[3],preloadFont:e[0],keywords:e[4]}}),i=new Zi({}),{c(){ne(n.$$.fragment),r=Y(),ne(i.$$.fragment)},l(l){re(n.$$.fragment,l),r=K(l),re(i.$$.fragment,l)},m(l,s){ie(n,l,s),q(l,r,s),ie(i,l,s),a=!0},p:ue,i(l){a||(W(n.$$.fragment,l),W(i.$$.fragment,l),a=!0)},o(l){Q(n.$$.fragment,l),Q(i.$$.fragment,l),a=!1},d(l){ae(n,l),l&&x(r),ae(i,l)}}}function zi(e,n,r){let{data:i}=n;Ui();const a=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:l,description:s,url:c,keywords:f}=yn;return gt("copy",yn),gt("data",i.data),e.$$set=d=>{"data"in d&&r(5,i=d.data)},[a,l,s,c,f,i]}class ra extends me{constructor(n){super(),ge(this,n,zi,Ji,de,{data:5})}}export{ra as default};
